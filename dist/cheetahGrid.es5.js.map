{"version":3,"sources":["cheetahGrid.es5/cheetahGrid.es5.js","cheetahGrid.es5/webpack/universalModuleDefinition","cheetahGrid.es5/webpack/bootstrap","cheetahGrid.es5/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid.es5/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid.es5/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5/../src/js/columns/message/internal/MessageElement.css","cheetahGrid.es5/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid.es5/../src/js/internal/style.css","cheetahGrid.es5/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid.es5/node_modules/css-loader/dist/runtime/api.js","cheetahGrid.es5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid.es5/node_modules/webpack/buildin/global.js","cheetahGrid.es5/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid.es5/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5/../src/js/internal/style.css*","cheetahGrid.es5/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid.es5/./GridCanvasHelper.js","cheetahGrid.es5/./ListGrid.js","cheetahGrid.es5/./columns.js","cheetahGrid.es5/./columns/action.js","cheetahGrid.es5/./columns/action/Action.js","cheetahGrid.es5/./columns/action/BaseAction.js","cheetahGrid.es5/./columns/action/BaseInputEditor.js","cheetahGrid.es5/./columns/action/ButtonAction.js","cheetahGrid.es5/./columns/action/CheckEditor.js","cheetahGrid.es5/./columns/action/Editor.js","cheetahGrid.es5/./columns/action/InlineInputEditor.js","cheetahGrid.es5/./columns/action/InlineMenuEditor.js","cheetahGrid.es5/./columns/action/RadioEditor.js","cheetahGrid.es5/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5/./columns/action/action-utils.js","cheetahGrid.es5/./columns/action/actionBind.js","cheetahGrid.es5/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5/./columns/action/internal/input-value-handler.js","cheetahGrid.es5/./columns/indicator/handlers.js","cheetahGrid.es5/./columns/indicator/triangle.js","cheetahGrid.es5/./columns/message/BaseMessage.js","cheetahGrid.es5/./columns/message/ErrorMessage.js","cheetahGrid.es5/./columns/message/InfoMessage.js","cheetahGrid.es5/./columns/message/MessageHandler.js","cheetahGrid.es5/./columns/message/WarningMessage.js","cheetahGrid.es5/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5/./columns/message/internal/MessageElement.js","cheetahGrid.es5/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5/./columns/message/messageUtils.js","cheetahGrid.es5/./columns/style.js","cheetahGrid.es5/./columns/style/BaseStyle.js","cheetahGrid.es5/./columns/style/BranchGraphStyle.js","cheetahGrid.es5/./columns/style/ButtonStyle.js","cheetahGrid.es5/./columns/style/CheckStyle.js","cheetahGrid.es5/./columns/style/IconStyle.js","cheetahGrid.es5/./columns/style/ImageStyle.js","cheetahGrid.es5/./columns/style/MenuStyle.js","cheetahGrid.es5/./columns/style/MultilineTextStyle.js","cheetahGrid.es5/./columns/style/NumberStyle.js","cheetahGrid.es5/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5/./columns/style/RadioStyle.js","cheetahGrid.es5/./columns/style/StdBaseStyle.js","cheetahGrid.es5/./columns/style/Style.js","cheetahGrid.es5/./columns/type.js","cheetahGrid.es5/./columns/type/BaseColumn.js","cheetahGrid.es5/./columns/type/BranchGraphColumn.js","cheetahGrid.es5/./columns/type/ButtonColumn.js","cheetahGrid.es5/./columns/type/CheckColumn.js","cheetahGrid.es5/./columns/type/Column.js","cheetahGrid.es5/./columns/type/IconColumn.js","cheetahGrid.es5/./columns/type/ImageColumn.js","cheetahGrid.es5/./columns/type/MenuColumn.js","cheetahGrid.es5/./columns/type/MultilineTextColumn.js","cheetahGrid.es5/./columns/type/NumberColumn.js","cheetahGrid.es5/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5/./columns/type/RadioColumn.js","cheetahGrid.es5/./columns/type/columnUtils.js","cheetahGrid.es5/./columns/utils/index.js","cheetahGrid.es5/./core.js","cheetahGrid.es5/./core/DG_EVENT_TYPE.js","cheetahGrid.es5/./core/DrawGrid.js","cheetahGrid.es5/./core/EventTarget.js","cheetahGrid.es5/./data.js","cheetahGrid.es5/./data/CachedDataSource.js","cheetahGrid.es5/./data/DataSource.js","cheetahGrid.es5/./data/FilterDataSource.js","cheetahGrid.es5/./element/Inline.js","cheetahGrid.es5/./element/InlineDrawer.js","cheetahGrid.es5/./element/InlineIcon.js","cheetahGrid.es5/./element/InlineImage.js","cheetahGrid.es5/./element/InlinePath2D.js","cheetahGrid.es5/./element/InlineSvg.js","cheetahGrid.es5/./element/inlines.js","cheetahGrid.es5/./get-internal.js","cheetahGrid.es5/./header/action.js","cheetahGrid.es5/./header/action/BaseAction.js","cheetahGrid.es5/./header/action/CheckHeaderAction.js","cheetahGrid.es5/./header/action/SortHeaderAction.js","cheetahGrid.es5/./header/action/actionBind.js","cheetahGrid.es5/./header/style.js","cheetahGrid.es5/./header/style/BaseStyle.js","cheetahGrid.es5/./header/style/CheckHeaderStyle.js","cheetahGrid.es5/./header/style/MultilineTextHeaderStyle.js","cheetahGrid.es5/./header/style/SortHeaderStyle.js","cheetahGrid.es5/./header/style/StdBaseStyle.js","cheetahGrid.es5/./header/style/StdMultilineTextBaseStyle.js","cheetahGrid.es5/./header/style/StdTextBaseStyle.js","cheetahGrid.es5/./header/style/Style.js","cheetahGrid.es5/./header/type.js","cheetahGrid.es5/./header/type/BaseHeader.js","cheetahGrid.es5/./header/type/CheckHeader.js","cheetahGrid.es5/./header/type/Header.js","cheetahGrid.es5/./header/type/MultilineTextHeader.js","cheetahGrid.es5/./header/type/SortHeader.js","cheetahGrid.es5/./headers.js","cheetahGrid.es5/./icons.js","cheetahGrid.es5/./internal/EventHandler.js","cheetahGrid.es5/./internal/LRUCache.js","cheetahGrid.es5/./internal/NumberMap.js","cheetahGrid.es5/./internal/Rect.js","cheetahGrid.es5/./internal/Scrollable.js","cheetahGrid.es5/./internal/animate.js","cheetahGrid.es5/./internal/calc.js","cheetahGrid.es5/./internal/canvases.js","cheetahGrid.es5/./internal/color.js","cheetahGrid.es5/./internal/dom.js","cheetahGrid.es5/./internal/fonts.js","cheetahGrid.es5/./internal/hiDPI.js","cheetahGrid.es5/./internal/icons.js","cheetahGrid.es5/./internal/imgs.js","cheetahGrid.es5/./internal/legacy/canvas/Path2DShim.js","cheetahGrid.es5/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5/./internal/menu-items.js","cheetahGrid.es5/./internal/paste-utils.js","cheetahGrid.es5/./internal/path2DManager.js","cheetahGrid.es5/./internal/sort.js","cheetahGrid.es5/./internal/style.js","cheetahGrid.es5/./internal/symbolManager.js","cheetahGrid.es5/./internal/utils.js","cheetahGrid.es5/./list-grid/LG_EVENT_TYPE.js","cheetahGrid.es5/./list-grid/layout-map/index.js","cheetahGrid.es5/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid.es5/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid.es5/./list-grid/layout-map/internal/utils.js","cheetahGrid.es5/./main.js","cheetahGrid.es5/./plugins/icons.js","cheetahGrid.es5/./plugins/themes.js","cheetahGrid.es5/./register.js","cheetahGrid.es5/./themes.js","cheetahGrid.es5/./themes/BASIC.js","cheetahGrid.es5/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5/./themes/theme.js","cheetahGrid.es5/./tools.js","cheetahGrid.es5/./tools/canvashelper.js","cheetahGrid.es5/./tooltip/BaseTooltip.js","cheetahGrid.es5/./tooltip/Tooltip.js","cheetahGrid.es5/./tooltip/TooltipHandler.js","cheetahGrid.es5/./tooltip/internal/TooltipElement.js"],"names":["window","webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsActionInternalInlineInputElementCss","__webpack_exports__","___CSS_LOADER_EXPORT___","push","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsActionInternalInlineMenuElementCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsActionInternalSmallDialogInputElementCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsMessageInternalErrorMessageElementCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsMessageInternalMessageElementCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsColumnsMessageInternalWarningMessageElementCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsInternalStyleCss","node_modulesCssLoaderDistCjsJsNode_modulesPostcssLoaderSrcIndexJsSrcJsTooltipInternalTooltipElementCss","node_modulesCssLoaderDistRuntimeApiJs","useSourceMap","list","toString","map","item","content","cssWithMappingToString","concat","join","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","node_modulesStyleLoaderDistRuntimeInjectStylesIntoStyleTagJs","isOldIE","memo","memorize","Boolean","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","setAttribute","insert","Error","appendChild","removeStyleElement","parentNode","removeChild","replaceText","textStore","replace","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","updateStyle","newObj","lastIdentifiers","newList","newLastIdentifiers","_identifier","_index","splice","node_modulesWebpackBuildinGlobalJs","g","Function","srcJsColumnsActionInternalInlineInputElementCss","api","default","locals","srcJsColumnsActionInternalInlineMenuElementCss","srcJsColumnsActionInternalSmallDialogInputElementCss","srcJsColumnsMessageInternalErrorMessageElementCss","srcJsColumnsMessageInternalMessageElementCss","srcJsColumnsMessageInternalWarningMessageElementCss","srcJsInternalStyleCss","srcJsTooltipInternalTooltipElementCss","GridCanvasHelperJs","__createBinding","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","configurable","__setModuleDefault","v","__importStar","mod","GridCanvasHelper","calc","require","canvashelper","fonts","inlineUtils","themes","canvases_1","utils_1","InlineDrawer_1","Rect_1","color_1","toBoxArray","INLINE_ELLIPSIS","of","TEXT_OFFSET","CHECKBOX_OFFSET","invalidateCell","context","grid","col","row","getColor","color","getOrApply","getFont","font","getThemeColor","names","gridThemeColor","getChainSafe","theme","defaultThemeColor","args","testFontLoad","check","load","drawInlines","ctx","inlines","rect","offset","offsetTop","offsetBottom","drawInline","inline","offsetLeft","offsetRight","canDraw","save","fillStyle","draw","restore","onReady","inlineWidths","width","reduce","a","b","inlineWidth","buildInlines","icons","inlineToString","string","getOverflowInline","textOverflow","isAllowOverflow","trim","getOverflowInlinesIndex","maxWidth","lineWidth","remWidth","isOverflowInlines","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","slice","canBreak","breakWord","before","after","breakAll","splitIndex","truncateInlines","option","overflowInline","ellipsisWidth","_inlineRect","drawRect","textAlign","textBaseline","trailingIcon","trailingIconInline","iconOf","inlineDrawRect","trailingIconWidth","Rect","left","top","height","truncInlines","setCellOverflowText","sumWidth","baseRect","trailingIconRect","copy","right","_multiInlineRect","multiInlines","lineHeight","autoWrapText","lineClamp","rectHeight","Math","max","floor","buildedMultiInlines","procLineClamp","hasNext","Number","procLine","lineRow","buildedInline","paddingTop","paddingBottom","em","getFontSize","pad","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","start","end","diff","ceil","drawCheckbox","helper","animElapsedTime","uncheckBgColor","checkbox","checkBgColor","borderColor","positionOpt","boxWidth","measureCheckbox","pos","calcStartPosition","x","y","drawRadioButton","checkColor","radioButton","uncheckBorderColor","checkBorderColor","measureRadioButton","bgColor","ThemeResolver","constructor","_checkbox","_radioButton","_button","_header","_messages","_indicators","_grid","getCheckboxProp","prop","getRadioButtonProp","getButtonProp","sortArrowColor","infoBgColor","getMessageProp","errorBgColor","warnBgColor","markHeight","topLeftColor","getIndicatorsProp","topLeftSize","topRightColor","topRightSize","bottomRightColor","bottomRightSize","bottomLeftColor","bottomLeftSize","strokeRect","Array","isArray","strokeStyle","borderColors","strokeColorsRect","_theme","createCalculator","calcWidth","toPx","full","getRect","getContext","calcHeight","toBoxPixelArray","calculator","box","drawWithClip","getDrawRect","beginPath","clip","drawBorderWithClip","clipLeft","clipWidth","clipTop","clipHeight","text","padding","appendRightPx","isFrozenCell","frozenRowsColor","paddingNums","multilineText","multilines","fillText","fillCell","fillColor","defaultBgColor","fill","fillCellWithState","getFillColorState","fillRect","fillRectWithState","sel","getSelection","cellEquals","select","cellInRange","range","selectionBgColor","highlightBgColor","frozenRowsBgColor","border","startOffset","borderWithState","highlightBorderColor","frozenRowsBorderColor","selection","moveTo","lineTo","bottom","stroke","buildCheckBoxInline","self","InlineDrawer","button","caption","shadow","drawButton","radius","ListGridJs","_a","ListGrid","data_1","layout_map_1","MessageHandler_1","style_1","DrawGrid_1","GridCanvasHelper_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","symbolManager_1","paste_utils_1","_","getProtectedSymbol","_getCellRange","layoutMap","getCellRange","_updateRect","setRectFilter","startCol","startRow","endCol","endRow","getColWidth","getRowHeight","bounds","_getCellValue","headerRowCount","getHeader","getBody","field","_getField","_setCellValue","_getRecordIndexByRow","dataSource","setField","_getCellMessage","message","promises","msg","isPromise","hasMessage","Promise","resolve","reject","then","_getCellIcon0","icon","isObject","retIcon","iconOpt","iconPropKeys","f","_hasField","_getCellIcon","headerIcon","getField","hasField","_onDrawValue","cellValue","gridCanvasHelper","drawCellBg","fillOpt","drawCellBorder","frozenColCount","frozenRowCount","_borderWithState","drawCellBase","info","getRecord","getRowRecord","getIcon","getMessage","messageHandler","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","selRecordIndex","getRecordIndexByRow","selId","getCellId","isSelectCell","flagBorder","borderColorCell","records","_refreshHeader","protectedSpace","headerEvents","unlisten","layout","MultiLayoutMap","SimpleHeaderLayoutMap","header","headerObjects","cell","ids","headerType","bindGridEvent","BaseStyle","listen","EVENT_TYPE","CHANGE_STYLE","invalidate","action","columnObjects","columnType","columnWidths","column","minWidth","setColWidth","setMinColWidth","setMaxColWidth","headerRowHeight","setRowHeight","colCount","_refreshRowCount","rowCount","bodyRowCount","_tryWithUpdateDataSource","fn","dataSourceEventIds","handler","off","on","DataSource","UPDATED_LENGTH","UPDATED_ORDER","_setRecords","newDataSource","CachedDataSource","ofArray","addDisposable","_setDataSource","EMPTY","_onRangePaste","test","selectionRange","values","parsePasteRangeBoxValues","trimOnPaste","pasteRowCount","min","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","offsetCol","body","editable","getRecordStartRowByRecordIndex","startRowOffset","rejectedDetail","addRejectedDetail","record","pasteValue","timeout","processRejected","clearTimeout","setTimeout","fireListeners","LG_EVENT_TYPE","REJECTED_PASTE_VALUES","detail","duplicate","actionRow","valuesRow","offsetRow","valuesCol","getCellValue","oldValue","onPasteCellRangeBox","newEnd","invalidateCellRange","_onRangeDelete","deleteRowCount","deleteColCount","_record","_oldValue","onDeleteCellRangeBox","omit","disabled","readOnly","allowRangePaste","sortState","order","MessageHandler","tooltipHandler","TooltipHandler","updateSize","updateScroll","dispose","set","underlayBackgroundColor","oldState","oldField","getHeaderField","newState","newField","setHeaderValue","headerValues","Map","getColumnDefine","getColumnType","getColumnAction","hd","getHeaderDefine","getColumnIndexByField","getCellRangeByField","colObj","find","layoutRange","getBodyLayoutRangeById","focusGridCell","newFocus","focusCell","invalidateGridRect","makeVisibleGridCell","makeVisibleCell","getGridCanvasHelper","getHeaderCellRange","getCopyCellValue","cellRange","headerData","columnData","onDrawCell","doGetCellValue","valueCallback","doChangeValue","changeValueCallback","BEFORE_CHANGE_VALUE","ret","CHANGED_VALUE","doSetPasteValue","getHeaderValue","newValue","CHANGED_HEADER_VALUE","getLayoutCellId","bindEventsInternal","SELECTED_CELL","PASTE_CELL","multi","event","cancel","normalizeValue","DELETE_CELL","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveDownRowByKeyDownInternal","getOffsetInvalidateCells","getCopyRangeInternal","type","DrawGrid","columnsJs","columnsActionJs","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action","Editor","BaseAction","ACTIONS","Action_1","BaseAction_1","ButtonAction_1","CheckEditor_1","Editor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","_disabled","_readOnly","ImmutableRadioEditor","ImmutableInputEditor","CHECK","INPUT","RADIO","columnAction","toUpperCase","columnsActionActionJs","actionBind_1","action_utils_1","_action","clone","getState","cellId","state","isDisabledRecord","extend","bindCellClickAction","mouseOver","mouseActiveCell","mouseOut","bindCellKeyAction","columnsActionBaseActionJs","onChangeDisabledInternal","columnsActionBaseInputEditorJs","BaseInputEditor","DG_EVENT_TYPE_1","KEY_ENTER","KEY_F2","open","isReadOnlyRecord","onOpenCellInternal","input","onInputCellInternal","isTarget","DG_EVENT_TYPE","INPUT_CELL","DBLCLICK_CELL","DBLTAP_CELL","KEYDOWN","keyCode","stopCellMoving","onChangeSelectCellInternal","selected","SCROLL","onGridScrollInternal","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","getCellRect","rangeRect","getCellRangeRect","parseFloat","toFixed","onSetInputAttrsInternal","isSupportMultilineValue","columnsActionButtonActionJs","BUTTON_COLUMN_STATE_ID","getButtonColumnStateId","setReadonly","columnsActionCheckEditorJs","animate_1","CHECK_COLUMN_STATE_ID","getCheckColumnStateId","_state","block","elapsed","cellKey","toggleValue","onChange","animate","point","selrange","isRejectValue","columnsActionEditorJs","onChangeReadOnlyInternal","columnsActionInlineInputEditorJs","BaseInputEditor_1","InlineInputElement_1","getInlineInputEditorStateId","globalElement","bindGridCount","attachInput","editor","InlineInputElement","element","attach","detachInput","gridFocus","detach","_classList","classList","_type","inputValue","_cell","_selected","setInputAttrs","columnsActionInlineMenuEditorJs","InlineMenuElement_1","type_1","menu_items_1","getInlineMenuEditorStateId","attachMenu","InlineMenuElement","detachMenu","_options","normalizeToFn","CLICK_CELL","MOUSEOVER_CELL","getElement","cursor","MOUSEMOVE_CELL","MOUSEOUT_CELL","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","hasOptions","normalizePasteValueStr","captionOpt","array","opt","label","MenuColumn","columnsActionRadioEditorJs","utils_2","RADIO_COLUMN_STATE_ID","getRadioColumnStateId","_group","group","_checkAction","checkAction","toBoolean","targets","actionCell","recordStartRow","girdRecords","getAllRecordsFromGrid","showData","recordRowCount","targetRow","flag","columnsActionSmallDialogInputEditorJs","SmallDialogInputElement_1","getSmallDialogInputEditorStateId","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","columnsActionActionUtilsJs","getBooleanOptionOfRecord","val","exec","columnsActionActionBindJs","KEY_SPACE","acceptKeys","indexOf","keyboardOptions","moveCellOnEnter","columnsActionInternalInlineInputElementJs","EventHandler_1","dom_1","input_value_handler_1","KEY_TAB","CLASSNAME","createInputElement","add","_handler","EventHandler","_input","_bindInputEvents","_beforePropEditor","parentElement","getAttachCellsArea","setInputValue","_activeData","focus","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","tryWithOffEvents","_attaching","_isActive","stopPropagationOnly","stopPropagation","contains","getKeyCode","_onKeydownEnter","_onKeydownTab","onKeyDownMove","moveCellOnTab","columnsActionInternalInlineMenuElementJs","KEY_UP","KEY_DOWN","KEY_ESC","ITEM_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","el","createMenuElement","attachElement","menu","optionToLi","html","tabIndex","dataset","valueindex","span","appendHtml","openMenu","empty","emptyItemEl","valueItemEl","focusEl","children","focusIndex","allHeight","offsetHeight","transformOrigin","menuClientRect","getBoundingClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","winMargin","closeMenu","_col","_row","disableFocus","_menu","_bindMenuEvents","bodyClickListenerId","deregisterBodyClickListener","_deregisterBodyClickListener","_registerBodyClickListener","_onBodyClick","capture","_doChangeValue","findPrevSiblingFocusable","findNextSiblingFocusable","shiftKey","isFocusable","items","querySelectorAll","columnsActionInternalSmallDialogInputElementJs","INPUT_CLASSNAME","_focus","createDialogElement","bindProps","dialog","unbindProps","_dialog","_bindDialogEvents","errorMessage","activeData","_onInputValue","browser","IE","_beforeValue","_validate","res","onKeyupAndPress","_onInputValueChange","inputOnly","columnsActionInternalInputValueHandlerJs","sign","once","columnsIndicatorHandlersJs","getDrawIndicator","triangle_1","indicatorStyle","drawTriangleIndicator","columnsIndicatorTriangleJs","KIND_PROCESS_MAP","themeColor","indicators","themeSize","drawPath","size","baseLeft","baseTop","baseRight","baseBottom","kind","process","closePath","columnsMessageBaseMessageJs","BaseMessage","_messageElement","detachMessageElement","_getMessageElement","createMessageElementInternal","attachMessageElement","messageElement","moveMessageElement","move","_detach","drawCellMessage","drawCellMessageInternal","columnsMessageErrorMessageJs","ErrorMessage","messageUtils","BaseMessage_1","ErrorMessageElement_1","RED_A100","ErrorMessageElement","_message","_info","hasFocusGrid","drawExclamationMarkBox","messages","columnsMessageInfoMessageJs","InfoMessage","MessageElement_1","GREY_L2","MessageElement","drawInformationMarkBox","columnsMessageMessageHandlerJs","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","error","warning","WarningMessage","normalizeMessage","original","toLowerCase","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","instance","_getMessageInstanceOfMessage","_attach","_move","onSelectMessage","setMessageData","newSel","FOCUS_GRID","BLUR_GRID","columnsMessageWarningMessageJs","WarningMessageElement_1","DEEP_ORANGE_A100","WarningMessageElement","columnsMessageInternalErrorMessageElementJs","MESSAGE_CLASSNAME","_rootElement","columnsMessageInternalMessageElementJs","createMessageDomElement","rootElement","_attachCell","textContent","frozenRect","offsetWidth","columnsMessageInternalWarningMessageElementJs","columnsMessageMessageUtilsJs","boxRect","columnsStyleJs","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","Style","BaseStyle_1","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","Style_1","columnStyle","StyleClassDef","DEFAULT","columnsStyleBaseStyleJs","EventTarget_1","STYLE_EVENT_TYPE","defaultStyle","indicatorTopLeft","indicatorTopRight","indicatorBottomRight","indicatorBottomLeft","_bgColor","_indicatorTopLeft","normalizeIndicator","_indicatorTopRight","_indicatorBottomRight","_indicatorBottomLeft","doChangeStyle","EventTarget","indicator","columnsStyleBranchGraphStyleJs","BranchGraphStyle","DEFAULT_BRANCH_COLORS","_name","_branchColors","branchColors","_margin","margin","_circleSize","circleSize","_branchLineWidth","branchLineWidth","_mergeStyle","mergeStyle","columnsStyleButtonStyleJs","defaults","buttonBgColor","_buttonBgColor","columnsStyleCheckStyleJs","StdBaseStyle_1","_uncheckBgColor","_checkBgColor","_borderColor","StdBaseStyle","columnsStyleIconStyleJs","columnsStyleImageStyleJs","_imageSizing","imageSizing","columnsStyleMenuStyleJs","appearance","_appearance","columnsStyleMultilineTextStyleJs","_lineHeight","_autoWrapText","_lineClamp","columnsStyleNumberStyleJs","columnsStylePercentCompleteBarStyleJs","DEFAULT_BAR_COLOR","num","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","columnsStyleRadioStyleJs","_checkColor","_uncheckBorderColor","_checkBorderColor","columnsStyleStdBaseStyleJs","_textAlign","_textBaseline","columnsStyleStyleJs","_color","_font","_padding","_textOverflow","_appendRightPx","columnsTypeJs","MultilineTextColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","Column","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","columnsTypeBaseColumnJs","BaseColumn","styleContents","handlers_1","COLUMN_FADEIN_STATE_ID","getColumnFadeinStateId","isFadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","configure","getFadeinState","cells","_generateFadeinPointAction","drawInternal","stateKey","opacity","cellState","globalAlpha","fadeinMgr","activeFadeins","margeAnimate","_fadeinWhenCallbackInPromise","promise","Date","now","currentContext","toCurrentContext","time","actStyle","StyleClass","convertInternal","drawMessageInternal","drawIndicatorsInternal","_cellId","columnsTypeBranchGraphColumnJs","BaseColumn_1","BranchGraphStyle_1","getBranchGraphColumnStateId","getAllColumnData","callback","allData","dataIndex","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","j","tl","branch","from","to","branches","findBranchRootIndex","fromTargetIndex","branchTargetFromIndex","branchPoint","targetLine","merge","commitTag","commitMerge","fromTargetLine","pop","calcCommand","command","timelineData","commands","cmd","calcBranchesInfo","calcBranchXPoints","w","textWidth","measureText","renderMerge","upLineIndex","downLineIndex","branchXPoints","lineCap","upX","upRect","getCellRelativeRect","upY","bezierCurveTo","downX","downRect","downY","_start","_cache","cache","clearCache","has","_value","upLineIndexKey","downLineIndexKey","line","pointIndex","sort","arc","PI","columnsTypeButtonColumnJs","utils","_caption","withCaption","textValue","String","active","loadIcons","blur","offsetY","columnsTypeCheckColumnJs","columnsTypeColumnJs","columnsTypeIconColumnJs","repeatArray","Infinity","_tagName","tagName","_className","className","_content","_iconWidth","iconWidth","isNaN","columnsTypeImageColumnJs","imgs_1","MAX_LRU_CACHE_SIZE","getImage","url","getCacheOrLoad","calcKeepAspectRatioSize","maxHeight","newWidth","newHeight","drawImage","columnsTypeMenuColumnJs","normalize","withOptions","convertedValue","_convertInternal","basePadding","textPadding","iconPadding","path","console","warn","columnsTypeMultilineTextColumnJs","split","columnsTypeNumberColumnJs","defaultFotmat","_format","format","withFormat","Intl","NumberFormat","fmt","columnsTypePercentCompleteBarColumnJs","MARGIN","_min","_max","_formatter","formatter","str","endsWith","rate","barMaxWidth","barTop","barLeft","barSize","columnsTypeRadioColumnJs","columnsTypeColumnUtilsJs","argIcon","iconList","toNormalizeArray","columnsUtilsIndexJs","coreJs","coreDG_EVENT_TYPEJs","MOUSEDOWN_CELL","MOUSEDOWN_GRID","MOUSEUP_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","TOUCHSTART_CELL","CONTEXTMENU_CELL","RESIZE_COLUMN","coreDrawGridJs","hiDPI","NumberMap_1","Scrollable_1","isTouchEvent","getMouseButtons","cancelEvent","createRootElement","KEY_BS","KEY_END","KEY_HOME","KEY_LEFT","KEY_RIGHT","KEY_DEL","KEY_ALPHA_A","KEY_ALPHA_C","KEY_ALPHA_V","_vibrate","navigator","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startBottom","_getRowHeight","findAfter","candidateRow","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_getCellDrawing","drawCells","_putCellDrawing","_removeCellDrawing","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","cellDrawing","dcContext","DrawCellContext","pCol","_delayMode","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","put","_storeAutoColWidthExprs","defaultColPxWidth","each","adj","getRowHeightInternal","rowHeightsMap","_setRowHeight","getRowsHeightInternal","h","_getScrollWidth","_getScrollHeight","getScrollHeightInternal","_onScroll","lastLeft","lastTop","moveX","scrollable","scrollLeft","moveY","scrollTop","setFocusCursor","abs","redrawRect","_onKeyDownMove","ctrlKey","metaKey","hMove","vMove","newCell","_moveFocusCell","selectAllOnCtrlA","vDir","hDir","shiftKeyFlg","extendRange","beforeRange","beforeRect","_setFocusCell","afterRange","afterRect","intersection","invalidateRect","_updatedSelection","focusControl","selCol","selRow","results","editMode","findIndex","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","changedTouches","clientX","pageX","scrollX","clientY","pageY","scrollY","_bindEvents","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","buttons","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","useTouch","useTouchStart","timeoutId","useTouchEnd","defaultPrevented","targetTouches","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","leaveCell","moving","lastMoving","onKeyDown","onScroll","copyRange","copyLines","copyLine","copyCellValue","strCellValue","onCopy","onPaste","normalizedValue","normalizePasteValue","rangeBoxValues","pasteCellEvent","onInput","onDelete","onFocus","focusedGrid","onBlur","abstractX","abstractY","inPoint","cellRect","_getScrollableVisibleRect","frozenColsWidth","frozenRowsHeight","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","_bindMoveAndUp","events","mousemove","_mouseMove","mouseup","_mouseUp","touchmove","passive","touchend","touchcancel","_moveInternal","_upInternal","CellSelector","_getTargetCell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","afterSize","setSafeInputValue","IGNORE_STORE_ATTRS","FocusControl","_scrollable","_isComposition","_compositionEnd","lastInputValue","inputClear","storeLastInputValue","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","Edge","isDescendantElement","dummyInput","pasteText","clipboardData","getData","types","setData","_keyDownMoveCallback","setFocusRect","calcTop","getScrollBarSize","resetInputStatus","composition","attrs","removeNames","attr","_inputStatus","nodeName","removeName","inputStatus","Selection","_sel","_end","_callBeforeHooks","_wrapFireSelectedEvent","_setSelectCell","keepSelect","ignoreBeforeHook","_isWrapped","_updateGridRange","points","needChange","_layers","addDraw","level","DrawLayer","_level","_list","drawing","_rectFilter","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","rectFilter","_getRectInternal","_isOutOfRange","_toRelativeDrawRect","addLayerDraw","fRect","onTerminate","_onTerminate","protectedKey","initDocument","Scrollable","transform","alpha","NumberMap","cellTextOverflows","cfg","config","scrollHeight","scrollWidth","setScrollSize","getMaxColWidth","maxwidth","getMinColWidth","minwidth","getCellsRect","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","getRowAt","frozen","getColAt","oldEditMode","cellsRect","invalidateTarget","visibleTop","visibleLeft","_range","getCellOverflowText","overflowText","disposable","disposables","_absoluteY","_startRow","_endRow","coreEventTargetJs","nextId","listeners","listenerData","listener","addEventListener","removeEventListener","dataJs","FilterDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","dataCachedDataSourceJs","_setFieldCache","fCache","recCache","_rCache","_fCache","getOriginal","getOriginalField","rowCache","setOriginalField","fieldPromiseCallBackInternal","recordPromiseCallBackInternal","dataDataSourceJs","isFieldAssessor","UPDATE_LENGTH","ascOrderFn","v1","v2","descOrderFn","getValue","setPromiseBack","maybePromiseValue","promiseValue","fieldGet","fieldResult","ss","applyChainSafe","emptyFn","fieldSet","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","hasOriginalField","orderFn","sortPromise","rel","_field","dataFilterDataSourceJs","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","movePrev","nest","FilterData","dc","_owner","_dataSourceItr","_filter","_filteredList","_queues","filteredList","queues","indexQueue","_findIndex","_findIndexWithTimeout","testTimeout","dataSourceItr","queue","_filterData","elementInlineJs","Inline","getWidth","breakWidth","itr","candidateIndex","chars","beforeWidth","charWidth","beforeContent","afterContent","_callback","fillTextRect","genChars","allWidth","candidate","genWords","elementInlineDrawerJs","Inline_1","_draw","_width","_arg","elementInlineIconJs","InlineIcon","_icon","letterSpacing","elementInlineImageJs","InlineImage","src","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_height","_imageLeft","_imageTop","_imageWidth","_imageHeight","_offsetTop","_offsetLeft","_onloaded","_loadImage","img","drawInlineImageRect","elementInlinePath2DJs","InlinePath2D","path2DManager","Path2D","getPath2D","_path","translate","elementInlineSvgJs","InlineSvg","InlineImage_1","buildSvgDataUrl","svg","XMLSerializer","serializeToString","getSvgElement","parser","DOMParser","parseFromString","svgElem","elmWidth","getAttribute","elmHeight","numElmWidth","numElmHeight","elementInlinesJs","InlineIcon_1","InlinePath2D_1","InlineSvg_1","drawRegisteredIcon","drawWidth","drawHeight","isIconConstructorOption","isInlineImageConstructorOption","isInlineSvgConstructorOption","registeredIcons","registeredIcon","il","getInternalJs","getInternal","symbolManager","pasteUtils","headerActionJs","ofCell","CheckHeaderAction","SortHeaderAction","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","SORT","headerAction","headerCell","sortMethod","headerActionBaseActionJs","headerActionCheckHeaderActionJs","CHECK_HEADER_STATE_ID","getCheckHeaderStateId","checked","headerActionSortHeaderActionJs","_sort","_executeSort","hasTrueField","fieldRow","headerActionActionBindJs","inMouse","headerStyleJs","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","headerStyleBaseStyleJs","headerStyleCheckHeaderStyleJs","StdTextBaseStyle_1","StdTextBaseStyle","headerStyleMultilineTextHeaderStyleJs","StdMultilineTextBaseStyle_1","StdMultilineTextBaseStyle","headerStyleSortHeaderStyleJs","_sortArrowColor","_multiline","multiline","headerStyleStdBaseStyleJs","headerStyleStdMultilineTextBaseStyleJs","headerStyleStdTextBaseStyleJs","headerStyleStyleJs","headerTypeJs","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","headerTypeBaseHeaderJs","headerTypeCheckHeaderJs","inlineCheck","contents","headerTypeHeaderJs","headerTypeMultilineTextHeaderJs","headerTypeSortHeaderJs","arrowSize","headersJs","iconsJs","icons_1","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","internalEventHandlerJs","_listeners","fire","hasListener","clear","internalLRUCacheJs","LRUCache","cacheSize","_map","_cacheSize","idx","remKey","shift","internalNumberMapJs","indexFirst","arr","elm","low","high","_keys","_vals","_sorted","keyFrom","keyTo","internalRectJs","_left","_top","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","internalScrollableJs","MAX_SCROLL","heightLimit","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","internalAnimateJs","cubicBezier","x2","y2","x3","y3","step","err","EASINGS","linear","easeIn","easeOut","easeInOut","raf","isNode","requestAnimationFrame","duration","easing","startedAt","easingFn","canceledFlg","createAnim","anim","internalCalcJs","TYPE_PAREN","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","TABULATION","CARRIAGE_RETURN","LINE_FEED","FORM_FEED","SPACE","PERCENT","FULL_STOP","DIGIT_0","DIGIT_9","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","LATIN_SMALL_A","LATIN_SMALL_Z","isUpperLetter","cp","isLowerLetter","isLetter","isWhitespace","isDigit","isDot","isUnit","createError","tokenize","exp","tokens","len","charCodeAt","parseSign","parseNum","parseUnit","unit","PRECEDENCE","lex","buildBinaryExpNode","stack","op","nodeType","token","deep","closeIndex","beforeOp","parse","calcStr","calcNode","node","toPxInternal","ast","internalCanvasesJs","calcBasePosition","fontSizeCache","fontName","bk","paddingLeft","paddingRight","internalColorJs","rgbMap","styleColorToRGB","dummy","position","defaultView","getComputedStyle","styleColor","colorToRGB0","hexToNum","hex","parseInt","createRGB","tripleHexToRGB","sextupleHexToRGB","r1","r2","g1","g2","b1","b2","testRGB","rateToByte","numberPattern","percentPattern","maybePercentPattern","buildRgbWithCommaRegExp","bytePattern","RegExp","buildRgbLv4RegExp","buildRgbaWithCommaRegExp","alphaPattern","buildRgbaLv4RegExp","rgb","internalDomJs","enableFocus","toNodeList","innerHTML","dom","arg","toNode","inner","disableBeforeTabIndex","previousSibling","nextSibling","internalFontsJs","loads","_testStr","fontFaceSet","legacy","testStr","ready","internalHiDPIJs","ratio","setRatio","devicePixelRatio","wh","scale","internalIconsJs","getIconProps","ICON_PROP_KEYS","quote","quoted","part","doms","props","tagProps","beforeStyle","getPropertyValue","clientWidth","isLiga","toPropArray","toSimpleArray","iconProps","workData","isIconKey","internalImgsJs","loadImage","LRUCache_1","allCache","Image","onload","onerror","getCacheOrLoad0","cacheName","internalLegacyCanvasPath2DShimJs","Path2DShim","PathCommandsParser_1","PathCommandsParser","_ops","arcTo","ellipse","quadraticCurveTo","roundRect","_y","_w","_radii","CanvasRenderingContext2D","originalFill","apply","internalLegacyCanvasPathCommandsJs","PathCommands","mag","sqrt","pow","dot","u","clamp","angle","acos","rotClockwise","cost","cos","sint","sin","rotCounterClockwise","midPoint","meanVec","pointMul","sum","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","xPrime2","rx2","ry2","lambda","factor","cPrime","x1UnitVector","x2UnitVector","theta","deltaTheta","rotate","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","internalLegacyCanvasPathCommandsParserJs","PathCommands_1","pathTokens","builder","argsProvider","_commands","buildPush","numArgs","ops","subsequentCommand","fst","log","internalLegacyFontwatchFontRulerJs","FontRuler","computeStyle","display","el_","internalLegacyFontwatchFontWatchRunnerJs","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","widthsMatchLastResortWidths_","lastResortFont","hasWebKitFallbackBug","callbacks","cb","runner","HAS_WEBKIT_FALLBACK_BUG","match","userAgent","internalMenuItemsJs","internalPasteUtilsJs","parseValues","adjustCell","char","processQuotedCell","internalPath2DManagerJs","pathModule","upsideDown","ud","offsetX","xrate","yrate","path2d","internalSortJs","sortArray","createArray","createArrayPromise","plist","setArrayField","compare","old","dummyPromise","catch","internalStyleJs","getScrollBarWidth","wrapper","wrapperStyle","pointerEvents","wrapperWidth","innerWidth","SCROLLBAR_SIZE","initDocumentInternal","initDocumentVar","internalSymbolManagerJs","global","random","cl","mem","internalUtilsJs","getIgnoreCase","arrayFind","arrayFindIndex","predicate","analyzeUserAgent","Chrome","Firefox","Safari","ua","omits","defs","searchString","subjectString","isFinite","lastIndex","lastIndexOf","re","which","preventDefault","listGridLG_EVENT_TYPEJs","listGridLayoutMapIndexJs","simple_header_layout_1","multi_layout_1","listGridLayoutMapInternalMultiLayoutJs","columns","normalizeLayout","seqId","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","_emptyDataCache","EmptyDataCache","hbLayouut","headerField","_body","colDef","_columnCount","widthDef","bodyLayoutRow","recordIndex","layoutRow","listGridLayoutMapInternalSimpleHeaderLayoutJs","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","prev","listGridLayoutMapInternalUtilsJs","newEmptyColumnData","newEmptyHeaderData","headers","rows","mainJs","register","getIcons","tools","core","_getInternal","ListGrid_1","get_internal_1","defaultTheme","setDefault","getChoices","pluginsIconsJs","pluginsThemesJs","registerJs","themes_1","registers","themesJs","__importDefault","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","Theme","builtin","defTheme","themesBASICJs","DEFAULT_BG_COLOR","cacheLinearGradient","getLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","FROZEN_ROWS_BG_COLOR","themesMATERIAL_DESIGNJs","FROZEN_ROWS_BORDER_COLOR","BORDER_COLOR","themesThemeJs","getProp","superObj","defNames","convertForSuper","defaultValue","getChainSafeWithConvert","superTheme","hasProperty","colorsToColor","hasThemeProperty","extends","colors","colorsArrayToColor","toolsJs","toolsCanvashelperJs","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","strokeRectLines","positions","preColor","pos1","pos2","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","boxSize","checkPoint","leftX","topY","leftWidth","rightWidth","leftLeftPos","leftTopPos","checkSize","backgroundColor","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","tooltipBaseTooltipJs","BaseTooltip","detachTooltipElement","_tooltipElement","_getTooltipElement","createTooltipElementInternal","attachTooltipElement","tooltipElement","moveTooltipElement","tooltipTooltipJs","Tooltip","BaseTooltip_1","TooltipElement_1","TooltipElement","tooltipTooltipHandlerJs","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","overflow-text","getTooltipInstanceInfo","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","_isAttachCell","tooltipInternalTooltipElementJs","CONTENT_CLASSNAME","createTooltipDomElement","elementLeft","elementRight","cellCenter","maxWidthForLeft","winWidth","maxWidthForRight"],"mappings":"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","file":"cheetahGrid.es5.js","sourcesContent":["(function(window){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/InlineInputElement.css ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css\":\n/*!*************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/InlineMenuElement.css ***!\n  \\*************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css\":\n/*!*******************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/SmallDialogInputElement.css ***!\n  \\*******************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css\":\n/*!****************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/ErrorMessageElement.css ***!\n  \\****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/MessageElement.css ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css\":\n/*!******************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/WarningMessageElement.css ***!\n  \\******************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css\":\n/*!**********************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/internal/style.css ***!\n  \\**********************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css\":\n/*!***************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/tooltip/internal/TooltipElement.css ***!\n  \\***************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/runtime/api.js\":\n/*!******************************************************!*\\\n  !*** ../node_modules/css-loader/dist/runtime/api.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n/***/ }),\n\n/***/ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\":\n/*!*****************************************************************************!*\\\n  !*** ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n/***/ }),\n\n/***/ \"../node_modules/webpack/buildin/global.js\":\n/*!*************************************************!*\\\n  !*** ../node_modules/webpack/buildin/global.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/InlineInputElement.css\":\n/*!****************************************************************!*\\\n  !*** ../src/js/columns/action/internal/InlineInputElement.css ***!\n  \\****************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./InlineInputElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/InlineMenuElement.css\":\n/*!***************************************************************!*\\\n  !*** ../src/js/columns/action/internal/InlineMenuElement.css ***!\n  \\***************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./InlineMenuElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/SmallDialogInputElement.css\":\n/*!*********************************************************************!*\\\n  !*** ../src/js/columns/action/internal/SmallDialogInputElement.css ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./SmallDialogInputElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/ErrorMessageElement.css\":\n/*!******************************************************************!*\\\n  !*** ../src/js/columns/message/internal/ErrorMessageElement.css ***!\n  \\******************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./ErrorMessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/MessageElement.css\":\n/*!*************************************************************!*\\\n  !*** ../src/js/columns/message/internal/MessageElement.css ***!\n  \\*************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./MessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/WarningMessageElement.css\":\n/*!********************************************************************!*\\\n  !*** ../src/js/columns/message/internal/WarningMessageElement.css ***!\n  \\********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./WarningMessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/internal/style.css\":\n/*!************************************!*\\\n  !*** ../src/js/internal/style.css ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src??ref--5-2!./style.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/tooltip/internal/TooltipElement.css\":\n/*!*****************************************************!*\\\n  !*** ../src/js/tooltip/internal/TooltipElement.css ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src??ref--5-2!./TooltipElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"./GridCanvasHelper.js\":\n/*!*****************************!*\\\n  !*** ./GridCanvasHelper.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GridCanvasHelper = void 0;\nconst calc = __importStar(__webpack_require__(/*! ./internal/calc */ \"./internal/calc.js\"));\nconst canvashelper = __importStar(__webpack_require__(/*! ./tools/canvashelper */ \"./tools/canvashelper.js\"));\nconst fonts = __importStar(__webpack_require__(/*! ./internal/fonts */ \"./internal/fonts.js\"));\nconst inlineUtils = __importStar(__webpack_require__(/*! ./element/inlines */ \"./element/inlines.js\"));\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\nconst canvases_1 = __webpack_require__(/*! ./internal/canvases */ \"./internal/canvases.js\");\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\nconst InlineDrawer_1 = __webpack_require__(/*! ./element/InlineDrawer */ \"./element/InlineDrawer.js\");\nconst Rect_1 = __webpack_require__(/*! ./internal/Rect */ \"./internal/Rect.js\");\nconst color_1 = __webpack_require__(/*! ./internal/color */ \"./internal/color.js\");\nconst {\n  toBoxArray\n} = utils_1.style;\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\nconst TEXT_OFFSET = 2;\nconst CHECKBOX_OFFSET = TEXT_OFFSET + 1;\nfunction invalidateCell(context, grid) {\n  const {\n    col,\n    row\n  } = context;\n  grid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n  return (0, utils_1.getOrApply)(color, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\nfunction getFont(font, col, row, grid, context) {\n  if (font == null) {\n    return undefined;\n  }\n  return (0, utils_1.getOrApply)(font, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\nfunction getThemeColor(grid, ...names) {\n  const gridThemeColor = (0, utils_1.getChainSafe)(grid.theme, ...names);\n  if (gridThemeColor == null) {\n    // use default theme\n    return (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\n  }\n  if (typeof gridThemeColor !== \"function\") {\n    return gridThemeColor;\n  }\n  let defaultThemeColor;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return args => {\n    const color = gridThemeColor(args);\n    if (color != null) {\n      // use grid theme\n      return color;\n    }\n    // use default theme\n    defaultThemeColor = defaultThemeColor || (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\n    return (0, utils_1.getOrApply)(defaultThemeColor, args);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  };\n}\n\nfunction testFontLoad(font, value, context, grid) {\n  if (font) {\n    if (!fonts.check(font, value)) {\n      fonts.load(font, value, () => invalidateCell(context, grid));\n      return false;\n    }\n  }\n  return true;\n}\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n  function drawInline(inline, offsetLeft, offsetRight) {\n    if (inline.canDraw()) {\n      ctx.save();\n      try {\n        ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n        ctx.font = inline.font() || ctx.font;\n        inline.draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        });\n      } finally {\n        ctx.restore();\n      }\n    } else {\n      inline.onReady(() => grid.invalidateCell(col, row));\n      //noop\n    }\n  }\n\n  if (inlines.length === 1) {\n    //1\n    const inline = inlines[0];\n    drawInline(inline, 0, 0);\n  } else {\n    const inlineWidths = inlines.map(inline => (inline.width({\n      ctx\n    }) || 0) - 0);\n    let offsetRight = inlineWidths.reduce((a, b) => a + b);\n    let offsetLeft = 0;\n    inlines.forEach((inline, index) => {\n      const inlineWidth = inlineWidths[index];\n      offsetRight -= inlineWidth;\n      drawInline(inline, offsetLeft, offsetRight);\n      offsetLeft += inlineWidth;\n    });\n  }\n}\nfunction buildInlines(icons, inline) {\n  return inlineUtils.buildInlines(icons, inline || \"\");\n}\nfunction inlineToString(inline) {\n  return inlineUtils.string(inline);\n}\nfunction getOverflowInline(textOverflow) {\n  if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\n    return INLINE_ELLIPSIS;\n  }\n  textOverflow = textOverflow.trim();\n  if (textOverflow.length === 1) {\n    return inlineUtils.of(textOverflow[0]);\n  }\n  return INLINE_ELLIPSIS;\n}\nfunction isAllowOverflow(textOverflow) {\n  return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\n}\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n  const maxWidth = width - 3; /*buffer*/\n  let lineWidth = 0;\n  for (let i = 0; i < inlines.length; i++) {\n    const inline = inlines[i];\n    const inlineWidth = (inline.width({\n      ctx\n    }) || 0) - 0;\n    if (lineWidth + inlineWidth > maxWidth) {\n      return {\n        index: i,\n        lineWidth,\n        remWidth: maxWidth - lineWidth\n      };\n    }\n    lineWidth += inlineWidth;\n  }\n  return null;\n}\nfunction isOverflowInlines(ctx, inlines, width) {\n  return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\nfunction breakWidthInlines(ctx, inlines, width) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n  if (!indexData) {\n    return {\n      beforeInlines: inlines,\n      overflow: false,\n      afterInlines: []\n    };\n  }\n  const {\n    index,\n    remWidth\n  } = indexData;\n  const inline = inlines[index];\n  const beforeInlines = inlines.slice(0, index);\n  const afterInlines = [];\n  if (inline.canBreak()) {\n    let {\n      before,\n      after\n    } = inline.breakWord(ctx, remWidth);\n    if (!before && !beforeInlines.length) {\n      ({\n        before,\n        after\n      } = inline.breakAll(ctx, remWidth));\n    }\n    if (!before && !beforeInlines.length) {\n      // Always return one char\n      ({\n        before,\n        after\n      } = inline.splitIndex(1));\n    }\n    if (before) {\n      beforeInlines.push(before);\n    }\n    if (after) {\n      afterInlines.push(after);\n    }\n    afterInlines.push(...inlines.slice(index + 1));\n  } else {\n    if (!beforeInlines.length) {\n      // Always return one char\n      beforeInlines.push(inline);\n    }\n    afterInlines.push(...inlines.slice(beforeInlines.length));\n  }\n  return {\n    beforeInlines,\n    overflow: true,\n    afterInlines\n  };\n}\nfunction truncateInlines(ctx, inlines, width, option) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n  if (!indexData) {\n    return {\n      inlines,\n      overflow: false\n    };\n  }\n  const {\n    index,\n    lineWidth\n  } = indexData;\n  const inline = inlines[index];\n  const overflowInline = getOverflowInline(option);\n  const ellipsisWidth = overflowInline.width({\n    ctx\n  });\n  const remWidth = width - lineWidth - ellipsisWidth;\n  const result = inlines.slice(0, index);\n  if (inline.canBreak()) {\n    const {\n      before\n    } = inline.breakAll(ctx, remWidth);\n    if (before) {\n      result.push(before);\n    }\n  }\n  result.push(overflowInline);\n  return {\n    inlines: result,\n    overflow: true\n  };\n}\nfunction _inlineRect(grid, ctx, inline, drawRect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  textOverflow,\n  icons,\n  trailingIcon\n}) {\n  //style\n  ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n  let inlines = buildInlines(icons, inline);\n  const trailingIconInline = trailingIcon ? inlineUtils.iconOf(trailingIcon) : null;\n  let inlineDrawRect = drawRect;\n  let {\n    width\n  } = drawRect;\n  let trailingIconWidth = 0;\n  if (trailingIconInline) {\n    trailingIconWidth = trailingIconInline.width({\n      ctx\n    });\n    width -= trailingIconWidth;\n    inlineDrawRect = new Rect_1.Rect(drawRect.left, drawRect.top, width, drawRect.height);\n  }\n  if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, width)) {\n    const {\n      inlines: truncInlines,\n      overflow\n    } = truncateInlines(ctx, inlines, width, textOverflow);\n    inlines = truncInlines;\n    grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n  } else {\n    grid.setCellOverflowText(col, row, false);\n  }\n  drawInlines(ctx, inlines, inlineDrawRect, offset, 0, 0, col, row, grid);\n  if (trailingIconInline) {\n    // Draw trailing icon\n    let sumWidth = 0;\n    inlines.forEach(inline => {\n      sumWidth += inline.width({\n        ctx\n      });\n    });\n    const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n    const trailingIconRect = baseRect.copy();\n    if (width < sumWidth) {\n      trailingIconRect.left = trailingIconRect.right - trailingIconWidth - offset;\n    } else {\n      trailingIconRect.left += sumWidth;\n    }\n    trailingIconRect.right = baseRect.right;\n    drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\n  }\n}\n// eslint-disable-next-line complexity\nfunction _multiInlineRect(grid, ctx, multiInlines, drawRect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  lineHeight,\n  autoWrapText,\n  lineClamp,\n  textOverflow,\n  icons,\n  trailingIcon\n}) {\n  //style\n  ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n  if (lineClamp === \"auto\") {\n    const rectHeight = drawRect.height - offset * 2 - 2; /*offset added by Inline#draw*/\n    lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n  }\n  const trailingIconInline = trailingIcon ? inlineUtils.iconOf(trailingIcon) : null;\n  let {\n    width\n  } = drawRect;\n  let trailingIconWidth = 0;\n  if (trailingIconInline) {\n    trailingIconWidth = trailingIconInline.width({\n      ctx\n    });\n    width -= trailingIconWidth;\n  }\n  let buildedMultiInlines;\n  if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n    buildedMultiInlines = [];\n    const procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n      if (buildedMultiInlines.length + 1 >= Number(lineClamp)) {\n        if (inlines.length === 0 && hasNext) {\n          buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n          grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n        } else {\n          const {\n            inlines: truncInlines,\n            overflow\n          } = truncateInlines(ctx, inlines, width, textOverflow);\n          buildedMultiInlines.push(hasNext && !overflow ? truncInlines.concat([getOverflowInline(textOverflow)]) : truncInlines);\n          if (overflow || hasNext) {\n            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n          }\n        }\n        return false;\n      }\n      return true;\n    } : () => true;\n    const procLine = autoWrapText ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n      while (inlines.length) {\n        if (!procLineClamp(inlines, hasNext)) {\n          return false;\n        }\n        const {\n          beforeInlines,\n          afterInlines\n        } = breakWidthInlines(ctx, inlines, width);\n        buildedMultiInlines.push(beforeInlines);\n        inlines = afterInlines;\n      }\n      return true;\n    } : isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n      const {\n        inlines: truncInlines,\n        overflow\n      } = truncateInlines(ctx, inlines, width, textOverflow);\n      buildedMultiInlines.push(truncInlines);\n      if (overflow) {\n        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n      }\n      return true;\n    } : (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n      buildedMultiInlines.push(inlines);\n      return true;\n    };\n    grid.setCellOverflowText(col, row, false);\n    for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n      const inline = multiInlines[lineRow];\n      const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n      if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n        break;\n      }\n    }\n  } else {\n    grid.setCellOverflowText(col, row, false);\n    buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n  }\n  let paddingTop = 0;\n  let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n  if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\n    const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop += pad;\n    paddingBottom -= pad;\n  } else if (ctx.textBaseline === \"bottom\" || ctx.textBaseline === \"alphabetic\" || ctx.textBaseline === \"ideographic\") {\n    const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop -= pad;\n    paddingBottom += pad;\n  }\n  buildedMultiInlines.forEach(buildedInline => {\n    drawInlines(ctx, buildedInline, drawRect, offset, paddingTop, paddingBottom, col, row, grid);\n    paddingTop += lineHeight;\n    paddingBottom -= lineHeight;\n  });\n  if (trailingIconInline) {\n    // Draw trailing icon\n    let maxWidth = 0;\n    buildedMultiInlines.forEach(buildedInline => {\n      let sumWidth = 0;\n      buildedInline.forEach(inline => {\n        sumWidth += inline.width({\n          ctx\n        });\n      });\n      maxWidth = Math.max(maxWidth, sumWidth);\n    });\n    const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n    const trailingIconRect = baseRect.copy();\n    if (width < maxWidth) {\n      trailingIconRect.left = trailingIconRect.right - trailingIconWidth - offset;\n    } else {\n      trailingIconRect.left += maxWidth;\n    }\n    trailingIconRect.right = baseRect.right;\n    drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\n  }\n}\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\n  const startColorRGB = (0, color_1.colorToRGB)(startColor);\n  const endColorRGB = (0, color_1.colorToRGB)(endColor);\n  const getRGB = colorName => {\n    const start = startColorRGB[colorName];\n    const end = endColorRGB[colorName];\n    if (elapsedTime >= 1) {\n      return end;\n    }\n    if (elapsedTime <= 0) {\n      return start;\n    }\n    const diff = start - end;\n    return Math.ceil(start - diff * elapsedTime);\n  };\n  return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\n}\nfunction drawCheckbox(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  uncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n  checkBgColor = helper.theme.checkbox.checkBgColor,\n  borderColor = helper.theme.checkbox.borderColor,\n  textAlign = \"center\",\n  textBaseline = \"middle\"\n}, positionOpt = {}) {\n  const boxWidth = canvashelper.measureCheckbox(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  borderColor = helper.getColor(borderColor, col, row, ctx);\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    uncheckBgColor = check ? uncheckBgColor : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n    checkBgColor = check ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime) : checkBgColor;\n  }\n  canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n    uncheckBgColor,\n    checkBgColor,\n    borderColor\n  });\n}\nfunction drawRadioButton(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  checkColor = helper.theme.radioButton.checkColor,\n  uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor,\n  checkBorderColor = helper.theme.radioButton.checkBorderColor,\n  uncheckBgColor = helper.theme.radioButton.uncheckBgColor,\n  checkBgColor = helper.theme.radioButton.checkBgColor,\n  textAlign = \"center\",\n  textBaseline = \"middle\"\n}, positionOpt = {}) {\n  const boxWidth = canvashelper.measureRadioButton(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n  checkColor = helper.getColor(checkColor, col, row, ctx);\n  uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\n  checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  let borderColor = check ? checkBorderColor : uncheckBorderColor;\n  let bgColor = check ? checkBgColor : uncheckBgColor;\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    borderColor = check ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime) : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\n    bgColor = check ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime) : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n  }\n  canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\n    checkColor,\n    borderColor,\n    bgColor\n  });\n}\nclass ThemeResolver {\n  constructor(grid) {\n    this._checkbox = null;\n    this._radioButton = null;\n    this._button = null;\n    this._header = null;\n    this._messages = null;\n    this._indicators = null;\n    this._grid = grid;\n  }\n  getThemeColor(...name) {\n    return getThemeColor(this._grid, ...name);\n  }\n  get font() {\n    return getThemeColor(this._grid, \"font\");\n  }\n  get underlayBackgroundColor() {\n    return getThemeColor(this._grid, \"underlayBackgroundColor\");\n  }\n  // color\n  get color() {\n    return getThemeColor(this._grid, \"color\");\n  }\n  get frozenRowsColor() {\n    return getThemeColor(this._grid, \"frozenRowsColor\");\n  }\n  // background\n  get defaultBgColor() {\n    return getThemeColor(this._grid, \"defaultBgColor\");\n  }\n  get frozenRowsBgColor() {\n    return getThemeColor(this._grid, \"frozenRowsBgColor\");\n  }\n  get selectionBgColor() {\n    return getThemeColor(this._grid, \"selectionBgColor\");\n  }\n  get highlightBgColor() {\n    return getThemeColor(this._grid, \"highlightBgColor\");\n  }\n  // border\n  get borderColor() {\n    return getThemeColor(this._grid, \"borderColor\");\n  }\n  get frozenRowsBorderColor() {\n    return getThemeColor(this._grid, \"frozenRowsBorderColor\");\n  }\n  get highlightBorderColor() {\n    return getThemeColor(this._grid, \"highlightBorderColor\");\n  }\n  get checkbox() {\n    const grid = this._grid;\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getCheckboxProp(\"uncheckBgColor\");\n      },\n      get checkBgColor() {\n        return getCheckboxProp(\"checkBgColor\");\n      },\n      get borderColor() {\n        return getCheckboxProp(\"borderColor\");\n      }\n    });\n    function getCheckboxProp(prop) {\n      return getThemeColor(grid, \"checkbox\", prop);\n    }\n  }\n  get radioButton() {\n    const grid = this._grid;\n    return this._radioButton || (this._radioButton = {\n      get checkColor() {\n        return getRadioButtonProp(\"checkColor\");\n      },\n      get uncheckBorderColor() {\n        return getRadioButtonProp(\"uncheckBorderColor\");\n      },\n      get checkBorderColor() {\n        return getRadioButtonProp(\"checkBorderColor\");\n      },\n      get uncheckBgColor() {\n        return getRadioButtonProp(\"uncheckBgColor\");\n      },\n      get checkBgColor() {\n        return getRadioButtonProp(\"checkBgColor\");\n      }\n    });\n    function getRadioButtonProp(prop) {\n      return getThemeColor(grid, \"radioButton\", prop);\n    }\n  }\n  get button() {\n    const grid = this._grid;\n    return this._button || (this._button = {\n      get color() {\n        return getButtonProp(\"color\");\n      },\n      get bgColor() {\n        return getButtonProp(\"bgColor\");\n      }\n    });\n    function getButtonProp(prop) {\n      return getThemeColor(grid, \"button\", prop);\n    }\n  }\n  get header() {\n    const grid = this._grid;\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getThemeColor(grid, \"header\", \"sortArrowColor\");\n      }\n    });\n  }\n  get messages() {\n    const grid = this._grid;\n    return this._messages || (this._messages = {\n      get infoBgColor() {\n        return getMessageProp(\"infoBgColor\");\n      },\n      get errorBgColor() {\n        return getMessageProp(\"errorBgColor\");\n      },\n      get warnBgColor() {\n        return getMessageProp(\"warnBgColor\");\n      },\n      get boxWidth() {\n        return getMessageProp(\"boxWidth\");\n      },\n      get markHeight() {\n        return getMessageProp(\"markHeight\");\n      }\n    });\n    function getMessageProp(prop) {\n      return getThemeColor(grid, \"messages\", prop);\n    }\n  }\n  get indicators() {\n    const grid = this._grid;\n    return this._indicators || (this._indicators = {\n      get topLeftColor() {\n        return getIndicatorsProp(\"topLeftColor\");\n      },\n      get topLeftSize() {\n        return getIndicatorsProp(\"topLeftSize\");\n      },\n      get topRightColor() {\n        return getIndicatorsProp(\"topRightColor\");\n      },\n      get topRightSize() {\n        return getIndicatorsProp(\"topRightSize\");\n      },\n      get bottomRightColor() {\n        return getIndicatorsProp(\"bottomRightColor\");\n      },\n      get bottomRightSize() {\n        return getIndicatorsProp(\"bottomRightSize\");\n      },\n      get bottomLeftColor() {\n        return getIndicatorsProp(\"bottomLeftColor\");\n      },\n      get bottomLeftSize() {\n        return getIndicatorsProp(\"bottomLeftSize\");\n      }\n    });\n    function getIndicatorsProp(prop) {\n      return getThemeColor(grid, \"indicators\", prop);\n    }\n  }\n}\nfunction strokeRect(ctx, color, left, top, width, height) {\n  if (!Array.isArray(color)) {\n    if (color) {\n      ctx.strokeStyle = color;\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    const borderColors = toBoxArray(color);\n    canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n  }\n}\nclass GridCanvasHelper {\n  constructor(grid) {\n    this._grid = grid;\n    this._theme = new ThemeResolver(grid);\n  }\n  createCalculator(context, font) {\n    return {\n      calcWidth(width) {\n        return calc.toPx(width, {\n          get full() {\n            const rect = context.getRect();\n            return rect.width;\n          },\n          get em() {\n            return (0, canvases_1.getFontSize)(context.getContext(), font).width;\n          }\n        });\n      },\n      calcHeight(height) {\n        return calc.toPx(height, {\n          get full() {\n            const rect = context.getRect();\n            return rect.height;\n          },\n          get em() {\n            return (0, canvases_1.getFontSize)(context.getContext(), font).height;\n          }\n        });\n      }\n    };\n  }\n  getColor(color, col, row, ctx) {\n    return getColor(color, col, row, this._grid, ctx);\n  }\n  toBoxArray(obj) {\n    return toBoxArray(obj);\n  }\n  toBoxPixelArray(value, context, font) {\n    if (typeof value === \"string\" || Array.isArray(value)) {\n      const calculator = this.createCalculator(context, font);\n      const box = toBoxArray(value);\n      return [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n    }\n    return toBoxArray(value);\n  }\n  get theme() {\n    return this._theme;\n  }\n  drawWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n    if (!drawRect) {\n      return;\n    }\n    const ctx = context.getContext();\n    ctx.save();\n    try {\n      ctx.beginPath();\n      ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n      //clip\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n  drawBorderWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n    if (!drawRect) {\n      return;\n    }\n    const rect = context.getRect();\n    const ctx = context.getContext();\n    ctx.save();\n    try {\n      //clip\n      ctx.beginPath();\n      let clipLeft = drawRect.left;\n      let clipWidth = drawRect.width;\n      if (drawRect.left === rect.left) {\n        clipLeft += -1;\n        clipWidth += 1;\n      }\n      let clipTop = drawRect.top;\n      let clipHeight = drawRect.height;\n      if (drawRect.top === rect.top) {\n        clipTop += -1;\n        clipHeight += 1;\n      }\n      ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n  text(text, context, {\n    padding,\n    offset = TEXT_OFFSET,\n    color,\n    textAlign = \"left\",\n    textBaseline = \"middle\",\n    font,\n    textOverflow = \"clip\",\n    icons,\n    trailingIcon,\n    appendRightPx\n  } = {}) {\n    let rect = context.getRect();\n    rect.width += appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0;\n    const {\n      col,\n      row\n    } = context;\n    if (!color) {\n      ({\n        color\n      } = this.theme);\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      if (padding) {\n        const paddingNums = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + paddingNums[3];\n        const top = rect.top + paddingNums[0];\n        const width = rect.width - paddingNums[1] - paddingNums[3];\n        const height = rect.height - paddingNums[0] - paddingNums[2];\n        rect = new Rect_1.Rect(left, top, width + (appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0), height);\n      }\n      _inlineRect(this._grid, ctx, text, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons,\n        trailingIcon\n      });\n    });\n  }\n  multilineText(multilines, context, {\n    padding,\n    offset = TEXT_OFFSET,\n    color,\n    textAlign = \"left\",\n    textBaseline = \"middle\",\n    font,\n    lineHeight = \"1em\",\n    autoWrapText = false,\n    lineClamp = 0,\n    textOverflow = \"clip\",\n    icons,\n    trailingIcon\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n    if (!color) {\n      ({\n        color\n      } = this.theme);\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      if (padding) {\n        const paddingNums = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + paddingNums[3];\n        const top = rect.top + paddingNums[0];\n        const width = rect.width - paddingNums[1] - paddingNums[3];\n        const height = rect.height - paddingNums[0] - paddingNums[2];\n        rect = new Rect_1.Rect(left, top, width, height);\n      }\n      const calculator = this.createCalculator(context, font);\n      lineHeight = calculator.calcHeight(lineHeight);\n      _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons,\n        trailingIcon\n      });\n    });\n  }\n  fillText(text, x, y, context, {\n    color,\n    textAlign = \"left\",\n    textBaseline = \"top\",\n    font\n  } = {}) {\n    const {\n      col,\n      row\n    } = context;\n    if (!color) {\n      ({\n        color\n      } = this.theme);\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n    const ctx = context.getContext();\n    ctx.save();\n    try {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = textBaseline;\n      ctx.font = font || ctx.font;\n      ctx.fillText(text, x, y);\n    } finally {\n      ctx.restore();\n    }\n  }\n  fillCell(context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    });\n  }\n  fillCellWithState(context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillCell(context, option);\n  }\n  fillRect(rect, context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const ctx = context.getContext();\n    ctx.save();\n    try {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    } finally {\n      ctx.restore();\n    }\n  }\n  fillRectWithState(rect, context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillRect(rect, context, option);\n  }\n  getFillColorState(context, option = {}) {\n    const sel = context.getSelection();\n    const {\n      col,\n      row\n    } = context;\n    if (!(0, utils_1.cellEquals)(sel.select, context) && (0, utils_1.cellInRange)(sel.range, col, row)) {\n      return this.theme.selectionBgColor;\n    }\n    if (option.fillColor) {\n      return option.fillColor;\n    }\n    if ((0, utils_1.cellEquals)(sel.select, context)) {\n      return this.theme.highlightBgColor;\n    }\n    const isFrozenCell = this._grid.isFrozenCell(col, row);\n    if (isFrozenCell && isFrozenCell.row) {\n      return this.theme.frozenRowsBgColor;\n    }\n    return this.theme.defaultBgColor;\n  }\n  border(context, {\n    borderColor = this.theme.borderColor,\n    lineWidth = 1\n  } = {}) {\n    const rect = context.getRect();\n    this.drawBorderWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n      if (lineWidth === 1) {\n        ctx.lineWidth = 1;\n        strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n      } else if (lineWidth === 2) {\n        ctx.lineWidth = 2;\n        strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n      } else {\n        ctx.lineWidth = lineWidth;\n        const startOffset = lineWidth / 2 - 1;\n        strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n      }\n    });\n  }\n  // Unused in main\n  borderWithState(context, option = {}) {\n    const rect = context.getRect();\n    const sel = context.getSelection();\n    const {\n      col,\n      row\n    } = context;\n    //\n    if ((0, utils_1.cellEquals)(sel.select, context)) {\n      option.borderColor = this.theme.highlightBorderColor;\n      option.lineWidth = 2;\n      this.border(context, option);\n    } else {\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n      if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n        option.borderColor = this.theme.frozenRowsBorderColor;\n      }\n      option.lineWidth = 1;\n      this.border(context, option);\n      //\n      const sel = this._grid.selection.select;\n      if (sel.col + 1 === col && sel.row === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        });\n      } else if (sel.col === col && sel.row + 1 === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        });\n      }\n    }\n  }\n  buildCheckBoxInline(check, context, option = {}) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const ctx = context.getContext();\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    return new InlineDrawer_1.InlineDrawer({\n      draw,\n      width: boxWidth + 3,\n      height: boxWidth + 1,\n      color: undefined\n    });\n    function draw({\n      ctx,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    }) {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, rect, col, row, check, self, option, {\n        offset: offset + (CHECKBOX_OFFSET - TEXT_OFFSET),\n        padding: {\n          left: offsetLeft + (CHECKBOX_OFFSET - TEXT_OFFSET),\n          right: offsetRight,\n          top: offsetTop,\n          bottom: offsetBottom\n        }\n      });\n    }\n  }\n  checkbox(check, context, {\n    animElapsedTime,\n    offset = CHECKBOX_OFFSET,\n    uncheckBgColor,\n    checkBgColor,\n    borderColor,\n    textAlign,\n    textBaseline\n  } = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, context.getRect(), col, row, check, this, {\n        animElapsedTime,\n        uncheckBgColor,\n        checkBgColor,\n        borderColor,\n        textAlign,\n        textBaseline\n      }, {\n        offset,\n        padding: {\n          left: CHECKBOX_OFFSET - TEXT_OFFSET\n        }\n      });\n    });\n  }\n  radioButton(check, context, {\n    animElapsedTime,\n    offset = CHECKBOX_OFFSET,\n    checkColor,\n    uncheckBorderColor,\n    checkBorderColor,\n    uncheckBgColor,\n    checkBgColor,\n    textAlign,\n    textBaseline\n  } = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawRadioButton(ctx, context.getRect(), col, row, check, this, {\n        animElapsedTime,\n        checkColor,\n        uncheckBorderColor,\n        checkBorderColor,\n        uncheckBgColor,\n        checkBgColor,\n        textAlign,\n        textBaseline\n      }, {\n        offset,\n        padding: {\n          left: CHECKBOX_OFFSET - TEXT_OFFSET\n        }\n      });\n    });\n  }\n  button(caption, context, {\n    bgColor = this.theme.button.bgColor,\n    padding,\n    offset = TEXT_OFFSET,\n    color = this.theme.button.color,\n    textAlign = \"center\",\n    textBaseline = \"middle\",\n    shadow,\n    font,\n    textOverflow = \"clip\",\n    icons\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      const {\n        col,\n        row\n      } = context;\n      const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n      const left = rect.left + paddingNums[3];\n      const top = rect.top + paddingNums[0];\n      const width = rect.width - paddingNums[1] - paddingNums[3];\n      const height = rect.height - paddingNums[0] - paddingNums[2];\n      bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\n      canvashelper.drawButton(ctx, left, top, width, height, {\n        bgColor,\n        radius: rect.height / 8,\n        // offset,\n        shadow\n      });\n      _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n  testFontLoad(font, value, context) {\n    return testFontLoad(font, value, context, this._grid);\n  }\n}\nexports.GridCanvasHelper = GridCanvasHelper;\n\n/***/ }),\n\n/***/ \"./ListGrid.js\":\n/*!*********************!*\\\n  !*** ./ListGrid.js ***!\n  \\*********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ListGrid = void 0;\nconst icons = __importStar(__webpack_require__(/*! ./internal/icons */ \"./internal/icons.js\"));\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\nconst data_1 = __webpack_require__(/*! ./data */ \"./data.js\");\nconst layout_map_1 = __webpack_require__(/*! ./list-grid/layout-map */ \"./list-grid/layout-map/index.js\");\nconst MessageHandler_1 = __webpack_require__(/*! ./columns/message/MessageHandler */ \"./columns/message/MessageHandler.js\");\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\nconst style_1 = __webpack_require__(/*! ./columns/style */ \"./columns/style.js\");\nconst DrawGrid_1 = __webpack_require__(/*! ./core/DrawGrid */ \"./core/DrawGrid.js\");\nconst GridCanvasHelper_1 = __webpack_require__(/*! ./GridCanvasHelper */ \"./GridCanvasHelper.js\");\nconst style_2 = __webpack_require__(/*! ./header/style */ \"./header/style.js\");\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ./list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\nconst Rect_1 = __webpack_require__(/*! ./internal/Rect */ \"./internal/Rect.js\");\nconst TooltipHandler_1 = __webpack_require__(/*! ./tooltip/TooltipHandler */ \"./tooltip/TooltipHandler.js\");\n//protected symbol\nconst symbolManager_1 = __webpack_require__(/*! ./internal/symbolManager */ \"./internal/symbolManager.js\");\nconst paste_utils_1 = __webpack_require__(/*! ./internal/paste-utils */ \"./internal/paste-utils.js\");\n/** @private */\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\n//private methods\n/** @private */\nfunction _getCellRange(grid, col, row) {\n  return grid[_].layoutMap.getCellRange(col, row);\n}\n/** @private */\nfunction _updateRect(grid, col, row, context) {\n  context.setRectFilter(rect => {\n    let {\n      left,\n      right,\n      top,\n      bottom\n    } = rect;\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = _getCellRange(grid, col, row);\n    for (let c = col - 1; c >= startCol; c--) {\n      left -= grid.getColWidth(c);\n    }\n    for (let c = col + 1; c <= endCol; c++) {\n      right += grid.getColWidth(c);\n    }\n    for (let r = row - 1; r >= startRow; r--) {\n      top -= grid.getRowHeight(r);\n    }\n    for (let r = row + 1; r <= endRow; r++) {\n      bottom += grid.getRowHeight(r);\n    }\n    return Rect_1.Rect.bounds(left, top, right, bottom);\n  });\n}\n/** @private */\nfunction _getCellValue(grid, col, row) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    const {\n      caption\n    } = grid[_].layoutMap.getHeader(col, row);\n    return typeof caption === \"function\" ? caption() : caption;\n  } else {\n    const {\n      field\n    } = grid[_].layoutMap.getBody(col, row);\n    return _getField(grid, field, row);\n  }\n}\n/** @private */\nfunction _setCellValue(grid, col, row,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    // nop\n    return false;\n  } else {\n    const {\n      field\n    } = grid[_].layoutMap.getBody(col, row);\n    if (field == null) {\n      return false;\n    }\n    const index = _getRecordIndexByRow(grid, row);\n    return grid[_].dataSource.setField(index, field, value);\n  }\n}\n/** @private */\nfunction _getCellMessage(grid, col, row) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return null;\n  } else {\n    const {\n      message\n    } = grid[_].layoutMap.getBody(col, row);\n    if (!message) {\n      return null;\n    }\n    if (!Array.isArray(message)) {\n      return _getField(grid, message, row);\n    }\n    const promises = [];\n    for (let index = 0; index < message.length; index++) {\n      const msg = _getField(grid, message[index], row);\n      if ((0, utils_1.isPromise)(msg)) {\n        promises.push(msg);\n      } else if ((0, MessageHandler_1.hasMessage)(msg)) {\n        return msg;\n      }\n    }\n    if (!promises.length) {\n      return null;\n    }\n    return new Promise((resolve, reject) => {\n      promises.forEach(p => {\n        p.then(msg => {\n          if ((0, MessageHandler_1.hasMessage)(msg)) {\n            resolve(msg);\n          }\n        }, reject);\n      });\n    });\n  }\n}\nfunction _getCellIcon0(grid, icon, row) {\n  if (Array.isArray(icon)) {\n    return icon.map(i => _getCellIcon0(grid, i, row));\n  }\n  if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\n    return _getField(grid, icon, row);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const retIcon = {};\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const iconOpt = icon;\n  icons.iconPropKeys.forEach(k => {\n    if (iconOpt[k]) {\n      const f = _getField(grid, iconOpt[k], row);\n      if (f != null) {\n        retIcon[k] = f;\n      } else {\n        if (!_hasField(grid, iconOpt[k], row)) {\n          retIcon[k] = iconOpt[k];\n        }\n      }\n    }\n  });\n  return retIcon;\n}\n/** @private */\nfunction _getCellIcon(grid, col, row) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    const {\n      headerIcon\n    } = grid[_].layoutMap.getHeader(col, row);\n    if (headerIcon == null) {\n      return null;\n    }\n    return headerIcon;\n  } else {\n    const {\n      icon\n    } = grid[_].layoutMap.getBody(col, row);\n    if (icon == null) {\n      return null;\n    }\n    return _getCellIcon0(grid, icon, row);\n  }\n}\n/** @private */\nfunction _getField(grid, field, row) {\n  if (field == null) {\n    return null;\n  }\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return null;\n  } else {\n    const index = _getRecordIndexByRow(grid, row);\n    return grid[_].dataSource.getField(index, field);\n  }\n}\n/** @private */\nfunction _hasField(grid, field, row) {\n  if (field == null) {\n    return false;\n  }\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return false;\n  } else {\n    const index = _getRecordIndexByRow(grid, row);\n    return grid[_].dataSource.hasField(index, field);\n  }\n}\n/** @private */\nfunction _onDrawValue(grid, cellValue, context, {\n  col,\n  row\n}, style, draw) {\n  const helper = grid[_].gridCanvasHelper;\n  const drawCellBg = ({\n    bgColor\n  } = {}) => {\n    const fillOpt = {\n      fillColor: bgColor\n    };\n    //cell\n    helper.fillCellWithState(context, fillOpt);\n  };\n  const drawCellBorder = () => {\n    if (context.col === grid.frozenColCount - 1) {\n      //\n      const rect = context.getRect();\n      helper.drawWithClip(context, ctx => {\n        const borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n        const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.right - 2.5, rect.top);\n          ctx.lineTo(rect.right - 2.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    }\n    _borderWithState(grid, helper, context);\n  };\n  const drawCellBase = ({\n    bgColor\n  } = {}) => {\n    drawCellBg({\n      bgColor\n    });\n    drawCellBorder();\n  };\n  const info = {\n    getRecord: () => grid.getRowRecord(row),\n    getIcon: () => _getCellIcon(grid, col, row),\n    getMessage: () => _getCellMessage(grid, col, row),\n    messageHandler: grid[_].messageHandler,\n    style,\n    drawCellBase,\n    drawCellBg,\n    drawCellBorder\n  };\n  return draw(cellValue, info, context, grid);\n}\n/** @private */\nfunction _borderWithState(grid, helper, context) {\n  var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n  const {\n    col,\n    row\n  } = context;\n  const sel = grid.selection.select;\n  const {\n    layoutMap\n  } = grid[_];\n  const rect = context.getRect();\n  const option = {};\n  const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\n  const selId = layoutMap.getCellId(sel.col, sel.row);\n  function isSelectCell(col, row) {\n    if (col === sel.col && row === sel.row) {\n      return true;\n    }\n    return selId != null && layoutMap.getCellId(col, row) === selId && layoutMap.getRecordIndexByRow(row) === selRecordIndex;\n  }\n  //\n  if (isSelectCell(col, row) && (typeof helper.theme.highlightBorderColor == \"string\" && helper.theme.highlightBorderColor || typeof helper.theme.highlightBorderColor == \"function\" && helper.theme.highlightBorderColor(row, col))) {\n    option.borderColor = helper.theme.highlightBorderColor;\n    option.lineWidth = 2;\n    helper.border(context, option);\n  } else {\n    option.lineWidth = 1;\n    // header color\n    const isFrozenCell = grid.isFrozenCell(col, row);\n    if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n      option.borderColor = helper.theme.frozenRowsBorderColor;\n    }\n    let flagBorder = false;\n    if ((_b = layoutMap.getBody(col, row)) === null || _b === void 0 ? void 0 : _b.style) {\n      let borderColorCell = \"\";\n      if (typeof ((_c = layoutMap.getBody(col, row)) === null || _c === void 0 ? void 0 : _c.style) == \"object\") {\n        borderColorCell = (_e = (_d = layoutMap.getBody(col, row).style) === null || _d === void 0 ? void 0 : _d.borderColor) !== null && _e !== void 0 ? _e : \"\";\n      }\n      if (typeof ((_f = layoutMap.getBody(col, row)) === null || _f === void 0 ? void 0 : _f.style) == \"function\" && ((_g = grid[_].records) === null || _g === void 0 ? void 0 : _g.length)) {\n        borderColorCell = (_h = layoutMap.getBody(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _h === void 0 ? void 0 : _h.borderColor;\n      }\n      if (borderColorCell) {\n        option.borderColor = borderColorCell;\n        helper.border(context, option);\n        flagBorder = true;\n      }\n    }\n    if ((_j = layoutMap.getHeader(col, row)) === null || _j === void 0 ? void 0 : _j.style) {\n      let borderColorCell = \"\";\n      if (typeof ((_k = layoutMap.getHeader(col, row)) === null || _k === void 0 ? void 0 : _k.style) == \"object\") {\n        borderColorCell = (_m = (_l = layoutMap.getHeader(col, row).style) === null || _l === void 0 ? void 0 : _l.borderColor) !== null && _m !== void 0 ? _m : \"\";\n      }\n      if (typeof ((_o = layoutMap.getHeader(col, row)) === null || _o === void 0 ? void 0 : _o.style) == \"function\" && ((_p = grid[_].records) === null || _p === void 0 ? void 0 : _p.length)) {\n        borderColorCell = (_q = layoutMap.getHeader(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _q === void 0 ? void 0 : _q.borderColor;\n      }\n      if (borderColorCell) {\n        option.borderColor = borderColorCell;\n        helper.border(context, option);\n        flagBorder = true;\n      }\n    }\n    if (!flagBorder) {\n      helper.border(context, option);\n    }\n    //\n    if (col > 0 && isSelectCell(col - 1, row)) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    } else if (row > 0 && isSelectCell(col, row - 1)) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n        if (borderColors[0]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        }\n      });\n    }\n  }\n}\n/** @private */\nfunction _refreshHeader(grid) {\n  var _b;\n  const protectedSpace = grid[_];\n  if (protectedSpace.headerEvents) {\n    protectedSpace.headerEvents.forEach(id => grid.unlisten(id));\n  }\n  const headerEvents = grid[_].headerEvents = [];\n  headerEvents.forEach(id => grid.unlisten(id));\n  let layoutMap;\n  if (protectedSpace.layout && (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\n    layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\n  } else {\n    layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_b = protectedSpace.header) !== null && _b !== void 0 ? _b : []);\n  }\n  layoutMap.headerObjects.forEach(cell => {\n    const ids = cell.headerType.bindGridEvent(grid, cell.id);\n    headerEvents.push(...ids);\n    if (cell.style) {\n      if (cell.style instanceof style_2.BaseStyle) {\n        const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n        headerEvents.push(id);\n      }\n    }\n    if (cell.action) {\n      const ids = cell.action.bindGridEvent(grid, cell.id);\n      headerEvents.push(...ids);\n    }\n  });\n  layoutMap.columnObjects.forEach(col => {\n    if (col.action) {\n      const ids = col.action.bindGridEvent(grid, col.id);\n      headerEvents.push(...ids);\n    }\n    if (col.columnType) {\n      const ids = col.columnType.bindGridEvent(grid, col.id);\n      headerEvents.push(...ids);\n    }\n    if (col.style) {\n      if (col.style instanceof style_1.BaseStyle) {\n        const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n        headerEvents.push(id);\n      }\n    }\n  });\n  for (let col = 0; col < layoutMap.columnWidths.length; col++) {\n    const column = layoutMap.columnWidths[col];\n    const {\n      width,\n      minWidth,\n      maxWidth\n    } = column;\n    if (width && (typeof width === \"string\" || width > 0)) {\n      grid.setColWidth(col, width);\n    } else {\n      grid.setColWidth(col, null);\n    }\n    if (minWidth && (typeof minWidth === \"string\" || minWidth > 0)) {\n      grid.setMinColWidth(col, minWidth);\n    } else {\n      grid.setMinColWidth(col, null);\n    }\n    if (maxWidth && (typeof maxWidth === \"string\" || maxWidth > 0)) {\n      grid.setMaxColWidth(col, maxWidth);\n    } else {\n      grid.setMaxColWidth(col, null);\n    }\n  }\n  const {\n    headerRowHeight\n  } = grid[_];\n  for (let row = 0; row < layoutMap.headerRowCount; row++) {\n    const height = Array.isArray(headerRowHeight) ? headerRowHeight[row] : headerRowHeight;\n    if (height && height > 0) {\n      grid.setRowHeight(row, height);\n    } else {\n      grid.setRowHeight(row, null);\n    }\n  }\n  grid.colCount = layoutMap.colCount;\n  _refreshRowCount(grid);\n  if (grid.frozenRowCount == 0) {\n    grid.frozenRowCount = layoutMap.headerRowCount;\n  }\n}\n/** @private */\nfunction _refreshRowCount(grid) {\n  const {\n    layoutMap\n  } = grid[_];\n  grid.rowCount = grid[_].dataSource.length * layoutMap.bodyRowCount + layoutMap.headerRowCount;\n}\n/** @private */\nfunction _tryWithUpdateDataSource(grid, fn) {\n  const {\n    dataSourceEventIds\n  } = grid[_];\n  if (dataSourceEventIds) {\n    dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n  }\n  fn(grid);\n  grid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n    _refreshRowCount(grid);\n    grid.invalidate();\n  }), grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n    grid.invalidate();\n  })];\n}\n/** @private */\nfunction _setRecords(grid, records = []) {\n  _tryWithUpdateDataSource(grid, () => {\n    grid[_].records = records;\n    const newDataSource = grid[_].dataSource = data_1.CachedDataSource.ofArray(records);\n    grid.addDisposable(newDataSource);\n  });\n}\n/** @private */\nfunction _setDataSource(grid, dataSource) {\n  _tryWithUpdateDataSource(grid, () => {\n    if (dataSource) {\n      if (dataSource instanceof data_1.DataSource) {\n        grid[_].dataSource = dataSource;\n      } else {\n        const newDataSource = grid[_].dataSource = new data_1.CachedDataSource(dataSource);\n        grid.addDisposable(newDataSource);\n      }\n    } else {\n      grid[_].dataSource = data_1.DataSource.EMPTY;\n    }\n    grid[_].records = null;\n  });\n}\n/** @private */\nfunction _getRecordIndexByRow(grid, row) {\n  const {\n    layoutMap\n  } = grid[_];\n  return layoutMap.getRecordIndexByRow(row);\n}\n/** @private */\nfunction _onRangePaste(text, test = () => true) {\n  var _b;\n  const {\n    layoutMap\n  } = this[_];\n  const selectionRange = this.selection.range;\n  const {\n    start\n  } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n  const {\n    end\n  } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n  const values = (0, paste_utils_1.parsePasteRangeBoxValues)(text, {\n    trimOnPaste: this.trimOnPaste\n  });\n  const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\n  const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\n  let hasEditable = false;\n  const actionColumnsBox = [];\n  for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n    const actionColumnsRow = [];\n    actionColumnsBox.push(actionColumnsRow);\n    for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n      const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n      actionColumnsRow[offsetCol] = body;\n      if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\n        hasEditable = true;\n      }\n    }\n  }\n  if (!hasEditable) {\n    return;\n  }\n  const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n  const startRowOffset = start.row - startRow;\n  let rejectedDetail = [];\n  const addRejectedDetail = (cell, record, define, pasteValue) => {\n    rejectedDetail.push({\n      col: cell.col,\n      row: cell.row,\n      record,\n      define,\n      pasteValue\n    });\n  };\n  let timeout = null;\n  const processRejected = () => {\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      if (rejectedDetail.length > 0) {\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.REJECTED_PASTE_VALUES, {\n          detail: rejectedDetail\n        });\n        rejectedDetail = [];\n      }\n    }, 100);\n  };\n  let reject = addRejectedDetail;\n  let duplicate = {};\n  let actionRow = startRowOffset;\n  let valuesRow = 0;\n  for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\n    let valuesCol = 0;\n    for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n      const {\n        action,\n        id,\n        define\n      } = actionColumnsBox[actionRow][offsetCol];\n      if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n        duplicate[id] = true;\n        const col = start.col + offsetCol;\n        const row = start.row + offsetRow;\n        const cellValue = values.getCellValue(valuesCol, valuesRow);\n        (0, utils_1.then)(this.getRowRecord(row), record => {\n          (0, utils_1.then)(_getCellValue(this, col, row), oldValue => {\n            if (test({\n              grid: this,\n              record: record,\n              col,\n              row,\n              value: cellValue,\n              oldValue\n            })) {\n              action.onPasteCellRangeBox(this, {\n                col,\n                row\n              }, cellValue, {\n                reject() {\n                  reject({\n                    col,\n                    row\n                  }, record, define, cellValue);\n                }\n              });\n            }\n          });\n        });\n      }\n      valuesCol++;\n      if (valuesCol >= values.colCount) {\n        valuesCol = 0;\n      }\n    }\n    actionRow++;\n    if (actionRow >= layoutMap.bodyRowCount) {\n      actionRow = 0;\n      duplicate = {};\n    }\n    valuesRow++;\n    if (valuesRow >= values.rowCount) {\n      valuesRow = 0;\n    }\n  }\n  const newEnd = {\n    col: start.col + pasteColCount - 1,\n    row: start.row + pasteRowCount - 1\n  };\n  this.selection.range = {\n    start,\n    end: newEnd\n  };\n  this.invalidateCellRange(this.selection.range);\n  processRejected();\n  reject = (cell, record, define, pasteValue) => {\n    addRejectedDetail(cell, record, define, pasteValue);\n    processRejected();\n  };\n}\n/** @private */\nfunction _onRangeDelete() {\n  var _b;\n  const {\n    layoutMap\n  } = this[_];\n  const selectionRange = this.selection.range;\n  const {\n    start\n  } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n  const {\n    end\n  } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n  const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\n  const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\n  let hasEditable = false;\n  const actionColumnsBox = [];\n  for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n    const actionColumnsRow = [];\n    actionColumnsBox.push(actionColumnsRow);\n    for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n      const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n      actionColumnsRow[offsetCol] = body;\n      if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\n        hasEditable = true;\n      }\n    }\n  }\n  if (!hasEditable) {\n    return;\n  }\n  const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n  const startRowOffset = start.row - startRow;\n  let duplicate = {};\n  let actionRow = startRowOffset;\n  for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\n    for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n      const {\n        action,\n        id\n      } = actionColumnsBox[actionRow][offsetCol];\n      if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n        duplicate[id] = true;\n        const col = start.col + offsetCol;\n        const row = start.row + offsetRow;\n        (0, utils_1.then)(this.getRowRecord(row), _record => {\n          (0, utils_1.then)(_getCellValue(this, col, row), _oldValue => {\n            action.onDeleteCellRangeBox(this, {\n              col,\n              row\n            });\n          });\n        });\n      }\n    }\n    actionRow++;\n    if (actionRow >= layoutMap.bodyRowCount) {\n      actionRow = 0;\n      duplicate = {};\n    }\n  }\n  this.invalidateCellRange(selectionRange);\n}\n/**\r\n * ListGrid\r\n * @classdesc cheetahGrid.ListGrid\r\n * @memberof cheetahGrid\r\n */\nclass ListGrid extends DrawGrid_1.DrawGrid {\n  static get EVENT_TYPE() {\n    return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\n  }\n  /**\r\n   * constructor\r\n   *\r\n   * @constructor\r\n   * @param options Constructor options\r\n   */\n  constructor(options = {}) {\n    var _b, _c;\n    super((0, utils_1.omit)(options, [\"colCount\", \"rowCount\"]));\n    this[_a] = this[_];\n    this.disabled = false;\n    this.readOnly = false;\n    const protectedSpace = this[_];\n    protectedSpace.header = options.header || [];\n    protectedSpace.layout = options.layout || [];\n    protectedSpace.headerRowHeight = options.headerRowHeight || [];\n    protectedSpace.frozenRowCount = (_b = options.frozenRowCount) !== null && _b !== void 0 ? _b : 0;\n    if (options.dataSource) {\n      _setDataSource(this, options.dataSource);\n    } else {\n      _setRecords(this, options.records);\n    }\n    protectedSpace.allowRangePaste = (_c = options.allowRangePaste) !== null && _c !== void 0 ? _c : false;\n    _refreshHeader(this);\n    protectedSpace.sortState = {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\n    protectedSpace.theme = themes.of(options.theme);\n    protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n    protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\n    this.invalidate();\n    protectedSpace.handler.on(window, \"resize\", () => {\n      this.updateSize();\n      this.updateScroll();\n      this.invalidate();\n    });\n  }\n  /**\r\n   * Dispose the grid instance.\r\n   * @returns {void}\r\n   */\n  dispose() {\n    const protectedSpace = this[_];\n    protectedSpace.messageHandler.dispose();\n    protectedSpace.tooltipHandler.dispose();\n    super.dispose();\n  }\n  /**\r\n   * Gets the define of the header.\r\n   */\n  get header() {\n    return this[_].header;\n  }\n  /**\r\n   * Sets the define of the header with the given data.\r\n   * <pre>\r\n   * column options\r\n   * -----\r\n   * caption: header caption\r\n   * field: field name\r\n   * width: column width\r\n   * minWidth: column min width\r\n   * maxWidth: column max width\r\n   * icon: icon definition\r\n   * message: message key name\r\n   * columnType: column type\r\n   * action: column action\r\n   * style: column style\r\n   * headerType: header type\r\n   * headerStyle: header style\r\n   * headerAction: header action\r\n   * headerField: header field name\r\n   * headerIcon: header icon definition\r\n   * sort: define sort setting\r\n   * -----\r\n   *\r\n   * multiline header\r\n   * -----\r\n   * caption: header caption\r\n   * columns: columns define\r\n   * -----\r\n   * </pre>\r\n   */\n  set header(header) {\n    this[_].header = header;\n    _refreshHeader(this);\n  }\n  /**\r\n   * Gets the define of the layout.\r\n   */\n  get layout() {\n    return this[_].layout;\n  }\n  /**\r\n   * Sets the define of the layout with the given data.\r\n   */\n  set layout(layout) {\n    this[_].layout = layout;\n    _refreshHeader(this);\n  }\n  /**\r\n   * Get the row count per record\r\n   */\n  get recordRowCount() {\n    return this[_].layoutMap.bodyRowCount;\n  }\n  /**\r\n   * Get the records.\r\n   */\n  get records() {\n    return this[_].records || null;\n  }\n  /**\r\n   * Set the records from given\r\n   */\n  set records(records) {\n    if (records == null) {\n      return;\n    }\n    _setRecords(this, records);\n    _refreshRowCount(this);\n    this.invalidate();\n  }\n  /**\r\n   * Get the data source.\r\n   */\n  get dataSource() {\n    return this[_].dataSource;\n  }\n  /**\r\n   * Set the data source from given\r\n   */\n  set dataSource(dataSource) {\n    _setDataSource(this, dataSource);\n    _refreshRowCount(this);\n    this.invalidate();\n  }\n  /**\r\n   * Get the theme.\r\n   */\n  get theme() {\n    return this[_].theme;\n  }\n  /**\r\n   * Set the theme from given\r\n   */\n  set theme(theme) {\n    this[_].theme = themes.of(theme);\n    this.invalidate();\n  }\n  /**\r\n   * If set to true to allow pasting of ranges.\r\n   */\n  get allowRangePaste() {\n    return this[_].allowRangePaste;\n  }\n  set allowRangePaste(allowRangePaste) {\n    this[_].allowRangePaste = allowRangePaste;\n  }\n  /**\r\n   * Get the font definition as a string.\r\n   * @override\r\n   */\n  get font() {\n    return super.font || this[_].gridCanvasHelper.theme.font;\n  }\n  /**\r\n   * Set the font definition with the given string.\r\n   * @override\r\n   */\n  set font(font) {\n    super.font = font;\n  }\n  /**\r\n   * Get the background color of the underlay.\r\n   * @override\r\n   */\n  get underlayBackgroundColor() {\n    return super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n  }\n  /**\r\n   * Set the background color of the underlay.\r\n   * @override\r\n   */\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    super.underlayBackgroundColor = underlayBackgroundColor;\n  }\n  /**\r\n   * Get the sort state.\r\n   */\n  get sortState() {\n    return this[_].sortState;\n  }\n  /**\r\n   * Sets the sort state.\r\n   * If `null` to set, the sort state is initialized.\r\n   */\n  set sortState(sortState) {\n    const oldState = this.sortState;\n    let oldField;\n    if (oldState.col >= 0 && oldState.row >= 0) {\n      oldField = this.getHeaderField(oldState.col, oldState.row);\n    }\n    const newState = this[_].sortState = sortState != null ? sortState : {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    let newField;\n    if (newState.col >= 0 && newState.row >= 0) {\n      newField = this.getHeaderField(newState.col, newState.row);\n    }\n    // bind header value\n    if (oldField != null && oldField !== newField) {\n      this.setHeaderValue(oldState.col, oldState.row, undefined);\n    }\n    if (newField != null) {\n      this.setHeaderValue(newState.col, newState.row, newState.order);\n    }\n  }\n  /**\r\n   * Get the header values.\r\n   */\n  get headerValues() {\n    return this[_].headerValues || (this[_].headerValues = new Map());\n  }\n  /**\r\n   * Sets the header values.\r\n   */\n  set headerValues(headerValues) {\n    this[_].headerValues = headerValues || new Map();\n  }\n  /**\r\n   * Get the field of the given column index.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index.\r\n   * @return {*} The field object.\r\n   */\n  getField(col, row) {\n    return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\n  }\n  /**\r\n   * Get the column define of the given column index.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index.\r\n   * @return {*} The column define object.\r\n   */\n  getColumnDefine(col, row) {\n    return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\n  }\n  getColumnType(col, row) {\n    return this[_].layoutMap.getBody(col, row).columnType;\n  }\n  getColumnAction(col, row) {\n    return this[_].layoutMap.getBody(col, row).action;\n  }\n  /**\r\n   * Get the header field of the given header cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The header row index.\r\n   * @return {*} The field object.\r\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHeaderField(col, row) {\n    const hd = this[_].layoutMap.getHeader(col, row);\n    return hd.field;\n  }\n  /**\r\n   * Get the header define of the given header cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The header row index.\r\n   * @return {*} The header define object.\r\n   */\n  getHeaderDefine(col, row) {\n    const hd = this[_].layoutMap.getHeader(col, row);\n    return hd.define;\n  }\n  /**\r\n   * Get the record of the given row index.\r\n   * @param  {number} row The row index.\r\n   * @return {object} The record.\r\n   */\n  getRowRecord(row) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return undefined;\n    } else {\n      return this[_].dataSource.get(_getRecordIndexByRow(this, row));\n    }\n  }\n  /**\r\n   * Get the record index of the given row index.\r\n   * @param  {number} row The row index.\r\n   */\n  getRecordIndexByRow(row) {\n    return _getRecordIndexByRow(this, row);\n  }\n  /**\r\n   * Gets the row index starting at the given record index.\r\n   * @param  {number} index The record index.\r\n   */\n  getRecordStartRowByRecordIndex(index) {\n    return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\n  }\n  /**\r\n   * Get the column index of the given field.\r\n   * @param  {*} field The field.\r\n   * @return {number} The column index.\r\n   * @deprecated use `getCellRangeByField` instead\r\n   */\n  getColumnIndexByField(field) {\n    var _b;\n    const range = this.getCellRangeByField(field, 0);\n    return (_b = range === null || range === void 0 ? void 0 : range.start.col) !== null && _b !== void 0 ? _b : null;\n  }\n  /**\r\n   * Get the column index of the given field.\r\n   * @param  {*} field The field.\r\n   * @param  {number} index The record index\r\n   * @return {number} The column index.\r\n   */\n  getCellRangeByField(field, index) {\n    const {\n      layoutMap\n    } = this[_];\n    const colObj = layoutMap.columnObjects.find(col => col.field === field);\n    if (colObj) {\n      const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\n      const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\n      return {\n        start: {\n          col: layoutRange.start.col,\n          row: startRow + layoutRange.start.row\n        },\n        end: {\n          col: layoutRange.end.col,\n          row: startRow + layoutRange.end.row\n        }\n      };\n    }\n    return null;\n  }\n  /**\r\n   * Focus the cell.\r\n   * @param  {*} field The field.\r\n   * @param  {number} index The record index\r\n   * @return {void}\r\n   */\n  focusGridCell(field, index) {\n    var _b;\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = this.selection.range;\n    const newFocus = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\n    if (newFocus == null) {\n      return;\n    }\n    this.focusCell(newFocus.col, newFocus.row);\n    this.selection.select = newFocus;\n    this.invalidateGridRect(startCol, startRow, endCol, endRow);\n    this.invalidateCell(newFocus.col, newFocus.row);\n  }\n  /**\r\n   * Scroll to where cell is visible.\r\n   * @param  {*} field The field.\r\n   * @param  {number} index The record index\r\n   * @return {void}\r\n   */\n  makeVisibleGridCell(field, index) {\n    var _b, _c, _d;\n    const cell = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\n    this.makeVisibleCell((_c = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _c !== void 0 ? _c : 0, (_d = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _d !== void 0 ? _d : this[_].layoutMap.headerRowCount);\n  }\n  getGridCanvasHelper() {\n    return this[_].gridCanvasHelper;\n  }\n  /**\r\n   * Get cell range information for a given cell.\r\n   * @param {number} col column index of the cell\r\n   * @param {number} row row index of the cell\r\n   * @returns {object} cell range info\r\n   */\n  getCellRange(col, row) {\n    return _getCellRange(this, col, row);\n  }\n  /**\r\n   * Get header range information for a given cell.\r\n   * @param {number} col column index of the cell\r\n   * @param {number} row row index of the cell\r\n   * @returns {object} cell range info\r\n   * @deprecated use `getCellRange` instead\r\n   */\n  getHeaderCellRange(col, row) {\n    return this.getCellRange(col, row);\n  }\n  getCopyCellValue(col, row, range) {\n    const cellRange = _getCellRange(this, col, row);\n    const startCol = range ? Math.max(range.start.col, cellRange.start.col) : cellRange.start.col;\n    const startRow = range ? Math.max(range.start.row, cellRange.start.row) : cellRange.start.row;\n    if (startCol !== col || startRow !== row) {\n      return \"\";\n    }\n    const value = _getCellValue(this, col, row);\n    if (row < this[_].layoutMap.headerRowCount) {\n      const headerData = this[_].layoutMap.getHeader(col, row);\n      return headerData.headerType.getCopyCellValue(value, this, {\n        col,\n        row\n      });\n    }\n    const columnData = this[_].layoutMap.getBody(col, row);\n    return columnData.columnType.getCopyCellValue(value, this, {\n      col,\n      row\n    });\n  }\n  onDrawCell(col, row, context) {\n    const {\n      layoutMap\n    } = this[_];\n    let draw;\n    let style;\n    if (row < layoutMap.headerRowCount) {\n      const hd = layoutMap.getHeader(col, row);\n      draw = hd.headerType.onDrawCell;\n      ({\n        style\n      } = hd);\n      _updateRect(this, col, row, context);\n    } else {\n      const column = layoutMap.getBody(col, row);\n      draw = column.columnType.onDrawCell;\n      ({\n        style\n      } = column);\n      _updateRect(this, col, row, context);\n    }\n    const cellValue = _getCellValue(this, col, row);\n    if (this.rowCount <= row) {\n      // Depending on the FilterDataSource, the rowCount may be reduced.\n      return undefined;\n    }\n    return _onDrawValue(this, cellValue, context, {\n      col,\n      row\n    }, style, draw);\n  }\n  doGetCellValue(col, row,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  valueCallback) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // nop\n      return false;\n    } else {\n      const value = _getCellValue(this, col, row);\n      if ((0, utils_1.isPromise)(value)) {\n        //\n        return false;\n      }\n      valueCallback(value);\n    }\n    return true;\n  }\n  doChangeValue(col, row,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  changeValueCallback) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // nop\n      return false;\n    } else {\n      const record = this.getRowRecord(row);\n      if ((0, utils_1.isPromise)(record)) {\n        //\n        return false;\n      }\n      const before = _getCellValue(this, col, row);\n      if ((0, utils_1.isPromise)(before)) {\n        //\n        return false;\n      }\n      const after = changeValueCallback(before);\n      if (after === undefined) {\n        return false;\n      }\n      const {\n        field\n      } = this[_].layoutMap.getBody(col, row);\n      this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BEFORE_CHANGE_VALUE, {\n        col,\n        row,\n        record: record,\n        field: field,\n        value: after,\n        oldValue: before\n      });\n      return (0, utils_1.then)(_setCellValue(this, col, row, after), ret => {\n        if (ret) {\n          const {\n            field\n          } = this[_].layoutMap.getBody(col, row);\n          this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\n            col,\n            row,\n            record: record,\n            field: field,\n            value: after,\n            oldValue: before\n          });\n        }\n        return ret;\n      });\n    }\n  }\n  doSetPasteValue(text, test) {\n    _onRangePaste.call(this, text, test);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHeaderValue(col, row) {\n    const field = this.getHeaderField(col, row);\n    return this.headerValues.get(field);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setHeaderValue(col, row, newValue) {\n    const field = this.getHeaderField(col, row);\n    const oldValue = this.headerValues.get(field);\n    this.headerValues.set(field, newValue);\n    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\n      col,\n      row,\n      field,\n      value: newValue,\n      oldValue\n    });\n  }\n  getLayoutCellId(col, row) {\n    return this[_].layoutMap.getCellId(col, row);\n  }\n  bindEventsInternal() {\n    const grid = this;\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      const range = _getCellRange(this, e.col, e.row);\n      const {\n        start: {\n          col: startCol,\n          row: startRow\n        },\n        end: {\n          col: endCol,\n          row: endRow\n        }\n      } = range;\n      if (startCol !== endCol || startRow !== endRow) {\n        this.invalidateCellRange(range);\n      }\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, e => {\n      if (!this[_].allowRangePaste) {\n        return;\n      }\n      const {\n        start,\n        end\n      } = this.selection.range;\n      if (!e.multi && (0, utils_1.cellEquals)(start, end)) {\n        return;\n      }\n      const {\n        layoutMap\n      } = this[_];\n      if (start.row < layoutMap.headerRowCount) {\n        return;\n      }\n      utils_1.event.cancel(e.event);\n      _onRangePaste.call(this, e.normalizeValue);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, e => {\n      const {\n        start\n      } = this.selection.range;\n      const {\n        layoutMap\n      } = this[_];\n      if (start.row < layoutMap.headerRowCount) {\n        return;\n      }\n      utils_1.event.cancel(e.event);\n      _onRangeDelete.call(this);\n    });\n  }\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      start: {\n        col: startCol\n      }\n    } = _getCellRange(this, col, row);\n    col = startCol;\n    return super.getMoveLeftColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      end: {\n        col: endCol\n      }\n    } = _getCellRange(this, col, row);\n    col = endCol;\n    return super.getMoveRightColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      start: {\n        row: startRow\n      }\n    } = _getCellRange(this, col, row);\n    row = startRow;\n    return super.getMoveUpRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      end: {\n        row: endRow\n      }\n    } = _getCellRange(this, col, row);\n    row = endRow;\n    return super.getMoveDownRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n  getOffsetInvalidateCells() {\n    return 1;\n  }\n  getCopyRangeInternal(range) {\n    const {\n      start\n    } = this.getCellRange(range.start.col, range.start.row);\n    const {\n      end\n    } = this.getCellRange(range.end.col, range.end.row);\n    return {\n      start,\n      end\n    };\n  }\n  fireListeners(type, ...event) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return super.fireListeners(type, ...event);\n  }\n}\nexports.ListGrid = ListGrid;\n_a = _;\n\n/***/ }),\n\n/***/ \"./columns.js\":\n/*!********************!*\\\n  !*** ./columns.js ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(__webpack_require__(/*! ./columns/action */ \"./columns/action.js\"));\nexports.action = action;\nconst style = __importStar(__webpack_require__(/*! ./columns/style */ \"./columns/style.js\"));\nexports.style = style;\nconst type = __importStar(__webpack_require__(/*! ./columns/type */ \"./columns/type.js\"));\nexports.type = type;\n\n/***/ }),\n\n/***/ \"./columns/action.js\":\n/*!***************************!*\\\n  !*** ./columns/action.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\nconst Action_1 = __webpack_require__(/*! ./action/Action */ \"./columns/action/Action.js\");\nObject.defineProperty(exports, \"Action\", {\n  enumerable: true,\n  get: function () {\n    return Action_1.Action;\n  }\n});\nconst BaseAction_1 = __webpack_require__(/*! ./action/BaseAction */ \"./columns/action/BaseAction.js\");\nObject.defineProperty(exports, \"BaseAction\", {\n  enumerable: true,\n  get: function () {\n    return BaseAction_1.BaseAction;\n  }\n});\nconst ButtonAction_1 = __webpack_require__(/*! ./action/ButtonAction */ \"./columns/action/ButtonAction.js\");\nObject.defineProperty(exports, \"ButtonAction\", {\n  enumerable: true,\n  get: function () {\n    return ButtonAction_1.ButtonAction;\n  }\n});\nconst CheckEditor_1 = __webpack_require__(/*! ./action/CheckEditor */ \"./columns/action/CheckEditor.js\");\nObject.defineProperty(exports, \"CheckEditor\", {\n  enumerable: true,\n  get: function () {\n    return CheckEditor_1.CheckEditor;\n  }\n});\nconst Editor_1 = __webpack_require__(/*! ./action/Editor */ \"./columns/action/Editor.js\");\nObject.defineProperty(exports, \"Editor\", {\n  enumerable: true,\n  get: function () {\n    return Editor_1.Editor;\n  }\n});\nconst InlineInputEditor_1 = __webpack_require__(/*! ./action/InlineInputEditor */ \"./columns/action/InlineInputEditor.js\");\nObject.defineProperty(exports, \"InlineInputEditor\", {\n  enumerable: true,\n  get: function () {\n    return InlineInputEditor_1.InlineInputEditor;\n  }\n});\nconst InlineMenuEditor_1 = __webpack_require__(/*! ./action/InlineMenuEditor */ \"./columns/action/InlineMenuEditor.js\");\nObject.defineProperty(exports, \"InlineMenuEditor\", {\n  enumerable: true,\n  get: function () {\n    return InlineMenuEditor_1.InlineMenuEditor;\n  }\n});\nconst RadioEditor_1 = __webpack_require__(/*! ./action/RadioEditor */ \"./columns/action/RadioEditor.js\");\nObject.defineProperty(exports, \"RadioEditor\", {\n  enumerable: true,\n  get: function () {\n    return RadioEditor_1.RadioEditor;\n  }\n});\nconst SmallDialogInputEditor_1 = __webpack_require__(/*! ./action/SmallDialogInputEditor */ \"./columns/action/SmallDialogInputEditor.js\");\nObject.defineProperty(exports, \"SmallDialogInputEditor\", {\n  enumerable: true,\n  get: function () {\n    return SmallDialogInputEditor_1.SmallDialogInputEditor;\n  }\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\n  get disabled() {\n    return this._disabled;\n  }\n  get readOnly() {\n    return this._readOnly;\n  }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\n  get disabled() {\n    return this._disabled;\n  }\n  get readOnly() {\n    return this._readOnly;\n  }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\n  get disabled() {\n    return this._disabled;\n  }\n  get readOnly() {\n    return this._readOnly;\n  }\n}\nexports.ACTIONS = {\n  CHECK: new ImmutableCheckEditor(),\n  INPUT: new ImmutableInputEditor(),\n  RADIO: new ImmutableRadioEditor()\n};\nfunction of(columnAction) {\n  if (!columnAction) {\n    return undefined;\n  } else if (typeof columnAction === \"string\") {\n    const key = columnAction.toUpperCase();\n    return exports.ACTIONS[key] || of(null);\n  } else {\n    return columnAction;\n  }\n}\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/action/Action.js\":\n/*!**********************************!*\\\n  !*** ./columns/action/Action.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Action = void 0;\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./columns/action/BaseAction.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nclass Action extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._action = option.action || (() => {});\n  }\n  get editable() {\n    return false;\n  }\n  get action() {\n    return this._action;\n  }\n  set action(action) {\n    this._action = action;\n  }\n  clone() {\n    return new Action(this);\n  }\n  getState(_grid) {\n    return {};\n  }\n  bindGridEvent(grid, cellId) {\n    const state = this.getState(grid);\n    const action = cell => {\n      if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return;\n      }\n      const record = grid.getRowRecord(cell.row);\n      this._action(record, (0, utils_1.extend)(cell, {\n        grid\n      }));\n    };\n    return [...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n          return false;\n        }\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\n      action\n    })];\n  }\n  onPasteCellRangeBox() {\n    // noop\n  }\n  onDeleteCellRangeBox() {\n    // noop\n  }\n}\nexports.Action = Action;\n\n/***/ }),\n\n/***/ \"./columns/action/BaseAction.js\":\n/*!**************************************!*\\\n  !*** ./columns/action/BaseAction.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseAction = void 0;\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = option.disabled || false;\n  }\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(disabled) {\n    this._disabled = disabled;\n    this.onChangeDisabledInternal();\n  }\n  onChangeDisabledInternal() {\n    // abstract\n  }\n}\nexports.BaseAction = BaseAction;\n\n/***/ }),\n\n/***/ \"./columns/action/BaseInputEditor.js\":\n/*!*******************************************!*\\\n  !*** ./columns/action/BaseInputEditor.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseInputEditor = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass BaseInputEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n  }\n  bindGridEvent(grid, cellId) {\n    const open = cell => {\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return false;\n      }\n      this.onOpenCellInternal(grid, cell);\n      return true;\n    };\n    const input = (cell, value) => {\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return;\n      }\n      this.onInputCellInternal(grid, cell, value);\n    };\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      input({\n        col: e.col,\n        row: e.row\n      }, e.value);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n      const selectionRange = grid.selection.range;\n      if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      utils_1.event.cancel(e.event);\n      input({\n        col: e.col,\n        row: e.row\n      }, e.normalizeValue);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      open({\n        col: e.col,\n        row: e.row\n      });\n      utils_1.event.cancel(e.event);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n      if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n        return;\n      }\n      const sel = grid.selection.select;\n      if (!isTarget(sel.col, sel.row)) {\n        return;\n      }\n      if (open({\n        col: sel.col,\n        row: sel.row\n      })) {\n        e.stopCellMoving();\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, e => {\n      this.onChangeSelectCellInternal(grid, {\n        col: e.col,\n        row: e.row\n      }, e.selected);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n      this.onGridScrollInternal(grid);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return false;\n      }\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return false;\n      }\n      return true;\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return;\n      }\n      const range = grid.getCellRange(cell.col, cell.row);\n      if (range.start.col !== range.end.col || range.start.row !== range.end.row) {\n        const {\n          input\n        } = cell;\n        const baseRect = grid.getCellRect(cell.col, cell.row);\n        const rangeRect = grid.getCellRangeRect(range);\n        input.style.top = `${(parseFloat(input.style.top) + (rangeRect.top - baseRect.top)).toFixed()}px`;\n        input.style.left = `${(parseFloat(input.style.left) + (rangeRect.left - baseRect.left)).toFixed()}px`;\n        input.style.width = `${rangeRect.width.toFixed()}px`;\n        input.style.height = `${rangeRect.height.toFixed()}px`;\n      }\n      this.onSetInputAttrsInternal(grid, {\n        col: cell.col,\n        row: cell.row\n      }, cell.input);\n    })];\n  }\n  onPasteCellRangeBox(grid, cell, value) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    grid.doChangeValue(cell.col, cell.row, () => {\n      if (this.isSupportMultilineValue()) {\n        return value;\n      }\n      return value.replace(/\\r?\\n/g, \" \");\n    });\n  }\n  onDeleteCellRangeBox(grid, cell) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    grid.doChangeValue(cell.col, cell.row, () => \"\");\n  }\n  isSupportMultilineValue() {\n    return false;\n  }\n}\nexports.BaseInputEditor = BaseInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/ButtonAction.js\":\n/*!****************************************!*\\\n  !*** ./columns/action/ButtonAction.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonAction = void 0;\nconst Action_1 = __webpack_require__(/*! ./Action */ \"./columns/action/Action.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\nclass ButtonAction extends Action_1.Action {\n  getState(grid) {\n    let state = grid[BUTTON_COLUMN_STATE_ID];\n    if (!state) {\n      state = {};\n      utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\n    }\n    return state;\n  }\n}\nexports.ButtonAction = ButtonAction;\n\n/***/ }),\n\n/***/ \"./columns/action/CheckEditor.js\":\n/*!***************************************!*\\\n  !*** ./columns/action/CheckEditor.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckEditor = void 0;\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\nclass CheckEditor extends Editor_1.Editor {\n  clone() {\n    return new CheckEditor(this);\n  }\n  bindGridEvent(grid, cellId) {\n    let _state = grid[CHECK_COLUMN_STATE_ID];\n    if (!_state) {\n      _state = {\n        block: {},\n        elapsed: {}\n      };\n      utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\n    }\n    const state = _state;\n    const action = cell => {\n      const range = grid.getCellRange(cell.col, cell.row);\n      const cellKey = `${range.start.col}:${range.start.row}`;\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) || state.block[cellKey]) {\n        return;\n      }\n      const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n      if (ret) {\n        const onChange = () => {\n          // checkbox animation\n          (0, animate_1.animate)(200, point => {\n            if (point === 1) {\n              delete state.elapsed[cellKey];\n            } else {\n              state.elapsed[cellKey] = point;\n            }\n            grid.invalidateCellRange(range);\n          });\n        };\n        if ((0, utils_1.isPromise)(ret)) {\n          state.block[cellKey] = true;\n          ret.then(() => {\n            delete state.block[cellKey];\n            onChange();\n          });\n        } else {\n          onChange();\n        }\n      }\n    };\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n          return false;\n        }\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\n      action: _e => {\n        const selrange = grid.selection.range;\n        const {\n          col\n        } = grid.selection.select;\n        for (let {\n          row\n        } = selrange.start; row <= selrange.end.row; row++) {\n          if (!isTarget(col, row)) {\n            continue;\n          }\n          action({\n            col,\n            row\n          });\n        }\n      }\n    }),\n    // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n      const selectionRange = grid.selection.range;\n      if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      utils_1.event.cancel(e.event);\n      const pasteValue = e.normalizeValue.trim();\n      grid.doGetCellValue(e.col, e.row, value => {\n        const newValue = (0, action_utils_1.toggleValue)(value);\n        if (`${newValue}`.trim() === pasteValue) {\n          action({\n            col: e.col,\n            row: e.row\n          });\n        } else if (isRejectValue(value, pasteValue)) {\n          const record = grid.getRowRecord(e.row);\n          if (!(0, utils_1.isPromise)(record)) {\n            grid.fireListeners(\"rejected_paste_values\", {\n              detail: [{\n                col: e.col,\n                row: e.row,\n                record,\n                define: grid.getColumnDefine(e.col, e.row),\n                pasteValue\n              }]\n            });\n          }\n        }\n      });\n    })];\n  }\n  onPasteCellRangeBox(grid, cell, value, context) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    const pasteValue = value.trim();\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      const newValue = (0, action_utils_1.toggleValue)(value);\n      if (`${newValue}`.trim() === pasteValue) {\n        grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n      } else if (isRejectValue(value, pasteValue)) {\n        context.reject();\n      }\n    });\n  }\n  onDeleteCellRangeBox() {\n    // noop\n  }\n}\nexports.CheckEditor = CheckEditor;\nfunction isRejectValue(oldValue, pasteValue) {\n  if ((oldValue != null ? `${oldValue}`.trim() : \"\") === pasteValue) {\n    return false;\n  }\n  const newValue = (0, action_utils_1.toggleValue)(oldValue);\n  return `${newValue}`.trim() !== pasteValue && `${(0, action_utils_1.toggleValue)(newValue)}`.trim() !== pasteValue;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/Editor.js\":\n/*!**********************************!*\\\n  !*** ./columns/action/Editor.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Editor = void 0;\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./columns/action/BaseAction.js\");\nclass Editor extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._readOnly = option.readOnly || false;\n  }\n  get editable() {\n    return true;\n  }\n  get readOnly() {\n    return this._readOnly;\n  }\n  set readOnly(readOnly) {\n    this._readOnly = readOnly;\n    this.onChangeReadOnlyInternal();\n  }\n  onChangeReadOnlyInternal() {\n    // abstruct\n  }\n}\nexports.Editor = Editor;\n\n/***/ }),\n\n/***/ \"./columns/action/InlineInputEditor.js\":\n/*!*********************************************!*\\\n  !*** ./columns/action/InlineInputEditor.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineInputEditor = void 0;\nconst BaseInputEditor_1 = __webpack_require__(/*! ./BaseInputEditor */ \"./columns/action/BaseInputEditor.js\");\nconst InlineInputElement_1 = __webpack_require__(/*! ./internal/InlineInputElement */ \"./columns/action/internal/InlineInputElement.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst _ = (0, symbolManager_1.getInlineInputEditorStateId)();\nfunction getState(grid) {\n  let state = grid[_];\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n  return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n  const state = getState(grid);\n  if (!globalElement) {\n    globalElement = new InlineInputElement_1.InlineInputElement();\n  }\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n    });\n  }\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\nfunction doChangeValue(_grid) {\n  if (globalElement) {\n    globalElement.doChangeValue();\n  }\n}\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n  set classList(classList) {\n    this._classList = classList;\n  }\n  get type() {\n    return this._type;\n  }\n  set type(type) {\n    this._type = type;\n  }\n  clone() {\n    return new InlineInputEditor(this);\n  }\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n  onChangeSelectCellInternal(grid, _cell, _selected) {\n    doChangeValue(grid);\n    detachInput();\n  }\n  onGridScrollInternal(grid) {\n    doChangeValue(grid);\n    detachInput(true);\n  }\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n  onSetInputAttrsInternal(grid, _cell, input) {\n    InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\n  }\n}\nexports.InlineInputEditor = InlineInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/InlineMenuEditor.js\":\n/*!********************************************!*\\\n  !*** ./columns/action/InlineMenuEditor.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineMenuEditor = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\nconst InlineMenuElement_1 = __webpack_require__(/*! ./internal/InlineMenuElement */ \"./columns/action/internal/InlineMenuElement.js\");\nconst type_1 = __webpack_require__(/*! ../type */ \"./columns/type.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst menu_items_1 = __webpack_require__(/*! ../../internal/menu-items */ \"./internal/menu-items.js\");\nconst _ = (0, symbolManager_1.getInlineMenuEditorStateId)();\nfunction getState(grid) {\n  let state = grid[_];\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n  return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value, record) {\n  const state = getState(grid);\n  if (!globalElement) {\n    globalElement = new InlineMenuElement_1.InlineMenuElement();\n  }\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n    });\n  }\n  globalElement.attach(grid, editor, cell.col, cell.row, value, record);\n}\nfunction detachMenu(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass InlineMenuEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._options = (0, menu_items_1.normalizeToFn)(option.options);\n  }\n  dispose() {\n    // noop\n  }\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n  set classList(classList) {\n    this._classList = classList;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this._options = (0, menu_items_1.normalizeToFn)(options);\n  }\n  clone() {\n    return new InlineMenuEditor(this);\n  }\n  onChangeDisabledInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n  bindGridEvent(grid, cellId) {\n    const open = cell => {\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return false;\n      }\n      grid.doGetCellValue(cell.col, cell.row, value => {\n        const record = grid.getRowRecord(cell.row);\n        if ((0, utils_1.isPromise)(record)) {\n          return;\n        }\n        attachMenu(grid, cell, this, value, record);\n      });\n      return true;\n    };\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n      if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n        return;\n      }\n      const sel = grid.selection.select;\n      if (!isTarget(sel.col, sel.row)) {\n        return;\n      }\n      if (open({\n        col: sel.col,\n        row: sel.row\n      })) {\n        e.stopCellMoving();\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, _e => {\n      detachMenu();\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n      detachMenu(true);\n    }),\n    // mouse move\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n        return;\n      }\n      grid.getElement().style.cursor = \"pointer\";\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n        return;\n      }\n      if (!grid.getElement().style.cursor) {\n        grid.getElement().style.cursor = \"pointer\";\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      grid.getElement().style.cursor = \"\";\n    }),\n    // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n      const selectionRange = grid.selection.range;\n      if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n        return;\n      }\n      const record = grid.getRowRecord(e.row);\n      if ((0, utils_1.isPromise)(record)) {\n        return;\n      }\n      const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\n      if (pasteOpt) {\n        utils_1.event.cancel(e.event);\n        (0, utils_1.then)(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\n          const range = grid.getCellRange(e.col, e.row);\n          grid.invalidateCellRange(range);\n        });\n      } else {\n        grid.fireListeners(\"rejected_paste_values\", {\n          detail: [{\n            col: e.col,\n            row: e.row,\n            record,\n            define: grid.getColumnDefine(e.col, e.row),\n            pasteValue: e.normalizeValue\n          }]\n        });\n      }\n    })];\n  }\n  onPasteCellRangeBox(grid, cell, value, context) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    const record = grid.getRowRecord(cell.row);\n    if ((0, utils_1.isPromise)(record)) {\n      return;\n    }\n    const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\n    if (pasteOpt) {\n      grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n    } else {\n      // unknown\n      context.reject();\n    }\n  }\n  onDeleteCellRangeBox(grid, cell) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    const record = grid.getRowRecord(cell.row);\n    if ((0, utils_1.isPromise)(record)) {\n      return;\n    }\n    const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\n    if (pasteOpt) {\n      grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n    }\n  }\n  _pasteDataToOptionValue(value, grid, cell, record) {\n    const options = this._options(record);\n    const pasteOpt = _textToOptionValue(value, options);\n    if (pasteOpt) {\n      return pasteOpt;\n    }\n    const columnType = grid.getColumnType(cell.col, cell.row);\n    if (hasOptions(columnType)) {\n      // Find with caption.\n      const pasteValue = normalizePasteValueStr(value);\n      const captionOpt = utils_1.array.find(columnType.options, opt => normalizePasteValueStr(opt.label) === pasteValue);\n      if (captionOpt) {\n        return _textToOptionValue(captionOpt.value, options);\n      }\n    }\n    return undefined;\n  }\n}\nexports.InlineMenuEditor = InlineMenuEditor;\nfunction _textToOptionValue(value, options) {\n  const pasteValue = normalizePasteValueStr(value);\n  const pasteOpt = utils_1.array.find(options, opt => normalizePasteValueStr(opt.value) === pasteValue);\n  if (pasteOpt) {\n    return pasteOpt;\n  }\n  return undefined;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalizePasteValueStr(value) {\n  if (value == null) {\n    return \"\";\n  }\n  return `${value}`.trim();\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction hasOptions(columnType) {\n  if (columnType instanceof type_1.MenuColumn) {\n    return true;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  if (Array.isArray(columnType.options)) {\n    return true;\n  }\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/RadioEditor.js\":\n/*!***************************************!*\\\n  !*** ./columns/action/RadioEditor.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioEditor = void 0;\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_2 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\nclass RadioEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n    this._group = option.group;\n    this._checkAction = option.checkAction;\n  }\n  clone() {\n    return new RadioEditor(this);\n  }\n  /** @deprecated Use checkAction instead. */\n  get group() {\n    return this._group;\n  }\n  /** @deprecated Use checkAction instead. */\n  set group(group) {\n    this._group = group;\n  }\n  get checkAction() {\n    return this._checkAction;\n  }\n  set checkAction(checkAction) {\n    this._checkAction = checkAction;\n  }\n  bindGridEvent(grid, cellId) {\n    let _state = grid[RADIO_COLUMN_STATE_ID];\n    if (!_state) {\n      _state = {\n        block: {},\n        elapsed: {}\n      };\n      utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\n    }\n    const state = _state;\n    const action = cell => {\n      this._action(grid, cell);\n    };\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\n          return false;\n        }\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\n      action\n    }),\n    // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n      const selectionRange = grid.selection.range;\n      if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n      utils_1.event.cancel(e.event);\n      const pasteValue = e.normalizeValue.trim();\n      if (isRejectValue(pasteValue)) {\n        // Not a boolean\n        const record = grid.getRowRecord(e.row);\n        if (!(0, utils_1.isPromise)(record)) {\n          grid.fireListeners(\"rejected_paste_values\", {\n            detail: [{\n              col: e.col,\n              row: e.row,\n              record,\n              define: grid.getColumnDefine(e.col, e.row),\n              pasteValue\n            }]\n          });\n        }\n        return;\n      }\n      if (!(0, utils_2.toBoolean)(pasteValue)) {\n        return;\n      }\n      action({\n        col: e.col,\n        row: e.row\n      });\n    })];\n  }\n  onPasteCellRangeBox(grid, cell, value, context) {\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n      return;\n    }\n    const pasteValue = value.trim();\n    if (isRejectValue(pasteValue)) {\n      // Not a boolean\n      context.reject();\n      return;\n    }\n    if (!(0, utils_2.toBoolean)(pasteValue)) {\n      return;\n    }\n    this._action(grid, {\n      col: cell.col,\n      row: cell.row\n    });\n  }\n  onDeleteCellRangeBox() {\n    // noop\n  }\n  _action(grid, cell) {\n    const state = grid[RADIO_COLUMN_STATE_ID];\n    const range = grid.getCellRange(cell.col, cell.row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) || state.block[cellKey]) {\n      return;\n    }\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      if ((0, utils_2.toBoolean)(value)) {\n        return;\n      }\n      if (this._checkAction) {\n        // User behavior\n        const record = grid.getRowRecord(cell.row);\n        this._checkAction(record, (0, utils_1.extend)(cell, {\n          grid\n        }));\n        return;\n      }\n      if (this._group) {\n        // Backward compatibility\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const targets = this._group({\n          grid,\n          col: cell.col,\n          row: cell.row\n        });\n        targets.forEach(({\n          col,\n          row\n        }) => {\n          const range = grid.getCellRange(col, row);\n          const cellKey = `${range.start.col}:${range.start.row}`;\n          if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) || state.block[cellKey]) {\n            return;\n          }\n          actionCell(grid, col, row, col === cell.col && row === cell.row);\n        });\n        return;\n      }\n      // default behavior\n      const field = grid.getField(cell.col, cell.row);\n      const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(cell.row));\n      /** Original DataSource */\n      const {\n        dataSource\n      } = grid.dataSource;\n      const girdRecords = getAllRecordsFromGrid(grid);\n      for (let index = 0; index < dataSource.length; index++) {\n        const record = dataSource.get(index);\n        const showData = girdRecords.find(d => d.record === record);\n        if (showData) {\n          actionCell(grid, cell.col, showData.row, showData.row === recordStartRow);\n        } else {\n          // Hidden record\n          (0, utils_1.then)(dataSource.getField(index, field), value => {\n            if (!(0, utils_2.toBoolean)(value)) {\n              return;\n            }\n            dataSource.setField(index, field, (0, action_utils_1.toggleValue)(value));\n          });\n        }\n      }\n    });\n  }\n}\nexports.RadioEditor = RadioEditor;\nfunction getAllRecordsFromGrid(grid) {\n  const result = [];\n  const {\n    rowCount,\n    recordRowCount\n  } = grid;\n  for (let targetRow = grid.frozenRowCount; targetRow < rowCount; targetRow += recordRowCount) {\n    const record = grid.getRowRecord(targetRow);\n    result.push({\n      row: targetRow,\n      record\n    });\n  }\n  return result;\n}\nfunction actionCell(grid, col, row, flag) {\n  grid.doGetCellValue(col, row, value => {\n    if ((0, utils_2.toBoolean)(value) === flag) {\n      return;\n    }\n    const state = grid[RADIO_COLUMN_STATE_ID];\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\n    if (ret) {\n      const onChange = () => {\n        // checkbox animation\n        (0, animate_1.animate)(200, point => {\n          if (point === 1) {\n            delete state.elapsed[cellKey];\n          } else {\n            state.elapsed[cellKey] = point;\n          }\n          grid.invalidateCellRange(range);\n        });\n      };\n      if ((0, utils_1.isPromise)(ret)) {\n        state.block[cellKey] = true;\n        ret.then(() => {\n          delete state.block[cellKey];\n          onChange();\n        });\n      } else {\n        onChange();\n      }\n    }\n  });\n}\nfunction isRejectValue(pasteValue) {\n  return (0, action_utils_1.toggleValue)((0, action_utils_1.toggleValue)(pasteValue)) !== pasteValue;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/SmallDialogInputEditor.js\":\n/*!**************************************************!*\\\n  !*** ./columns/action/SmallDialogInputEditor.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SmallDialogInputEditor = void 0;\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst BaseInputEditor_1 = __webpack_require__(/*! ./BaseInputEditor */ \"./columns/action/BaseInputEditor.js\");\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\nconst SmallDialogInputElement_1 = __webpack_require__(/*! ./internal/SmallDialogInputElement */ \"./columns/action/internal/SmallDialogInputElement.js\");\nconst _ = (0, symbolManager_1.getSmallDialogInputEditorStateId)();\nfunction getState(grid) {\n  let state = grid[_];\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n  return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n  const state = getState(grid);\n  if (!globalElement) {\n    globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\n  }\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n    });\n  }\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._helperText = option.helperText;\n    this._inputValidator = option.inputValidator;\n    this._validator = option.validator;\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n  dispose() {\n    //noop\n  }\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n  set classList(classList) {\n    this._classList = classList;\n  }\n  get type() {\n    return this._type;\n  }\n  set type(type) {\n    this._type = type;\n  }\n  get helperText() {\n    return this._helperText;\n  }\n  get inputValidator() {\n    return this._inputValidator;\n  }\n  get validator() {\n    return this._validator;\n  }\n  clone() {\n    return new SmallDialogInputEditor(this);\n  }\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n  onChangeSelectCellInternal(_grid, _cell, _selected) {\n    // cancel input\n    detachInput();\n  }\n  onGridScrollInternal(_grid) {\n    // cancel input\n    detachInput(true);\n  }\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n  onSetInputAttrsInternal(grid, _cell, input) {\n    SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\n  }\n  bindGridEvent(grid, cellId) {\n    const open = cell => {\n      if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) || (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\n        return false;\n      }\n      this.onOpenCellInternal(grid, cell);\n      return true;\n    };\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [...super.bindGridEvent(grid, cellId), grid.listen('click_cell', cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    })];\n  }\n}\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/action-utils.js\":\n/*!****************************************!*\\\n  !*** ./columns/action/action-utils.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nfunction isDisabledRecord(option, grid, row) {\n  if (grid.disabled) {\n    return true;\n  }\n  return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isDisabledRecord = isDisabledRecord;\nfunction isReadOnlyRecord(option, grid, row) {\n  if (grid.readOnly) {\n    return true;\n  }\n  return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isReadOnlyRecord = isReadOnlyRecord;\nfunction toggleValue(val) {\n  if (typeof val === \"number\") {\n    if (val === 0) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else if (typeof val === \"string\") {\n    if (val === \"false\") {\n      return \"true\";\n    } else if (val === \"off\") {\n      return \"on\";\n    } else if (/^0+$/.exec(val)) {\n      return val.replace(/^(0*)0$/, \"$11\");\n    } else if (val === \"true\") {\n      return \"false\";\n    } else if (val === \"on\") {\n      return \"off\";\n    } else if (/^0*1$/.exec(val)) {\n      return val.replace(/^(0*)1$/, \"$10\");\n    }\n  }\n  return !val;\n}\nexports.toggleValue = toggleValue;\nfunction getBooleanOptionOfRecord(option, grid, row) {\n  if (typeof option === \"function\") {\n    const record = grid.getRowRecord(row);\n    if ((0, utils_1.isPromise)(record)) {\n      return true;\n    }\n    return !!option(record);\n  }\n  return !!option;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/actionBind.js\":\n/*!**************************************!*\\\n  !*** ./columns/action/actionBind.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\nfunction bindCellClickAction(grid, cellId, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n  return [\n  // click\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\n      return;\n    }\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }),\n  // mouse move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\n      return;\n    }\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n    grid.getElement().style.cursor = \"pointer\";\n  }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n    grid.getElement().style.cursor = \"\";\n  })];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, {\n  action,\n  acceptKeys = []\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n  acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n  return [\n  // enter key down\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n    var _a;\n    if (acceptKeys.indexOf(e.keyCode) === -1) {\n      return;\n    }\n    if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n      // When moving with the enter key, no action is taken with the enter key.\n      return;\n    }\n    const sel = grid.selection.select;\n    if (!isTarget(sel.col, sel.row)) {\n      return;\n    }\n    if ((0, utils_1.isPromise)(grid.getRowRecord(sel.row))) {\n      return;\n    }\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    utils_1.event.cancel(e.event);\n  })];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/InlineInputElement.js\":\n/*!*******************************************************!*\\\n  !*** ./columns/action/internal/InlineInputElement.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineInputElement = void 0;\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\nconst input_value_handler_1 = __webpack_require__(/*! ./input-value-handler */ \"./columns/action/internal/input-value-handler.js\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst CLASSNAME = \"cheetah-grid__inline-input\";\nfunction createInputElement() {\n  __webpack_require__(/*! @/columns/action/internal/InlineInputElement.css */ \"../src/js/columns/action/internal/InlineInputElement.css\");\n  return (0, dom_1.createElement)(\"input\", {\n    classList: CLASSNAME\n  });\n}\nfunction setInputAttrs(editor, _grid, input) {\n  const {\n    classList,\n    type\n  } = editor;\n  if (classList) {\n    input.classList.add(...classList);\n  }\n  input.type = type || \"\";\n}\nclass InlineInputElement {\n  static setInputAttrs(editor, grid, input) {\n    setInputAttrs(editor, grid, input);\n  }\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    this._input = createInputElement();\n    this._bindInputEvents();\n  }\n  dispose() {\n    var _a;\n    const input = this._input;\n    this.detach();\n    this._handler.dispose();\n    // @ts-expect-error -- ignore\n    delete this._input;\n    this._beforePropEditor = null;\n    (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n  }\n  attach(grid, editor, col, row, value) {\n    const input = this._input;\n    const handler = this._handler;\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n      if (classList) {\n        input.classList.remove(...classList);\n      }\n    }\n    input.style.font = grid.font || \"16px sans-serif\";\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    input.style.top = `${rect.top.toFixed()}px`;\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(input);\n    setInputAttrs(editor, grid, input);\n    (0, input_value_handler_1.setInputValue)(input, value);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n    const focus = () => {\n      input.focus();\n      const end = input.value.length;\n      try {\n        if (typeof input.selectionStart !== \"undefined\") {\n          input.selectionStart = end;\n          input.selectionEnd = end;\n          return;\n        }\n      } catch (e) {\n        //ignore\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (document.selection) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const range = input.createTextRange();\n        range.collapse();\n        range.moveEnd(\"character\", end);\n        range.moveStart(\"character\", end);\n        range.select();\n      }\n    };\n    handler.tryWithOffEvents(input, \"blur\", () => {\n      focus();\n    });\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const input = this._input;\n      this._handler.tryWithOffEvents(input, \"blur\", () => {\n        var _a;\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n      });\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n    this._activeData = null;\n  }\n  doChangeValue() {\n    if (!this._isActive()) {\n      return;\n    }\n    const input = this._input;\n    const {\n      value\n    } = input;\n    const {\n      grid,\n      col,\n      row\n    } = this._activeData;\n    grid.doChangeValue(col, row, () => value);\n  }\n  _isActive() {\n    const input = this._input;\n    if (!input || !input.parentElement) {\n      return false;\n    }\n    if (!this._activeData) {\n      return false;\n    }\n    return true;\n  }\n  _bindInputEvents() {\n    const handler = this._handler;\n    const input = this._input;\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n    handler.on(input, \"click\", stopPropagationOnly);\n    handler.on(input, \"mousedown\", stopPropagationOnly);\n    handler.on(input, \"touchstart\", stopPropagationOnly);\n    handler.on(input, \"dblclick\", stopPropagationOnly);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n    });\n    handler.on(input, \"compositionend\", _e => {\n      input.classList.remove(\"composition\");\n    });\n    handler.on(input, \"keydown\", e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n      const keyCode = utils_1.event.getKeyCode(e);\n      if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(e);\n      } else if (keyCode === KEY_TAB) {\n        this._onKeydownTab(e);\n      }\n    });\n    handler.on(input, \"blur\", _e => {\n      this.doChangeValue();\n      this.detach();\n    });\n  }\n  _onKeydownEnter(e) {\n    var _a;\n    if (!this._isActive() || this._attaching) {\n      return;\n    }\n    const {\n      grid\n    } = this._activeData;\n    this.doChangeValue();\n    this.detach(true);\n    utils_1.event.cancel(e);\n    if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n      grid.onKeyDownMove(e);\n    }\n  }\n  _onKeydownTab(e) {\n    var _a;\n    if (!this._isActive()) {\n      return;\n    }\n    const {\n      grid\n    } = this._activeData;\n    if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\n      return;\n    }\n    this.doChangeValue();\n    this.detach(true);\n    grid.onKeyDownMove(e);\n  }\n}\nexports.InlineInputElement = InlineInputElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/InlineMenuElement.js\":\n/*!******************************************************!*\\\n  !*** ./columns/action/internal/InlineMenuElement.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineMenuElement = void 0;\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\nfunction findItemParents(target) {\n  let el = target;\n  while (el && !el.classList.contains(ITEM_CLASSNAME)) {\n    el = el.parentElement;\n    if (!el || el.classList.contains(CLASSNAME)) {\n      return null;\n    }\n  }\n  return el;\n}\nfunction createMenuElement() {\n  __webpack_require__(/*! @/columns/action/internal/InlineMenuElement.css */ \"../src/js/columns/action/internal/InlineMenuElement.css\");\n  return (0, dom_1.createElement)(\"ul\", {\n    classList: CLASSNAME\n  });\n}\nfunction attachElement(element, rect, menu) {\n  menu.style.top = `${rect.top.toFixed()}px`;\n  menu.style.left = `${rect.left.toFixed()}px`;\n  menu.style.width = `${rect.width.toFixed()}px`;\n  menu.style.lineHeight = `${rect.height.toFixed()}px`;\n  element.appendChild(menu);\n}\nfunction optionToLi({\n  classList,\n  label,\n  value,\n  html\n}, index) {\n  const item = (0, dom_1.createElement)(\"li\", {\n    classList: ITEM_CLASSNAME\n  });\n  item.tabIndex = 0;\n  item.dataset.valueindex = `${index}`;\n  if (classList) {\n    item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n  }\n  if (label) {\n    const span = (0, dom_1.createElement)(\"span\", {\n      text: label\n    });\n    item.appendChild(span);\n  } else if (html) {\n    (0, dom_1.appendHtml)(item, html);\n  }\n  if (value === \"\" || value == null) {\n    item.classList.add(EMPTY_ITEM_CLASSNAME);\n  }\n  return item;\n}\nfunction openMenu(grid, editor, col, row, value, options, menu) {\n  const {\n    classList\n  } = editor;\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  (0, dom_1.empty)(menu);\n  menu.style.font = grid.font || \"16px sans-serif\";\n  let emptyItemEl = null;\n  let valueItemEl = null;\n  options.forEach((option, i) => {\n    const item = optionToLi(option, i);\n    menu.appendChild(item);\n    if (option.value === value) {\n      valueItemEl = item;\n      item.dataset.select = \"select\";\n    }\n    if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n      emptyItemEl = item;\n    }\n  });\n  const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n  if (classList) {\n    menu.classList.add(...classList);\n  }\n  const children = Array.prototype.slice.call(menu.children, 0);\n  const focusIndex = children.indexOf(focusEl);\n  const {\n    element,\n    rect\n  } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n  // Cover the right line\n  rect.width++;\n  // append for calculation\n  attachElement(element, rect, menu);\n  // Make the selection item at the middle\n  let offset = 0;\n  let allHeight = 0;\n  for (let i = 0; i < children.length; i++) {\n    const {\n      offsetHeight\n    } = children[i];\n    if (i < focusIndex) {\n      offset += offsetHeight;\n    }\n    allHeight += offsetHeight;\n  }\n  rect.offsetTop(-offset);\n  menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n  attachElement(element, rect, menu);\n  // Control not to overflow the screen range\n  const menuClientRect = menu.getBoundingClientRect();\n  const scaleDiff = (allHeight - menuClientRect.height) / 2;\n  const orgMenuTop = menuClientRect.top - scaleDiff;\n  let menuTop = orgMenuTop;\n  const menuBottom = menuTop + allHeight;\n  const winBottom = window.innerHeight;\n  const winMargin = 20;\n  if (menuBottom > winBottom - winMargin) {\n    const diff = menuBottom - winBottom + winMargin;\n    menuTop -= diff;\n  }\n  if (menuTop < 0 /*winTop*/ + winMargin) {\n    menuTop = winMargin;\n  }\n  if (menuTop !== orgMenuTop) {\n    rect.offsetTop(-(orgMenuTop - menuTop));\n    // re update\n    attachElement(element, rect, menu);\n  }\n  if (focusEl) {\n    focusEl.focus();\n  }\n  menu.classList.remove(HIDDEN_CLASSNAME);\n  menu.classList.add(SHOWN_CLASSNAME);\n}\nfunction closeMenu(_grid, _col, _row, menu) {\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  (0, dom_1.disableFocus)(menu);\n}\nclass InlineMenuElement {\n  constructor() {\n    const handler = this._handler = new EventHandler_1.EventHandler();\n    this._menu = createMenuElement();\n    this._bindMenuEvents();\n    let bodyClickListenerId;\n    const deregisterBodyClickListener = this._deregisterBodyClickListener = () => handler.off(bodyClickListenerId);\n    this._registerBodyClickListener = () => {\n      deregisterBodyClickListener();\n      bodyClickListenerId = handler.on(document.body, \"click\", this._onBodyClick.bind(this), {\n        capture: true\n      });\n    };\n  }\n  dispose() {\n    var _a;\n    const menu = this._menu;\n    this.detach();\n    this._handler.dispose();\n    // @ts-expect-error -- ignore\n    delete this._menu;\n    this._beforePropEditor = null;\n    (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\n  }\n  attach(grid, editor, col, row, value, record) {\n    const menu = this._menu;\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n      if (classList) {\n        menu.classList.remove(...classList);\n      }\n    }\n    const options = editor.options(record);\n    openMenu(grid, editor, col, row, value, options, menu);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor,\n      options\n    };\n    this._beforePropEditor = editor;\n    this._registerBodyClickListener();\n  }\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const menu = this._menu;\n      closeMenu(grid, col, row, menu);\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n    this._activeData = null;\n    this._deregisterBodyClickListener();\n  }\n  _doChangeValue(valueindex) {\n    if (!this._isActive()) {\n      return;\n    }\n    const {\n      grid,\n      col,\n      row,\n      options\n    } = this._activeData;\n    const option = options[Number(valueindex)];\n    if (option) {\n      const {\n        value\n      } = option;\n      grid.doChangeValue(col, row, () => value);\n    }\n  }\n  _isActive() {\n    const menu = this._menu;\n    if (!menu || !menu.parentElement) {\n      return false;\n    }\n    if (!this._activeData) {\n      return false;\n    }\n    return true;\n  }\n  _bindMenuEvents() {\n    const handler = this._handler;\n    const menu = this._menu;\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n    handler.on(menu, \"mousedown\", stopPropagationOnly);\n    handler.on(menu, \"touchstart\", stopPropagationOnly);\n    handler.on(menu, \"dblclick\", stopPropagationOnly);\n    handler.on(menu, \"click\", e => {\n      e.stopPropagation();\n      const item = findItemParents(e.target);\n      if (!item) {\n        return;\n      }\n      const {\n        valueindex\n      } = item.dataset;\n      this._doChangeValue(valueindex || \"\");\n      this.detach(true);\n    });\n    handler.on(menu, \"keydown\", e => {\n      const item = findItemParents(e.target);\n      if (!item) {\n        return;\n      }\n      const keyCode = utils_1.event.getKeyCode(e);\n      if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(menu, item, e);\n      } else if (keyCode === KEY_ESC) {\n        this.detach(true);\n        utils_1.event.cancel(e);\n      } else if (keyCode === KEY_UP) {\n        const n = (0, dom_1.findPrevSiblingFocusable)(item);\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      } else if (keyCode === KEY_DOWN) {\n        const n = (0, dom_1.findNextSiblingFocusable)(item);\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      } else if (keyCode === KEY_TAB) {\n        this._onKeydownTab(menu, item, e);\n      }\n    });\n  }\n  _onBodyClick(e) {\n    const el = e.target;\n    if (!el) {\n      return;\n    }\n    if (this._menu.contains(el)) {\n      return;\n    }\n    if (this._isActive()) {\n      const {\n        grid\n      } = this._activeData;\n      if (grid.getElement().contains(el)) {\n        return;\n      }\n    }\n    this.detach();\n  }\n  _onKeydownEnter(_menu, item, e) {\n    var _a;\n    const grid = this._isActive() ? this._activeData.grid : null;\n    const {\n      valueindex\n    } = item.dataset;\n    this._doChangeValue(valueindex || \"\");\n    this.detach(true);\n    utils_1.event.cancel(e);\n    if (grid) {\n      if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n        grid.onKeyDownMove(e);\n      }\n    }\n  }\n  _onKeydownTab(menu, item, e) {\n    var _a;\n    if (this._isActive()) {\n      const {\n        grid\n      } = this._activeData;\n      if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\n        const {\n          valueindex\n        } = item.dataset;\n        this._doChangeValue(valueindex || \"\");\n        this.detach(true);\n        grid.onKeyDownMove(e);\n        return;\n      }\n    }\n    if (!e.shiftKey) {\n      if (!(0, dom_1.findNextSiblingFocusable)(item)) {\n        let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n        if (!(0, dom_1.isFocusable)(n)) {\n          n = (0, dom_1.findNextSiblingFocusable)(n);\n        }\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      }\n    } else {\n      if (!(0, dom_1.findPrevSiblingFocusable)(item)) {\n        const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n        let n = items[items.length - 1];\n        if (!(0, dom_1.isFocusable)(n)) {\n          n = (0, dom_1.findPrevSiblingFocusable)(n);\n        }\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      }\n    }\n  }\n}\nexports.InlineMenuElement = InlineMenuElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/SmallDialogInputElement.js\":\n/*!************************************************************!*\\\n  !*** ./columns/action/internal/SmallDialogInputElement.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SmallDialogInputElement = void 0;\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\nconst input_value_handler_1 = __webpack_require__(/*! ./input-value-handler */ \"./columns/action/internal/input-value-handler.js\");\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\nfunction _focus(input, handler) {\n  const focus = () => {\n    input.focus();\n    const end = input.value.length;\n    try {\n      if (typeof input.selectionStart !== \"undefined\") {\n        input.selectionStart = end;\n        input.selectionEnd = end;\n        return;\n      }\n    } catch (e) {\n      //ignore\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (document.selection) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const range = input.createTextRange();\n      range.collapse();\n      range.moveEnd(\"character\", end);\n      range.moveStart(\"character\", end);\n      range.select();\n    }\n  };\n  handler.tryWithOffEvents(input, \"blur\", () => {\n    focus();\n  });\n}\nfunction createDialogElement() {\n  __webpack_require__(/*! @/columns/action/internal/SmallDialogInputElement.css */ \"../src/js/columns/action/internal/SmallDialogInputElement.css\");\n  const element = (0, dom_1.createElement)(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const input = (0, dom_1.createElement)(\"input\", {\n    classList: INPUT_CLASSNAME\n  });\n  input.readOnly = true;\n  input.tabIndex = -1;\n  element.appendChild(input);\n  return element;\n}\nfunction bindProps(grid, dialog, input, editor) {\n  const {\n    classList,\n    helperText\n  } = editor;\n  if (classList) {\n    dialog.classList.add(...classList);\n  }\n  if (helperText && typeof helperText !== \"function\") {\n    dialog.dataset.helperText = helperText;\n  }\n  setInputAttrs(editor, grid, input);\n}\nfunction unbindProps(_grid, dialog, input, editor) {\n  const {\n    classList\n  } = editor;\n  if (classList) {\n    dialog.classList.remove(...classList);\n  }\n  delete dialog.dataset.helperText;\n  input.type = \"\";\n}\nfunction setInputAttrs(editor, _grid, input) {\n  const {\n    type\n  } = editor;\n  input.type = type || \"\";\n}\nclass SmallDialogInputElement {\n  static setInputAttrs(editor, grid, input) {\n    setInputAttrs(editor, grid, input);\n  }\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    this._dialog = createDialogElement();\n    this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n    this._bindDialogEvents();\n  }\n  dispose() {\n    const dialog = this._dialog;\n    this.detach();\n    this._handler.dispose();\n    // @ts-expect-error -- ignore\n    delete this._dialog;\n    // @ts-expect-error -- ignore\n    delete this._input;\n    this._beforePropEditor = null;\n    if (dialog.parentElement) {\n      dialog.parentElement.removeChild(dialog);\n    }\n  }\n  attach(grid, editor, col, row, value) {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n    if (this._beforePropEditor) {\n      unbindProps(grid, dialog, input, this._beforePropEditor);\n    }\n    delete dialog.dataset.errorMessage;\n    dialog.classList.remove(SHOWN_CLASSNAME);\n    dialog.classList.add(HIDDEN_CLASSNAME);\n    input.readOnly = true;\n    input.tabIndex = 0;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    dialog.style.top = `${rect.top.toFixed()}px`;\n    dialog.style.left = `${rect.left.toFixed()}px`;\n    dialog.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(dialog);\n    (0, input_value_handler_1.setInputValue)(input, value);\n    input.style.font = grid.font || \"16px sans-serif\";\n    const activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._onInputValue(input, activeData);\n    if (!utils_1.browser.IE) {\n      _focus(input, handler);\n    } else {\n      // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n      setTimeout(() => _focus(input, handler));\n    }\n    dialog.classList.add(SHOWN_CLASSNAME);\n    dialog.classList.remove(HIDDEN_CLASSNAME);\n    input.readOnly = false;\n    bindProps(grid, dialog, input, editor);\n    this._activeData = activeData;\n    this._beforePropEditor = editor;\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const dialog = this._dialog;\n      const input = this._input;\n      dialog.classList.remove(SHOWN_CLASSNAME);\n      dialog.classList.add(HIDDEN_CLASSNAME);\n      input.readOnly = true;\n      input.tabIndex = -1;\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n    this._activeData = null;\n    this._beforeValue = null;\n  }\n  _doChangeValue() {\n    if (!this._isActive()) {\n      return false;\n    }\n    const input = this._input;\n    const {\n      value\n    } = input;\n    return (0, utils_1.then)(this._validate(value), res => {\n      if (res && value === input.value) {\n        const {\n          grid,\n          col,\n          row\n        } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n        return true;\n      }\n      return false;\n    });\n  }\n  _isActive() {\n    const dialog = this._dialog;\n    if (!dialog || !dialog.parentElement) {\n      return false;\n    }\n    if (!this._activeData) {\n      return false;\n    }\n    return true;\n  }\n  _bindDialogEvents() {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n    handler.on(dialog, \"click\", stopPropagationOnly);\n    handler.on(dialog, \"dblclick\", stopPropagationOnly);\n    handler.on(dialog, \"mousedown\", stopPropagationOnly);\n    handler.on(dialog, \"touchstart\", stopPropagationOnly);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n    });\n    handler.on(input, \"compositionend\", _e => {\n      input.classList.remove(\"composition\");\n      this._onInputValue(input);\n    });\n    const onKeyupAndPress = _e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n      this._onInputValue(input);\n    };\n    handler.on(input, \"keyup\", onKeyupAndPress);\n    handler.on(input, \"keypress\", onKeyupAndPress);\n    handler.on(input, \"keydown\", e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n      const keyCode = utils_1.event.getKeyCode(e);\n      if (keyCode === KEY_ESC) {\n        this.detach(true);\n        utils_1.event.cancel(e);\n      } else if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(e);\n      } else {\n        this._onInputValue(input);\n      }\n    });\n  }\n  _onKeydownEnter(e) {\n    if (this._attaching) {\n      return;\n    }\n    const input = this._input;\n    const {\n      value\n    } = input;\n    (0, utils_1.then)(this._doChangeValue(), r => {\n      var _a;\n      if (r && value === input.value) {\n        const grid = this._isActive() ? this._activeData.grid : null;\n        this.detach(true);\n        if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n          grid.onKeyDownMove(e);\n        }\n      }\n    });\n    utils_1.event.cancel(e);\n  }\n  _onInputValue(input, activeData) {\n    const before = this._beforeValue;\n    const {\n      value\n    } = input;\n    if (before !== value) {\n      this._onInputValueChange(value, activeData);\n    }\n    this._beforeValue = value;\n  }\n  _onInputValueChange(after, activeData) {\n    activeData = activeData || this._activeData;\n    const dialog = this._dialog;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = activeData;\n    if (typeof editor.helperText === \"function\") {\n      const helperText = editor.helperText(after, {\n        grid,\n        col,\n        row\n      });\n      if (helperText) {\n        dialog.dataset.helperText = helperText;\n      } else {\n        delete dialog.dataset.helperText;\n      }\n    }\n    if (\"errorMessage\" in dialog.dataset) {\n      this._validate(after, true);\n    }\n  }\n  _validate(value, inputOnly) {\n    const dialog = this._dialog;\n    const input = this._input;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    let message = \"\";\n    if (editor.inputValidator) {\n      message = editor.inputValidator(value, {\n        grid,\n        col,\n        row\n      });\n    }\n    return (0, utils_1.then)(message, message => {\n      if (!message && editor.validator && !inputOnly) {\n        message = editor.validator(value, {\n          grid,\n          col,\n          row\n        });\n      }\n      return (0, utils_1.then)(message, message => {\n        if (message && value === input.value) {\n          dialog.dataset.errorMessage = message;\n        } else {\n          delete dialog.dataset.errorMessage;\n        }\n        return !message;\n      });\n    });\n  }\n}\nexports.SmallDialogInputElement = SmallDialogInputElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/input-value-handler.js\":\n/*!********************************************************!*\\\n  !*** ./columns/action/internal/input-value-handler.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setInputValue = void 0;\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\nfunction setInputValue(input, value) {\n  const sign = input.type === \"number\" && value === \"-\";\n  if (sign) {\n    // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\n    input.type = \"\";\n    let handler = new EventHandler_1.EventHandler();\n    const dispose = () => {\n      if (handler) {\n        handler.dispose();\n        handler = null;\n      }\n    };\n    handler.once(input, \"input\", _e => {\n      input.type = \"number\";\n      dispose();\n    });\n    handler.once(input, \"blur\", _e => {\n      dispose();\n    });\n  }\n  input.value = value !== null && value !== void 0 ? value : \"\";\n}\nexports.setInputValue = setInputValue;\n\n/***/ }),\n\n/***/ \"./columns/indicator/handlers.js\":\n/*!***************************************!*\\\n  !*** ./columns/indicator/handlers.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDrawIndicator = void 0;\nconst triangle_1 = __webpack_require__(/*! ./triangle */ \"./columns/indicator/triangle.js\");\nfunction getDrawIndicator(indicatorStyle) {\n  const {\n    style\n  } = indicatorStyle;\n  if (style === \"triangle\") {\n    return triangle_1.drawTriangleIndicator;\n  }\n  return null;\n}\nexports.getDrawIndicator = getDrawIndicator;\n\n/***/ }),\n\n/***/ \"./columns/indicator/triangle.js\":\n/*!***************************************!*\\\n  !*** ./columns/indicator/triangle.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawTriangleIndicator = void 0;\nconst KIND_PROCESS_MAP = {\n  [0 /* DrawIndicatorKind.topLeft */]: {\n    themeColor(helper) {\n      return helper.theme.indicators.topLeftColor;\n    },\n    themeSize(helper) {\n      return helper.theme.indicators.topLeftSize;\n    },\n    drawPath(ctx, rect, size) {\n      const baseLeft = rect.left + 1;\n      const baseTop = rect.top + 1;\n      ctx.moveTo(baseLeft, baseTop);\n      ctx.lineTo(baseLeft + size, baseTop);\n      ctx.lineTo(baseLeft, baseTop + size);\n    }\n  },\n  [1 /* DrawIndicatorKind.topRight */]: {\n    themeColor(helper) {\n      return helper.theme.indicators.topRightColor;\n    },\n    themeSize(helper) {\n      return helper.theme.indicators.topRightSize;\n    },\n    drawPath(ctx, rect, size) {\n      const baseRight = rect.right - 2;\n      const baseTop = rect.top + 1;\n      ctx.moveTo(baseRight, baseTop);\n      ctx.lineTo(baseRight - size, baseTop);\n      ctx.lineTo(baseRight, baseTop + size);\n    }\n  },\n  [2 /* DrawIndicatorKind.bottomRight */]: {\n    themeColor(helper) {\n      return helper.theme.indicators.bottomRightColor;\n    },\n    themeSize(helper) {\n      return helper.theme.indicators.bottomRightSize;\n    },\n    drawPath(ctx, rect, size) {\n      const baseRight = rect.right - 2;\n      const baseBottom = rect.bottom - 2;\n      ctx.moveTo(baseRight, baseBottom);\n      ctx.lineTo(baseRight - size, baseBottom);\n      ctx.lineTo(baseRight, baseBottom - size);\n    }\n  },\n  [3 /* DrawIndicatorKind.bottomLeft */]: {\n    themeColor(helper) {\n      return helper.theme.indicators.bottomLeftColor;\n    },\n    themeSize(helper) {\n      return helper.theme.indicators.bottomLeftSize;\n    },\n    drawPath(ctx, rect, size) {\n      const baseLeft = rect.left + 1;\n      const baseBottom = rect.bottom - 2;\n      ctx.moveTo(baseLeft, baseBottom);\n      ctx.lineTo(baseLeft + size, baseBottom);\n      ctx.lineTo(baseLeft, baseBottom - size);\n    }\n  }\n};\nfunction drawTriangleIndicator(context, style, kind, helper) {\n  const process = KIND_PROCESS_MAP[kind];\n  if (!process) {\n    return;\n  }\n  helper.drawBorderWithClip(context, ctx => {\n    const rect = context.getRect();\n    const color = style.color || helper.getColor(process.themeColor(helper), context.col, context.row, ctx);\n    const size = style.size && Number(style.size) || process.themeSize(helper) || rect.height / 6;\n    // draw triangle\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    process.drawPath(ctx, rect, size);\n    ctx.closePath();\n    ctx.fill();\n  });\n}\nexports.drawTriangleIndicator = drawTriangleIndicator;\n\n/***/ }),\n\n/***/ \"./columns/message/BaseMessage.js\":\n/*!****************************************!*\\\n  !*** ./columns/message/BaseMessage.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseMessage = void 0;\nclass BaseMessage {\n  constructor(grid) {\n    this._messageElement = null;\n    this._grid = grid;\n  }\n  dispose() {\n    this.detachMessageElement();\n    if (this._messageElement) {\n      this._messageElement.dispose();\n    }\n    this._messageElement = null;\n  }\n  _getMessageElement() {\n    return this._messageElement || (this._messageElement = this.createMessageElementInternal());\n  }\n  attachMessageElement(col, row, message) {\n    const messageElement = this._getMessageElement();\n    messageElement.attach(this._grid, col, row, message);\n  }\n  moveMessageElement(col, row) {\n    const messageElement = this._getMessageElement();\n    messageElement.move(this._grid, col, row);\n  }\n  detachMessageElement() {\n    const messageElement = this._getMessageElement();\n    messageElement._detach();\n  }\n  drawCellMessage(message, context, style, helper, grid, info) {\n    this.drawCellMessageInternal(message, context, style, helper, grid, info);\n  }\n}\nexports.BaseMessage = BaseMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/ErrorMessage.js\":\n/*!*****************************************!*\\\n  !*** ./columns/message/ErrorMessage.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorMessage = void 0;\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\nconst ErrorMessageElement_1 = __webpack_require__(/*! ./internal/ErrorMessageElement */ \"./columns/message/internal/ErrorMessageElement.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst RED_A100 = \"#ff8a80\";\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new ErrorMessageElement_1.ErrorMessageElement();\n  }\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n    if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, ctx => {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: helper.getColor(helper.theme.messages.errorBgColor, context.col, context.row, ctx) || RED_A100,\n          color: bgColor,\n          boxWidth: helper.theme.messages.boxWidth,\n          markHeight: helper.theme.messages.markHeight\n        }, helper);\n      });\n    }\n  }\n}\nexports.ErrorMessage = ErrorMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/InfoMessage.js\":\n/*!****************************************!*\\\n  !*** ./columns/message/InfoMessage.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InfoMessage = void 0;\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\nconst MessageElement_1 = __webpack_require__(/*! ./internal/MessageElement */ \"./columns/message/internal/MessageElement.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst GREY_L2 = \"#e0e0e0\";\nclass InfoMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new MessageElement_1.MessageElement();\n  }\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n    if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, ctx => {\n        messageUtils.drawInformationMarkBox(context, {\n          bgColor: helper.getColor(helper.theme.messages.infoBgColor, context.col, context.row, ctx) || GREY_L2,\n          color: bgColor,\n          boxWidth: helper.theme.messages.boxWidth,\n          markHeight: helper.theme.messages.markHeight\n        }, helper);\n      });\n    }\n  }\n}\nexports.InfoMessage = InfoMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/MessageHandler.js\":\n/*!*******************************************!*\\\n  !*** ./columns/message/MessageHandler.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageHandler = exports.hasMessage = void 0;\nconst ErrorMessage_1 = __webpack_require__(/*! ./ErrorMessage */ \"./columns/message/ErrorMessage.js\");\nconst InfoMessage_1 = __webpack_require__(/*! ./InfoMessage */ \"./columns/message/InfoMessage.js\");\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ../../list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\nconst WarningMessage_1 = __webpack_require__(/*! ./WarningMessage */ \"./columns/message/WarningMessage.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst EMPTY_MESSAGE = {\n  type: \"error\",\n  message: null\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n  error(grid) {\n    return new ErrorMessage_1.ErrorMessage(grid);\n  },\n  info(grid) {\n    return new InfoMessage_1.InfoMessage(grid);\n  },\n  warning(grid) {\n    return new WarningMessage_1.WarningMessage(grid);\n  }\n};\nfunction normalizeMessage(message) {\n  if (!message || (0, utils_1.isPromise)(message)) {\n    return EMPTY_MESSAGE;\n  }\n  if (typeof message === \"string\") {\n    return {\n      type: \"error\",\n      message,\n      original: message\n    };\n  }\n  const type = message.type || \"error\";\n  if (type && type in MESSAGE_INSTANCE_FACTORY) {\n    return {\n      type: type.toLowerCase(),\n      message: message.message,\n      original: message\n    };\n  }\n  return {\n    type: \"error\",\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    message: `${message}`,\n    original: message\n  };\n}\nfunction hasMessage(message) {\n  return !!normalizeMessage(message).message;\n}\nexports.hasMessage = hasMessage;\nclass MessageHandler {\n  constructor(grid, getMessage) {\n    this._attachInfo = null;\n    this._grid = grid;\n    this._messageInstances = {};\n    this._bindGridEvent(grid, getMessage);\n  }\n  dispose() {\n    var _a;\n    const messageInstances = this._messageInstances;\n    for (const k in messageInstances) {\n      (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    // @ts-expect-error -- ignore\n    delete this._messageInstances;\n    // @ts-expect-error -- ignore\n    delete this._attachInfo;\n  }\n  drawCellMessage(message, context, style, helper, grid, info) {\n    if (!hasMessage(message)) {\n      return;\n    }\n    const instance = this._getMessageInstanceOfMessage(message);\n    instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\n  }\n  _attach(col, row, message) {\n    const info = this._attachInfo;\n    const instance = this._getMessageInstanceOfMessage(message);\n    if (info && info.instance !== instance) {\n      info.instance.detachMessageElement();\n    }\n    instance.attachMessageElement(col, row, normalizeMessage(message));\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n  _move(col, row) {\n    const info = this._attachInfo;\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n    const {\n      instance\n    } = info;\n    instance.moveMessageElement(col, row);\n  }\n  _detach() {\n    const info = this._attachInfo;\n    if (!info) {\n      return;\n    }\n    const {\n      instance\n    } = info;\n    instance.detachMessageElement();\n    this._attachInfo = null;\n  }\n  _bindGridEvent(grid, getMessage) {\n    const onSelectMessage = sel => {\n      const setMessageData = msg => {\n        if (!hasMessage(msg)) {\n          this._detach();\n        } else {\n          this._attach(sel.col, sel.row, msg);\n        }\n      };\n      const message = getMessage(sel.col, sel.row);\n      if ((0, utils_1.isPromise)(message)) {\n        this._detach();\n        message.then(msg => {\n          const newSel = grid.selection.select;\n          if (newSel.col !== sel.col || newSel.row !== sel.row) {\n            return;\n          }\n          setMessageData(msg);\n        });\n        return;\n      }\n      setMessageData(message);\n    };\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      if (!e.selected) {\n        return;\n      }\n      if (e.before.col === e.col && e.before.row === e.row) {\n        return;\n      }\n      onSelectMessage(e);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n      const sel = grid.selection.select;\n      this._move(sel.col, sel.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, e => {\n      if (!grid.hasFocusGrid()) {\n        return;\n      }\n      const sel = grid.selection.select;\n      if (sel.col !== e.col || sel.row !== e.row) {\n        return;\n      }\n      onSelectMessage(e);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, _e => {\n      const sel = grid.selection.select;\n      onSelectMessage(sel);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, _e => {\n      this._detach();\n    });\n  }\n  _getMessageInstanceOfMessage(message) {\n    const messageInstances = this._messageInstances;\n    const {\n      type\n    } = normalizeMessage(message);\n    return messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n  }\n}\nexports.MessageHandler = MessageHandler;\n\n/***/ }),\n\n/***/ \"./columns/message/WarningMessage.js\":\n/*!*******************************************!*\\\n  !*** ./columns/message/WarningMessage.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarningMessage = void 0;\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\nconst WarningMessageElement_1 = __webpack_require__(/*! ./internal/WarningMessageElement */ \"./columns/message/internal/WarningMessageElement.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\nclass WarningMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new WarningMessageElement_1.WarningMessageElement();\n  }\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n    if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, ctx => {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: helper.getColor(helper.theme.messages.warnBgColor, context.col, context.row, ctx) || DEEP_ORANGE_A100,\n          color: bgColor,\n          boxWidth: helper.theme.messages.boxWidth,\n          markHeight: helper.theme.messages.markHeight\n        }, helper);\n      });\n    }\n  }\n}\nexports.WarningMessage = WarningMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/ErrorMessageElement.js\":\n/*!*********************************************************!*\\\n  !*** ./columns/message/internal/ErrorMessageElement.js ***!\n  \\*********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorMessageElement = void 0;\nconst MessageElement_1 = __webpack_require__(/*! ./MessageElement */ \"./columns/message/internal/MessageElement.js\");\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\n  constructor() {\n    super();\n    __webpack_require__(/*! @/columns/message/internal/ErrorMessageElement.css */ \"../src/js/columns/message/internal/ErrorMessageElement.css\");\n    this._rootElement.classList.add(CLASSNAME);\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n}\nexports.ErrorMessageElement = ErrorMessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/MessageElement.js\":\n/*!****************************************************!*\\\n  !*** ./columns/message/internal/MessageElement.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageElement = void 0;\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\nconst CLASSNAME = \"cheetah-grid__message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createMessageDomElement() {\n  __webpack_require__(/*! @/columns/message/internal/MessageElement.css */ \"../src/js/columns/message/internal/MessageElement.css\");\n  const rootElement = (0, dom_1.createElement)(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = (0, dom_1.createElement)(\"span\", {\n    classList: [MESSAGE_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\nclass MessageElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    const rootElement = this._rootElement = createMessageDomElement();\n    this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n  }\n  dispose() {\n    this.detach();\n    this._handler.dispose();\n    // @ts-expect-error -- ignore\n    delete this._rootElement;\n    // @ts-expect-error -- ignore\n    delete this._messageElement;\n  }\n  attach(grid, col, row, message) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = message.message;\n    } else {\n      this._detach();\n    }\n  }\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n  detach() {\n    this._detach();\n  }\n  _detach() {\n    const rootElement = this._rootElement;\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${left.toFixed()}px`;\n    rootElement.style.width = `${width.toFixed()}px`;\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n    return true;\n  }\n}\nexports.MessageElement = MessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/WarningMessageElement.js\":\n/*!***********************************************************!*\\\n  !*** ./columns/message/internal/WarningMessageElement.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarningMessageElement = void 0;\nconst MessageElement_1 = __webpack_require__(/*! ./MessageElement */ \"./columns/message/internal/MessageElement.js\");\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass WarningMessageElement extends MessageElement_1.MessageElement {\n  constructor() {\n    super();\n    __webpack_require__(/*! @/columns/message/internal/WarningMessageElement.css */ \"../src/js/columns/message/internal/WarningMessageElement.css\");\n    this._rootElement.classList.add(CLASSNAME);\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n}\nexports.WarningMessageElement = WarningMessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/messageUtils.js\":\n/*!*****************************************!*\\\n  !*** ./columns/message/messageUtils.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawInformationMarkBox = exports.drawExclamationMarkBox = void 0;\nconst Rect_1 = __webpack_require__(/*! ../../internal/Rect */ \"./internal/Rect.js\");\nfunction drawExclamationMarkBox(context, style, helper) {\n  const {\n    bgColor,\n    color,\n    boxWidth,\n    markHeight\n  } = style;\n  const ctx = context.getContext();\n  const rect = context.getRect();\n  // draw box\n  ctx.fillStyle = bgColor;\n  const boxRect = rect.copy();\n  boxRect.left = boxRect.right - (Number(boxWidth) || 24);\n  ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n  // draw exclamation mark\n  const fillColor = color;\n  const height = Number(markHeight) || 20;\n  const width = height / 5;\n  const left = boxRect.left + (boxRect.width - width) / 2;\n  const top = boxRect.top + (boxRect.height - height) / 2;\n  helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5 * 3), context, {\n    fillColor\n  });\n  helper.fillRectWithState(new Rect_1.Rect(left, top + height / 5 * 4, width, height / 5), context, {\n    fillColor\n  });\n}\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\nfunction drawInformationMarkBox(context, style, helper) {\n  const {\n    bgColor,\n    color,\n    boxWidth,\n    markHeight\n  } = style;\n  const ctx = context.getContext();\n  const rect = context.getRect();\n  // draw box\n  ctx.fillStyle = bgColor;\n  const boxRect = rect.copy();\n  boxRect.left = boxRect.right - (Number(boxWidth) || 24);\n  ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n  // draw i mark\n  const fillColor = color;\n  const height = Number(markHeight) || 20;\n  const width = height / 5;\n  const left = boxRect.left + (boxRect.width - width) / 2;\n  const top = boxRect.top + (boxRect.height - height) / 2;\n  helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\n    fillColor\n  });\n  helper.fillRectWithState(new Rect_1.Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, {\n    fillColor\n  });\n}\nexports.drawInformationMarkBox = drawInformationMarkBox;\n\n/***/ }),\n\n/***/ \"./columns/style.js\":\n/*!**************************!*\\\n  !*** ./columns/style.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\nconst BaseStyle_1 = __webpack_require__(/*! ./style/BaseStyle */ \"./columns/style/BaseStyle.js\");\nObject.defineProperty(exports, \"BaseStyle\", {\n  enumerable: true,\n  get: function () {\n    return BaseStyle_1.BaseStyle;\n  }\n});\nconst ButtonStyle_1 = __webpack_require__(/*! ./style/ButtonStyle */ \"./columns/style/ButtonStyle.js\");\nObject.defineProperty(exports, \"ButtonStyle\", {\n  enumerable: true,\n  get: function () {\n    return ButtonStyle_1.ButtonStyle;\n  }\n});\nconst CheckStyle_1 = __webpack_require__(/*! ./style/CheckStyle */ \"./columns/style/CheckStyle.js\");\nObject.defineProperty(exports, \"CheckStyle\", {\n  enumerable: true,\n  get: function () {\n    return CheckStyle_1.CheckStyle;\n  }\n});\nconst IconStyle_1 = __webpack_require__(/*! ./style/IconStyle */ \"./columns/style/IconStyle.js\");\nObject.defineProperty(exports, \"IconStyle\", {\n  enumerable: true,\n  get: function () {\n    return IconStyle_1.IconStyle;\n  }\n});\nconst ImageStyle_1 = __webpack_require__(/*! ./style/ImageStyle */ \"./columns/style/ImageStyle.js\");\nObject.defineProperty(exports, \"ImageStyle\", {\n  enumerable: true,\n  get: function () {\n    return ImageStyle_1.ImageStyle;\n  }\n});\nconst MenuStyle_1 = __webpack_require__(/*! ./style/MenuStyle */ \"./columns/style/MenuStyle.js\");\nObject.defineProperty(exports, \"MenuStyle\", {\n  enumerable: true,\n  get: function () {\n    return MenuStyle_1.MenuStyle;\n  }\n});\nconst MultilineTextStyle_1 = __webpack_require__(/*! ./style/MultilineTextStyle */ \"./columns/style/MultilineTextStyle.js\");\nObject.defineProperty(exports, \"MultilineTextStyle\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextStyle_1.MultilineTextStyle;\n  }\n});\nconst NumberStyle_1 = __webpack_require__(/*! ./style/NumberStyle */ \"./columns/style/NumberStyle.js\");\nObject.defineProperty(exports, \"NumberStyle\", {\n  enumerable: true,\n  get: function () {\n    return NumberStyle_1.NumberStyle;\n  }\n});\nconst PercentCompleteBarStyle_1 = __webpack_require__(/*! ./style/PercentCompleteBarStyle */ \"./columns/style/PercentCompleteBarStyle.js\");\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", {\n  enumerable: true,\n  get: function () {\n    return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n  }\n});\nconst RadioStyle_1 = __webpack_require__(/*! ./style/RadioStyle */ \"./columns/style/RadioStyle.js\");\nObject.defineProperty(exports, \"RadioStyle\", {\n  enumerable: true,\n  get: function () {\n    return RadioStyle_1.RadioStyle;\n  }\n});\nconst Style_1 = __webpack_require__(/*! ./style/Style */ \"./columns/style/Style.js\");\nObject.defineProperty(exports, \"Style\", {\n  enumerable: true,\n  get: function () {\n    return Style_1.Style;\n  }\n});\nconst {\n  EVENT_TYPE\n} = BaseStyle_1.BaseStyle;\nexports.EVENT_TYPE = EVENT_TYPE;\nfunction of(columnStyle,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nrecord, StyleClassDef = Style_1.Style, col, row) {\n  if (columnStyle) {\n    if (columnStyle instanceof BaseStyle_1.BaseStyle) {\n      return columnStyle;\n    } else if (typeof columnStyle === \"function\") {\n      return of(columnStyle(record, col, row), record, StyleClassDef, col, row);\n    } else if (record && columnStyle in record) {\n      return of(record[columnStyle], record, StyleClassDef, col, row);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new StyleClassDef(columnStyle);\n  } else {\n    return StyleClassDef.DEFAULT;\n  }\n}\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/style/BaseStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/BaseStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseStyle = void 0;\nconst EventTarget_1 = __webpack_require__(/*! ../../core/EventTarget */ \"./core/EventTarget.js\");\nconst STYLE_EVENT_TYPE = {\n  CHANGE_STYLE: \"change_style\"\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n  static get EVENT_TYPE() {\n    return STYLE_EVENT_TYPE;\n  }\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n  constructor({\n    bgColor,\n    indicatorTopLeft,\n    indicatorTopRight,\n    indicatorBottomRight,\n    indicatorBottomLeft\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n    this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\n    this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\n    this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\n    this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\n  }\n  get bgColor() {\n    return this._bgColor;\n  }\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n  get indicatorTopLeft() {\n    return this._indicatorTopLeft;\n  }\n  set indicatorTopLeft(indicatorTopLeft) {\n    this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\n    this.doChangeStyle();\n  }\n  get indicatorTopRight() {\n    return this._indicatorTopRight;\n  }\n  set indicatorTopRight(indicatorTopRight) {\n    this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\n    this.doChangeStyle();\n  }\n  get indicatorBottomRight() {\n    return this._indicatorBottomRight;\n  }\n  set indicatorBottomRight(indicatorBottomRight) {\n    this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\n    this.doChangeStyle();\n  }\n  get indicatorBottomLeft() {\n    return this._indicatorBottomLeft;\n  }\n  set indicatorBottomLeft(indicatorBottomLeft) {\n    this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\n    this.doChangeStyle();\n  }\n  doChangeStyle() {\n    this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\n  }\n  clone() {\n    return new BaseStyle(this);\n  }\n}\nexports.BaseStyle = BaseStyle;\nfunction normalizeIndicator(indicator) {\n  if (typeof indicator === \"string\") {\n    return {\n      style: indicator\n    };\n  }\n  return indicator;\n}\n\n/***/ }),\n\n/***/ \"./columns/style/BranchGraphStyle.js\":\n/*!*******************************************!*\\\n  !*** ./columns/style/BranchGraphStyle.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BranchGraphStyle = void 0;\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./columns/style/BaseStyle.js\");\nlet defaultStyle;\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\n  switch (index % 3) {\n    case 0:\n      return \"#979797\";\n    case 1:\n      return \"#008fb5\";\n    case 2:\n      return \"#f1c109\";\n    default:\n  }\n  return \"#979797\";\n};\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n    this._margin = style.margin || 4;\n    this._circleSize = style.circleSize || 16;\n    this._branchLineWidth = style.branchLineWidth || 4;\n    this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\n  }\n  get branchColors() {\n    return this._branchColors;\n  }\n  set branchColors(branchColors) {\n    this._branchColors = branchColors;\n    this.doChangeStyle();\n  }\n  get margin() {\n    return this._margin;\n  }\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n  get circleSize() {\n    return this._circleSize;\n  }\n  set circleSize(circleSize) {\n    this._circleSize = circleSize;\n    this.doChangeStyle();\n  }\n  get branchLineWidth() {\n    return this._branchLineWidth;\n  }\n  set branchLineWidth(branchLineWidth) {\n    this._branchLineWidth = branchLineWidth;\n    this.doChangeStyle();\n  }\n  get mergeStyle() {\n    return this._mergeStyle;\n  }\n  set mergeStyle(mergeStyle) {\n    this._mergeStyle = mergeStyle;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new BranchGraphStyle(this);\n  }\n}\nexports.BranchGraphStyle = BranchGraphStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/ButtonStyle.js\":\n/*!**************************************!*\\\n  !*** ./columns/style/ButtonStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass ButtonStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      buttonBgColor\n    } = style;\n    this._buttonBgColor = buttonBgColor;\n  }\n  get buttonBgColor() {\n    return this._buttonBgColor;\n  }\n  set buttonBgColor(buttonBgColor) {\n    this._buttonBgColor = buttonBgColor;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new ButtonStyle(this);\n  }\n}\nexports.ButtonStyle = ButtonStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/CheckStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/CheckStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckStyle = void 0;\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n  get borderColor() {\n    return this._borderColor;\n  }\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new CheckStyle(this);\n  }\n}\nexports.CheckStyle = CheckStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/IconStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/IconStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IconStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass IconStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n  }\n  clone() {\n    return new IconStyle(this);\n  }\n}\nexports.IconStyle = IconStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/ImageStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/ImageStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageStyle = void 0;\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n    this._imageSizing = style.imageSizing;\n    this._margin = style.margin || 4;\n  }\n  get imageSizing() {\n    return this._imageSizing;\n  }\n  set imageSizing(imageSizing) {\n    this._imageSizing = imageSizing;\n    this.doChangeStyle();\n  }\n  get margin() {\n    return this._margin;\n  }\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new ImageStyle(this);\n  }\n}\nexports.ImageStyle = ImageStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/MenuStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/MenuStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nlet defaultStyle;\nclass MenuStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MenuStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    const {\n      appearance\n    } = style;\n    this._appearance = appearance;\n  }\n  get appearance() {\n    return this._appearance || \"menulist-button\";\n  }\n  set appearance(appearance) {\n    this._appearance = appearance;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new MenuStyle(this);\n  }\n}\nexports.MenuStyle = MenuStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/MultilineTextStyle.js\":\n/*!*********************************************!*\\\n  !*** ./columns/style/MultilineTextStyle.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass MultilineTextStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textBaseline: \"top\"\n    }));\n    this._lineHeight = style.lineHeight || \"1em\";\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n  clone() {\n    return new MultilineTextStyle(this);\n  }\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n  get lineClamp() {\n    return this._lineClamp;\n  }\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n}\nexports.MultilineTextStyle = MultilineTextStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/NumberStyle.js\":\n/*!**************************************!*\\\n  !*** ./columns/style/NumberStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass NumberStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"right\"\n    }));\n  }\n  clone() {\n    return new NumberStyle(this);\n  }\n}\nexports.NumberStyle = NumberStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/PercentCompleteBarStyle.js\":\n/*!**************************************************!*\\\n  !*** ./columns/style/PercentCompleteBarStyle.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PercentCompleteBarStyle = void 0;\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = num => {\n  if (num > 80) {\n    return \"#20a8d8\";\n  }\n  if (num > 50) {\n    return \"#4dbd74\";\n  }\n  if (num > 20) {\n    return \"#ffc107\";\n  }\n  return \"#f86c6b\";\n};\nclass PercentCompleteBarStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n    this._barBgColor = style.barBgColor || \"#f0f3f5\";\n    this._barHeight = style.barHeight || 3;\n  }\n  get barColor() {\n    return this._barColor;\n  }\n  set barColor(barColor) {\n    this._barColor = barColor;\n    this.doChangeStyle();\n  }\n  get barBgColor() {\n    return this._barBgColor;\n  }\n  set barBgColor(barBgColor) {\n    this._barBgColor = barBgColor;\n    this.doChangeStyle();\n  }\n  get barHeight() {\n    return this._barHeight;\n  }\n  set barHeight(barHeight) {\n    this._barHeight = barHeight;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new PercentCompleteBarStyle(this);\n  }\n}\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/RadioStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/RadioStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioStyle = void 0;\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new RadioStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor\n    } = style;\n    this._checkColor = checkColor;\n    this._uncheckBorderColor = uncheckBorderColor;\n    this._checkBorderColor = checkBorderColor;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n  }\n  get checkColor() {\n    return this._checkColor;\n  }\n  set checkColor(checkColor) {\n    this._checkColor = checkColor;\n    this.doChangeStyle();\n  }\n  get uncheckBorderColor() {\n    return this._uncheckBorderColor;\n  }\n  set uncheckBorderColor(uncheckBorderColor) {\n    this._uncheckBorderColor = uncheckBorderColor;\n    this.doChangeStyle();\n  }\n  get checkBorderColor() {\n    return this._checkBorderColor;\n  }\n  set checkBorderColor(checkBorderColor) {\n    this._checkBorderColor = checkBorderColor;\n    this.doChangeStyle();\n  }\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new RadioStyle(this);\n  }\n}\nexports.RadioStyle = RadioStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/StdBaseStyle.js\":\n/*!***************************************!*\\\n  !*** ./columns/style/StdBaseStyle.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./columns/style/BaseStyle.js\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || \"left\";\n    this._textBaseline = style.textBaseline || \"middle\";\n  }\n  get textAlign() {\n    return this._textAlign;\n  }\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n  get textBaseline() {\n    return this._textBaseline;\n  }\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new StdBaseStyle(this);\n  }\n}\nexports.StdBaseStyle = StdBaseStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/Style.js\":\n/*!********************************!*\\\n  !*** ./columns/style/Style.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Style = void 0;\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._padding = style.padding;\n    this._textOverflow = style.textOverflow || \"clip\";\n    this._appendRightPx = style.appendRightPx;\n  }\n  get color() {\n    return this._color;\n  }\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n  get font() {\n    return this._font;\n  }\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n  get padding() {\n    return this._padding;\n  }\n  set padding(padding) {\n    this._padding = padding;\n    this.doChangeStyle();\n  }\n  get textOverflow() {\n    return this._textOverflow;\n  }\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n  get appendRightPx() {\n    return this._appendRightPx;\n  }\n  set appendRightPx(appendRightPx) {\n    this._appendRightPx = appendRightPx;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new Style(this);\n  }\n}\nexports.Style = Style;\n\n/***/ }),\n\n/***/ \"./columns/type.js\":\n/*!*************************!*\\\n  !*** ./columns/type.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\nconst BranchGraphColumn_1 = __webpack_require__(/*! ./type/BranchGraphColumn */ \"./columns/type/BranchGraphColumn.js\");\nObject.defineProperty(exports, \"BranchGraphColumn\", {\n  enumerable: true,\n  get: function () {\n    return BranchGraphColumn_1.BranchGraphColumn;\n  }\n});\nconst ButtonColumn_1 = __webpack_require__(/*! ./type/ButtonColumn */ \"./columns/type/ButtonColumn.js\");\nObject.defineProperty(exports, \"ButtonColumn\", {\n  enumerable: true,\n  get: function () {\n    return ButtonColumn_1.ButtonColumn;\n  }\n});\nconst CheckColumn_1 = __webpack_require__(/*! ./type/CheckColumn */ \"./columns/type/CheckColumn.js\");\nObject.defineProperty(exports, \"CheckColumn\", {\n  enumerable: true,\n  get: function () {\n    return CheckColumn_1.CheckColumn;\n  }\n});\nconst Column_1 = __webpack_require__(/*! ./type/Column */ \"./columns/type/Column.js\");\nObject.defineProperty(exports, \"Column\", {\n  enumerable: true,\n  get: function () {\n    return Column_1.Column;\n  }\n});\nconst IconColumn_1 = __webpack_require__(/*! ./type/IconColumn */ \"./columns/type/IconColumn.js\");\nObject.defineProperty(exports, \"IconColumn\", {\n  enumerable: true,\n  get: function () {\n    return IconColumn_1.IconColumn;\n  }\n});\nconst ImageColumn_1 = __webpack_require__(/*! ./type/ImageColumn */ \"./columns/type/ImageColumn.js\");\nObject.defineProperty(exports, \"ImageColumn\", {\n  enumerable: true,\n  get: function () {\n    return ImageColumn_1.ImageColumn;\n  }\n});\nconst MenuColumn_1 = __webpack_require__(/*! ./type/MenuColumn */ \"./columns/type/MenuColumn.js\");\nObject.defineProperty(exports, \"MenuColumn\", {\n  enumerable: true,\n  get: function () {\n    return MenuColumn_1.MenuColumn;\n  }\n});\nconst MultilineTextColumn_1 = __webpack_require__(/*! ./type/MultilineTextColumn */ \"./columns/type/MultilineTextColumn.js\");\nObject.defineProperty(exports, \"MultilineTextColumn\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextColumn_1.MultilineTextColumn;\n  }\n});\nconst NumberColumn_1 = __webpack_require__(/*! ./type/NumberColumn */ \"./columns/type/NumberColumn.js\");\nObject.defineProperty(exports, \"NumberColumn\", {\n  enumerable: true,\n  get: function () {\n    return NumberColumn_1.NumberColumn;\n  }\n});\nconst PercentCompleteBarColumn_1 = __webpack_require__(/*! ./type/PercentCompleteBarColumn */ \"./columns/type/PercentCompleteBarColumn.js\");\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", {\n  enumerable: true,\n  get: function () {\n    return PercentCompleteBarColumn_1.PercentCompleteBarColumn;\n  }\n});\nconst RadioColumn_1 = __webpack_require__(/*! ./type/RadioColumn */ \"./columns/type/RadioColumn.js\");\nObject.defineProperty(exports, \"RadioColumn\", {\n  enumerable: true,\n  get: function () {\n    return RadioColumn_1.RadioColumn;\n  }\n});\nconst TYPES = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DEFAULT: new Column_1.Column(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  NUMBER: new NumberColumn_1.NumberColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new CheckColumn_1.CheckColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RADIO: new RadioColumn_1.RadioColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  BUTTON: new ButtonColumn_1.ButtonColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  IMAGE: new ImageColumn_1.ImageColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn()\n};\nfunction of(columnType) {\n  if (!columnType) {\n    return TYPES.DEFAULT;\n  } else if (typeof columnType === \"string\") {\n    const key = columnType.toUpperCase();\n    return TYPES[key] || of(null);\n  } else {\n    return columnType;\n  }\n}\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/type/BaseColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/BaseColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseColumn = void 0;\nconst styleContents = __importStar(__webpack_require__(/*! ../style */ \"./columns/style.js\"));\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst BaseStyle_1 = __webpack_require__(/*! ../style/BaseStyle */ \"./columns/style/BaseStyle.js\");\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst handlers_1 = __webpack_require__(/*! ../indicator/handlers */ \"./columns/indicator/handlers.js\");\nconst {\n  setReadonly\n} = utils_1.obj;\nconst COLUMN_FADEIN_STATE_ID = (0, symbolManager_1.getColumnFadeinStateId)();\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n  if (column.fadeinWhenCallbackInPromise != null) {\n    return column.fadeinWhenCallbackInPromise;\n  }\n  return !!grid.configure(\"fadeinWhenCallbackInPromise\");\n}\nfunction getFadeinState(grid) {\n  let state = grid[COLUMN_FADEIN_STATE_ID];\n  if (!state) {\n    state = {\n      cells: {}\n    };\n    setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\n  }\n  return state;\n}\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n  return point => {\n    const state = getFadeinState(grid);\n    const stateKey = `${row}:${col}`;\n    if (point === 1) {\n      delete state.cells[stateKey];\n    } else {\n      state.cells[stateKey] = {\n        opacity: point\n      };\n    }\n    drawCellBase();\n    drawInternal();\n    const cellState = state.cells[stateKey];\n    if (cellState) {\n      //\n      const ctx = context.getContext();\n      ctx.globalAlpha = 1 - cellState.opacity;\n      try {\n        drawCellBase();\n      } finally {\n        ctx.globalAlpha = 1;\n      }\n    }\n  };\n}\nconst fadeinMgr = {\n  animate(grid, col, row, context, drawInternal, drawCellBase) {\n    // fadein animation\n    const state = getFadeinState(grid);\n    const activeFadeins = [_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n    state.activeFadeins = activeFadeins;\n    (0, animate_1.animate)(500, point => {\n      activeFadeins.forEach(f => f(point));\n      if (point === 1) {\n        delete state.activeFadeins;\n      }\n    });\n  },\n  margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n    const state = getFadeinState(grid);\n    if (state.activeFadeins) {\n      state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n    } else {\n      drawInternal();\n    }\n  }\n};\nclass BaseColumn {\n  constructor(option) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n    //Promisecallback\n    this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\n  }\n  get fadeinWhenCallbackInPromise() {\n    return this._fadeinWhenCallbackInPromise;\n  }\n  get StyleClass() {\n    return BaseStyle_1.BaseStyle;\n  }\n  onDrawCell(cellValue, info, context, grid) {\n    var _a;\n    const {\n      style,\n      getRecord,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase();\n    const record = getRecord();\n    let promise;\n    if ((0, utils_1.isPromise)(record)) {\n      promise = record;\n    } else if ((0, utils_1.isPromise)(cellValue)) {\n      promise = cellValue;\n    } else {\n      const msg = info.getMessage();\n      if ((0, utils_1.isPromise)(msg)) {\n        promise = msg;\n      }\n    }\n    //\n    if (promise) {\n      const start = Date.now();\n      return Promise.all([record, cellValue, promise.then(() => cellValue).then(() => info.getMessage())]).then(({\n        0: record,\n        1: val,\n        2: message\n      }) => {\n        const currentContext = context.toCurrentContext();\n        const drawRect = currentContext.getDrawRect();\n        if (!drawRect) {\n          return;\n        }\n        const time = Date.now() - start;\n        const drawInternal = () => {\n          const currentContext = context.toCurrentContext();\n          const drawRect = currentContext.getDrawRect();\n          if (!drawRect) {\n            return;\n          }\n          const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\n          this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n          this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\n          this.drawIndicatorsInternal(currentContext, actStyle, helper, grid, info);\n        };\n        if (!isFadeinWhenCallbackInPromise(this, grid)) {\n          drawInternal(); //\n        } else {\n          const {\n            col,\n            row\n          } = context;\n          if (time < 80) {\n            //80msPromiseCallback\n            fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n          } else {\n            //\n            fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n          }\n        }\n      });\n    } else {\n      const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\n      this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n      this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n      this.drawIndicatorsInternal(context, actStyle, helper, grid, info);\n      //\n      const {\n        col,\n        row\n      } = context;\n      const stateKey = `${col}:${row}`;\n      const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\n      if (cellState) {\n        const ctx = context.getContext();\n        ctx.globalAlpha = 1 - cellState.opacity;\n        try {\n          drawCellBase();\n        } finally {\n          ctx.globalAlpha = 1;\n        }\n      }\n      return undefined;\n    }\n  }\n  convertInternal(value) {\n    return value != null ? value : \"\";\n  }\n  drawMessageInternal(message, context, style, helper, grid, info) {\n    info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\n  }\n  drawIndicatorsInternal(context, style, helper, grid, info) {\n    var _a;\n    const {\n      indicatorTopLeft,\n      indicatorTopRight,\n      indicatorBottomRight,\n      indicatorBottomLeft\n    } = style;\n    for (const [indicatorStyle, kind] of [[indicatorTopLeft, 0 /* DrawIndicatorKind.topLeft */], [indicatorTopRight, 1 /* DrawIndicatorKind.topRight */], [indicatorBottomRight, 2 /* DrawIndicatorKind.bottomRight */], [indicatorBottomLeft, 3 /* DrawIndicatorKind.bottomLeft */]]) {\n      if (indicatorStyle) {\n        (_a = (0, handlers_1.getDrawIndicator)(indicatorStyle)) === null || _a === void 0 ? void 0 : _a(context, indicatorStyle, kind, helper, grid, info);\n      }\n    }\n  }\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n  getCopyCellValue(value, _grid, _cell) {\n    return value;\n  }\n}\nexports.BaseColumn = BaseColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/BranchGraphColumn.js\":\n/*!*******************************************!*\\\n  !*** ./columns/type/BranchGraphColumn.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BranchGraphColumn = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst BranchGraphStyle_1 = __webpack_require__(/*! ../style/BranchGraphStyle */ \"./columns/style/BranchGraphStyle.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst _ = (0, symbolManager_1.getBranchGraphColumnStateId)();\nfunction getAllColumnData(grid, field, callback) {\n  const {\n    dataSource\n  } = grid;\n  const allData = [];\n  let promise;\n  for (let index = 0; index < dataSource.length; index++) {\n    const data = dataSource.getField(index, field);\n    if ((0, utils_1.isPromise)(data)) {\n      const dataIndex = allData.length;\n      allData.push(undefined);\n      if (!promise) {\n        promise = data.then(d => {\n          allData[dataIndex] = d;\n        });\n      } else {\n        promise = promise.then(() => data).then(d => {\n          allData[dataIndex] = d;\n        });\n      }\n    } else {\n      allData.push(data);\n    }\n  }\n  if (promise) {\n    promise.then(() => callback(allData));\n  } else {\n    callback(allData);\n  }\n}\nclass BranchLine {\n  constructor({\n    fromIndex,\n    toIndex,\n    colorIndex,\n    point\n  }) {\n    this.fromIndex = fromIndex;\n    this.toIndex = toIndex;\n    this.colorIndex = colorIndex;\n    this.point = point;\n  }\n}\nclass BranchPoint {\n  constructor({\n    index,\n    commit = false,\n    lines = [],\n    tag\n  }) {\n    this.index = index;\n    this.commit = commit;\n    this.lines = lines;\n    this.tag = tag;\n  }\n  static mergeLines(lines) {\n    const result = lines.filter(l => l.fromIndex != null && l.toIndex != null);\n    const froms = lines.filter(l => l.fromIndex != null && l.toIndex == null);\n    const tos = lines.filter(l => l.fromIndex == null && l.toIndex != null);\n    froms.forEach(f => {\n      for (let i = 0; i < tos.length; i++) {\n        const t = tos[i];\n        if (t.point) {\n          continue;\n        }\n        if (f.colorIndex === t.colorIndex) {\n          f.toIndex = t.toIndex;\n          tos.splice(i, 1);\n          break;\n        }\n      }\n      result.push(f);\n    });\n    return result.concat(tos);\n  }\n  static merge(a, b) {\n    if (!a) {\n      return b;\n    }\n    return new BranchPoint({\n      index: a.index,\n      commit: a.commit || b.commit,\n      lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n      tag: a.tag || b.tag\n    });\n  }\n}\nfunction joinLine(timeline, branchIndex) {\n  const reverse = [...timeline].reverse();\n  for (let i = 0; i < reverse.length; i++) {\n    const f = reverse[i][branchIndex];\n    if (f) {\n      f.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n        toIndex: branchIndex,\n        colorIndex: branchIndex\n      })]));\n      for (let j = 0; j < i; j++) {\n        const tl = reverse[j];\n        tl[branchIndex] = new BranchPoint({\n          index: branchIndex,\n          lines: [new BranchLine({\n            fromIndex: branchIndex,\n            toIndex: branchIndex,\n            colorIndex: branchIndex\n          })]\n        });\n      }\n      return true;\n    }\n  }\n  return false;\n}\nfunction branch({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = from != null ? branches.indexOf(from) : -1;\n  let toIndex = branches.indexOf(to);\n  if (toIndex < 0) {\n    toIndex = branches.length;\n    branches.push(to);\n  }\n  function findBranchRootIndex() {\n    for (let index = timeline.length - 1; index >= 0; index--) {\n      const tl = timeline[index];\n      const from = tl[fromIndex];\n      if (from && from.commit) {\n        return index;\n      }\n    }\n    return -1;\n  }\n  if (fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex\n    });\n  } else {\n    const fromTargetIndex = findBranchRootIndex();\n    if (fromTargetIndex === -1) {\n      return null;\n    }\n    const branchTargetFromIndex = fromTargetIndex + 1;\n    const branchPoint = new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        fromIndex,\n        colorIndex: toIndex\n      })]\n    });\n    let point;\n    let result = null;\n    if (branchTargetFromIndex < timeline.length) {\n      const targetLine = timeline[branchTargetFromIndex];\n      point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n    } else {\n      point = branchPoint;\n      result = branchPoint;\n    }\n    const from = timeline[fromTargetIndex][fromIndex];\n    from.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n      toIndex,\n      colorIndex: toIndex,\n      point\n    })]));\n    return result;\n  }\n}\nfunction commit({\n  timeline,\n  branches\n}, name) {\n  const index = branches.indexOf(name);\n  if (index < 0) {\n    return null;\n  }\n  const result = new BranchPoint({\n    index,\n    commit: true\n  });\n  if (joinLine(timeline, index)) {\n    result.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n      fromIndex: index,\n      colorIndex: index\n    })]));\n  }\n  return result;\n}\nfunction commitTag({\n  branches\n}, name, tag) {\n  let index = branches.indexOf(name);\n  if (index < 0) {\n    index = branches.length;\n    branches.push(name);\n  }\n  return new BranchPoint({\n    index,\n    tag\n  });\n}\nfunction commitMerge({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  const toIndex = branches.indexOf(to);\n  if (toIndex < 0 || fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex,\n      commit: true\n    });\n  }\n  const result = new BranchPoint({\n    index: toIndex,\n    commit: true,\n    lines: [new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    }), new BranchLine({\n      fromIndex: toIndex,\n      colorIndex: toIndex\n    })]\n  });\n  const froms = [...timeline];\n  const fromTargetLine = froms.pop();\n  if (fromTargetLine) {\n    fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        toIndex,\n        colorIndex: fromIndex\n      })]\n    }));\n  }\n  if (joinLine(froms, fromIndex) && fromTargetLine) {\n    fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    })]));\n  }\n  joinLine(timeline, toIndex);\n  return result;\n}\nfunction calcCommand(info, command) {\n  const {\n    timeline\n  } = info;\n  const timelineData = [];\n  // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n  const commands = Array.isArray(command) ? command : [command];\n  commands.forEach(cmd => {\n    if (!cmd) {\n      return;\n    }\n    let point;\n    if (cmd.command === \"branch\") {\n      const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\n      const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n      point = branch(info, from, to);\n    } else if (cmd.command === \"commit\") {\n      const {\n        branch\n      } = cmd;\n      point = commit(info, branch);\n    } else if (cmd.command === \"merge\") {\n      const {\n        from,\n        to\n      } = cmd.branch;\n      point = commitMerge(info, from, to);\n    } else if (cmd.command === \"tag\") {\n      const {\n        branch,\n        tag\n      } = cmd;\n      point = commitTag(info, branch, tag);\n    }\n    if (point && point.index > -1) {\n      timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n    }\n  });\n  timeline.push(timelineData);\n}\nfunction calcBranchesInfo(start, grid, field) {\n  const result = {\n    branches: [],\n    timeline: []\n  };\n  getAllColumnData(grid, field, data => {\n    if (start !== \"top\") {\n      data = [...data].reverse();\n    }\n    data.forEach(command => {\n      calcCommand(result, command);\n    });\n  });\n  return result;\n}\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n  let w = Math.max(width / branches.length + 1, 5);\n  timeline.forEach(tl => {\n    tl.forEach((p, index) => {\n      if (index <= 0) {\n        // \n        return;\n      }\n      if (p.tag) {\n        const textWidth = ctx.measureText(p.tag).width;\n        if (w * index + radius * 2 + 4 + textWidth > width) {\n          w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n        }\n      }\n    });\n  });\n  const result = [];\n  let x = left;\n  branches.forEach(() => {\n    result.push(Math.ceil(x + radius));\n    x += w;\n  });\n  return result;\n}\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n  branchXPoints,\n  // margin,\n  branchColors,\n  branchLineWidth,\n  mergeStyle\n}, {\n  // width,\n  col,\n  row,\n  branches\n}) {\n  if (upLineIndex != null || downLineIndex != null) {\n    ctx.strokeStyle = (0, utils_1.getOrApply)(branchColors, branches[colorIndex], colorIndex);\n    ctx.lineWidth = branchLineWidth;\n    ctx.lineCap = \"round\";\n    ctx.beginPath();\n    if (upLineIndex != null) {\n      const upX = branchXPoints[upLineIndex];\n      const upRect = grid.getCellRelativeRect(col, row - 1);\n      const upY = upRect.top + upRect.height / 2;\n      ctx.moveTo(upX, upY);\n      if (mergeStyle === \"bezier\") {\n        ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    } else {\n      ctx.moveTo(x, y);\n    }\n    if (downLineIndex != null) {\n      const downX = branchXPoints[downLineIndex];\n      const downRect = grid.getCellRelativeRect(col, row + 1);\n      const downY = downRect.top + downRect.height / 2;\n      if (mergeStyle === \"bezier\") {\n        ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n      } else {\n        ctx.lineTo(downX, downY);\n      }\n    }\n    ctx.stroke();\n  }\n}\n/**\r\n * BranchGraphColumn\r\n *\r\n * Data commands\r\n * - mastar branch or orphan branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * ```\r\n *\r\n * - commit\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * ```\r\n *\r\n * - branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - merge\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - tag\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * ```\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._start = option.start || \"bottom\";\n    this._cache = option.cache != null ? option.cache : false;\n  }\n  get StyleClass() {\n    return BranchGraphStyle_1.BranchGraphStyle;\n  }\n  clearCache(grid) {\n    delete grid[_];\n  }\n  onDrawCell(cellValue, info, context, grid) {\n    if (this._cache) {\n      const state = grid[_] || (grid[_] = new Map());\n      const {\n        col,\n        row\n      } = context;\n      const field = grid.getField(col, row);\n      if (!state.has(field)) {\n        state.set(field, calcBranchesInfo(this._start, grid, field));\n      }\n    }\n    return super.onDrawCell(cellValue, info, context, grid);\n  }\n  clone() {\n    return new BranchGraphColumn(this);\n  }\n  drawInternal(_value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a, _b;\n    const {\n      col,\n      row\n    } = context;\n    const field = grid.getField(col, row);\n    const {\n      timeline,\n      branches\n    } = (_b = this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\n    const {\n      upLineIndexKey,\n      downLineIndexKey\n    } = this._start !== \"top\" ? {\n      upLineIndexKey: \"toIndex\",\n      downLineIndexKey: \"fromIndex\"\n    } : {\n      upLineIndexKey: \"fromIndex\",\n      downLineIndexKey: \"toIndex\"\n    };\n    const data = this._start !== \"top\" ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n    const {\n      branchColors,\n      branchLineWidth,\n      circleSize,\n      mergeStyle,\n      margin,\n      bgColor\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const rect = context.getRect();\n    const radius = circleSize / 2;\n    const width = rect.width - margin * 2;\n    helper.drawWithClip(context, ctx => {\n      ctx.textAlign = \"left\";\n      ctx.textBaseline = \"middle\";\n      const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n      const y = rect.top + rect.height / 2;\n      // draw join lines\n      data.map((point, index) => point ? point.lines.map(line => ({\n        colorIndex: line.colorIndex,\n        upLineIndex: line[upLineIndexKey],\n        downLineIndex: line[downLineIndexKey],\n        pointIndex: index\n      })) : []).reduce((p, c) => p.concat(c), []) // flatMap\n      // order of overlap\n      .sort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n        const x = branchXPoints[line.pointIndex];\n        renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n          margin,\n          branchXPoints,\n          branchLineWidth,\n          branchColors,\n          mergeStyle\n        }, {\n          width,\n          col,\n          row,\n          branches\n        });\n      });\n      // draw commit points\n      data.forEach((p, index) => {\n        if (p && p.commit) {\n          const x = branchXPoints[index];\n          ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n          ctx.fill();\n          ctx.closePath();\n        }\n      });\n      // draw tags\n      data.forEach((p, index) => {\n        if (p && p.tag) {\n          ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\n          ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n        }\n      });\n    });\n  }\n}\nexports.BranchGraphColumn = BranchGraphColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/ButtonColumn.js\":\n/*!**************************************!*\\\n  !*** ./columns/type/ButtonColumn.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonColumn = void 0;\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\nconst ButtonStyle_1 = __webpack_require__(/*! ../style/ButtonStyle */ \"./columns/style/ButtonStyle.js\");\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\nclass ButtonColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._caption = option.caption;\n  }\n  get StyleClass() {\n    return ButtonStyle_1.ButtonStyle;\n  }\n  get caption() {\n    return this._caption;\n  }\n  withCaption(caption) {\n    const c = this.clone();\n    c._caption = caption;\n    return c;\n  }\n  clone() {\n    return new ButtonColumn(this);\n  }\n  convertInternal(value) {\n    return this._caption || super.convertInternal(value);\n  }\n  getCopyCellValue(value) {\n    return this._caption || value;\n  }\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      bgColor,\n      color,\n      buttonBgColor,\n      font,\n      padding,\n      textOverflow\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    helper.testFontLoad(font, textValue, context);\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    let active = false;\n    const state = grid[BUTTON_COLUMN_STATE_ID];\n    if (state) {\n      if (state.mouseActiveCell && (0, utils_1.cellInRange)(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\n        active = true;\n      } else {\n        const {\n          select\n        } = context.getSelection();\n        if ((0, utils_1.cellInRange)(range, select.col, select.row)) {\n          active = true;\n        }\n      }\n    }\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.button(textValue, context, {\n        textAlign,\n        textBaseline,\n        bgColor: buttonBgColor,\n        color,\n        font,\n        padding,\n        shadow: active ? {\n          color: \"rgba(0, 0, 0, 0.48)\",\n          blur: 6,\n          offsetY: 3\n        } : {},\n        textOverflow,\n        icons\n      });\n    });\n  }\n}\nexports.ButtonColumn = ButtonColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/CheckColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/CheckColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckColumn = void 0;\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst CheckStyle_1 = __webpack_require__(/*! ../style/CheckStyle */ \"./columns/style/CheckStyle.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\nclass CheckColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return CheckStyle_1.CheckStyle;\n  }\n  clone() {\n    return new CheckColumn(this);\n  }\n  convertInternal(value) {\n    return (0, utils_1.toBoolean)(value);\n  }\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a;\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n    helper.checkbox(value, context, opt);\n  }\n}\nexports.CheckColumn = CheckColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/Column.js\":\n/*!********************************!*\\\n  !*** ./columns/type/Column.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Column = void 0;\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst Style_1 = __webpack_require__(/*! ../style/Style */ \"./columns/style/Style.js\");\nclass Column extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return Style_1.Style;\n  }\n  clone() {\n    return new Column(this);\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      appendRightPx\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    helper.testFontLoad(font, textValue, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.text(textValue, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        textOverflow,\n        icons,\n        appendRightPx\n      });\n    });\n  }\n}\nexports.Column = Column;\n\n/***/ }),\n\n/***/ \"./columns/type/IconColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/IconColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IconColumn = void 0;\nconst icons = __importStar(__webpack_require__(/*! ../../internal/icons */ \"./internal/icons.js\"));\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\nconst IconStyle_1 = __webpack_require__(/*! ../style/IconStyle */ \"./columns/style/IconStyle.js\");\nfunction repeatArray(val, count) {\n  if (count === Infinity) {\n    count = 0;\n  }\n  const a = [];\n  for (let i = 0; i < count; i++) {\n    a.push(val);\n  }\n  return a;\n}\nclass IconColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._tagName = option.tagName || \"i\";\n    this._className = option.className;\n    this._content = option.content;\n    this._name = option.name;\n    this._iconWidth = option.iconWidth;\n  }\n  get StyleClass() {\n    return IconStyle_1.IconStyle;\n  }\n  clone() {\n    return new IconColumn(this);\n  }\n  drawInternal(value, context, style, helper, grid, info) {\n    const num = Number(value);\n    if (!isNaN(num)) {\n      const icon = {};\n      icons.iconPropKeys.forEach(k => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        icon[k] = style[k];\n      });\n      icon.className = this._className;\n      icon.tagName = this._tagName;\n      if (this._content) {\n        icon.content = this._content;\n      }\n      icon.name = this._name;\n      if (this._iconWidth) {\n        icon.width = this._iconWidth;\n      }\n      info.getIcon = () => repeatArray(icon, num);\n    } else {\n      info.getIcon = () => null;\n    }\n    super.drawInternal(\"\", context, style, helper, grid, info);\n  }\n}\nexports.IconColumn = IconColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/ImageColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/ImageColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageColumn = void 0;\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst ImageStyle_1 = __webpack_require__(/*! ../style/ImageStyle */ \"./columns/style/ImageStyle.js\");\nconst canvases_1 = __webpack_require__(/*! ../../internal/canvases */ \"./internal/canvases.js\");\nconst imgs_1 = __webpack_require__(/*! ../../internal/imgs */ \"./internal/imgs.js\");\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n  return (0, imgs_1.getCacheOrLoad)(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\n}\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n  let newWidth = width;\n  let newHeight = height;\n  if (newWidth > maxWidth) {\n    newWidth = maxWidth;\n    newHeight = newWidth * height / width;\n  }\n  if (newHeight > maxHeight) {\n    newHeight = maxHeight;\n    newWidth = newHeight * width / height;\n  }\n  return {\n    width: newWidth,\n    height: newHeight\n  };\n}\nclass ImageColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return ImageStyle_1.ImageStyle;\n  }\n  onDrawCell(cellValue, info, context, grid) {\n    return super.onDrawCell(getImage(cellValue), info, context, grid);\n  }\n  clone() {\n    return new ImageColumn(this);\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase\n  }) {\n    if (value) {\n      const {\n        textAlign,\n        textBaseline,\n        margin,\n        bgColor\n      } = style;\n      if (bgColor) {\n        drawCellBase({\n          bgColor\n        });\n      }\n      helper.drawWithClip(context, ctx => {\n        ctx.textAlign = textAlign;\n        ctx.textBaseline = textBaseline;\n        const rect = context.getRect();\n        if (style.imageSizing === \"keep-aspect-ratio\") {\n          const {\n            width,\n            height\n          } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n          const pos = (0, canvases_1.calcStartPosition)(ctx, rect, width, height, {\n            offset: margin\n          });\n          ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n        } else {\n          ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n        }\n      });\n    }\n  }\n}\nexports.ImageColumn = ImageColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/MenuColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/MenuColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuColumn = void 0;\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst MenuStyle_1 = __webpack_require__(/*! ../style/MenuStyle */ \"./columns/style/MenuStyle.js\");\nconst menu_items_1 = __webpack_require__(/*! ../../internal/menu-items */ \"./internal/menu-items.js\");\nclass MenuColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._options = (0, menu_items_1.normalize)(option.options);\n  }\n  get StyleClass() {\n    return MenuStyle_1.MenuStyle;\n  }\n  clone() {\n    return new MenuColumn(this);\n  }\n  get options() {\n    return this._options;\n  }\n  withOptions(options) {\n    const c = this.clone();\n    c._options = (0, menu_items_1.normalize)(options);\n    return c;\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      appearance\n    } = style;\n    let {\n      color\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const convertedValue = this._convertInternal(value);\n    const text = convertedValue != null ? String(convertedValue) : \"\";\n    helper.testFontLoad(font, text, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n      const textPadding = basePadding.slice(0);\n      textPadding[1] += 26; // icon padding\n      const iconPadding = basePadding.slice(0);\n      iconPadding[1] += 8;\n      if (color == null && (value == null || value === \"\")) {\n        color = \"rgba(0, 0, 0, .38)\";\n      }\n      helper.text(text, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding: textPadding,\n        textOverflow,\n        icons\n      });\n      if (appearance === \"menulist-button\") {\n        // draw dropdown arrow icon\n        helper.text(\"\", context, {\n          textAlign: \"right\",\n          textBaseline,\n          color,\n          font,\n          icons: [{\n            path: \"M0 2 5 7 10 2z\",\n            width: 10,\n            color: \"rgba(0, 0, 0, .54)\"\n          }],\n          padding: iconPadding\n        });\n      } else if (appearance !== \"none\") {\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        console.warn(`unsupported appearance:${appearance}`);\n      }\n    });\n  }\n  convertInternal(value) {\n    return value;\n  }\n  _convertInternal(value) {\n    const options = this._options;\n    for (let i = 0; i < options.length; i++) {\n      const option = options[i];\n      if (option.value === value) {\n        value = option.label;\n        break;\n      }\n    }\n    return super.convertInternal(value);\n  }\n  getCopyCellValue(value) {\n    return this._convertInternal(value);\n  }\n}\nexports.MenuColumn = MenuColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/MultilineTextColumn.js\":\n/*!*********************************************!*\\\n  !*** ./columns/type/MultilineTextColumn.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextColumn = void 0;\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst MultilineTextStyle_1 = __webpack_require__(/*! ../style/MultilineTextStyle */ \"./columns/style/MultilineTextStyle.js\");\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n  }\n  get StyleClass() {\n    return MultilineTextStyle_1.MultilineTextStyle;\n  }\n  clone() {\n    return new MultilineTextColumn(this);\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    const multilines = textValue.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n    helper.testFontLoad(font, textValue, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.multilineText(multilines, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n}\nexports.MultilineTextColumn = MultilineTextColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/NumberColumn.js\":\n/*!**************************************!*\\\n  !*** ./columns/type/NumberColumn.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberColumn = void 0;\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\nconst NumberStyle_1 = __webpack_require__(/*! ../style/NumberStyle */ \"./columns/style/NumberStyle.js\");\nlet defaultFotmat;\nclass NumberColumn extends Column_1.Column {\n  static get defaultFotmat() {\n    return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n  }\n  static set defaultFotmat(fmt) {\n    defaultFotmat = fmt;\n  }\n  constructor(option = {}) {\n    super(option);\n    this._format = option.format;\n  }\n  get StyleClass() {\n    return NumberStyle_1.NumberStyle;\n  }\n  clone() {\n    return new NumberColumn(this);\n  }\n  get format() {\n    return this._format;\n  }\n  withFormat(format) {\n    const c = this.clone();\n    c._format = format;\n    return c;\n  }\n  convertInternal(value) {\n    const num = Number(value);\n    if (isNaN(num)) {\n      const convertedValue = super.convertInternal(value);\n      return convertedValue != null ? String(convertedValue) : \"\";\n    }\n    const format = this._format || NumberColumn.defaultFotmat;\n    return format.format(num);\n  }\n}\nexports.NumberColumn = NumberColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/PercentCompleteBarColumn.js\":\n/*!**************************************************!*\\\n  !*** ./columns/type/PercentCompleteBarColumn.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PercentCompleteBarColumn = void 0;\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\nconst PercentCompleteBarStyle_1 = __webpack_require__(/*! ../style/PercentCompleteBarStyle */ \"./columns/style/PercentCompleteBarStyle.js\");\nconst MARGIN = 2;\nclass PercentCompleteBarColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._min = option.min || 0;\n    this._max = option.max || this._min + 100;\n    this._formatter = option.formatter || (v => v);\n  }\n  get StyleClass() {\n    return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n  }\n  clone() {\n    return new PercentCompleteBarColumn(this);\n  }\n  drawInternal(value, context, style, helper, grid, info) {\n    super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n    const {\n      barColor,\n      barBgColor,\n      barHeight\n    } = style;\n    let textValue = value != null ? String(value) : \"\";\n    if (utils_1.str.endsWith(textValue, \"%\")) {\n      textValue = textValue.slice(0, -1);\n    }\n    const num = Number(textValue);\n    if (isNaN(num)) {\n      return;\n    }\n    const rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n    helper.drawWithClip(context, ctx => {\n      const rect = context.getRect();\n      const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\n      const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\n      const barLeft = rect.left + MARGIN;\n      ctx.fillStyle = (0, utils_1.getOrApply)(barBgColor, rate * 100) || \"#f0f3f5\";\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n      ctx.fill();\n      const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n      ctx.fillStyle = (0, utils_1.getOrApply)(barColor, rate * 100) || \"#20a8d8\";\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barSize, barHeight);\n      ctx.fill();\n    });\n  }\n}\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/RadioColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/RadioColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioColumn = void 0;\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\nconst RadioStyle_1 = __webpack_require__(/*! ../style/RadioStyle */ \"./columns/style/RadioStyle.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\nclass RadioColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return RadioStyle_1.RadioStyle;\n  }\n  clone() {\n    return new RadioColumn(this);\n  }\n  convertInternal(value) {\n    return (0, utils_1.toBoolean)(value);\n  }\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a;\n    const {\n      textAlign,\n      textBaseline,\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor,\n      bgColor\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n    const opt = {\n      textAlign,\n      textBaseline,\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor\n    };\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n    helper.radioButton(value, context, opt);\n  }\n}\nexports.RadioColumn = RadioColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/columnUtils.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/columnUtils.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadIcons = void 0;\nconst icons = __importStar(__webpack_require__(/*! ../../internal/icons */ \"./internal/icons.js\"));\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nfunction loadIcons(icon, context, helper, callback) {\n  let argIcon = undefined;\n  if (icon) {\n    if ((0, utils_1.isPromise)(icon)) {\n      icon.then(i => {\n        loadIcons(i, context.toCurrentContext(), helper, callback);\n      });\n    } else {\n      const iconList = icons.toNormalizeArray(icon);\n      iconList.forEach(i => {\n        if (i.font && i.content) {\n          helper.testFontLoad(i.font, i.content, context);\n        }\n      });\n      argIcon = iconList;\n    }\n  }\n  callback(argIcon, context);\n}\nexports.loadIcons = loadIcons;\n\n/***/ }),\n\n/***/ \"./columns/utils/index.js\":\n/*!********************************!*\\\n  !*** ./columns/utils/index.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toBoolean = void 0;\nfunction toBoolean(val) {\n  if (typeof val === \"string\") {\n    if (val === \"false\") {\n      return false;\n    } else if (val === \"off\") {\n      return false;\n    } else if (/^0+$/.exec(val)) {\n      return false;\n    }\n  }\n  return Boolean(val);\n}\nexports.toBoolean = toBoolean;\n\n/***/ }),\n\n/***/ \"./core.js\":\n/*!*****************!*\\\n  !*** ./core.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\nconst DrawGrid_1 = __webpack_require__(/*! ./core/DrawGrid */ \"./core/DrawGrid.js\");\nObject.defineProperty(exports, \"DrawGrid\", {\n  enumerable: true,\n  get: function () {\n    return DrawGrid_1.DrawGrid;\n  }\n});\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ./core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nObject.defineProperty(exports, \"EVENT_TYPE\", {\n  enumerable: true,\n  get: function () {\n    return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n  }\n});\n\n/***/ }),\n\n/***/ \"./core/DG_EVENT_TYPE.js\":\n/*!*******************************!*\\\n  !*** ./core/DG_EVENT_TYPE.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DG_EVENT_TYPE = void 0;\n/**\r\n * DrawGrid event types\r\n * @classdesc cheetahGrid.core.EVENT_TYPE\r\n * @memberof cheetahGrid.core\r\n */\nexports.DG_EVENT_TYPE = {\n  CLICK_CELL: \"click_cell\",\n  DBLCLICK_CELL: \"dblclick_cell\",\n  DBLTAP_CELL: \"dbltap_cell\",\n  MOUSEDOWN_CELL: \"mousedown_cell\",\n  MOUSEDOWN_GRID: 'mousedown_grid',\n  MOUSEUP_CELL: \"mouseup_cell\",\n  SELECTED_CELL: \"selected_cell\",\n  KEYDOWN: \"keydown\",\n  MOUSEMOVE_CELL: \"mousemove_cell\",\n  MOUSEENTER_CELL: \"mouseenter_cell\",\n  MOUSELEAVE_CELL: \"mouseleave_cell\",\n  MOUSEOVER_CELL: \"mouseover_cell\",\n  MOUSEOUT_CELL: \"mouseout_cell\",\n  TOUCHSTART_CELL: \"touchstart_cell\",\n  CONTEXTMENU_CELL: \"contextmenu_cell\",\n  INPUT_CELL: \"input_cell\",\n  PASTE_CELL: \"paste_cell\",\n  DELETE_CELL: \"delete_cell\",\n  EDITABLEINPUT_CELL: \"editableinput_cell\",\n  MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\n  RESIZE_COLUMN: \"resize_column\",\n  SCROLL: \"scroll\",\n  FOCUS_GRID: \"focus_grid\",\n  BLUR_GRID: \"blur_grid\"\n};\n\n/***/ }),\n\n/***/ \"./core/DrawGrid.js\":\n/*!**************************!*\\\n  !*** ./core/DrawGrid.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DrawGrid = void 0;\nconst calc = __importStar(__webpack_require__(/*! ../internal/calc */ \"./internal/calc.js\"));\nconst hiDPI = __importStar(__webpack_require__(/*! ../internal/hiDPI */ \"./internal/hiDPI.js\"));\nconst style = __importStar(__webpack_require__(/*! ../internal/style */ \"./internal/style.js\"));\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst paste_utils_1 = __webpack_require__(/*! ../internal/paste-utils */ \"./internal/paste-utils.js\");\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ./DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst EventHandler_1 = __webpack_require__(/*! ../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst EventTarget_1 = __webpack_require__(/*! ./EventTarget */ \"./core/EventTarget.js\");\nconst NumberMap_1 = __webpack_require__(/*! ../internal/NumberMap */ \"./internal/NumberMap.js\");\nconst Rect_1 = __webpack_require__(/*! ../internal/Rect */ \"./internal/Rect.js\");\nconst Scrollable_1 = __webpack_require__(/*! ../internal/Scrollable */ \"./internal/Scrollable.js\");\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\n//protected symbol\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst {\n  /** @private */\n  isTouchEvent,\n  /** @private */\n  getMouseButtons,\n  /** @private */\n  getKeyCode,\n  /** @private */\n  cancel: cancelEvent\n} = utils_1.event;\n/** @private */\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\n/** @private */\nfunction createRootElement() {\n  const element = document.createElement(\"div\");\n  element.classList.add(\"cheetah-grid\");\n  return element;\n}\n/** @private */\nconst KEY_BS = 8;\n/** @private */\nconst KEY_TAB = 9;\n/** @private */\nconst KEY_ENTER = 13;\n/** @private */\nconst KEY_END = 35;\n/** @private */\nconst KEY_HOME = 36;\n/** @private */\nconst KEY_LEFT = 37;\n/** @private */\nconst KEY_UP = 38;\n/** @private */\nconst KEY_RIGHT = 39;\n/** @private */\nconst KEY_DOWN = 40;\n/** @private */\nconst KEY_DEL = 46;\n/** @private */\nconst KEY_ALPHA_A = 65;\n/** @private */\nconst KEY_ALPHA_C = 67;\n/** @private */\nconst KEY_ALPHA_V = 86;\n//private methods\n/** @private */\nfunction _vibrate(e) {\n  if (navigator.vibrate && isTouchEvent(e)) {\n    navigator.vibrate(50);\n  }\n}\n/** @private */\nfunction _getTargetRowAt(absoluteY) {\n  const internal = this.getTargetRowAtInternal(absoluteY);\n  if (internal != null) {\n    return internal;\n  }\n  const findBefore = (startRow, startBottom) => {\n    let bottom = startBottom;\n    for (let row = startRow; row >= 0; row--) {\n      const height = _getRowHeight.call(this, row);\n      const top = bottom - height;\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n      bottom = top;\n    }\n    return null;\n  };\n  const findAfter = (startRow, startBottom) => {\n    let top = startBottom - _getRowHeight.call(this, startRow);\n    const {\n      rowCount\n    } = this[_];\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight.call(this, row);\n      const bottom = top + height;\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n      top = bottom;\n    }\n    return null;\n  };\n  const candidateRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\n  const bottom = _getRowsHeight.call(this, 0, candidateRow);\n  if (absoluteY >= bottom) {\n    return findAfter(candidateRow, bottom);\n  } else {\n    return findBefore(candidateRow, bottom);\n  }\n}\n/** @private */\nfunction _getTargetColAt(grid, absoluteX) {\n  let left = 0;\n  const {\n    colCount\n  } = grid[_];\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n    const right = left + width;\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n    left = right;\n  }\n  return null;\n}\n/** @private */\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n  let {\n    top\n  } = grid[_].scroll;\n  const rowCount = grid[_].frozenRowCount;\n  for (let row = 0; row < rowCount; row++) {\n    const height = _getRowHeight.call(grid, row);\n    const bottom = top + height;\n    if (bottom > absoluteY) {\n      return {\n        top,\n        row\n      };\n    }\n    top = bottom;\n  }\n  return null;\n}\n/** @private */\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n  let {\n    left\n  } = grid[_].scroll;\n  const colCount = grid[_].frozenColCount;\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n    const right = left + width;\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n    left = right;\n  }\n  return null;\n}\n/** @private */\nfunction _getFrozenRowsRect(grid) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n  const {\n    top\n  } = grid[_].scroll;\n  let height = 0;\n  const rowCount = grid[_].frozenRowCount;\n  for (let row = 0; row < rowCount; row++) {\n    height += _getRowHeight.call(grid, row);\n  }\n  return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n/** @private */\nfunction _getFrozenColsRect(grid) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n  const {\n    left\n  } = grid[_].scroll;\n  let width = 0;\n  const colCount = grid[_].frozenColCount;\n  for (let col = 0; col < colCount; col++) {\n    width += _getColWidth(grid, col);\n  }\n  return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n/** @private */\nfunction _getCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return null;\n  }\n  return grid[_].drawCells[row][col];\n}\n/** @private */\nfunction _putCellDrawing(grid, col, row, context) {\n  if (!grid[_].drawCells[row]) {\n    grid[_].drawCells[row] = {};\n  }\n  grid[_].drawCells[row][col] = context;\n}\n/** @private */\nfunction _removeCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return;\n  }\n  delete grid[_].drawCells[row][col];\n  if (Object.keys(grid[_].drawCells[row]).length === 0) {\n    delete grid[_].drawCells[row];\n  }\n}\n/** @private */\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n  const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n  const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n  if (drawRect.height > 0 && drawRect.width > 0) {\n    ctx.save();\n    try {\n      const cellDrawing = _getCellDrawing(this, col, row);\n      if (cellDrawing) {\n        cellDrawing.cancel();\n      }\n      const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\n      const p = this.onDrawCell(col, row, dcContext);\n      if ((0, utils_1.isPromise)(p)) {\n        //\n        _putCellDrawing(this, col, row, dcContext);\n        const pCol = col;\n        dcContext._delayMode(this, () => {\n          _removeCellDrawing(this, pCol, row);\n        });\n        p.then(() => {\n          dcContext.terminate();\n        });\n      }\n    } finally {\n      ctx.restore();\n    }\n  }\n}\n/** @private */\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n  const {\n    colCount\n  } = grid[_];\n  const drawOuter = (col, absoluteLeft) => {\n    //\n    if (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n      const outerLeft = absoluteLeft - visibleRect.left;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n      ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n  let skipAbsoluteLeft = 0;\n  if (initFrozenCol) {\n    let absoluteLeft = initFrozenCol.left;\n    const count = grid[_].frozenColCount;\n    for (let {\n      col\n    } = initFrozenCol; col < count; col++) {\n      const width = _getColWidth(grid, col);\n      _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n      absoluteLeft += width;\n      if (drawRight <= absoluteLeft) {\n        //\n        drawOuter(col, absoluteLeft);\n        return;\n      }\n    }\n    skipAbsoluteLeft = absoluteLeft;\n  }\n  let absoluteLeft = initCol.left;\n  for (let {\n    col\n  } = initCol; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n    _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n    absoluteLeft += width;\n    if (drawRight <= absoluteLeft) {\n      //\n      drawOuter(col, absoluteLeft);\n      return;\n    }\n  }\n  drawOuter(colCount - 1, absoluteLeft);\n}\n/** @private */\nfunction _getInitContext() {\n  return this._getInitContext();\n}\n/** @private */\nfunction _invalidateRect(grid, drawRect) {\n  const visibleRect = _getVisibleRect(grid);\n  const {\n    rowCount\n  } = grid[_];\n  const ctx = _getInitContext.call(grid);\n  const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\n    top: _getRowsHeight.call(grid, 0, rowCount - 1),\n    row: rowCount\n  };\n  const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n    left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n    col: grid[_].colCount\n  };\n  const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n  const drawRight = Math.min(visibleRect.right, drawRect.right);\n  const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n  const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n  const drawLayers = new DrawLayers();\n  const drawOuter = (row, absoluteTop) => {\n    //\n    if (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n      const outerTop = absoluteTop - visibleRect.top;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n      ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n  let skipAbsoluteTop = 0;\n  if (initFrozenRow) {\n    let absoluteTop = initFrozenRow.top;\n    const count = grid[_].frozenRowCount;\n    for (let {\n      row\n    } = initFrozenRow; row < count; row++) {\n      const height = _getRowHeight.call(grid, row);\n      _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n      absoluteTop += height;\n      if (drawBottom <= absoluteTop) {\n        //\n        drawOuter(row, absoluteTop);\n        drawLayers.draw(ctx);\n        return;\n      }\n    }\n    skipAbsoluteTop = absoluteTop;\n  }\n  let absoluteTop = initRow.top;\n  for (let {\n    row\n  } = initRow; row < rowCount; row++) {\n    const height = _getRowHeight.call(grid, row);\n    //\n    _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n    absoluteTop += height;\n    if (drawBottom <= absoluteTop) {\n      //\n      drawOuter(row, absoluteTop);\n      drawLayers.draw(ctx);\n      return;\n    }\n  }\n  drawOuter(rowCount - 1, absoluteTop);\n  drawLayers.draw(ctx);\n}\n/** @private */\nfunction _toPxWidth(grid, width) {\n  return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n/** @private */\nfunction _adjustColWidth(grid, col, orgWidth) {\n  const limits = _getColWidthLimits(grid, col);\n  return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\n}\n/** @private */\nfunction _applyColWidthLimits(limits, orgWidth) {\n  if (!limits) {\n    return orgWidth;\n  }\n  if (limits.min) {\n    if (limits.min > orgWidth) {\n      return limits.min;\n    }\n  }\n  if (limits.max) {\n    if (limits.max < orgWidth) {\n      return limits.max;\n    }\n  }\n  return orgWidth;\n}\n/**\r\n * Gets the definition of the column width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {string|number} width definition\r\n * @private\r\n */\nfunction _getColWidthDefine(grid, col) {\n  const width = grid[_].colWidthsMap.get(col);\n  if (width) {\n    return width;\n  }\n  return grid.defaultColWidth;\n}\n/**\r\n * Gets the column width limits.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {object|null} the column width limits\r\n * @private\r\n */\nfunction _getColWidthLimits(grid, col) {\n  const limit = grid[_].colWidthsLimit[col];\n  if (!limit) {\n    return null;\n  }\n  const result = {};\n  if (limit.min) {\n    result.min = _toPxWidth(grid, limit.min);\n    result.minDef = limit.min;\n  }\n  if (limit.max) {\n    result.max = _toPxWidth(grid, limit.max);\n    result.maxDef = limit.max;\n  }\n  return result;\n}\n/**\r\n * Checks if the given width definition is `auto`.\r\n * @param {string|number} width width definition to check\r\n * @returns {boolean} `true ` if the given width definition is `auto`\r\n * @private\r\n */\nfunction isAutoDefine(width) {\n  return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\n}\n/**\r\n * Creates a formula to calculate the auto width.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {string} formula\r\n * @private\r\n */\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\n  const fullWidth = grid[_].calcWidthContext.full;\n  let sumMin = 0;\n  const others = [];\n  let autoCount = 0;\n  const hasLimitsOnAuto = [];\n  for (let col = 0; col < grid[_].colCount; col++) {\n    const def = _getColWidthDefine(grid, col);\n    const limits = _getColWidthLimits(grid, col);\n    if (isAutoDefine(def)) {\n      if (limits) {\n        hasLimitsOnAuto.push(limits);\n        if (limits.min) {\n          sumMin += limits.min;\n        }\n      }\n      autoCount++;\n    } else {\n      let expr = def;\n      if (limits) {\n        const orgWidth = _toPxWidth(grid, expr);\n        const newWidth = _applyColWidthLimits(limits, orgWidth);\n        if (orgWidth !== newWidth) {\n          expr = `${newWidth}px`;\n        }\n        sumMin += newWidth;\n      }\n      others.push(expr);\n    }\n    if (shortCircuit && sumMin > fullWidth) {\n      // Returns 0px because it has consumed the full width.\n      return \"0px\";\n    }\n  }\n  if (hasLimitsOnAuto.length && others.length) {\n    const autoPx = (fullWidth - _toPxWidth(grid, `calc(${others.map(c => typeof c === \"number\" ? `${c}px` : c).join(\" + \")})`)) / autoCount;\n    hasLimitsOnAuto.forEach(limits => {\n      if (limits.min && autoPx < limits.min) {\n        others.push(limits.minDef);\n        autoCount--;\n      } else if (limits.max && limits.max < autoPx) {\n        others.push(limits.maxDef);\n        autoCount--;\n      }\n    });\n    if (shortCircuit && autoCount <= 0) {\n      return `${autoPx}px`;\n    }\n  }\n  if (others.length) {\n    const strDefs = [];\n    let num = 0;\n    others.forEach(c => {\n      if (typeof c === \"number\") {\n        num += c;\n      } else {\n        strDefs.push(c);\n      }\n    });\n    strDefs.push(`${num}px`);\n    return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\n  } else {\n    return `${100 / autoCount}%`;\n  }\n}\n/**\r\n * Calculate the pixels of width from the definition of width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {string|number} width width definition\r\n * @returns {number} the pixels of width\r\n * @private\r\n */\nfunction _colWidthDefineToPxWidth(grid, width) {\n  if (isAutoDefine(width)) {\n    return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\n  }\n  return _toPxWidth(grid, width);\n}\n/** @private */\nfunction _getColWidth(grid, col) {\n  const width = _getColWidthDefine(grid, col);\n  return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\n}\n/** @private */\nfunction _setColWidth(grid, col, width) {\n  if (width != null) {\n    grid[_].colWidthsMap.put(col, width);\n  } else {\n    grid[_].colWidthsMap.remove(col);\n  }\n}\n/**\r\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {void}\r\n * @private\r\n */\nfunction _storeAutoColWidthExprs(grid) {\n  let expr = null;\n  for (let col = 0; col < grid[_].colCount; col++) {\n    const def = _getColWidthDefine(grid, col);\n    if (isAutoDefine(def)) {\n      _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\n    }\n  }\n}\n/** @private */\nfunction _getColsWidth(grid, startCol, endCol) {\n  const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\n  const colCount = endCol - startCol + 1;\n  let w = defaultColPxWidth * colCount;\n  grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n    w += _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) - defaultColPxWidth;\n  });\n  for (let col = startCol; col <= endCol; col++) {\n    if (grid[_].colWidthsMap.has(col)) {\n      continue;\n    }\n    const adj = _adjustColWidth(grid, col, defaultColPxWidth);\n    if (adj !== defaultColPxWidth) {\n      w += adj - defaultColPxWidth;\n    }\n  }\n  return w;\n}\n/** @private */\nfunction _getRowHeight(row) {\n  const internal = this.getRowHeightInternal(row);\n  if (internal != null) {\n    return internal;\n  }\n  const height = this[_].rowHeightsMap.get(row);\n  if (height) {\n    return height;\n  }\n  return this[_].defaultRowHeight;\n}\n/** @private */\nfunction _setRowHeight(grid, row, height) {\n  if (height != null) {\n    grid[_].rowHeightsMap.put(row, height);\n  } else {\n    grid[_].rowHeightsMap.remove(row);\n  }\n}\n/** @private */\nfunction _getRowsHeight(startRow, endRow) {\n  const internal = this.getRowsHeightInternal(startRow, endRow);\n  if (internal != null) {\n    return internal;\n  }\n  const rowCount = endRow - startRow + 1;\n  let h = this[_].defaultRowHeight * rowCount;\n  this[_].rowHeightsMap.each(startRow, endRow, height => {\n    h += height - this[_].defaultRowHeight;\n  });\n  return h;\n}\n/** @private */\nfunction _getScrollWidth(grid) {\n  return _getColsWidth(grid, 0, grid[_].colCount - 1);\n}\n/** @private */\nfunction _getScrollHeight(row) {\n  const internal = this.getScrollHeightInternal(row);\n  if (internal != null) {\n    return internal;\n  }\n  let h = this[_].defaultRowHeight * this[_].rowCount;\n  this[_].rowHeightsMap.each(0, this[_].rowCount - 1, height => {\n    h += height - this[_].defaultRowHeight;\n  });\n  return h;\n}\n/** @private */\nfunction _onScroll(grid, _e) {\n  const lastLeft = grid[_].scroll.left;\n  const lastTop = grid[_].scroll.top;\n  const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n  const moveY = grid[_].scrollable.scrollTop - lastTop;\n  //\n  grid[_].scroll = {\n    left: grid[_].scrollable.scrollLeft,\n    top: grid[_].scrollable.scrollTop\n  };\n  // If the focus is on the header, recalculate and move the focus position.\n  const {\n    focus\n  } = grid[_].selection;\n  const isFrozenCell = grid.isFrozenCell(focus.col, focus.row);\n  if (isFrozenCell && ((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.col) && moveX || (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) && moveY)) {\n    grid.setFocusCursor(focus.col, focus.row);\n  }\n  const visibleRect = _getVisibleRect(grid);\n  if (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n    //\n    _invalidateRect(grid, visibleRect);\n  } else {\n    //\n    grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n    if (moveX !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n      if (moveX < 0) {\n        redrawRect.width = -moveX;\n        if (grid[_].frozenColCount > 0) {\n          //\n          const frozenRect = _getFrozenColsRect(grid);\n          redrawRect.width += frozenRect.width;\n        }\n      } else if (moveX > 0) {\n        redrawRect.left = redrawRect.right - moveX;\n      }\n      //\n      _invalidateRect(grid, redrawRect);\n      if (moveX > 0) {\n        if (grid[_].frozenColCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenColsRect(grid));\n        }\n      }\n    }\n    if (moveY !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n      if (moveY < 0) {\n        redrawRect.height = -moveY;\n        if (grid[_].frozenRowCount > 0) {\n          //\n          const frozenRect = _getFrozenRowsRect(grid);\n          redrawRect.height += frozenRect.height;\n        }\n      } else if (moveY > 0) {\n        redrawRect.top = redrawRect.bottom - moveY;\n      }\n      //\n      _invalidateRect(grid, redrawRect);\n      if (moveY > 0) {\n        if (grid[_].frozenRowCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenRowsRect(grid));\n        }\n      }\n    }\n  }\n}\n/** @private */\n// eslint-disable-next-line complexity\nfunction _onKeyDownMove(e) {\n  var _a, _b, _c;\n  const {\n    shiftKey\n  } = e;\n  const keyCode = getKeyCode(e);\n  const focusCell = shiftKey ? this.selection.focus : this.selection.select;\n  if (keyCode === KEY_LEFT) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, null, \"W\");\n    } else {\n      if (!hMove.call(this, \"W\")) {\n        return;\n      }\n    }\n    cancelEvent(e);\n  } else if (keyCode === KEY_UP) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"N\", null);\n    } else {\n      if (!vMove.call(this, \"N\")) {\n        return;\n      }\n    }\n    cancelEvent(e);\n  } else if (keyCode === KEY_RIGHT) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, null, \"E\");\n    } else {\n      if (!hMove.call(this, \"E\")) {\n        return;\n      }\n    }\n    cancelEvent(e);\n  } else if (keyCode === KEY_DOWN) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"S\", null);\n    } else {\n      if (!vMove.call(this, \"S\")) {\n        return;\n      }\n    }\n    cancelEvent(e);\n  } else if (keyCode === KEY_HOME) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"N\", \"W\");\n    } else {\n      move(this, null, \"W\");\n    }\n    cancelEvent(e);\n  } else if (keyCode === KEY_END) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"S\", \"E\");\n    } else {\n      move(this, null, \"E\");\n    }\n    cancelEvent(e);\n  } else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n    let newCell = null;\n    if (typeof this.keyboardOptions.moveCellOnTab === \"function\") {\n      newCell = this.keyboardOptions.moveCellOnTab({\n        cell: focusCell,\n        grid: this,\n        event: e\n      });\n    }\n    if (newCell) {\n      _moveFocusCell.call(this, newCell.col, newCell.row, false);\n    } else if (shiftKey) {\n      if (!hMove.call(this, \"W\", false)) {\n        const row = this.getMoveUpRowByKeyDownInternal(focusCell);\n        if (0 > row) {\n          return;\n        }\n        _moveFocusCell.call(this, this.colCount - 1, row, false);\n      }\n    } else {\n      if (!hMove.call(this, \"E\", false)) {\n        const row = this.getMoveDownRowByKeyDownInternal(focusCell);\n        if (this.rowCount <= row) {\n          return;\n        }\n        _moveFocusCell.call(this, 0, row, false);\n      }\n    }\n    cancelEvent(e);\n  } else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n    let newCell = null;\n    if (typeof this.keyboardOptions.moveCellOnEnter === \"function\") {\n      newCell = this.keyboardOptions.moveCellOnEnter({\n        cell: focusCell,\n        grid: this,\n        event: e\n      });\n    }\n    if (newCell) {\n      _moveFocusCell.call(this, newCell.col, newCell.row, false);\n    } else if (shiftKey) {\n      if (!vMove.call(this, \"N\", false)) {\n        const col = this.getMoveLeftColByKeyDownInternal(focusCell);\n        if (0 > col) {\n          return;\n        }\n        _moveFocusCell.call(this, col, this.rowCount - 1, false);\n      }\n    } else {\n      if (!vMove.call(this, \"S\", false)) {\n        const col = this.getMoveRightColByKeyDownInternal(focusCell);\n        if (this.colCount <= col) {\n          return;\n        }\n        _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\n      }\n    }\n    cancelEvent(e);\n  } else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) && keyCode === KEY_ALPHA_A && (e.ctrlKey || e.metaKey)) {\n    this.selection.range = {\n      start: {\n        col: 0,\n        row: 0\n      },\n      end: {\n        col: this.colCount - 1,\n        row: this.rowCount - 1\n      }\n    };\n    this.invalidate();\n    cancelEvent(e);\n  }\n  function move(grid, vDir, hDir) {\n    const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\n    const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\n    _moveFocusCell.call(grid, col, row, shiftKey);\n  }\n  function vMove(vDir, shiftKeyFlg = shiftKey) {\n    const {\n      col\n    } = focusCell;\n    let row;\n    if (vDir === \"S\") {\n      row = this.getMoveDownRowByKeyDownInternal(focusCell);\n      if (this.rowCount <= row) {\n        // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\n        this.makeVisibleCell(col, this.rowCount - 1);\n        return false;\n      }\n    } else {\n      row = this.getMoveUpRowByKeyDownInternal(focusCell);\n      if (row < 0) {\n        // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\n        this.makeVisibleCell(col, 0);\n        return false;\n      }\n    }\n    _moveFocusCell.call(this, col, row, shiftKeyFlg);\n    return true;\n  }\n  function hMove(hDir, shiftKeyFlg = shiftKey) {\n    const {\n      row\n    } = focusCell;\n    let col;\n    if (hDir === \"E\") {\n      col = this.getMoveRightColByKeyDownInternal(focusCell);\n      if (this.colCount <= col) {\n        // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\n        this.makeVisibleCell(this.colCount - 1, row);\n        return false;\n      }\n    } else {\n      col = this.getMoveLeftColByKeyDownInternal(focusCell);\n      if (col < 0) {\n        // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\n        this.makeVisibleCell(0, row);\n        return false;\n      }\n    }\n    _moveFocusCell.call(this, col, row, shiftKeyFlg);\n    return true;\n  }\n}\n/** @private */\nfunction _moveFocusCell(col, row, shiftKey) {\n  const offset = this.getOffsetInvalidateCells();\n  function extendRange(range) {\n    if (offset > 0) {\n      range.start.col -= offset;\n      range.start.row -= offset;\n      range.end.col += offset;\n      range.end.row += offset;\n    }\n    return range;\n  }\n  const beforeRange = extendRange(this.selection.range);\n  const beforeRect = this.getCellRangeRect(beforeRange);\n  this.selection._setFocusCell(col, row, shiftKey);\n  this.makeVisibleCell(col, row);\n  this.focusCell(col, row);\n  const afterRange = extendRange(this.selection.range);\n  const afterRect = this.getCellRangeRect(afterRange);\n  if (afterRect.intersection(beforeRect)) {\n    const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\n    _invalidateRect(this, invalidateRect);\n  } else {\n    _invalidateRect(this, beforeRect);\n    _invalidateRect(this, afterRect);\n  }\n}\n/** @private */\nfunction _updatedSelection() {\n  const {\n    focusControl\n  } = this[_];\n  const {\n    col: selCol,\n    row: selRow\n  } = this[_].selection.select;\n  const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\n    col: selCol,\n    row: selRow\n  });\n  const editMode = utils_1.array.findIndex(results, v => !!v) >= 0;\n  focusControl.editMode = editMode;\n  if (editMode) {\n    focusControl.storeInputStatus();\n    focusControl.setDefaultInputStatus();\n    this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n      col: selCol,\n      row: selRow,\n      input: focusControl.input\n    });\n  }\n}\n/** @private */\nfunction _getMouseAbstractPoint(grid, evt) {\n  let e;\n  if (isTouchEvent(evt)) {\n    e = evt.changedTouches[0];\n  } else {\n    e = evt;\n  }\n  const clientX = e.clientX || e.pageX + window.scrollX;\n  const clientY = e.clientY || e.pageY + window.scrollY;\n  const rect = grid[_].canvas.getBoundingClientRect();\n  if (rect.right <= clientX) {\n    return null;\n  }\n  if (rect.bottom <= clientY) {\n    return null;\n  }\n  const x = clientX - rect.left + grid[_].scroll.left;\n  const y = clientY - rect.top + grid[_].scroll.top;\n  return {\n    x,\n    y\n  };\n}\n/** @private */\nfunction _bindEvents() {\n  // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\n  const grid = this;\n  const {\n    handler,\n    element,\n    scrollable\n  } = grid[_];\n  const getCellEventArgsSet = e => {\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n    if (!abstractPos) {\n      return {};\n    }\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n    if (cell.col < 0 || cell.row < 0) {\n      return {\n        abstractPos,\n        cell\n      };\n    }\n    const eventArgs = {\n      col: cell.col,\n      row: cell.row,\n      event: e\n    };\n    return {\n      abstractPos,\n      cell,\n      eventArgs\n    };\n  };\n  const canResizeColumn = col => {\n    if (grid[_].disableColumnResize) {\n      return false;\n    }\n    const limit = grid[_].colWidthsLimit[col];\n    if (!limit || !limit.min || !limit.max) {\n      return true;\n    }\n    return limit.max !== limit.min;\n  };\n  handler.on(element, \"mousedown\", e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs,\n      cell\n    } = eventArgsSet;\n    if (!abstractPos) {\n      return;\n    }\n    if (cell) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_GRID, cell);\n    }\n    if (eventArgs) {\n      const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n      if (utils_1.array.findIndex(results, v => !v) >= 0) {\n        return;\n      }\n    }\n    if (getMouseButtons(e) !== 1 &&\n    // For mobile safari. If we do not post-process here, the keyboard will not start in Mobile Safari.\n    e.buttons !== 0) {\n      return;\n    }\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      //\n      grid[_].columnResizer.start(resizeCol, e);\n    } else {\n      //\n      grid[_].cellSelector.start(e);\n    }\n  });\n  handler.on(element, \"mouseup\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\n      return;\n    }\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n    if (eventArgs) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\n    }\n  });\n  let doubleTapBefore = null;\n  let longTouchId = null;\n  let useTouch = null;\n  function useTouchStart() {\n    if ((useTouch === null || useTouch === void 0 ? void 0 : useTouch.timeoutId) != null) clearTimeout(useTouch.timeoutId);\n    useTouch = {};\n  }\n  function useTouchEnd() {\n    if (useTouch) {\n      if (useTouch.timeoutId != null) clearTimeout(useTouch.timeoutId);\n      useTouch.timeoutId = setTimeout(() => {\n        useTouch = null;\n      }, 350);\n    }\n  }\n  handler.on(element, \"touchstart\", e => {\n    // Since it is an environment where touch start can be used, it blocks mousemove that occurs after this.\n    useTouchStart();\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n    if (eventArgs) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.TOUCHSTART_CELL, eventArgs);\n    }\n    if (!doubleTapBefore) {\n      doubleTapBefore = eventArgs;\n      setTimeout(() => {\n        doubleTapBefore = null;\n      }, 350);\n    } else {\n      if (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\n      }\n      doubleTapBefore = null;\n      if (e.defaultPrevented) {\n        return;\n      }\n    }\n    if (e.targetTouches.length > 1) {\n      // If touchstart with multiple fingers,\n      // it is not considered as an operation event.\n      return;\n    }\n    longTouchId = setTimeout(() => {\n      //\n      longTouchId = null;\n      const abstractPos = _getMouseAbstractPoint(grid, e);\n      if (!abstractPos) {\n        return;\n      }\n      const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n      if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n        //\n        grid[_].columnResizer.start(resizeCol, e);\n      } else {\n        //\n        grid[_].cellSelector.start(e);\n      }\n    }, 500);\n  });\n  function cancel(_e) {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n      longTouchId = null;\n    }\n  }\n  handler.on(element, \"touchcancel\", e => {\n    cancel(e);\n    useTouchEnd();\n  });\n  handler.on(element, \"touchmove\", cancel);\n  handler.on(element, \"touchend\", e => {\n    useTouchEnd();\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n      grid[_].cellSelector.select(e);\n      longTouchId = null;\n    }\n  });\n  let isMouseover = false;\n  let mouseEnterCell = null;\n  let mouseOverCell = null;\n  function onMouseenterCell(cell, related) {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\n      col: cell.col,\n      row: cell.row,\n      related\n    });\n    mouseEnterCell = cell;\n  }\n  function onMouseleaveCell(related) {\n    const beforeMouseCell = mouseEnterCell;\n    mouseEnterCell = null;\n    if (beforeMouseCell) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row,\n        related\n      });\n    }\n    return beforeMouseCell || undefined;\n  }\n  function onMouseoverCell(cell, related) {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\n      col: cell.col,\n      row: cell.row,\n      related\n    });\n    mouseOverCell = cell;\n  }\n  function onMouseoutCell(related) {\n    const beforeMouseCell = mouseOverCell;\n    mouseOverCell = null;\n    if (beforeMouseCell) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row,\n        related\n      });\n    }\n    return beforeMouseCell || undefined;\n  }\n  const scrollElement = scrollable.getElement();\n  handler.on(scrollElement, \"mouseover\", _e => {\n    isMouseover = true;\n  });\n  handler.on(scrollElement, \"mouseout\", _e => {\n    isMouseover = false;\n    onMouseoutCell();\n  });\n  handler.on(element, \"mouseleave\", _e => {\n    onMouseleaveCell();\n  });\n  handler.on(element, \"mousemove\", e => {\n    if (useTouch) {\n      // Probably a mousemove event triggered by a touchstart. Therefore, this event is blocked.\n      return;\n    }\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n    if (eventArgs) {\n      const beforeMouseCell = mouseEnterCell;\n      if (beforeMouseCell) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n        if (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n          const enterCell = {\n            col: eventArgs.col,\n            row: eventArgs.row\n          };\n          const outCell = onMouseoutCell(enterCell);\n          const leaveCell = onMouseleaveCell(enterCell);\n          onMouseenterCell(enterCell, leaveCell);\n          if (isMouseover) {\n            onMouseoverCell(enterCell, outCell);\n          }\n        } else if (isMouseover && !mouseOverCell) {\n          onMouseoverCell({\n            col: eventArgs.col,\n            row: eventArgs.row\n          });\n        }\n      } else {\n        const enterCell = {\n          col: eventArgs.col,\n          row: eventArgs.row\n        };\n        onMouseenterCell(enterCell);\n        if (isMouseover) {\n          onMouseoverCell(enterCell);\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n      }\n    } else {\n      onMouseoutCell();\n      onMouseleaveCell();\n    }\n    if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n      return;\n    }\n    const {\n      style\n    } = element;\n    if (!abstractPos) {\n      if (style.cursor === \"col-resize\") {\n        style.cursor = \"\";\n      }\n      return;\n    }\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      style.cursor = \"col-resize\";\n    } else {\n      if (style.cursor === \"col-resize\") {\n        style.cursor = \"\";\n      }\n    }\n  });\n  handler.on(element, \"click\", e => {\n    if (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n      return;\n    }\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\n      return;\n    }\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n    if (!eventArgs) {\n      return;\n    }\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\n  });\n  handler.on(element, \"contextmenu\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\n      return;\n    }\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n    if (!eventArgs) {\n      return;\n    }\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\n  });\n  handler.on(element, \"dblclick\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\n      return;\n    }\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n    if (!eventArgs) {\n      return;\n    }\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n  });\n  grid[_].focusControl.onKeyDown(evt => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\n  });\n  grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\n  });\n  scrollable.onScroll(e => {\n    _onScroll(grid, e);\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, {\n      event: e\n    });\n  });\n  grid[_].focusControl.onKeyDownMove(e => {\n    _onKeyDownMove.call(grid, e);\n  });\n  grid.listen(\"copydata\", range => {\n    const copyRange = grid.getCopyRangeInternal(range);\n    const copyLines = [];\n    for (let {\n      row\n    } = copyRange.start; row <= copyRange.end.row; row++) {\n      let copyLine = \"\";\n      for (let {\n        col\n      } = copyRange.start; col <= copyRange.end.col; col++) {\n        const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\n        let strCellValue;\n        if (typeof copyCellValue === \"string\") {\n          strCellValue = copyCellValue;\n        } else if (copyCellValue == null ||\n        // Asynchronous data is treated as empty.\n        typeof Promise !== \"undefined\" && copyCellValue instanceof Promise) {\n          strCellValue = \"\";\n        } else {\n          // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n          strCellValue = `${copyCellValue}`;\n          if (/^\\[object .*\\]$/.exec(strCellValue)) {\n            // Ignore maybe object\n            strCellValue = \"\";\n          }\n        }\n        copyLine += /[\\t\\n]/.test(strCellValue) ?\n        // Need quote\n        `\"${strCellValue.replace(/\"/g, '\"\"')}\"` : strCellValue;\n        if (col < copyRange.end.col) {\n          copyLine += \"\\t\";\n        }\n      }\n      copyLines.push(copyLine);\n    }\n    return copyLines.join(\"\\n\");\n  });\n  grid[_].focusControl.onCopy(_e => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), r => r != null));\n  grid[_].focusControl.onPaste(({\n    value,\n    event\n  }) => {\n    const {\n      trimOnPaste\n    } = grid;\n    const normalizedValue = (0, paste_utils_1.normalizePasteValue)(value);\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizedValue); // is multi cell values\n    let rangeBoxValues = null;\n    const pasteCellEvent = {\n      col,\n      row,\n      value,\n      normalizeValue: trimOnPaste ? normalizedValue.trim() : normalizedValue,\n      multi,\n      get rangeBoxValues() {\n        return rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : rangeBoxValues = (0, paste_utils_1.parsePasteRangeBoxValues)(normalizedValue, {\n          trimOnPaste\n        });\n      },\n      event\n    };\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\n  });\n  grid[_].focusControl.onInput(value => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, {\n      col,\n      row,\n      value\n    });\n  });\n  grid[_].focusControl.onDelete(event => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, {\n      col,\n      row,\n      event\n    });\n  });\n  grid[_].focusControl.onFocus(e => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\n    grid[_].focusedGrid = true;\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.invalidateCell(col, row);\n  });\n  grid[_].focusControl.onBlur(e => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\n    grid[_].focusedGrid = false;\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.invalidateCell(col, row);\n  });\n}\n/** @private */\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n  if (grid[_].frozenRowCount <= 0) {\n    return -1;\n  }\n  const frozenRect = _getFrozenRowsRect(grid);\n  if (!frozenRect.inPoint(abstractX, abstractY)) {\n    return -1;\n  }\n  const cell = grid.getCellAt(abstractX, abstractY);\n  const cellRect = grid.getCellRect(cell.col, cell.row);\n  if (abstractX < cellRect.left + offset) {\n    return cell.col - 1;\n  }\n  if (cellRect.right - offset < abstractX) {\n    return cell.col;\n  }\n  return -1;\n}\n/** @private */\nfunction _getVisibleRect(grid) {\n  const {\n    scroll: {\n      left,\n      top\n    },\n    canvas: {\n      width,\n      height\n    }\n  } = grid[_];\n  return new Rect_1.Rect(left, top, width, height);\n}\n/** @private */\nfunction _getScrollableVisibleRect(grid) {\n  let frozenColsWidth = 0;\n  if (grid[_].frozenColCount > 0) {\n    //\n    const frozenRect = _getFrozenColsRect(grid);\n    frozenColsWidth = frozenRect.width;\n  }\n  let frozenRowsHeight = 0;\n  if (grid[_].frozenRowCount > 0) {\n    //\n    const frozenRect = _getFrozenRowsRect(grid);\n    frozenRowsHeight = frozenRect.height;\n  }\n  return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n/** @private */\nfunction _toRelativeRect(grid, absoluteRect) {\n  const rect = absoluteRect.copy();\n  const visibleRect = _getVisibleRect(grid);\n  rect.offsetLeft(-visibleRect.left);\n  rect.offsetTop(-visibleRect.top);\n  return rect;\n}\n//end private methods\n//\n//\n//\n//\n/**\r\n * managing mouse down moving\r\n * @private\r\n */\nclass BaseMouseDownMover {\n  constructor(grid) {\n    this._grid = grid;\n    this._handler = new EventHandler_1.EventHandler();\n    this._events = {};\n    this._started = false;\n    this._moved = false;\n  }\n  moving(_e) {\n    return !!this._started;\n  }\n  lastMoving(e) {\n    // mouseupclick\n    if (this.moving(e)) {\n      return true;\n    }\n    const last = this._mouseEndPoint;\n    if (!last) {\n      return false;\n    }\n    const pt = _getMouseAbstractPoint(this._grid, e);\n    return pt != null && pt.x === last.x && pt.y === last.y;\n  }\n  _bindMoveAndUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n    if (!isTouchEvent(e)) {\n      events.mousemove = handler.on(document.body, \"mousemove\", e => this._mouseMove(e));\n      events.mouseup = handler.on(document.body, \"mouseup\", e => this._mouseUp(e));\n    } else {\n      events.touchmove = handler.on(document.body, \"touchmove\", e => this._mouseMove(e), {\n        passive: false\n      });\n      events.touchend = handler.on(document.body, \"touchend\", e => this._mouseUp(e));\n      events.touchcancel = handler.on(document.body, \"touchcancel\", e => this._mouseUp(e));\n    }\n    this._started = true;\n    this._moved = false;\n  }\n  _mouseMove(e) {\n    if (!isTouchEvent(e)) {\n      if (getMouseButtons(e) !== 1) {\n        this._mouseUp(e);\n        return;\n      }\n    }\n    this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n    cancelEvent(e);\n  }\n  _moveInternal(_e) {\n    //protected\n    return false;\n  }\n  _mouseUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n    handler.off(events.mousemove);\n    handler.off(events.touchmove);\n    handler.off(events.mouseup);\n    handler.off(events.touchend);\n    // handler.off(this._events.mouseleave);\n    handler.off(events.touchcancel);\n    this._started = false;\n    this._upInternal(e);\n    // mouseupclick\n    if (this._moved) {\n      //\n      this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n      setTimeout(() => {\n        this._mouseEndPoint = null;\n      }, 10);\n    }\n  }\n  _upInternal(_e) {\n    //protected\n  }\n  dispose() {\n    this._handler.dispose();\n  }\n}\n/**\r\n * managing cell selection operation with mouse\r\n * @private\r\n */\nclass CellSelector extends BaseMouseDownMover {\n  start(e) {\n    const cell = this._getTargetCell(e);\n    if (!cell) {\n      return;\n    }\n    _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n    this._bindMoveAndUp(e);\n    this._cell = cell;\n    cancelEvent(e);\n    _vibrate(e);\n  }\n  select(e) {\n    const cell = this._getTargetCell(e);\n    if (!cell) {\n      return;\n    }\n    _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n    this._cell = cell;\n  }\n  _moveInternal(e) {\n    const cell = this._getTargetCell(e);\n    if (!cell) {\n      return false;\n    }\n    const {\n      col: oldCol,\n      row: oldRow\n    } = this._cell;\n    const {\n      col: newCol,\n      row: newRow\n    } = cell;\n    if (oldCol === newCol && oldRow === newRow) {\n      return false;\n    }\n    const grid = this._grid;\n    _moveFocusCell.call(grid, newCol, newRow, true);\n    //make visible\n    const makeVisibleCol = (() => {\n      if (newCol < oldCol && 0 < newCol) {\n        // move left\n        return newCol - 1;\n      } else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n        // move right\n        return newCol + 1;\n      }\n      return newCol;\n    })();\n    const makeVisibleRow = (() => {\n      if (newRow < oldRow && 0 < newRow) {\n        // move up\n        return newRow - 1;\n      } else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n        // move down\n        return newRow + 1;\n      }\n      return newRow;\n    })();\n    if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n      grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n    }\n    this._cell = cell;\n    return true;\n  }\n  _getTargetCell(e) {\n    const grid = this._grid;\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n    if (!abstractPos) {\n      return null;\n    }\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n    if (cell.col < 0 || cell.row < 0) {\n      return null;\n    }\n    return cell;\n  }\n}\n/**\r\n * managing row width changing operation with mouse\r\n * @private\r\n */\nclass ColumnResizer extends BaseMouseDownMover {\n  constructor(grid) {\n    super(grid);\n    this._x = -1;\n    this._preX = -1;\n    this._invalidateAbsoluteLeft = -1;\n    this._targetCol = -1;\n  }\n  start(col, e) {\n    let pageX;\n    if (!isTouchEvent(e)) {\n      ({\n        pageX\n      } = e);\n    } else {\n      ({\n        pageX\n      } = e.changedTouches[0]);\n    }\n    this._x = pageX;\n    this._preX = 0;\n    this._bindMoveAndUp(e);\n    this._targetCol = col;\n    this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n    cancelEvent(e);\n    _vibrate(e);\n  }\n  _moveInternal(e) {\n    const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n    const x = pageX - this._x;\n    const moveX = x - this._preX;\n    this._preX = x;\n    const pre = this._grid.getColWidth(this._targetCol);\n    let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n    if (afterSize < 10 && moveX < 0) {\n      afterSize = 10;\n    }\n    _storeAutoColWidthExprs(this._grid);\n    _setColWidth(this._grid, this._targetCol, afterSize);\n    const rect = _getVisibleRect(this._grid);\n    rect.left = this._invalidateAbsoluteLeft;\n    _invalidateRect(this._grid, rect);\n    this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\n      col: this._targetCol\n    });\n    return true;\n  }\n  _upInternal(_e) {\n    const grid = this._grid;\n    if (grid.updateScroll()) {\n      grid.invalidate();\n    }\n  }\n}\n/** @private */\nfunction setSafeInputValue(input, value) {\n  const {\n    type\n  } = input;\n  input.type = \"\";\n  input.value = value;\n  if (type) {\n    input.type = type;\n  }\n}\nconst IGNORE_STORE_ATTRS = [\"style\", \"readonly\"];\n/**\r\n * Manage focus\r\n * @private\r\n */\nclass FocusControl extends EventTarget_1.EventTarget {\n  constructor(grid, parentElement, scrollable, selection) {\n    super();\n    this._grid = grid;\n    this._scrollable = scrollable;\n    const handler = this._handler = new EventHandler_1.EventHandler();\n    const input = this._input = document.createElement(\"input\");\n    input.classList.add(\"grid-focus-control\");\n    input.readOnly = true;\n    parentElement.appendChild(input);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n      input.style.font = grid.font || \"16px sans-serif\";\n      this._isComposition = true;\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n      grid.focus();\n    });\n    let lastInputValue;\n    const inputClear = storeLastInputValue => {\n      lastInputValue = input.value;\n      if (this._isComposition) {\n        return;\n      }\n      if (lastInputValue !== \"\") {\n        setSafeInputValue(input, \"\");\n      }\n      if (!storeLastInputValue) {\n        lastInputValue = \"\";\n      }\n    };\n    const handleCompositionEnd = () => {\n      this._isComposition = false;\n      input.classList.remove(\"composition\");\n      input.style.font = \"\";\n      const {\n        value\n      } = input;\n      inputClear(false);\n      if (!input.readOnly) {\n        this.fireListeners(\"input\", value);\n      }\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n    };\n    handler.on(input, \"compositionend\", _e => {\n      this._compositionEnd = setTimeout(handleCompositionEnd, 1);\n    });\n    selection.listen(\"before_hook\", () => {\n      if (this._compositionEnd) {\n        handleCompositionEnd();\n      }\n    });\n    handler.on(input, \"keypress\", e => {\n      if (this._isComposition) {\n        return;\n      }\n      if (!input.readOnly && e.key && e.key.length === 1) {\n        if (e.ctrlKey || e.metaKey) {\n          if (e.key === \"c\") {\n            //copy! for Firefox & Safari\n          } else if (e.key === \"v\") {\n            //paste! for Firefox & Safari\n          }\n        } else {\n          if (e.key === \" \") {\n            // Since the full-width space cannot be determined, it is processed by \"input\".\n            return;\n          }\n          this.fireListeners(\"input\", e.key);\n          cancelEvent(e);\n        }\n      }\n      inputClear(true);\n    });\n    handler.on(input, \"keydown\", e => {\n      var _a;\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n          cancelEvent(e);\n        }\n        return;\n      }\n      const keyCode = getKeyCode(e);\n      let stopCellMove = false;\n      const evt = {\n        keyCode,\n        event: e,\n        stopCellMoving() {\n          stopCellMove = true;\n        }\n      };\n      this.fireListeners(\"keydown\", evt);\n      if (!input.readOnly && lastInputValue) {\n        // for Safari\n        this.fireListeners(\"input\", lastInputValue);\n      }\n      if (!stopCellMove) this.fireKeyDownMove(keyCode, e);\n      if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) && (keyCode === KEY_DEL || keyCode === KEY_BS)) {\n        this.fireListeners(\"delete\", e);\n      }\n      inputClear(true);\n    });\n    handler.on(input, \"keyup\", _e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n        }\n      }\n      inputClear(true);\n    });\n    handler.on(input, \"input\", e => {\n      if (e.data === \" \" || e.data === \"\") {\n        // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\n        this.fireListeners(\"input\", e.data);\n      }\n      inputClear(true);\n    });\n    if (utils_1.browser.IE) {\n      handler.on(document, \"keydown\", e => {\n        if (e.target !== input) {\n          return;\n        }\n        const keyCode = getKeyCode(e);\n        if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n          // When text is not selected copy-event is not emit, on IE.\n          setSafeInputValue(input, \"dummy\");\n          input.select();\n          setTimeout(() => {\n            setSafeInputValue(input, \"\");\n          }, 100);\n        } else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n          // When input is read-only paste-event is not emit, on IE.\n          if (input.readOnly) {\n            input.readOnly = false;\n            setTimeout(() => {\n              input.readOnly = true;\n              setSafeInputValue(input, \"\");\n            }, 10);\n          }\n        }\n      });\n    }\n    if (utils_1.browser.Edge) {\n      handler.once(document, \"keydown\", e => {\n        var _a;\n        if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\n          return;\n        }\n        // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n        const dummyInput = document.createElement(\"input\");\n        grid.getElement().appendChild(dummyInput);\n        dummyInput.focus();\n        input.focus();\n        (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\n      });\n    }\n    handler.on(document, \"paste\", e => {\n      if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\n        return;\n      }\n      let pasteText = undefined;\n      if (utils_1.browser.IE) {\n        // IE\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        pasteText = window.clipboardData.getData(\"Text\");\n      } else {\n        const clipboardData = e.clipboardData;\n        if (clipboardData.items) {\n          // Chrome & Firefox & Edge\n          pasteText = clipboardData.getData(\"text/plain\");\n        } else {\n          // Safari\n          if (-1 !== Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\n            pasteText = clipboardData.getData(\"Text\");\n          }\n        }\n      }\n      if (pasteText != null && pasteText.length) {\n        this.fireListeners(\"paste\", {\n          value: pasteText,\n          event: e\n        });\n      }\n    });\n    handler.on(document, \"copy\", e => {\n      if (this._isComposition) {\n        return;\n      }\n      if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\n        return;\n      }\n      setSafeInputValue(input, \"\");\n      const data = utils_1.array.find(this.fireListeners(\"copy\"), r => r != null);\n      if (data != null) {\n        cancelEvent(e);\n        if (utils_1.browser.IE) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          window.clipboardData.setData(\"Text\", data); // IE\n        } else {\n          e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\n        }\n      }\n    });\n\n    handler.on(input, \"focus\", e => {\n      this.fireListeners(\"focus\", e);\n    });\n    handler.on(input, \"blur\", e => {\n      this.fireListeners(\"blur\", e);\n    });\n  }\n  fireKeyDownMove(keyCode, e) {\n    var _a, _b, _c;\n    const fn = this._keyDownMoveCallback;\n    if (!fn) {\n      return;\n    }\n    if (this._isComposition) {\n      return;\n    }\n    if (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n      fn(e);\n    } else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n      fn(e);\n    } else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n      fn(e);\n    } else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) && keyCode === KEY_ALPHA_A && (e.ctrlKey || e.metaKey)) {\n      fn(e);\n    }\n  }\n  onKeyDownMove(fn) {\n    this._keyDownMoveCallback = fn;\n  }\n  onKeyDown(fn) {\n    return this.listen(\"keydown\", fn);\n  }\n  onInput(fn) {\n    return this.listen(\"input\", fn);\n  }\n  onDelete(fn) {\n    return this.listen(\"delete\", fn);\n  }\n  onCopy(fn) {\n    return this.listen(\"copy\", fn);\n  }\n  onPaste(fn) {\n    return this.listen(\"paste\", fn);\n  }\n  onFocus(fn) {\n    return this.listen(\"focus\", fn);\n  }\n  onBlur(fn) {\n    return this.listen(\"blur\", fn);\n  }\n  focus() {\n    // this._input.value = '';\n    this._input.focus();\n  }\n  setFocusRect(rect) {\n    const input = this._input;\n    const top = this._scrollable.calcTop(rect.top);\n    input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n  }\n  get editMode() {\n    return !this._input.readOnly;\n  }\n  set editMode(editMode) {\n    this._input.readOnly = !editMode;\n  }\n  resetInputStatus() {\n    var _a;\n    const el = this._input;\n    if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\n      return;\n    }\n    const composition = el.classList.contains(\"composition\");\n    const attrs = el.attributes;\n    const removeNames = [];\n    for (let i = 0, n = attrs.length; i < n; i++) {\n      const attr = attrs[i];\n      if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0) continue;\n      if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(attr.nodeName))) {\n        removeNames.push(attr.name);\n      }\n    }\n    removeNames.forEach(removeName => {\n      el.removeAttribute(removeName);\n    });\n    for (const name in this._inputStatus) {\n      el.setAttribute(name, this._inputStatus[name]);\n    }\n    if (composition) {\n      el.classList.add(\"composition\");\n      el.style.font = this._grid.font || \"16px sans-serif\";\n    } else {\n      el.classList.remove(\"composition\");\n    }\n    el.classList.remove(\"grid-focus-control--stored-status\");\n  }\n  storeInputStatus() {\n    const el = this._input;\n    if (el.classList.contains(\"grid-focus-control--stored-status\")) {\n      return;\n    }\n    const inputStatus = this._inputStatus = {};\n    const attrs = el.attributes;\n    for (let i = 0, n = attrs.length; i < n; i++) {\n      const attr = attrs[i];\n      if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0) continue;\n      inputStatus[attr.name] = attr.value;\n    }\n    el.classList.add(\"grid-focus-control--stored-status\");\n  }\n  setDefaultInputStatus() {\n    // \n    // this._input.style.font = this._grid.font || '16px sans-serif';\n  }\n  get input() {\n    return this._input;\n  }\n  dispose() {\n    super.dispose();\n    this._handler.dispose();\n  }\n}\n/**\r\n * Selected area management\r\n */\nclass Selection extends EventTarget_1.EventTarget {\n  constructor(grid) {\n    super();\n    this._grid = grid;\n    this._sel = {\n      col: 0,\n      row: 0\n    };\n    this._focus = {\n      col: 0,\n      row: 0\n    };\n    this._start = {\n      col: 0,\n      row: 0\n    };\n    this._end = {\n      col: 0,\n      row: 0\n    };\n  }\n  get range() {\n    const start = this._start;\n    const end = this._end;\n    const startCol = Math.min(start.col, end.col);\n    const startRow = Math.min(start.row, end.row);\n    const endCol = Math.max(start.col, end.col);\n    const endRow = Math.max(start.row, end.row);\n    return {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    };\n  }\n  set range(range) {\n    this._callBeforeHooks();\n    const startCol = Math.min(range.start.col, range.end.col);\n    const startRow = Math.min(range.start.row, range.end.row);\n    const endCol = Math.max(range.start.col, range.end.col);\n    const endRow = Math.max(range.start.row, range.end.row);\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col: startCol,\n        row: startRow\n      };\n      this._focus = {\n        col: startCol,\n        row: startRow\n      };\n      this._start = {\n        col: startCol,\n        row: startRow\n      };\n      this._end = {\n        col: endCol,\n        row: endRow\n      };\n      _updatedSelection.call(this._grid);\n    });\n  }\n  get focus() {\n    const {\n      col,\n      row\n    } = this._focus;\n    return {\n      col,\n      row\n    };\n  }\n  get select() {\n    const {\n      col,\n      row\n    } = this._sel;\n    return {\n      col,\n      row\n    };\n  }\n  set select(cell) {\n    this._callBeforeHooks();\n    this._wrapFireSelectedEvent(() => {\n      const {\n        col = 0,\n        row = 0\n      } = cell;\n      this._setSelectCell(col, row);\n      this._setFocusCell(col, row, true, true);\n      _updatedSelection.call(this._grid);\n    });\n  }\n  _setSelectCell(col, row) {\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col,\n        row\n      };\n      this._start = {\n        col,\n        row\n      };\n    });\n  }\n  _setFocusCell(col, row, keepSelect, ignoreBeforeHook) {\n    if (!ignoreBeforeHook) this._callBeforeHooks();\n    this._wrapFireSelectedEvent(() => {\n      if (!keepSelect) {\n        this._setSelectCell(col, row);\n      }\n      this._focus = {\n        col,\n        row\n      };\n      this._end = {\n        col,\n        row\n      };\n    });\n  }\n  _wrapFireSelectedEvent(callback) {\n    if (this._isWrapped) {\n      callback();\n    } else {\n      this._isWrapped = true;\n      try {\n        const before = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: false,\n          after: null\n        };\n        callback();\n        const after = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: true,\n          before: {\n            col: before.col,\n            row: before.row\n          }\n        };\n        before.after = {\n          col: after.col,\n          row: after.row\n        };\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\n      } finally {\n        this._isWrapped = false;\n      }\n    }\n  }\n  _updateGridRange() {\n    const {\n      rowCount,\n      colCount\n    } = this._grid;\n    const points = [this._sel, this._focus, this._start, this._end];\n    let needChange = false;\n    for (let i = 0; i < points.length; i++) {\n      if (colCount <= points[i].col || rowCount <= points[i].row) {\n        needChange = true;\n        break;\n      }\n    }\n    if (!needChange) {\n      return false;\n    }\n    this._wrapFireSelectedEvent(() => {\n      points.forEach(p => {\n        p.col = Math.min(colCount - 1, p.col);\n        p.row = Math.min(rowCount - 1, p.row);\n      });\n    });\n    return true;\n  }\n  _callBeforeHooks() {\n    this.fireListeners(\"before_hook\");\n  }\n}\n/**\r\n * This class manages the drawing process for each layer\r\n */\n/** @private */\nclass DrawLayers {\n  constructor() {\n    this._layers = {};\n  }\n  addDraw(level, fn) {\n    const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n    l.addDraw(fn);\n  }\n  draw(ctx) {\n    const list = [];\n    for (const k in this._layers) {\n      list.push(this._layers[k]);\n    }\n    list.sort((a, b) => a.level - b.level);\n    list.forEach(l => l.draw(ctx));\n  }\n}\n/** @private */\nclass DrawLayer {\n  constructor(level) {\n    this._level = level;\n    this._list = [];\n  }\n  get level() {\n    return this._level;\n  }\n  addDraw(fn) {\n    this._list.push(fn);\n  }\n  draw(ctx) {\n    this._list.forEach(fn => {\n      ctx.save();\n      try {\n        fn(ctx);\n      } finally {\n        ctx.restore();\n      }\n    });\n  }\n}\n/**\r\n * Context of cell drawing\r\n * @private\r\n */\nclass DrawCellContext {\n  //  private _grid: any;\n  //  private _onTerminate: any;\n  /**\r\n   * constructor\r\n   * @param {number} col index of column\r\n   * @param {number} row index of row\r\n   * @param {CanvasRenderingContext2D} ctx context\r\n   * @param {Rect} rect rect of cell area\r\n   * @param {Rect} drawRect rect of drawing area\r\n   * @param {boolean} drawing `true` if drawing is in progress\r\n   * @param {object} selection the selection\r\n   * @param {Array} drawLayers array of draw layers\r\n   * @private\r\n   */\n  constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n    this._rectFilter = null;\n    this._col = col;\n    this._row = row;\n    this._mode = 0;\n    this._ctx = ctx;\n    this._rect = rect;\n    this._drawRect = drawRect;\n    this._drawing = drawing;\n    this._selection = selection;\n    this._drawLayers = drawLayers;\n    this._childContexts = [];\n  }\n  get drawing() {\n    if (this._mode === 0) {\n      return this._drawing;\n    } else {\n      return true;\n    }\n  }\n  get row() {\n    return this._row;\n  }\n  get col() {\n    return this._col;\n  }\n  cancel() {\n    this._cancel = true;\n    this._childContexts.forEach(ctx => {\n      ctx.cancel();\n    });\n  }\n  /**\r\n   * select status.\r\n   * @return {object} select status\r\n   */\n  getSelection() {\n    return {\n      select: this._selection.select,\n      range: this._selection.range\n    };\n  }\n  /**\r\n   * Canvas context.\r\n   * @return {CanvasRenderingContext2D} Canvas context.\r\n   */\n  getContext() {\n    if (this._mode === 0) {\n      return this._ctx;\n    } else {\n      return _getInitContext.call(this._grid);\n    }\n  }\n  /**\r\n   * Rectangle of cell.\r\n   * @return {Rect} rect Rectangle of cell.\r\n   */\n  getRect() {\n    const rectFilter = this._rectFilter;\n    return rectFilter ? rectFilter(this._getRectInternal()) : this._getRectInternal();\n  }\n  setRectFilter(rectFilter) {\n    this._rectFilter = rectFilter;\n  }\n  /**\r\n   * Rectangle of Drawing range.\r\n   * @return {Rect} Rectangle of Drawing range.\r\n   */\n  getDrawRect() {\n    if (this._cancel) {\n      return null;\n    }\n    if (this._mode === 0) {\n      return this._drawRect;\n    } else {\n      if (this._isOutOfRange()) {\n        return null;\n      }\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n      return this._toRelativeDrawRect(absoluteRect);\n    }\n  }\n  _isOutOfRange() {\n    const {\n      colCount,\n      rowCount\n    } = this._grid;\n    return colCount <= this._col || rowCount <= this._row;\n  }\n  /**\r\n   * get Context of current state\r\n   * @return {DrawCellContext} current DrawCellContext.\r\n   */\n  toCurrentContext() {\n    if (this._mode === 0) {\n      return this;\n    } else {\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n      const rect = _toRelativeRect(this._grid, absoluteRect);\n      const drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n      const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n      // toCurrentContext  toCurrentContext\n      context.toCurrentContext = this.toCurrentContext.bind(this);\n      this._childContexts.push(context);\n      if (this._cancel) {\n        context.cancel();\n      }\n      context._rectFilter = this._rectFilter;\n      return context;\n    }\n  }\n  addLayerDraw(level, fn) {\n    this._drawLayers.addDraw(level, fn);\n  }\n  _toRelativeDrawRect(absoluteRect) {\n    const visibleRect = _getVisibleRect(this._grid);\n    let rect = absoluteRect.copy();\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n    const grid = this._grid;\n    const isFrozenCell = grid.isFrozenCell(this._col, this._row);\n    if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n      const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\n      rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n    }\n    if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n      const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\n      rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n    }\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n  }\n  _delayMode(grid, onTerminate) {\n    this._mode = 1;\n    this._ctx = null;\n    this._rect = null;\n    this._drawRect = null;\n    this._grid = grid;\n    this._onTerminate = onTerminate;\n  }\n  /**\r\n   * terminate\r\n   * @return {void}\r\n   */\n  terminate() {\n    var _a;\n    if (this._mode !== 0) {\n      (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n  }\n  _getRectInternal() {\n    if (this._mode === 0) {\n      return this._rect;\n    } else {\n      if (this._rect) {\n        return this._rect;\n      }\n      return this._grid.getCellRelativeRect(this._col, this._row);\n    }\n  }\n}\n/** @private */\nconst protectedKey = _;\n/**\r\n * DrawGrid\r\n * @classdesc cheetahGrid.core.DrawGrid\r\n * @memberof cheetahGrid.core\r\n */\nclass DrawGrid extends EventTarget_1.EventTarget {\n  static get EVENT_TYPE() {\n    return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n  }\n  constructor(options = {}) {\n    super();\n    const {\n      rowCount = 10,\n      colCount = 10,\n      frozenColCount = 0,\n      frozenRowCount = 0,\n      defaultRowHeight = 40,\n      defaultColWidth = 80,\n      font,\n      underlayBackgroundColor,\n      keyboardOptions,\n      parentElement,\n      disableColumnResize,\n      trimOnPaste\n    } = options;\n    const protectedSpace = this[_] = {};\n    style.initDocument();\n    protectedSpace.element = createRootElement();\n    protectedSpace.scrollable = new Scrollable_1.Scrollable();\n    protectedSpace.handler = new EventHandler_1.EventHandler();\n    protectedSpace.selection = new Selection(this);\n    protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable, protectedSpace.selection);\n    protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\n    protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    protectedSpace.rowCount = rowCount;\n    protectedSpace.colCount = colCount;\n    protectedSpace.frozenColCount = frozenColCount;\n    protectedSpace.frozenRowCount = frozenRowCount;\n    protectedSpace.defaultRowHeight = defaultRowHeight;\n    protectedSpace.defaultColWidth = defaultColWidth;\n    protectedSpace.font = font;\n    protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n    protectedSpace.keyboardOptions = keyboardOptions;\n    protectedSpace.disableColumnResize = disableColumnResize;\n    protectedSpace.trimOnPaste = trimOnPaste !== null && trimOnPaste !== void 0 ? trimOnPaste : false;\n    /////\n    protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\n    protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\n    protectedSpace.colWidthsLimit = {};\n    protectedSpace.calcWidthContext = {\n      _: protectedSpace,\n      get full() {\n        return this._.canvas.width;\n      },\n      get em() {\n        return (0, canvases_1.getFontSize)(this._.context, this._.font).width;\n      }\n    };\n    protectedSpace.columnResizer = new ColumnResizer(this);\n    protectedSpace.cellSelector = new CellSelector(this);\n    protectedSpace.drawCells = {};\n    protectedSpace.cellTextOverflows = {};\n    protectedSpace.focusedGrid = false;\n    protectedSpace.element.appendChild(protectedSpace.canvas);\n    protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n    protectedSpace.scroll = {\n      left: 0,\n      top: 0\n    };\n    this.updateScroll();\n    if (parentElement) {\n      parentElement.appendChild(protectedSpace.element);\n      this.updateSize();\n    } else {\n      this.updateSize();\n    }\n    _bindEvents.call(this);\n    this.bindEventsInternal();\n  }\n  /**\r\n   * Get root element.\r\n   * @returns {HTMLElement} root element\r\n   */\n  getElement() {\n    return this[_].element;\n  }\n  /**\r\n   * Get canvas element.\r\n   */\n  get canvas() {\n    return this[_].canvas;\n  }\n  /**\r\n   * Focus the grid.\r\n   * @return {void}\r\n   */\n  focus() {\n    const {\n      col,\n      row\n    } = this[_].selection.select;\n    this.focusCell(col, row);\n  }\n  hasFocusGrid() {\n    return this[_].focusedGrid;\n  }\n  /**\r\n   * Get the selection instance.\r\n   */\n  get selection() {\n    return this[_].selection;\n  }\n  /**\r\n   * Get the number of rows.\r\n   */\n  get rowCount() {\n    return this[_].rowCount;\n  }\n  /**\r\n   * Set the number of rows.\r\n   */\n  set rowCount(rowCount) {\n    this[_].rowCount = rowCount;\n    this.updateScroll();\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.setFocusCursor(col, row);\n    }\n  }\n  /**\r\n   * Get the number of columns.\r\n   */\n  get colCount() {\n    return this[_].colCount;\n  }\n  /**\r\n   * Set the number of columns.\r\n   */\n  set colCount(colCount) {\n    this[_].colCount = colCount;\n    this.updateScroll();\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.setFocusCursor(col, row);\n    }\n  }\n  /**\r\n   * Get the number of frozen columns.\r\n   */\n  get frozenColCount() {\n    return this[_].frozenColCount;\n  }\n  /**\r\n   * Set the number of frozen columns.\r\n   */\n  set frozenColCount(frozenColCount) {\n    this[_].frozenColCount = frozenColCount;\n  }\n  /**\r\n   * Get the number of frozen rows.\r\n   */\n  get frozenRowCount() {\n    return this[_].frozenRowCount;\n  }\n  /**\r\n   * Set the number of frozen rows.\r\n   */\n  set frozenRowCount(frozenRowCount) {\n    this[_].frozenRowCount = frozenRowCount;\n  }\n  /**\r\n   * Get the default row height.\r\n   *\r\n   */\n  get defaultRowHeight() {\n    return this[_].defaultRowHeight;\n  }\n  /**\r\n   * Set the default row height.\r\n   */\n  set defaultRowHeight(defaultRowHeight) {\n    this[_].defaultRowHeight = defaultRowHeight;\n  }\n  /**\r\n   * Get the default column width.\r\n   */\n  get defaultColWidth() {\n    return this[_].defaultColWidth;\n  }\n  /**\r\n   * Set the default column width.\r\n   */\n  set defaultColWidth(defaultColWidth) {\n    this[_].defaultColWidth = defaultColWidth;\n  }\n  /**\r\n   * Get the font definition as a string.\r\n   */\n  get font() {\n    return this[_].font;\n  }\n  /**\r\n   * Set the font definition with the given string.\r\n   */\n  set font(font) {\n    this[_].font = font;\n  }\n  /**\r\n   * Get the background color of the underlay.\r\n   */\n  get underlayBackgroundColor() {\n    return this[_].underlayBackgroundColor;\n  }\n  /**\r\n   * Set the background color of the underlay.\r\n   */\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    this[_].underlayBackgroundColor = underlayBackgroundColor;\n  }\n  /**\r\n   * If set to true, trim the pasted text on pasting.\r\n   */\n  get trimOnPaste() {\n    return this[_].trimOnPaste;\n  }\n  set trimOnPaste(trimOnPaste) {\n    this[_].trimOnPaste = trimOnPaste;\n  }\n  get keyboardOptions() {\n    var _a;\n    return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\n  }\n  set keyboardOptions(keyboardOptions) {\n    this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  configure(name, value) {\n    const cfg = this[_].config || (this[_].config = {});\n    if (value != null) {\n      cfg[name] = value;\n    }\n    return cfg[name];\n  }\n  /**\r\n   * Apply the changed size.\r\n   * @return {void}\r\n   */\n  updateSize() {\n    //\n    const {\n      canvas\n    } = this[_];\n    canvas.style.width = \"\";\n    canvas.style.height = \"\";\n    const width = Math.floor(canvas.offsetWidth || canvas.parentElement.offsetWidth - style.getScrollBarSize() /*for legacy*/);\n    const height = Math.floor(canvas.offsetHeight || canvas.parentElement.offsetHeight - style.getScrollBarSize() /*for legacy*/);\n    canvas.width = width;\n    canvas.height = height;\n    //style\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    const {\n      focus\n    } = this[_].selection;\n    this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\n  }\n  /**\r\n   * Apply the changed scroll size.\r\n   * @return {boolean} `true` if there was a change in the scroll size\r\n   */\n  updateScroll() {\n    const {\n      scrollable\n    } = this[_];\n    const newHeight = _getScrollHeight.call(this);\n    const newWidth = _getScrollWidth(this);\n    if (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n      return false;\n    }\n    scrollable.setScrollSize(newWidth, newHeight);\n    this[_].scroll = {\n      left: scrollable.scrollLeft,\n      top: scrollable.scrollTop\n    };\n    const {\n      focus\n    } = this[_].selection;\n    this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\n    return true;\n  }\n  /**\r\n   * Get the row height of the given the row index.\r\n   * @param  {number} row The row index\r\n   * @return {number} The row height\r\n   */\n  getRowHeight(row) {\n    return _getRowHeight.call(this, row);\n  }\n  /**\r\n   * Set the row height of the given the row index.\r\n   * @param  {number} row The row index\r\n   * @param  {number} height The row height\r\n   * @return {void}\r\n   */\n  setRowHeight(row, height) {\n    _setRowHeight(this, row, height);\n  }\n  /**\r\n   * Get the column width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @return {number} The column width\r\n   */\n  getColWidth(col) {\n    return _getColWidth(this, col);\n  }\n  /**\r\n   * Set the column width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @param  {number} width The column width\r\n   * @return {void}\r\n   */\n  setColWidth(col, width) {\n    _setColWidth(this, col, width);\n  }\n  /**\r\n   * Get the column max width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @return {number} The column max width\r\n   */\n  getMaxColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.max || undefined;\n  }\n  /**\r\n   * Set the column max width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @param  {number} maxwidth The column max width\r\n   * @return {void}\r\n   */\n  setMaxColWidth(col, maxwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    if (maxwidth != null) {\n      obj.max = maxwidth;\n    } else {\n      delete obj.max;\n    }\n  }\n  /**\r\n   * Get the column min width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @return {number} The column min width\r\n   */\n  getMinColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.min || undefined;\n  }\n  /**\r\n   * Set the column min width of the given the column index.\r\n   * @param  {number} col The column index\r\n   * @param  {number} minwidth The column min width\r\n   * @return {void}\r\n   */\n  setMinColWidth(col, minwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    if (minwidth != null) {\n      obj.min = minwidth;\n    } else {\n      delete obj.min;\n    }\n  }\n  /**\r\n   * Get the rect of the cell.\r\n   * @param {number} col index of column, of the cell\r\n   * @param {number} row index of row, of the cell\r\n   * @returns {Rect} the rect of the cell.\r\n   */\n  getCellRect(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n    let absoluteLeft = _getColsWidth(this, 0, col - 1);\n    const width = _getColWidth(this, col);\n    if (isFrozenCell && isFrozenCell.col) {\n      absoluteLeft += this[_].scroll.left;\n    }\n    let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\n    const height = _getRowHeight.call(this, row);\n    if (isFrozenCell && isFrozenCell.row) {\n      absoluteTop += this[_].scroll.top;\n    }\n    return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n  }\n  /**\r\n   * Get the relative rectangle of the cell.\r\n   * @param {number} col index of column, of the cell\r\n   * @param {number} row index of row, of the cell\r\n   * @returns {Rect} the rect of the cell.\r\n   */\n  getCellRelativeRect(col, row) {\n    return _toRelativeRect(this, this.getCellRect(col, row));\n  }\n  /**\r\n   * Get the rectangle of the cells area.\r\n   * @param {number} startCol index of the starting column, of the cell\r\n   * @param {number} startRow index of the starting row, of the cell\r\n   * @param {number} endCol index of the ending column, of the cell\r\n   * @param {number} endRow index of the ending row, of the cell\r\n   * @returns {Rect} the rect of the cells.\r\n   */\n  getCellsRect(startCol, startRow, endCol, endRow) {\n    const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n    const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n    let width = _getColsWidth(this, startCol, endCol);\n    if (isFrozenStartCell && isFrozenStartCell.col) {\n      const scrollLeft = this[_].scroll.left;\n      absoluteLeft += scrollLeft;\n      if (!isFrozenEndCell || !isFrozenEndCell.col) {\n        width -= scrollLeft;\n        width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n      }\n    }\n    let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n    let height = _getRowsHeight.call(this, startRow, endRow);\n    if (isFrozenStartCell && isFrozenStartCell.row) {\n      const scrollTop = this[_].scroll.top;\n      absoluteTop += scrollTop;\n      if (!isFrozenEndCell || !isFrozenEndCell.row) {\n        height -= scrollTop;\n        height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n      }\n    }\n    return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n  }\n  getCellRangeRect(range) {\n    return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\n  }\n  isFrozenCell(col, row) {\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = this[_];\n    const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n    const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n    if (isFrozenRow || isFrozenCol) {\n      return {\n        row: isFrozenRow,\n        col: isFrozenCol\n      };\n    } else {\n      return null;\n    }\n  }\n  getRowAt(absoluteY) {\n    const frozen = _getTargetFrozenRowAt(this, absoluteY);\n    if (frozen) {\n      return frozen.row;\n    }\n    const row = _getTargetRowAt.call(this, absoluteY);\n    return row ? row.row : -1;\n  }\n  getColAt(absoluteX) {\n    const frozen = _getTargetFrozenColAt(this, absoluteX);\n    if (frozen) {\n      return frozen.col;\n    }\n    const col = _getTargetColAt(this, absoluteX);\n    return col ? col.col : -1;\n  }\n  getCellAt(absoluteX, absoluteY) {\n    return {\n      row: this.getRowAt(absoluteY),\n      col: this.getColAt(absoluteX)\n    };\n  }\n  /**\r\n   * Scroll to where cell is visible.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index\r\n   * @return {void}\r\n   */\n  makeVisibleCell(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n    if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n      return;\n    }\n    const rect = this.getCellRect(col, row);\n    const visibleRect = _getScrollableVisibleRect(this);\n    if (visibleRect.contains(rect)) {\n      return;\n    }\n    const {\n      scrollable\n    } = this[_];\n    if (!isFrozenCell || !isFrozenCell.col) {\n      if (rect.left < visibleRect.left) {\n        scrollable.scrollLeft -= visibleRect.left - rect.left;\n      } else if (visibleRect.right < rect.right) {\n        scrollable.scrollLeft -= visibleRect.right - rect.right;\n      }\n    }\n    if (!isFrozenCell || !isFrozenCell.row) {\n      if (rect.top < visibleRect.top) {\n        scrollable.scrollTop -= visibleRect.top - rect.top;\n      } else if (visibleRect.bottom < rect.bottom) {\n        scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n      }\n    }\n  }\n  /**\r\n   * Moves the focus cursor to the given cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index\r\n   * @return {void}\r\n   */\n  setFocusCursor(col, row) {\n    const {\n      focusControl\n    } = this[_];\n    const oldEditMode = focusControl.editMode;\n    focusControl.setFocusRect(this.getCellRect(col, row));\n    _updatedSelection.call(this);\n    if (oldEditMode && !focusControl.editMode) {\n      focusControl.resetInputStatus();\n    }\n  }\n  /**\r\n   * Focus the cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index\r\n   * @return {void}\r\n   */\n  focusCell(col, row) {\n    this.setFocusCursor(col, row);\n    // Failure occurs in IE if focus is not last\n    this[_].focusControl.focus();\n  }\n  /**\r\n   * Redraws the range of the given cell.\r\n   * @param  {number} col The column index of cell.\r\n   * @param  {number} row The row index of cell.\r\n   * @return {void}\r\n   */\n  invalidateCell(col, row) {\n    this.invalidateGridRect(col, row);\n  }\n  /**\r\n   * Redraws the range of the given cells.\r\n   * @param {number} startCol index of the starting column, of the cell\r\n   * @param {number} startRow index of the starting row, of the cell\r\n   * @param {number} endCol index of the ending column, of the cell\r\n   * @param {number} endRow index of the ending row, of the cell\r\n   * @return {void}\r\n   */\n  invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n    const offset = this.getOffsetInvalidateCells();\n    if (offset > 0) {\n      startCol -= offset;\n      startRow -= offset;\n      endCol += offset;\n      endRow += offset;\n    }\n    const visibleRect = _getVisibleRect(this);\n    const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n    const invalidateTarget = visibleRect.intersection(cellsRect);\n    if (invalidateTarget) {\n      const {\n        frozenColCount,\n        frozenRowCount\n      } = this[_];\n      if (frozenColCount > 0 && endCol >= frozenColCount) {\n        const frozenRect = _getFrozenColsRect(this);\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\n        }\n      }\n      if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n        const frozenRect = _getFrozenRowsRect(this);\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n        }\n      }\n      _invalidateRect(this, invalidateTarget);\n    }\n  }\n  invalidateCellRange(range) {\n    this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\n  }\n  /**\r\n   * Redraws the whole grid.\r\n   * @return {void}\r\n   */\n  invalidate() {\n    const visibleRect = _getVisibleRect(this);\n    _invalidateRect(this, visibleRect);\n  }\n  /**\r\n   * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\r\n   * @returns {number}\r\n   */\n  get visibleRowCount() {\n    const {\n      frozenRowCount\n    } = this;\n    const visibleRect = _getVisibleRect(this);\n    const visibleTop = frozenRowCount > 0 ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1) : visibleRect.top;\n    const initRow = _getTargetRowAt.call(this, visibleTop);\n    if (!initRow) {\n      return 0;\n    }\n    const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n    let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n    let count = 0;\n    const {\n      rowCount\n    } = this;\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight.call(this, row);\n      const bottom = absoluteTop + height;\n      if (visibleRect.bottom < bottom) {\n        break;\n      }\n      count++;\n      absoluteTop = bottom;\n    }\n    return count;\n  }\n  /**\r\n   * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\r\n   * @returns {number}\r\n   */\n  get visibleColCount() {\n    const {\n      frozenColCount\n    } = this;\n    const visibleRect = _getVisibleRect(this);\n    const visibleLeft = frozenColCount > 0 ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1) : visibleRect.left;\n    const initCol = _getTargetColAt(this, visibleLeft);\n    if (!initCol) {\n      return 0;\n    }\n    const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n    let count = 0;\n    const {\n      colCount\n    } = this;\n    for (let col = startCol; col < colCount; col++) {\n      const width = _getColWidth(this, col);\n      const right = absoluteLeft + width;\n      if (visibleRect.right < right) {\n        break;\n      }\n      count++;\n      absoluteLeft = right;\n    }\n    return count;\n  }\n  /**\r\n   * Get the index of the first row in the scrollable region that is visible.\r\n   * @returns {number}\r\n   */\n  get topRow() {\n    const {\n      frozenRowCount\n    } = this;\n    const visibleRect = _getVisibleRect(this);\n    const visibleTop = frozenRowCount > 0 ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1) : visibleRect.top;\n    const initRow = _getTargetRowAt.call(this, visibleTop);\n    if (!initRow) {\n      return 0;\n    }\n    return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n  }\n  /**\r\n   * Get the index of the first column in the scrollable region that is visible.\r\n   * @returns {number}\r\n   */\n  get leftCol() {\n    const {\n      frozenColCount\n    } = this;\n    const visibleRect = _getVisibleRect(this);\n    const visibleLeft = frozenColCount > 0 ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1) : visibleRect.left;\n    const initCol = _getTargetColAt(this, visibleLeft);\n    if (!initCol) {\n      return 0;\n    }\n    return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n  }\n  /**\r\n   * gets or sets the number of pixels that an element's content is scrolled vertically\r\n   */\n  get scrollTop() {\n    return this[_].scrollable.scrollTop;\n  }\n  set scrollTop(scrollTop) {\n    this[_].scrollable.scrollTop = scrollTop;\n  }\n  /**\r\n   * gets or sets the number of pixels that an element's content is scrolled from its left edge\r\n   */\n  get scrollLeft() {\n    return this[_].scrollable.scrollLeft;\n  }\n  set scrollLeft(scrollLeft) {\n    this[_].scrollable.scrollLeft = scrollLeft;\n  }\n  /**\r\n   * Get the value of cell with the copy action.\r\n   * <p>\r\n   * Please implement\r\n   * </p>\r\n   *\r\n   * @protected\r\n   * @param col Column index of cell.\r\n   * @param row Row index of cell.\r\n   * @param range Copy range.\r\n   * @return {string} the value of cell\r\n   */\n  getCopyCellValue(_col, _row, _range) {\n    //Please implement get cell value!!\n    return undefined;\n  }\n  /**\r\n   * Get the overflowed text in the cell rectangle, from the given cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index\r\n   * @return {string | null} The text overflowing the cell rect.\r\n   */\n  getCellOverflowText(col, row) {\n    const key = `${col}:${row}`;\n    return this[_].cellTextOverflows[key] || null;\n  }\n  /**\r\n   * Set the overflowed text in the cell rectangle, to the given cell.\r\n   * @param  {number} col The column index.\r\n   * @param  {number} row The row index\r\n   * @param  {string} overflowText The overflowed text in the cell rectangle.\r\n   * @return {void}\r\n   */\n  setCellOverflowText(col, row, overflowText) {\n    const key = `${col}:${row}`;\n    if (overflowText) {\n      this[_].cellTextOverflows[key] = typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\n    } else {\n      delete this[_].cellTextOverflows[key];\n    }\n  }\n  addDisposable(disposable) {\n    if (!disposable || !disposable.dispose || typeof disposable.dispose !== \"function\") {\n      throw new Error(\"not disposable!\");\n    }\n    const disposables = this[_].disposables = this[_].disposables || [];\n    disposables.push(disposable);\n  }\n  /**\r\n   * Dispose the grid instance.\r\n   * @returns {void}\r\n   */\n  dispose() {\n    super.dispose();\n    const protectedSpace = this[_];\n    protectedSpace.handler.dispose();\n    protectedSpace.scrollable.dispose();\n    protectedSpace.focusControl.dispose();\n    protectedSpace.columnResizer.dispose();\n    protectedSpace.cellSelector.dispose();\n    if (protectedSpace.disposables) {\n      protectedSpace.disposables.forEach(disposable => disposable.dispose());\n      protectedSpace.disposables = null;\n    }\n    const {\n      parentElement\n    } = protectedSpace.element;\n    if (parentElement) {\n      parentElement.removeChild(protectedSpace.element);\n    }\n  }\n  getAttachCellsArea(range) {\n    return {\n      element: this.getElement(),\n      rect: _toRelativeRect(this, this.getCellRangeRect(range))\n    };\n  }\n  onKeyDownMove(evt) {\n    _onKeyDownMove.call(this, evt);\n  }\n  bindEventsInternal() {\n    //nop\n  }\n  getTargetRowAtInternal(_absoluteY) {\n    // \n  }\n  getRowsHeightInternal(_startRow, _endRow) {\n    // \n  }\n  getRowHeightInternal(_row) {\n    // \n  }\n  getScrollHeightInternal(_row) {\n    // \n  }\n  getMoveLeftColByKeyDownInternal({\n    col\n  }) {\n    return col - 1;\n  }\n  getMoveRightColByKeyDownInternal({\n    col\n  }) {\n    return col + 1;\n  }\n  getMoveUpRowByKeyDownInternal({\n    row\n  }) {\n    return row - 1;\n  }\n  getMoveDownRowByKeyDownInternal({\n    row\n  }) {\n    return row + 1;\n  }\n  getOffsetInvalidateCells() {\n    return 0;\n  }\n  getCopyRangeInternal(range) {\n    return range;\n  }\n  _getInitContext() {\n    const ctx = this[_].context;\n    //\n    ctx.fillStyle = \"white\";\n    ctx.strokeStyle = \"black\";\n    ctx.textAlign = \"left\";\n    ctx.textBaseline = \"top\";\n    ctx.lineWidth = 1;\n    ctx.font = this.font || \"16px sans-serif\";\n    return ctx;\n  }\n  fireListeners(type, ...event) {\n    return super.fireListeners(type, ...event);\n  }\n}\nexports.DrawGrid = DrawGrid;\n\n/***/ }),\n\n/***/ \"./core/EventTarget.js\":\n/*!*****************************!*\\\n  !*** ./core/EventTarget.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _a;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventTarget = void 0;\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\");\n//private symbol\n/** @private */\nconst _ = (0, symbolManager_1.get)();\n/** @private */\nlet nextId = 1;\n/**\r\n * event target.\r\n */\nclass EventTarget {\n  constructor() {\n    this[_a] = {\n      listeners: {},\n      listenerData: {}\n    };\n  }\n  /**\r\n   * Adds an event listener.\r\n   * @param  {string} type The event type id.\r\n   * @param  {function} listener Callback method.\r\n   * @return {number} unique id for the listener.\r\n   */\n  listen(type, listener) {\n    const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n    list.push(listener);\n    const id = nextId++;\n    this[_].listenerData[id] = {\n      type,\n      listener,\n      remove: () => {\n        delete this[_].listenerData[id];\n        const index = list.indexOf(listener);\n        list.splice(index, 1);\n        if (!this[_].listeners[type].length) {\n          delete this[_].listeners[type];\n        }\n      }\n    };\n    return id;\n  }\n  /**\r\n   * Removes an event listener which was added with listen() by the id returned by listen().\r\n   * @param  {number} id the id returned by listen().\r\n   * @return {void}\r\n   */\n  unlisten(id) {\n    if (!this[_]) {\n      return;\n    }\n    this[_].listenerData[id].remove();\n  }\n  addEventListener(type, listener) {\n    this.listen(type, listener);\n  }\n  removeEventListener(type, listener) {\n    if (!this[_]) {\n      return;\n    }\n    (0, utils_1.each)(this[_].listenerData, (obj, id) => {\n      if (obj.type === type && obj.listener === listener) {\n        this.unlisten(id);\n      }\n    });\n  }\n  hasListeners(type) {\n    if (!this[_]) {\n      return false;\n    }\n    return !!this[_].listeners[type];\n  }\n  /**\r\n   * Fires all registered listeners\r\n   * @param  {string}    type The type of the listeners to fire.\r\n   * @param  {...*} args fire arguments\r\n   * @return {*} the result of the last listener\r\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fireListeners(type, ...args) {\n    if (!this[_]) {\n      return [];\n    }\n    const list = this[_].listeners[type];\n    if (!list) {\n      return [];\n    }\n    return list.map(listener => listener.call(this, ...args)).filter(r => r != null);\n  }\n  dispose() {\n    // @ts-expect-error -- ignore\n    delete this[_];\n  }\n}\nexports.EventTarget = EventTarget;\n_a = _;\n\n/***/ }),\n\n/***/ \"./data.js\":\n/*!*****************!*\\\n  !*** ./data.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\nconst DataSource_1 = __webpack_require__(/*! ./data/DataSource */ \"./data/DataSource.js\");\nObject.defineProperty(exports, \"DataSource\", {\n  enumerable: true,\n  get: function () {\n    return DataSource_1.DataSource;\n  }\n});\nconst CachedDataSource_1 = __webpack_require__(/*! ./data/CachedDataSource */ \"./data/CachedDataSource.js\");\nObject.defineProperty(exports, \"CachedDataSource\", {\n  enumerable: true,\n  get: function () {\n    return CachedDataSource_1.CachedDataSource;\n  }\n});\nconst FilterDataSource_1 = __webpack_require__(/*! ./data/FilterDataSource */ \"./data/FilterDataSource.js\");\nObject.defineProperty(exports, \"FilterDataSource\", {\n  enumerable: true,\n  get: function () {\n    return FilterDataSource_1.FilterDataSource;\n  }\n});\n\n/***/ }),\n\n/***/ \"./data/CachedDataSource.js\":\n/*!**********************************!*\\\n  !*** ./data/CachedDataSource.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CachedDataSource = void 0;\nconst DataSource_1 = __webpack_require__(/*! ./DataSource */ \"./data/DataSource.js\");\n/** @private */\nfunction _setFieldCache(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfCache, index, field,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  const recCache = fCache[index] || (fCache[index] = new Map());\n  recCache.set(field, value);\n}\n/**\r\n * grid data source for caching Promise data\r\n *\r\n * @classdesc cheetahGrid.data.CachedDataSource\r\n * @memberof cheetahGrid.data\r\n */\nclass CachedDataSource extends DataSource_1.DataSource {\n  static get EVENT_TYPE() {\n    return DataSource_1.DataSource.EVENT_TYPE;\n  }\n  static ofArray(array) {\n    return new CachedDataSource({\n      get: index => array[index],\n      length: array.length,\n      source: array\n    });\n  }\n  constructor(opt) {\n    super(opt);\n    this._rCache = {};\n    this._fCache = {};\n  }\n  getOriginal(index) {\n    if (this._rCache && this._rCache[index]) {\n      return this._rCache[index];\n    }\n    return super.getOriginal(index);\n  }\n  getOriginalField(index, field) {\n    const rowCache = this._fCache && this._fCache[index];\n    if (rowCache) {\n      const cache = rowCache.get(field);\n      if (cache) {\n        return cache;\n      }\n    }\n    return super.getOriginalField(index, field);\n  }\n  setOriginalField(index, field,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    const fCache = this._fCache;\n    if (fCache && fCache[index]) {\n      delete fCache[index]; // clear row cache\n    }\n\n    return super.setOriginalField(index, field, value);\n  }\n  clearCache() {\n    if (this._rCache) {\n      this._rCache = {};\n    }\n    if (this._fCache) {\n      this._fCache = {};\n    }\n  }\n  fieldPromiseCallBackInternal(index, field,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    _setFieldCache(this._fCache, index, field, value);\n  }\n  recordPromiseCallBackInternal(index,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  record) {\n    this._rCache[index] = record;\n  }\n  dispose() {\n    super.dispose();\n  }\n}\nexports.CachedDataSource = CachedDataSource;\n\n/***/ }),\n\n/***/ \"./data/DataSource.js\":\n/*!****************************!*\\\n  !*** ./data/DataSource.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataSource = void 0;\nconst sort = __importStar(__webpack_require__(/*! ../internal/sort */ \"./internal/sort.js\"));\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst EventTarget_1 = __webpack_require__(/*! ../core/EventTarget */ \"./core/EventTarget.js\");\n/** @private */\nfunction isFieldAssessor(field) {\n  if (utils_1.obj.isObject(field)) {\n    if (field.get && field.set) {\n      return true;\n    }\n  }\n  return false;\n}\n/** @private */\nconst EVENT_TYPE = {\n  UPDATE_LENGTH: \"update_length\",\n  UPDATED_LENGTH: \"updated_length\",\n  UPDATED_ORDER: \"updated_order\"\n};\n/** @private */\nfunction ascOrderFn(v1, v2) {\n  if (v1 === v2) {\n    return 0;\n  }\n  if (v1 == null) {\n    return v2 == null ?\n    // If both are nullish, consider a match.\n    0 :\n    // Nulls first\n    -1;\n  }\n  if (v2 == null) {\n    // Nulls first\n    return 1;\n  }\n  return v1 > v2 ? 1 : -1;\n}\nfunction descOrderFn(v1, v2) {\n  return ascOrderFn(v1, v2) * -1;\n}\n/** @private */\nfunction getValue(value, setPromiseBack) {\n  const maybePromiseValue = (0, utils_1.getOrApply)(value);\n  if ((0, utils_1.isPromise)(maybePromiseValue)) {\n    const promiseValue = maybePromiseValue.then(r => {\n      setPromiseBack(r);\n      return r;\n    });\n    //\n    setPromiseBack(promiseValue);\n    return promiseValue;\n  } else {\n    return maybePromiseValue;\n  }\n}\n/** @private */\nfunction getField(record, field,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nsetPromiseBack) {\n  if (record == null) {\n    return undefined;\n  }\n  if ((0, utils_1.isPromise)(record)) {\n    return record.then(r => getField(r, field, setPromiseBack));\n  }\n  const fieldGet = isFieldAssessor(field) ? field.get : field;\n  if (fieldGet in record) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = record[fieldGet];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return getValue(fieldResult, setPromiseBack);\n  }\n  if (typeof fieldGet === \"function\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = fieldGet(record);\n    return getValue(fieldResult, setPromiseBack);\n  }\n  // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n  const ss = String(fieldGet).split(\".\");\n  if (ss.length <= 1) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = record[fieldGet];\n    return getValue(fieldResult, setPromiseBack);\n  }\n  const fieldResult = (0, utils_1.applyChainSafe)(record,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\n  return getValue(fieldResult, setPromiseBack);\n}\n/** @private */\nfunction setField(record, field,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  if (record == null) {\n    return false;\n  }\n  const fieldSet = isFieldAssessor(field) ? field.set : field;\n  if (fieldSet in record) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record[fieldSet] = value;\n  } else if (typeof fieldSet === \"function\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return fieldSet(record, value);\n  } else if (typeof fieldSet === \"string\") {\n    const ss = `${fieldSet}`.split(\".\");\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let obj = record;\n    const {\n      length\n    } = ss;\n    for (let i = 0; i < length; i++) {\n      const f = ss[i];\n      if (i === length - 1) {\n        obj[f] = value;\n      } else {\n        obj = obj[f] || (obj[f] = {});\n      }\n    }\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record[fieldSet] = value;\n  }\n  return true;\n}\n/** @private */\nfunction _getIndex(sortedIndexMap, index) {\n  if (!sortedIndexMap) {\n    return index;\n  }\n  const mapIndex = sortedIndexMap[index];\n  return mapIndex != null ? mapIndex : index;\n}\n/**\r\n * grid data source\r\n *\r\n * @classdesc cheetahGrid.data.DataSource\r\n * @memberof cheetahGrid.data\r\n */\nclass DataSource extends EventTarget_1.EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  static ofArray(array) {\n    return new DataSource({\n      get: index => array[index],\n      length: array.length,\n      source: array\n    });\n  }\n  constructor(obj) {\n    var _a;\n    super();\n    this._sortedIndexMap = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\n    this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\n    this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get source() {\n    return this._source;\n  }\n  get(index) {\n    return this.getOriginal(_getIndex(this._sortedIndexMap, index));\n  }\n  getField(index, field) {\n    return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  hasField(index, field) {\n    return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\n  }\n  setField(index, field,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\n  }\n  sort(field, order) {\n    const sortedIndexMap = new Array(this._length);\n    const orderFn = order !== \"desc\" ? ascOrderFn : descOrderFn;\n    return sort.sortPromise(index => sortedIndexMap[index] != null ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n      sortedIndexMap[index] = rel;\n    }, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n      this._sortedIndexMap = sortedIndexMap;\n      this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n    });\n  }\n  get length() {\n    return this._length;\n  }\n  set length(length) {\n    if (this._length === length) {\n      return;\n    }\n    const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n    if (utils_1.array.findIndex(results, v => !v) >= 0) {\n      return;\n    }\n    this._length = length;\n    this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n  }\n  get dataSource() {\n    return this;\n  }\n  dispose() {\n    super.dispose();\n  }\n  getOriginal(index) {\n    return getValue(this._get(index), val => {\n      this.recordPromiseCallBackInternal(index, val);\n    });\n  }\n  getOriginalField(index, field) {\n    if (field == null) {\n      return undefined;\n    }\n    const record = this.getOriginal(index);\n    return getField(record, field, val => {\n      this.fieldPromiseCallBackInternal(index, field, val);\n    });\n  }\n  hasOriginalField(index, field) {\n    if (field == null) {\n      return false;\n    }\n    if (typeof field === \"function\") {\n      return true;\n    }\n    const record = this.getOriginal(index);\n    return Boolean(record && field in record);\n  }\n  setOriginalField(index, field,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    if (field == null) {\n      return false;\n    }\n    const record = this.getOriginal(index);\n    if ((0, utils_1.isPromise)(record)) {\n      return record.then(r => setField(r, field, value));\n    }\n    return setField(record, field, value);\n  }\n  fieldPromiseCallBackInternal(_index, _field,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _value) {\n    //\n  }\n  recordPromiseCallBackInternal(_index, _record) {\n    //\n  }\n}\nexports.DataSource = DataSource;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nDataSource.EMPTY = new DataSource({\n  get() {\n    /*noop */\n  },\n  length: 0\n});\n\n/***/ }),\n\n/***/ \"./data/FilterDataSource.js\":\n/*!**********************************!*\\\n  !*** ./data/FilterDataSource.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilterDataSource = void 0;\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst DataSource_1 = __webpack_require__(/*! ./DataSource */ \"./data/DataSource.js\");\nconst EventHandler_1 = __webpack_require__(/*! ../internal/EventHandler */ \"./internal/EventHandler.js\");\n/** @private */\nclass DataSourceIterator {\n  constructor(dataSource) {\n    this._dataSource = dataSource;\n    this._curIndex = -1;\n    this._data = [];\n  }\n  hasNext() {\n    const next = this._curIndex + 1;\n    return this._dataSource.length > next;\n  }\n  next() {\n    const next = this._curIndex + 1;\n    const data = this._getIndexData(next);\n    this._curIndex = next;\n    return data;\n  }\n  movePrev() {\n    this._curIndex--;\n  }\n  _getIndexData(index, nest) {\n    const dataSource = this._dataSource;\n    const data = this._data;\n    if (index < data.length) {\n      return data[index];\n    }\n    if (dataSource.length <= index) {\n      return undefined;\n    }\n    const record = this._dataSource.get(index);\n    data[index] = record;\n    if ((0, utils_1.isPromise)(record)) {\n      record.then(val => {\n        data[index] = val;\n      });\n      if (!nest) {\n        for (let i = 1; i <= 100; i++) {\n          this._getIndexData(index + i, true);\n        }\n      }\n    }\n    return record;\n  }\n}\n/** @private */\nclass FilterData {\n  constructor(dc, original, filter) {\n    this._cancel = false;\n    this._owner = dc;\n    this._dataSourceItr = new DataSourceIterator(original);\n    this._filter = filter;\n    this._filteredList = [];\n    this._queues = [];\n  }\n  get(index) {\n    if (this._cancel) {\n      return undefined;\n    }\n    const filteredList = this._filteredList;\n    if (index < filteredList.length) {\n      return filteredList[index];\n    }\n    const queues = this._queues;\n    const indexQueue = queues[index];\n    if (indexQueue) {\n      return indexQueue;\n    }\n    return queues[index] || this._findIndex(index);\n  }\n  cancel() {\n    this._cancel = true;\n  }\n  _findIndex(index) {\n    if (window.Promise) {\n      const timeout = Date.now() + 100;\n      let count = 0;\n      return this._findIndexWithTimeout(index, () => {\n        count++;\n        if (count >= 100) {\n          count = 0;\n          return timeout < Date.now();\n        }\n        return false;\n      });\n    }\n    return this._findIndexWithTimeout(index, () => false);\n  }\n  _findIndexWithTimeout(index, testTimeout) {\n    const filteredList = this._filteredList;\n    const filter = this._filter;\n    const dataSourceItr = this._dataSourceItr;\n    const queues = this._queues;\n    while (dataSourceItr.hasNext()) {\n      if (this._cancel) {\n        return undefined;\n      }\n      const record = dataSourceItr.next();\n      if ((0, utils_1.isPromise)(record)) {\n        dataSourceItr.movePrev();\n        const queue = record.then(_value => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        queues[index] = queue;\n        return queue;\n      }\n      if (filter(record)) {\n        filteredList.push(record);\n        if (index < filteredList.length) {\n          return filteredList[index];\n        }\n      }\n      if (testTimeout()) {\n        const promise = new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n          }, 300);\n        });\n        const queue = promise.then(() => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        queues[index] = queue;\n        return queue;\n      }\n    }\n    const dc = this._owner;\n    dc.length = filteredList.length;\n    return undefined;\n  }\n}\n/**\r\n * grid data source for filter\r\n *\r\n * @classdesc cheetahGrid.data.FilterDataSource\r\n * @memberof cheetahGrid.data\r\n */\nclass FilterDataSource extends DataSource_1.DataSource {\n  static get EVENT_TYPE() {\n    return DataSource_1.DataSource.EVENT_TYPE;\n  }\n  constructor(dataSource, filter) {\n    super(dataSource);\n    this._filterData = null;\n    this._dataSource = dataSource;\n    this.filter = filter;\n    const handler = this._handler = new EventHandler_1.EventHandler();\n    handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n      // reset\n      // eslint-disable-next-line no-self-assign\n      this.filter = this.filter;\n    });\n    (0, utils_1.each)(DataSource_1.DataSource.EVENT_TYPE, type => {\n      handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n    });\n  }\n  get filter() {\n    var _a;\n    return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\n  }\n  set filter(filter) {\n    if (this._filterData) {\n      this._filterData.cancel();\n    }\n    this._filterData = filter ? new FilterData(this, this._dataSource, filter) : null;\n    this.length = this._dataSource.length;\n  }\n  getOriginal(index) {\n    if (!this._filterData) {\n      return super.getOriginal(index);\n    }\n    return this._filterData.get(index);\n  }\n  sort(field, order) {\n    return this._dataSource.sort(field, order);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get source() {\n    return this._dataSource.source;\n  }\n  get dataSource() {\n    return this._dataSource;\n  }\n  dispose() {\n    this._handler.dispose();\n    super.dispose();\n  }\n}\nexports.FilterDataSource = FilterDataSource;\n\n/***/ }),\n\n/***/ \"./element/Inline.js\":\n/*!***************************!*\\\n  !*** ./element/Inline.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Inline = void 0;\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nfunction getWidth(ctx, content) {\n  return ctx.measureText(content).width;\n}\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n  const chars = [];\n  let ret = itr.next();\n  for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n    chars.push(ret);\n  }\n  let beforeWidth = getWidth(ctx, chars.join(\"\"));\n  if (beforeWidth > width) {\n    while (chars.length) {\n      const c = chars.pop();\n      beforeWidth -= getWidth(ctx, c || \"\");\n      if (beforeWidth <= width) {\n        break;\n      }\n    }\n  } else if (beforeWidth < width) {\n    while (ret !== null) {\n      const charWidth = getWidth(ctx, ret);\n      if (beforeWidth + charWidth > width) {\n        break;\n      }\n      chars.push(ret);\n      beforeWidth += charWidth;\n      ret = itr.next();\n    }\n  }\n  const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\n  const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\n  return {\n    before: beforeContent ? new Inline(beforeContent) : null,\n    after: afterContent ? new Inline(afterContent) : null\n  };\n}\nclass Inline {\n  constructor(content) {\n    this._content = content != null ? content : \"\";\n  }\n  width({\n    ctx\n  }) {\n    return getWidth(ctx, this._content);\n  }\n  font() {\n    return null;\n  }\n  color() {\n    return null;\n  }\n  canDraw() {\n    return true;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onReady(_callback) {}\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n  canBreak() {\n    return !!this._content;\n  }\n  splitIndex(index) {\n    const content = this._content;\n    const itr = utils_1.str.genChars(content);\n    const chars = [];\n    let ret = itr.next();\n    for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n      chars.push(ret);\n    }\n    const beforeContent = chars.join(\"\");\n    const afterContent = content.slice(beforeContent.length);\n    return {\n      before: beforeContent ? new Inline(beforeContent) : null,\n      after: afterContent ? new Inline(afterContent) : null\n    };\n  }\n  breakWord(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = utils_1.str.genWords(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n  breakAll(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = utils_1.str.genChars(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n  toString() {\n    return this._content;\n  }\n}\nexports.Inline = Inline;\n\n/***/ }),\n\n/***/ \"./element/InlineDrawer.js\":\n/*!*********************************!*\\\n  !*** ./element/InlineDrawer.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineDrawer = void 0;\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\nclass InlineDrawer extends Inline_1.Inline {\n  constructor({\n    draw,\n    width,\n    // height,\n    color\n  }) {\n    super();\n    this._draw = draw;\n    this._width = width;\n    // this._height = height;\n    this._color = color;\n  }\n  width(_arg) {\n    return this._width;\n  }\n  font() {\n    return null;\n  }\n  color() {\n    var _a;\n    return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n  }\n  canDraw() {\n    return true;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onReady(_callback) {}\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    this._draw({\n      ctx,\n      canvashelper,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    });\n  }\n  canBreak() {\n    return false;\n  }\n  toString() {\n    return \"\";\n  }\n}\nexports.InlineDrawer = InlineDrawer;\n\n/***/ }),\n\n/***/ \"./element/InlineIcon.js\":\n/*!*******************************!*\\\n  !*** ./element/InlineIcon.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineIcon = void 0;\nconst fonts = __importStar(__webpack_require__(/*! ../internal/fonts */ \"./internal/fonts.js\"));\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\nclass InlineIcon extends Inline_1.Inline {\n  constructor(icon) {\n    super();\n    this._icon = icon || {};\n  }\n  width({\n    ctx\n  }) {\n    const icon = this._icon;\n    if (icon.width) {\n      return icon.width;\n    }\n    if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\n      ctx.save();\n      ctx.canvas.style.letterSpacing = \"normal\";\n      try {\n        ctx.font = icon.font || ctx.font;\n        return ctx.measureText(icon.content || \"\").width;\n      } finally {\n        ctx.canvas.style.letterSpacing = \"\";\n        ctx.restore();\n      }\n    }\n    return 0; //unknown\n  }\n\n  font() {\n    var _a;\n    return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\n  }\n  color() {\n    var _a;\n    return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\n  }\n  canDraw() {\n    const icon = this._icon;\n    return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\n  }\n  onReady(callback) {\n    const icon = this._icon;\n    if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\n      fonts.load(icon.font, icon.content || \"\", callback);\n    }\n  }\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const icon = this._icon;\n    if (icon.content) {\n      ctx.canvas.style.letterSpacing = \"normal\";\n      try {\n        // eslint-disable-next-line no-self-assign\n        ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\n        canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n          offset: offset + 1,\n          padding: {\n            left: offsetLeft + (this._icon.offsetLeft || 0),\n            right: offsetRight,\n            top: offsetTop + (this._icon.offsetTop || 0),\n            bottom: offsetBottom\n          }\n        });\n      } finally {\n        ctx.canvas.style.letterSpacing = \"\";\n      }\n    }\n  }\n  canBreak() {\n    return false;\n  }\n  toString() {\n    return \"\";\n  }\n}\nexports.InlineIcon = InlineIcon;\n\n/***/ }),\n\n/***/ \"./element/InlineImage.js\":\n/*!********************************!*\\\n  !*** ./element/InlineImage.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineImage = void 0;\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\nconst imgs_1 = __webpack_require__(/*! ../internal/imgs */ \"./internal/imgs.js\");\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nclass InlineImage extends Inline_1.Inline {\n  constructor({\n    src,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight,\n    offsetTop,\n    offsetLeft\n  }) {\n    super();\n    this._inlineImgPromise = null;\n    this._inlineImg = null;\n    this._src = src;\n    this._width = width;\n    this._height = height;\n    this._imageLeft = imageLeft;\n    this._imageTop = imageTop;\n    this._imageWidth = imageWidth;\n    this._imageHeight = imageHeight;\n    this._offsetTop = offsetTop;\n    this._offsetLeft = offsetLeft;\n    this._onloaded = [];\n    if ((0, utils_1.isPromise)(src)) {\n      src.then(s => {\n        this._src = s;\n        this._loadImage(s);\n      });\n    } else {\n      this._loadImage(src);\n    }\n  }\n  _loadImage(src) {\n    const img = this._inlineImgPromise = (0, imgs_1.getCacheOrLoad)(\"InlineImage\", 50, src);\n    if ((0, utils_1.isPromise)(img)) {\n      img.then(i => {\n        this._inlineImg = i;\n        this._onloaded.forEach(fn => fn());\n      });\n    } else {\n      this._inlineImg = img;\n    }\n  }\n  width(_arg) {\n    var _a, _b;\n    return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\n  }\n  font() {\n    return null;\n  }\n  color() {\n    return null;\n  }\n  canDraw() {\n    return !!this._inlineImg;\n  }\n  onReady(callback) {\n    if ((0, utils_1.isPromise)(this._src) || (0, utils_1.isPromise)(this._inlineImgPromise)) {\n      this._onloaded.push(() => callback());\n    }\n  }\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    var _a, _b;\n    const img = this._inlineImg;\n    canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft + ((_a = this._offsetLeft) !== null && _a !== void 0 ? _a : 0),\n        right: offsetRight,\n        top: offsetTop + ((_b = this._offsetTop) !== null && _b !== void 0 ? _b : 0),\n        bottom: offsetBottom\n      }\n    });\n  }\n  canBreak() {\n    return false;\n  }\n  toString() {\n    return \"\";\n  }\n}\nexports.InlineImage = InlineImage;\n\n/***/ }),\n\n/***/ \"./element/InlinePath2D.js\":\n/*!*********************************!*\\\n  !*** ./element/InlinePath2D.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlinePath2D = void 0;\nconst path2DManager = __importStar(__webpack_require__(/*! ../internal/path2DManager */ \"./internal/path2DManager.js\"));\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\nclass InlinePath2D extends Inline_1.Inline {\n  constructor({\n    path,\n    width,\n    height,\n    color\n  }) {\n    super();\n    // IEPath2Dpolyfill\n    const Path2D = path2DManager.getPath2D();\n    this._path = new Path2D(path);\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n  width(_arg) {\n    return this._width;\n  }\n  font() {\n    return null;\n  }\n  color() {\n    var _a;\n    return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n  }\n  canDraw() {\n    return true;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onReady(_callback) {}\n  draw({\n    ctx,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    offset++;\n    const padding = {\n      left: offsetLeft,\n      right: offsetRight,\n      top: offsetTop,\n      bottom: offsetBottom\n    };\n    ctx.save();\n    try {\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      //clip\n      ctx.clip();\n      //\n      const pos = (0, canvases_1.calcStartPosition)(ctx, rect, this._width, this._height, {\n        offset,\n        padding\n      });\n      ctx.translate(pos.x, pos.y);\n      ctx.fill(this._path);\n    } finally {\n      ctx.restore();\n    }\n  }\n  canBreak() {\n    return false;\n  }\n  toString() {\n    return \"\";\n  }\n}\nexports.InlinePath2D = InlinePath2D;\n\n/***/ }),\n\n/***/ \"./element/InlineSvg.js\":\n/*!******************************!*\\\n  !*** ./element/InlineSvg.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineSvg = void 0;\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst InlineImage_1 = __webpack_require__(/*! ./InlineImage */ \"./element/InlineImage.js\");\nfunction buildSvgDataUrl(svg) {\n  const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\n  const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n  return url;\n}\nfunction getSvgElement(svg) {\n  if (typeof svg === \"string\") {\n    const parser = new DOMParser();\n    return parser.parseFromString(svg, \"image/svg+xml\").children[0];\n  } else {\n    return svg;\n  }\n}\nclass InlineSvg extends InlineImage_1.InlineImage {\n  constructor({\n    svg,\n    width,\n    height\n  }) {\n    var _a, _b;\n    const svgElem = (0, utils_1.then)(svg, getSvgElement);\n    const elmWidth = !(0, utils_1.isPromise)(svgElem) ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined : undefined;\n    const elmHeight = !(0, utils_1.isPromise)(svgElem) ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined : undefined;\n    const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\n    const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\n    super({\n      src: (0, utils_1.then)(svg, buildSvgDataUrl),\n      width: width || numElmWidth,\n      height: height || numElmHeight,\n      imageWidth: numElmWidth,\n      imageHeight: numElmHeight\n    });\n  }\n  canBreak() {\n    return false;\n  }\n  toString() {\n    return \"\";\n  }\n}\nexports.InlineSvg = InlineSvg;\n\n/***/ }),\n\n/***/ \"./element/inlines.js\":\n/*!****************************!*\\\n  !*** ./element/inlines.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\nconst icons = __importStar(__webpack_require__(/*! ../icons */ \"./icons.js\"));\nconst path2DManager = __importStar(__webpack_require__(/*! ../internal/path2DManager */ \"./internal/path2DManager.js\"));\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\nconst InlineDrawer_1 = __webpack_require__(/*! ./InlineDrawer */ \"./element/InlineDrawer.js\");\nconst InlineIcon_1 = __webpack_require__(/*! ./InlineIcon */ \"./element/InlineIcon.js\");\nconst InlineImage_1 = __webpack_require__(/*! ./InlineImage */ \"./element/InlineImage.js\");\nconst InlinePath2D_1 = __webpack_require__(/*! ./InlinePath2D */ \"./element/InlinePath2D.js\");\nconst InlineSvg_1 = __webpack_require__(/*! ./InlineSvg */ \"./element/InlineSvg.js\");\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height);\n    //clip\n    ctx.clip();\n    //\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, drawWidth, drawHeight, {\n      offset,\n      padding\n    });\n    path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n  } finally {\n    ctx.restore();\n  }\n}\nfunction isIconConstructorOption(icon) {\n  if (icon.font && icon.content) {\n    return true;\n  }\n  return false;\n}\nfunction isInlineImageConstructorOption(icon) {\n  if (icon.src) {\n    return true;\n  }\n  return false;\n}\nfunction isInlineSvgConstructorOption(icon) {\n  if (icon.path) {\n    return true;\n  }\n  return false;\n}\nfunction iconOf(icon) {\n  if (icon instanceof Inline_1.Inline) {\n    return icon;\n  }\n  if (!icon) {\n    return null;\n  }\n  if (isIconConstructorOption(icon)) {\n    return new InlineIcon_1.InlineIcon(icon);\n  }\n  if (isInlineImageConstructorOption(icon)) {\n    return new InlineImage_1.InlineImage({\n      src: icon.src,\n      width: icon.width,\n      height: icon.width,\n      offsetTop: icon.offsetTop,\n      offsetLeft: icon.offsetLeft\n    });\n  }\n  if (icon.svg) {\n    return new InlineSvg_1.InlineSvg({\n      svg: icon.svg,\n      width: icon.width,\n      height: icon.width\n    });\n  }\n  if (isInlineSvgConstructorOption(icon)) {\n    return new InlinePath2D_1.InlinePath2D({\n      path: icon.path,\n      width: icon.width,\n      height: icon.width,\n      color: icon.color\n    });\n  }\n  const registeredIcons = icons.get();\n  if (icon.name && registeredIcons[icon.name]) {\n    const registeredIcon = registeredIcons[icon.name];\n    const width = icon.width || Math.max(registeredIcon.width, registeredIcon.height);\n    return new InlineDrawer_1.InlineDrawer({\n      draw({\n        ctx,\n        rect,\n        offset,\n        offsetLeft,\n        offsetRight,\n        offsetTop,\n        offsetBottom\n      }) {\n        drawRegisteredIcon(ctx, registeredIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n          offset: offset + 1,\n          padding: {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom\n          }\n        });\n      },\n      width,\n      height: width,\n      color: icon.color\n    });\n  }\n  return new InlineIcon_1.InlineIcon(icon);\n}\nexports.iconOf = iconOf;\nfunction of(content) {\n  if (content == null) {\n    return null;\n  }\n  if (content instanceof Inline_1.Inline) {\n    return content;\n  }\n  return new Inline_1.Inline(content);\n}\nexports.of = of;\nfunction buildInlines(icons, inline) {\n  const result = [];\n  if (icons) {\n    result.push(...icons.map(icon => iconOf(icon)).filter(i => i != null));\n  }\n  if (Array.isArray(inline)\n  // && inline.filter(il => il instanceof Inline).length <- ?\n  ) {\n    result.push(...inline.map(il => of(il)).filter(i => i != null));\n  } else {\n    const il = of(inline);\n    if (il) {\n      result.push(il);\n    }\n  }\n  return result;\n}\nexports.buildInlines = buildInlines;\nfunction string(inline) {\n  return buildInlines(undefined, inline).join(\"\");\n}\nexports.string = string;\n\n/***/ }),\n\n/***/ \"./get-internal.js\":\n/*!*************************!*\\\n  !*** ./get-internal.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInternal = void 0;\nfunction getInternal() {\n  console.warn(\"use internal!!\");\n  return {\n    color: __webpack_require__(/*! ./internal/color */ \"./internal/color.js\"),\n    sort: __webpack_require__(/*! ./internal/sort */ \"./internal/sort.js\"),\n    calc: __webpack_require__(/*! ./internal/calc */ \"./internal/calc.js\"),\n    symbolManager: __webpack_require__(/*! ./internal/symbolManager */ \"./internal/symbolManager.js\"),\n    path2DManager: __webpack_require__(/*! ./internal/path2DManager */ \"./internal/path2DManager.js\"),\n    pasteUtils: __webpack_require__(/*! ./internal/paste-utils */ \"./internal/paste-utils.js\")\n  };\n}\nexports.getInternal = getInternal;\n\n/***/ }),\n\n/***/ \"./header/action.js\":\n/*!**************************!*\\\n  !*** ./header/action.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\nconst BaseAction_1 = __webpack_require__(/*! ./action/BaseAction */ \"./header/action/BaseAction.js\");\nObject.defineProperty(exports, \"BaseAction\", {\n  enumerable: true,\n  get: function () {\n    return BaseAction_1.BaseAction;\n  }\n});\nconst CheckHeaderAction_1 = __webpack_require__(/*! ./action/CheckHeaderAction */ \"./header/action/CheckHeaderAction.js\");\nObject.defineProperty(exports, \"CheckHeaderAction\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeaderAction_1.CheckHeaderAction;\n  }\n});\nconst SortHeaderAction_1 = __webpack_require__(/*! ./action/SortHeaderAction */ \"./header/action/SortHeaderAction.js\");\nObject.defineProperty(exports, \"SortHeaderAction\", {\n  enumerable: true,\n  get: function () {\n    return SortHeaderAction_1.SortHeaderAction;\n  }\n});\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n}\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n}\nexports.ACTIONS = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  SORT: new ImmutableSortHeaderAction(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new ImmutableCheckHeaderAction()\n};\nfunction of(headerAction) {\n  if (!headerAction) {\n    return undefined;\n  } else if (typeof headerAction === \"string\") {\n    const key = headerAction.toUpperCase();\n    return exports.ACTIONS[key] || of(null);\n  } else {\n    return headerAction;\n  }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n  if (headerCell.sort) {\n    if (typeof headerCell.sort === \"function\") {\n      const sortMethod = headerCell.sort;\n      // 0.9.0 Backward compatibility\n      const sort = ({\n        order,\n        col,\n        grid\n      }) => sortMethod.call(headerCell, order, col, grid);\n      return new ImmutableSortHeaderAction({\n        sort\n      });\n    }\n    if (typeof headerCell.sort === \"string\") {\n      return new ImmutableSortHeaderAction({\n        sort: headerCell.sort\n      });\n    }\n    return exports.ACTIONS.SORT;\n  }\n  return of(headerCell.headerAction);\n}\nexports.ofCell = ofCell;\n\n/***/ }),\n\n/***/ \"./header/action/BaseAction.js\":\n/*!*************************************!*\\\n  !*** ./header/action/BaseAction.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseAction = void 0;\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = !!option.disabled || false;\n  }\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(disabled) {\n    this._disabled = disabled;\n    this.onChangeDisabledInternal();\n  }\n  clone() {\n    return new BaseAction(this);\n  }\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n  onChangeDisabledInternal() {\n    // impl\n  }\n}\nexports.BaseAction = BaseAction;\n\n/***/ }),\n\n/***/ \"./header/action/CheckHeaderAction.js\":\n/*!********************************************!*\\\n  !*** ./header/action/CheckHeaderAction.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeaderAction = void 0;\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./header/action/actionBind.js\");\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./header/action/BaseAction.js\");\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\nfunction getState(grid) {\n  let state = grid[CHECK_HEADER_STATE_ID];\n  if (!state) {\n    state = {\n      elapsed: {},\n      block: {}\n    };\n    utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n  }\n  return state;\n}\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\n  clone() {\n    return new CheckHeaderAction(this);\n  }\n  bindGridEvent(grid, cellId) {\n    const state = getState(grid);\n    const action = ({\n      col,\n      row\n    }) => {\n      const range = grid.getCellRange(col, row);\n      const cellKey = `${range.start.col}:${range.start.row}`;\n      if (this.disabled || state.block[cellKey]) {\n        return;\n      }\n      const checked = grid.getHeaderValue(range.start.col, range.start.row);\n      grid.setHeaderValue(range.start.col, range.start.row, !checked);\n      const onChange = () => {\n        // checkbox animation\n        (0, animate_1.animate)(200, point => {\n          if (point === 1) {\n            delete state.elapsed[cellKey];\n          } else {\n            state.elapsed[cellKey] = point;\n          }\n          grid.invalidateCellRange(range);\n        });\n      };\n      onChange();\n    };\n    return [...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\n      action\n    })];\n  }\n}\nexports.CheckHeaderAction = CheckHeaderAction;\n\n/***/ }),\n\n/***/ \"./header/action/SortHeaderAction.js\":\n/*!*******************************************!*\\\n  !*** ./header/action/SortHeaderAction.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeaderAction = void 0;\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./header/action/BaseAction.js\");\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./header/action/actionBind.js\");\nclass SortHeaderAction extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    var _a;\n    super(option);\n    this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\n  }\n  get sort() {\n    return this._sort;\n  }\n  set sort(sort) {\n    this._sort = sort;\n    this.onChangeDisabledInternal();\n  }\n  clone() {\n    return new SortHeaderAction(this);\n  }\n  _executeSort(newState, grid) {\n    if (typeof this._sort === \"function\") {\n      this._sort({\n        order: newState.order || \"asc\",\n        col: newState.col,\n        row: newState.row,\n        grid\n      });\n    } else if (typeof this._sort === \"string\" && (\n    // v1.6.3 Backward compatibility\n    this._sort !== \"true\" || hasTrueField(grid))) {\n      const field = this._sort;\n      grid.dataSource.sort(field, newState.order || \"asc\");\n    } else {\n      const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\n      const field = grid.getField(newState.col, fieldRow);\n      if (field == null) {\n        return;\n      }\n      grid.dataSource.sort(field, newState.order || \"asc\");\n    }\n  }\n  bindGridEvent(grid, cellId) {\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n    const action = cell => {\n      if (this.disabled) {\n        return;\n      }\n      const state = grid.sortState;\n      let newState;\n      const range = grid.getCellRange(cell.col, cell.row);\n      if (isTarget(state.col, cell.row)) {\n        newState = {\n          col: range.start.col,\n          row: range.start.row,\n          order: state.order === \"asc\" ? \"desc\" : \"asc\"\n        };\n      } else {\n        newState = {\n          col: range.start.col,\n          row: range.start.row,\n          order: \"asc\"\n        };\n      }\n      grid.sortState = newState;\n      this._executeSort(newState, grid);\n      grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n    };\n    return [...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\n      action,\n      mouseOver: _e => {\n        if (this.disabled) {\n          return false;\n        }\n        return true;\n      }\n    })];\n  }\n}\nexports.SortHeaderAction = SortHeaderAction;\nfunction hasTrueField(grid) {\n  if (grid.dataSource.length > 0) {\n    const record = grid.dataSource.get(0);\n    return record != null && \"true\" in record;\n  }\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./header/action/actionBind.js\":\n/*!*************************************!*\\\n  !*** ./header/action/actionBind.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\nfunction bindCellClickAction(grid, cellId, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n  let inMouse;\n  return [\n  // click\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }),\n  // mouse move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n    grid.getElement().style.cursor = \"pointer\";\n    inMouse = true;\n  }),\n  //MOUSEENTER'col-resize'move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if (inMouse && !grid.getElement().style.cursor) {\n      grid.getElement().style.cursor = \"pointer\";\n    }\n  }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n    grid.getElement().style.cursor = \"\";\n    inMouse = false;\n  })];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, {\n  action,\n  acceptKeys = []\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n  acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n  return [\n  // enter key down\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n    var _a;\n    if (acceptKeys.indexOf(e.keyCode) === -1) {\n      return;\n    }\n    if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n      // When moving with the enter key, no action is taken with the enter key.\n      return;\n    }\n    const sel = grid.selection.select;\n    if (!isTarget(sel.col, sel.row)) {\n      return;\n    }\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    utils_1.event.cancel(e.event);\n  })];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n\n/***/ }),\n\n/***/ \"./header/style.js\":\n/*!*************************!*\\\n  !*** ./header/style.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\nconst BaseStyle_1 = __webpack_require__(/*! ./style/BaseStyle */ \"./header/style/BaseStyle.js\");\nObject.defineProperty(exports, \"BaseStyle\", {\n  enumerable: true,\n  get: function () {\n    return BaseStyle_1.BaseStyle;\n  }\n});\nconst CheckHeaderStyle_1 = __webpack_require__(/*! ./style/CheckHeaderStyle */ \"./header/style/CheckHeaderStyle.js\");\nObject.defineProperty(exports, \"CheckHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeaderStyle_1.CheckHeaderStyle;\n  }\n});\nconst MultilineTextHeaderStyle_1 = __webpack_require__(/*! ./style/MultilineTextHeaderStyle */ \"./header/style/MultilineTextHeaderStyle.js\");\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n  }\n});\nconst SortHeaderStyle_1 = __webpack_require__(/*! ./style/SortHeaderStyle */ \"./header/style/SortHeaderStyle.js\");\nObject.defineProperty(exports, \"SortHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return SortHeaderStyle_1.SortHeaderStyle;\n  }\n});\nconst Style_1 = __webpack_require__(/*! ./style/Style */ \"./header/style/Style.js\");\nObject.defineProperty(exports, \"Style\", {\n  enumerable: true,\n  get: function () {\n    return Style_1.Style;\n  }\n});\nfunction of(headerStyle, StyleClass) {\n  if (headerStyle) {\n    if (headerStyle instanceof Style_1.Style) {\n      return headerStyle;\n    } else if (typeof headerStyle === \"function\") {\n      return of(headerStyle(), StyleClass);\n    }\n    return new StyleClass(headerStyle);\n  } else {\n    return StyleClass.DEFAULT;\n  }\n}\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./header/style/BaseStyle.js\":\n/*!***********************************!*\\\n  !*** ./header/style/BaseStyle.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseStyle = void 0;\nconst EventTarget_1 = __webpack_require__(/*! ../../core/EventTarget */ \"./core/EventTarget.js\");\nconst EVENT_TYPE = {\n  CHANGE_STYLE: \"change_style\"\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n  get bgColor() {\n    return this._bgColor;\n  }\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n  clone() {\n    return new BaseStyle(this);\n  }\n}\nexports.BaseStyle = BaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/CheckHeaderStyle.js\":\n/*!******************************************!*\\\n  !*** ./header/style/CheckHeaderStyle.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeaderStyle = void 0;\nconst StdTextBaseStyle_1 = __webpack_require__(/*! ./StdTextBaseStyle */ \"./header/style/StdTextBaseStyle.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nlet defaultStyle;\nclass CheckHeaderStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckHeaderStyle();\n  }\n  constructor(style = {}) {\n    super((0, utils_1.defaults)(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n  get borderColor() {\n    return this._borderColor;\n  }\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new CheckHeaderStyle(this);\n  }\n}\nexports.CheckHeaderStyle = CheckHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/MultilineTextHeaderStyle.js\":\n/*!**************************************************!*\\\n  !*** ./header/style/MultilineTextHeaderStyle.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextHeaderStyle = void 0;\nconst StdMultilineTextBaseStyle_1 = __webpack_require__(/*! ./StdMultilineTextBaseStyle */ \"./header/style/StdMultilineTextBaseStyle.js\");\nlet defaultStyle;\nclass MultilineTextHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextHeaderStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n  }\n  clone() {\n    return new MultilineTextHeaderStyle(this);\n  }\n}\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/SortHeaderStyle.js\":\n/*!*****************************************!*\\\n  !*** ./header/style/SortHeaderStyle.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeaderStyle = void 0;\nconst StdMultilineTextBaseStyle_1 = __webpack_require__(/*! ./StdMultilineTextBaseStyle */ \"./header/style/StdMultilineTextBaseStyle.js\");\nlet defaultStyle;\nclass SortHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new SortHeaderStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._sortArrowColor = style.sortArrowColor;\n    this._multiline = style.multiline;\n  }\n  get sortArrowColor() {\n    return this._sortArrowColor;\n  }\n  set sortArrowColor(sortArrowColor) {\n    this._sortArrowColor = sortArrowColor;\n    this.doChangeStyle();\n  }\n  get multiline() {\n    return !!this._multiline;\n  }\n  set multiline(multiline) {\n    this._multiline = multiline;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new SortHeaderStyle(this);\n  }\n}\nexports.SortHeaderStyle = SortHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/StdBaseStyle.js\":\n/*!**************************************!*\\\n  !*** ./header/style/StdBaseStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./header/style/BaseStyle.js\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || \"left\";\n    this._textBaseline = style.textBaseline || \"middle\";\n  }\n  get textAlign() {\n    return this._textAlign;\n  }\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n  get textBaseline() {\n    return this._textBaseline;\n  }\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new StdBaseStyle(this);\n  }\n}\nexports.StdBaseStyle = StdBaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/StdMultilineTextBaseStyle.js\":\n/*!***************************************************!*\\\n  !*** ./header/style/StdMultilineTextBaseStyle.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdMultilineTextBaseStyle = void 0;\nconst StdTextBaseStyle_1 = __webpack_require__(/*! ./StdTextBaseStyle */ \"./header/style/StdTextBaseStyle.js\");\nlet defaultStyle;\nclass StdMultilineTextBaseStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdMultilineTextBaseStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._lineHeight = style.lineHeight || \"1em\";\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n  clone() {\n    return new StdMultilineTextBaseStyle(this);\n  }\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n  get lineClamp() {\n    return this._lineClamp;\n  }\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n}\nexports.StdMultilineTextBaseStyle = StdMultilineTextBaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/StdTextBaseStyle.js\":\n/*!******************************************!*\\\n  !*** ./header/style/StdTextBaseStyle.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdTextBaseStyle = void 0;\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./header/style/StdBaseStyle.js\");\nlet defaultStyle;\nclass StdTextBaseStyle extends StdBaseStyle_1.StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdTextBaseStyle();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._padding = style.padding;\n    this._textOverflow = style.textOverflow || \"ellipsis\";\n  }\n  get color() {\n    return this._color;\n  }\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n  get font() {\n    return this._font;\n  }\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n  get padding() {\n    return this._padding;\n  }\n  set padding(padding) {\n    this._padding = padding;\n    this.doChangeStyle();\n  }\n  get textOverflow() {\n    return this._textOverflow;\n  }\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new StdTextBaseStyle(this);\n  }\n}\nexports.StdTextBaseStyle = StdTextBaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/Style.js\":\n/*!*******************************!*\\\n  !*** ./header/style/Style.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Style = void 0;\nconst StdMultilineTextBaseStyle_1 = __webpack_require__(/*! ./StdMultilineTextBaseStyle */ \"./header/style/StdMultilineTextBaseStyle.js\");\nlet defaultStyle;\nclass Style extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n  constructor(style = {}) {\n    super(style);\n    this._multiline = style.multiline;\n  }\n  get multiline() {\n    return !!this._multiline;\n  }\n  set multiline(multiline) {\n    this._multiline = multiline;\n    this.doChangeStyle();\n  }\n  clone() {\n    return new Style(this);\n  }\n}\nexports.Style = Style;\n\n/***/ }),\n\n/***/ \"./header/type.js\":\n/*!************************!*\\\n  !*** ./header/type.js ***!\n  \\************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\nconst BaseHeader_1 = __webpack_require__(/*! ./type/BaseHeader */ \"./header/type/BaseHeader.js\");\nObject.defineProperty(exports, \"BaseHeader\", {\n  enumerable: true,\n  get: function () {\n    return BaseHeader_1.BaseHeader;\n  }\n});\nconst CheckHeader_1 = __webpack_require__(/*! ./type/CheckHeader */ \"./header/type/CheckHeader.js\");\nObject.defineProperty(exports, \"CheckHeader\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeader_1.CheckHeader;\n  }\n});\nconst Header_1 = __webpack_require__(/*! ./type/Header */ \"./header/type/Header.js\");\nObject.defineProperty(exports, \"Header\", {\n  enumerable: true,\n  get: function () {\n    return Header_1.Header;\n  }\n});\nconst MultilineTextHeader_1 = __webpack_require__(/*! ./type/MultilineTextHeader */ \"./header/type/MultilineTextHeader.js\");\nObject.defineProperty(exports, \"MultilineTextHeader\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextHeader_1.MultilineTextHeader;\n  }\n});\nconst SortHeader_1 = __webpack_require__(/*! ./type/SortHeader */ \"./header/type/SortHeader.js\");\nObject.defineProperty(exports, \"SortHeader\", {\n  enumerable: true,\n  get: function () {\n    return SortHeader_1.SortHeader;\n  }\n});\nconst TYPES = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DEFAULT: new Header_1.Header(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  SORT: new SortHeader_1.SortHeader(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new CheckHeader_1.CheckHeader(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader()\n};\nfunction of(headerType) {\n  if (!headerType) {\n    return TYPES.DEFAULT;\n  } else if (typeof headerType === \"string\") {\n    const key = headerType.toUpperCase();\n    return TYPES[key] || of(null);\n  } else {\n    return headerType;\n  }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n  if (headerCell.sort) {\n    return TYPES.SORT;\n  }\n  return of(headerCell.headerType);\n}\nexports.ofCell = ofCell;\n\n/***/ }),\n\n/***/ \"./header/type/BaseHeader.js\":\n/*!***********************************!*\\\n  !*** ./header/type/BaseHeader.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseHeader = void 0;\nconst styleContents = __importStar(__webpack_require__(/*! ../style */ \"./header/style.js\"));\nconst BaseStyle_1 = __webpack_require__(/*! ../style/BaseStyle */ \"./header/style/BaseStyle.js\");\nclass BaseHeader {\n  constructor(_options = {}) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n  }\n\n  get StyleClass() {\n    return BaseStyle_1.BaseStyle;\n  }\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase();\n    //\n    this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n  }\n  convertInternal(value) {\n    if (typeof value === \"function\") {\n      value = value();\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    return value != null ? `${value}` : \"\";\n  }\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n  getCopyCellValue(value, _grid, _cell) {\n    if (typeof value === \"function\") {\n      value = value();\n    }\n    return value != null ? value : \"\";\n  }\n}\nexports.BaseHeader = BaseHeader;\n\n/***/ }),\n\n/***/ \"./header/type/CheckHeader.js\":\n/*!************************************!*\\\n  !*** ./header/type/CheckHeader.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeader = void 0;\nconst inlineUtils = __importStar(__webpack_require__(/*! ../../element/inlines */ \"./element/inlines.js\"));\nconst utils = __importStar(__webpack_require__(/*! ../../columns/type/columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\nconst CheckHeaderStyle_1 = __webpack_require__(/*! ../style/CheckHeaderStyle */ \"./header/style/CheckHeaderStyle.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getState(grid) {\n  let state = grid[CHECK_HEADER_STATE_ID];\n  if (!state) {\n    state = {\n      elapsed: {},\n      block: {}\n    };\n    utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n  }\n  return state;\n}\nclass CheckHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return CheckHeaderStyle_1.CheckHeaderStyle;\n  }\n  clone() {\n    return new CheckHeader(this);\n  }\n  drawInternal(value, context, style, helper,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor,\n      padding,\n      color,\n      font,\n      textOverflow\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const {\n      elapsed: {\n        [cellKey]: elapsed\n      }\n    } = getState(grid);\n    const checked = grid.getHeaderValue(range.start.col, range.start.row);\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n    const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      let contents = [inlineCheck];\n      contents = contents.concat(inlineUtils.buildInlines(icons, value != null ? String(value) : \"\"));\n      helper.text(contents, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        textOverflow\n      });\n    });\n  }\n}\nexports.CheckHeader = CheckHeader;\n\n/***/ }),\n\n/***/ \"./header/type/Header.js\":\n/*!*******************************!*\\\n  !*** ./header/type/Header.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Header = void 0;\nconst utils = __importStar(__webpack_require__(/*! ../../columns/type/columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\nconst Style_1 = __webpack_require__(/*! ../style/Style */ \"./header/style/Style.js\");\nclass Header extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return Style_1.Style;\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      multiline\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      if (multiline) {\n        const multilines = textValue.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n        helper.multilineText(multilines, context, {\n          textAlign,\n          textBaseline,\n          color,\n          font,\n          padding,\n          lineHeight,\n          autoWrapText,\n          lineClamp,\n          textOverflow,\n          icons\n        });\n      } else {\n        helper.text(textValue, context, {\n          textAlign,\n          textBaseline,\n          color,\n          font,\n          padding,\n          textOverflow,\n          icons\n        });\n      }\n    });\n  }\n}\nexports.Header = Header;\n\n/***/ }),\n\n/***/ \"./header/type/MultilineTextHeader.js\":\n/*!********************************************!*\\\n  !*** ./header/type/MultilineTextHeader.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextHeader = void 0;\nconst utils = __importStar(__webpack_require__(/*! ../../columns/type/columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\nconst MultilineTextHeaderStyle_1 = __webpack_require__(/*! ../style/MultilineTextHeaderStyle */ \"./header/style/MultilineTextHeaderStyle.js\");\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n  }\n  clone() {\n    return new MultilineTextHeader(this);\n  }\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    const multilines = textValue.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n    helper.testFontLoad(font, textValue, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.multilineText(multilines, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n}\nexports.MultilineTextHeader = MultilineTextHeader;\n\n/***/ }),\n\n/***/ \"./header/type/SortHeader.js\":\n/*!***********************************!*\\\n  !*** ./header/type/SortHeader.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeader = void 0;\nconst utils = __importStar(__webpack_require__(/*! ../../columns/type/columnUtils */ \"./columns/type/columnUtils.js\"));\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\nconst SortHeaderStyle_1 = __webpack_require__(/*! ../style/SortHeaderStyle */ \"./header/style/SortHeaderStyle.js\");\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\nconst canvases_1 = __webpack_require__(/*! ../../internal/canvases */ \"./internal/canvases.js\");\nclass SortHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return SortHeaderStyle_1.SortHeaderStyle;\n  }\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline = \"middle\",\n      color,\n      bgColor,\n      font,\n      padding,\n      textOverflow,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      sortArrowColor,\n      multiline\n    } = style;\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n    const textValue = value != null ? String(value) : \"\";\n    helper.testFontLoad(font, textValue, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      const state = grid.sortState;\n      let order = undefined;\n      const {\n        col,\n        row\n      } = context;\n      const range = grid.getCellRange(col, row);\n      if ((0, utils_1.cellInRange)(range, state.col, state.row)) {\n        ({\n          order\n        } = state);\n      }\n      const ctx = context.getContext();\n      const arrowSize = (0, canvases_1.getFontSize)(ctx, font).width * 1.2;\n      const trailingIcon = {\n        name: order != null ? order === \"asc\" ? \"arrow_downward\" : \"arrow_upward\" : undefined,\n        width: arrowSize,\n        color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\"\n      };\n      if (multiline) {\n        const multilines = textValue.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n        helper.multilineText(multilines, context, {\n          textAlign,\n          textBaseline,\n          color,\n          font,\n          padding,\n          lineHeight,\n          autoWrapText,\n          lineClamp,\n          textOverflow,\n          icons,\n          trailingIcon\n        });\n      } else {\n        helper.text(textValue, context, {\n          textAlign,\n          textBaseline,\n          color,\n          font,\n          padding,\n          textOverflow,\n          icons,\n          trailingIcon\n        });\n      }\n    });\n  }\n}\nexports.SortHeader = SortHeader;\n\n/***/ }),\n\n/***/ \"./headers.js\":\n/*!********************!*\\\n  !*** ./headers.js ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(__webpack_require__(/*! ./header/action */ \"./header/action.js\"));\nexports.action = action;\nconst style = __importStar(__webpack_require__(/*! ./header/style */ \"./header/style.js\"));\nexports.style = style;\nconst type = __importStar(__webpack_require__(/*! ./header/type */ \"./header/type.js\"));\nexports.type = type;\n\n/***/ }),\n\n/***/ \"./icons.js\":\n/*!******************!*\\\n  !*** ./icons.js ***!\n  \\******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*eslint-disable camelcase*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = void 0;\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\nconst icons_1 = __webpack_require__(/*! ./plugins/icons */ \"./plugins/icons.js\");\nconst builtins = {\n  get arrow_upward() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\n    return {\n      d: \"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\",\n      width: 48,\n      height: 48\n    };\n  },\n  get arrow_downward() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\n    return {\n      d: \"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\",\n      width: 48,\n      height: 48\n    };\n  },\n  get edit() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\n    return {\n      d: \"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\",\n      width: 48,\n      height: 48\n    };\n  },\n  get add() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\n    return {\n      d: \"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\",\n      width: 48,\n      height: 48\n    };\n  },\n  get star() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\n    return {\n      d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\",\n      width: 24,\n      height: 24\n    };\n  },\n  get star_border() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\n    return {\n      d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\n      width: 24,\n      height: 24\n    };\n  },\n  get star_half() {\n    // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\n    return {\n      d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\n      width: 24,\n      height: 24\n    };\n  }\n};\nfunction get() {\n  return (0, utils_1.extend)(builtins, icons_1.icons);\n}\nexports.get = get;\n\n/***/ }),\n\n/***/ \"./internal/EventHandler.js\":\n/*!**********************************!*\\\n  !*** ./internal/EventHandler.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventHandler = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n/** @private */\nlet nextId = 1;\nclass EventHandler {\n  constructor() {\n    this._listeners = {};\n  }\n  on(target, type, listener,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ...options) {\n    if (target.addEventListener) {\n      target.addEventListener(type, listener, ...options);\n    }\n    const obj = {\n      target,\n      type,\n      listener,\n      options\n    };\n    const id = nextId++;\n    this._listeners[id] = obj;\n    return id;\n  }\n  once(target, type, listener, ...options) {\n    const id = this.on(target, type, (...args) => {\n      this.off(id);\n      listener(...args);\n    }, ...options);\n    return id;\n  }\n  tryWithOffEvents(target, type, call) {\n    const list = [];\n    try {\n      (0, utils_1.each)(this._listeners, obj => {\n        if (obj.target === target && obj.type === type) {\n          if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n          }\n          list.push(obj);\n        }\n      });\n      call();\n    } finally {\n      list.forEach(obj => {\n        if (obj.target.addEventListener) {\n          obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n        }\n      });\n    }\n  }\n  off(id) {\n    if (id == null) {\n      return;\n    }\n    const obj = this._listeners[id];\n    if (!obj) {\n      return;\n    }\n    delete this._listeners[id];\n    if (obj.target.removeEventListener) {\n      obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fire(target, type, ...args) {\n    (0, utils_1.each)(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        obj.listener.call(obj.target, ...args);\n      }\n    });\n  }\n  hasListener(target, type) {\n    let result = false;\n    (0, utils_1.each)(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        result = true;\n      }\n    });\n    return result;\n  }\n  clear() {\n    (0, utils_1.each)(this._listeners, obj => {\n      if (obj.target.removeEventListener) {\n        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n      }\n    });\n    this._listeners = {};\n  }\n  dispose() {\n    this.clear();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this._listeners = null;\n  }\n}\nexports.EventHandler = EventHandler;\n\n/***/ }),\n\n/***/ \"./internal/LRUCache.js\":\n/*!******************************!*\\\n  !*** ./internal/LRUCache.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LRUCache = void 0;\nclass LRUCache {\n  constructor(cacheSize) {\n    this._list = [];\n    this._map = {};\n    this._cacheSize = cacheSize || 50;\n  }\n  get(key) {\n    const val = this._map[key];\n    if (val) {\n      const list = this._list;\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n      list.push(key);\n    }\n    return val;\n  }\n  put(key, value) {\n    const list = this._list;\n    const map = this._map;\n    if (map[key]) {\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n    }\n    map[key] = value;\n    list.push(key);\n    if (list.length > this._cacheSize) {\n      const remKey = list.shift() || \"\";\n      delete map[remKey];\n    }\n  }\n}\nexports.LRUCache = LRUCache;\n\n/***/ }),\n\n/***/ \"./internal/NumberMap.js\":\n/*!*******************************!*\\\n  !*** ./internal/NumberMap.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberMap = void 0;\nconst indexFirst = (arr, elm) => {\n  let low = 0;\n  let high = arr.length - 1;\n  while (low <= high) {\n    const i = Math.floor((low + high) / 2);\n    if (arr[i] === elm) {\n      return i;\n    } else if (arr[i] > elm) {\n      high = i - 1;\n    } else {\n      low = i + 1;\n    }\n  }\n  return high < 0 ? 0 : high;\n};\nclass NumberMap {\n  constructor() {\n    this._keys = [];\n    this._vals = {};\n    this._sorted = false;\n  }\n  put(key, value) {\n    if (!(key in this._vals)) {\n      this._keys.push(key);\n      this._sorted = false;\n    }\n    this._vals[key] = value;\n  }\n  remove(key) {\n    delete this._vals[key];\n    const index = this._keys.indexOf(key);\n    if (index < 0) {\n      return;\n    }\n    this._keys.splice(index, 1);\n    this._sorted = false;\n  }\n  get(key) {\n    return this._vals[key];\n  }\n  has(key) {\n    return this._vals[key] != null;\n  }\n  each(keyFrom, keyTo, fn) {\n    const {\n      _keys: keys\n    } = this;\n    const {\n      length\n    } = keys;\n    if (!this._sorted) {\n      keys.sort((a, b) => {\n        if (a < b) {\n          return -1;\n        }\n        if (a > b) {\n          return 1;\n        }\n        return 0;\n      });\n      this._sorted = true;\n    }\n    for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n      const key = keys[i];\n      if (keyFrom <= key && key <= keyTo) {\n        fn(this.get(key), key);\n      } else if (keyTo < key) {\n        return;\n      }\n    }\n  }\n}\nexports.NumberMap = NumberMap;\n\n/***/ }),\n\n/***/ \"./internal/Rect.js\":\n/*!**************************!*\\\n  !*** ./internal/Rect.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Rect = void 0;\nclass Rect {\n  constructor(left, top, width, height) {\n    this._left = left;\n    this._top = top;\n    this._width = width;\n    this._height = height;\n  }\n  static bounds(left, top, right, bottom) {\n    return new Rect(left, top, right - left, bottom - top);\n  }\n  static max(rect1, rect2) {\n    return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n  }\n  get left() {\n    return this._left;\n  }\n  set left(left) {\n    const {\n      right\n    } = this;\n    this._left = left;\n    this.right = right;\n  }\n  get top() {\n    return this._top;\n  }\n  set top(top) {\n    const {\n      bottom\n    } = this;\n    this._top = top;\n    this.bottom = bottom;\n  }\n  get width() {\n    return this._width;\n  }\n  set width(width) {\n    this._width = width;\n    this._right = undefined;\n  }\n  get height() {\n    return this._height;\n  }\n  set height(height) {\n    this._height = height;\n    this._bottom = undefined;\n  }\n  get right() {\n    return this._right !== undefined ? this._right : this._right = this.left + this.width;\n  }\n  set right(right) {\n    this._right = right;\n    this.width = right - this.left;\n  }\n  get bottom() {\n    return this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n  }\n  set bottom(bottom) {\n    this._bottom = bottom;\n    this.height = bottom - this.top;\n  }\n  offsetLeft(offset) {\n    this._left += offset;\n    this._right = undefined;\n  }\n  offsetTop(offset) {\n    this._top += offset;\n    this._bottom = undefined;\n  }\n  copy() {\n    return new Rect(this.left, this.top, this.width, this.height);\n  }\n  intersection(rect) {\n    const x0 = Math.max(this.left, rect.left);\n    const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n    if (x0 <= x1) {\n      const y0 = Math.max(this.top, rect.top);\n      const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n      if (y0 <= y1) {\n        return Rect.bounds(x0, y0, x1, y1);\n      }\n    }\n    return null;\n  }\n  contains(another) {\n    return this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n  }\n  inPoint(x, y) {\n    return this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n  }\n}\nexports.Rect = Rect;\n\n/***/ }),\n\n/***/ \"./internal/Scrollable.js\":\n/*!********************************!*\\\n  !*** ./internal/Scrollable.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollable = void 0;\nconst style = __importStar(__webpack_require__(/*! ./style */ \"./internal/style.js\"));\nconst EventHandler_1 = __webpack_require__(/*! ./EventHandler */ \"./internal/EventHandler.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\nclass Scrollable {\n  constructor() {\n    this._p = 1;\n    this._handler = new EventHandler_1.EventHandler();\n    this._scrollable = document.createElement(\"div\");\n    this._scrollable.classList.add(\"grid-scrollable\");\n    this._height = 0;\n    this._width = 0;\n    this._endPointElement = document.createElement(\"div\");\n    this._endPointElement.classList.add(\"grid-scroll-end-point\");\n    this._update();\n    this._scrollable.appendChild(this._endPointElement);\n    // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n    // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n    // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n    // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n    // this.scrollTop += delta < 0 ? point : -point;\n    // });\n  }\n\n  calcTop(top) {\n    const relativeTop = top - this.scrollTop;\n    return this._scrollable.scrollTop + relativeTop;\n  }\n  getElement() {\n    return this._scrollable;\n  }\n  setScrollSize(width, height) {\n    this._width = width;\n    this._height = height;\n    this._update();\n  }\n  get scrollWidth() {\n    return this._width;\n  }\n  set scrollWidth(width) {\n    this._width = width;\n    this._update();\n  }\n  get scrollHeight() {\n    return this._height;\n  }\n  set scrollHeight(height) {\n    this._height = height;\n    this._update();\n  }\n  get scrollLeft() {\n    return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\n  }\n  set scrollLeft(scrollLeft) {\n    this._scrollable.scrollLeft = scrollLeft;\n  }\n  get scrollTop() {\n    return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\n  }\n  set scrollTop(scrollTop) {\n    this._scrollable.scrollTop = scrollTop * this._p;\n  }\n  onScroll(fn) {\n    this._handler.on(this._scrollable, \"scroll\", fn);\n  }\n  dispose() {\n    this._handler.dispose();\n  }\n  _update() {\n    let domHeight;\n    const {\n      offsetHeight,\n      offsetWidth\n    } = this._scrollable;\n    if (this._height > MAX_SCROLL) {\n      const sbSize = style.getScrollBarSize();\n      const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n      const rScrollRange = this._height - offsetHeight + sbSize;\n      this._p = vScrollRange / rScrollRange;\n      domHeight = MAX_SCROLL;\n    } else {\n      this._p = 1;\n      domHeight = this._height;\n    }\n    this._endPointElement.style.top = `${domHeight.toFixed()}px`;\n    this._endPointElement.style.left = `${this._width.toFixed()}px`;\n    // Sets the maximum value to the scroll position\n    // if the current scroll position exceeds the maximum value.\n    if (this.scrollTop > this.scrollHeight - offsetHeight) {\n      this.scrollTop = this.scrollHeight - offsetHeight;\n    }\n    if (this.scrollLeft > this.scrollWidth - offsetWidth) {\n      this.scrollLeft = this.scrollWidth - offsetWidth;\n    }\n  }\n}\nexports.Scrollable = Scrollable;\n\n/***/ }),\n\n/***/ \"./internal/animate.js\":\n/*!*****************************!*\\\n  !*** ./internal/animate.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animate = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nfunction cubicBezier(x2, y2, x3, y3) {\n  let step;\n  const err = 0.0001;\n  x2 *= 3;\n  y2 *= 3;\n  x3 *= 3;\n  y3 *= 3;\n  return function (t) {\n    let p, a, b, c, d, x, s;\n    if (t < 0 || 1 < t) {\n      throw new Error(`${t}`);\n    }\n    p = step || t;\n    do {\n      a = 1 - p;\n      b = a * a;\n      c = p * p;\n      d = c * p;\n      x = x2 * b * p + x3 * a * c + d;\n      s = t - x;\n      p += s * 0.5;\n    } while (err < Math.abs(s));\n    step = p;\n    return y2 * b * p + y3 * a * c + d;\n  };\n}\nconst EASINGS = {\n  linear(p) {\n    return p;\n  },\n  easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\n  easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\n  easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0)\n};\nconst raf = utils_1.isNode ? () => {} : window.requestAnimationFrame || (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfn => setTimeout(fn, 1));\nfunction now() {\n  return Date.now();\n}\n/**\r\n * <pre>\r\n * Animates.\r\n * </pre>\r\n * @function\r\n * @param {number} duration animation time.\r\n * @param {function} step step\r\n * @param {function|string} easing easing\r\n * @returns {object} Deferred object.\r\n */\nfunction animate(duration, step, easing) {\n  const startedAt = now();\n  const easingFn = easing == null ? EASINGS.easeInOut : typeof easing === \"string\" ? EASINGS[easing] : easing;\n  let canceledFlg = false;\n  const createAnim = (resolve, reject) => {\n    const anim = () => {\n      const point = now() - startedAt;\n      if (canceledFlg) {\n        //cancel\n        if (reject) {\n          reject();\n        }\n      } else if (point >= duration) {\n        //end\n        step(1);\n        if (resolve) {\n          resolve();\n        }\n      } else {\n        step(easingFn(point / duration));\n        raf(anim);\n      }\n    };\n    return anim;\n  };\n  const cancel = () => {\n    canceledFlg = true;\n  };\n  if (typeof Promise !== \"undefined\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const result = new Promise((resolve, reject) => {\n      const anim = createAnim(resolve, reject);\n      step(0);\n      anim();\n    });\n    result.cancel = cancel;\n    return result;\n  } else {\n    const anim = createAnim(() => {}, () => {});\n    step(0);\n    anim();\n    return {\n      cancel\n    };\n  }\n}\nexports.animate = animate;\n\n/***/ }),\n\n/***/ \"./internal/calc.js\":\n/*!**************************!*\\\n  !*** ./internal/calc.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toPx = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst TYPE_PAREN = 0;\nconst TYPE_UNIT = 1;\nconst TYPE_OPERATOR = 2;\nconst TYPE_NUMBER = 3;\nconst NODE_TYPE_UNIT = 10;\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\nconst NODE_TYPE_NUMBER = 12;\nconst TABULATION = 0x09;\nconst CARRIAGE_RETURN = 0x0d;\nconst LINE_FEED = 0x0a;\nconst FORM_FEED = 0x0c;\nconst SPACE = 0x20;\nconst PERCENT = 0x25;\nconst FULL_STOP = 0x2e;\nconst DIGIT_0 = 0x30;\nconst DIGIT_9 = 0x39;\nconst LATIN_CAPITAL_A = 0x41;\nconst LATIN_CAPITAL_Z = 0x5a;\nconst LATIN_SMALL_A = 0x61;\nconst LATIN_SMALL_Z = 0x7a;\nfunction isUpperLetter(cp) {\n  return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\n}\nfunction isLowerLetter(cp) {\n  return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\n}\nfunction isLetter(cp) {\n  return isLowerLetter(cp) || isUpperLetter(cp);\n}\nfunction isWhitespace(cp) {\n  return cp === TABULATION || cp === LINE_FEED || cp === FORM_FEED || cp === CARRIAGE_RETURN || cp === SPACE;\n}\nfunction isDigit(cp) {\n  return cp >= DIGIT_0 && cp <= DIGIT_9;\n}\nfunction isDot(cp) {\n  return cp === FULL_STOP;\n}\nfunction isUnit(cp) {\n  return isLetter(cp) || cp === PERCENT;\n}\nfunction createError(calc) {\n  return new Error(`calc parse error: ${calc}`);\n}\n/**\r\n * tokenize\r\n * @param {string} calc calc expression\r\n * @returns {Array} tokens\r\n * @private\r\n */\nfunction tokenize(calc) {\n  const exp = calc.replace(/calc\\(/g, \"(\").trim();\n  const tokens = [];\n  const len = exp.length;\n  for (let index = 0; index < len; index++) {\n    const c = exp[index];\n    const cp = c.charCodeAt(0);\n    if (c === \"(\" || c === \")\") {\n      tokens.push({\n        value: c,\n        type: TYPE_PAREN\n      });\n    } else if (c === \"*\" || c === \"/\") {\n      tokens.push({\n        value: c,\n        type: TYPE_OPERATOR\n      });\n    } else if (c === \"+\" || c === \"-\") {\n      index = parseSign(c, index + 1) - 1;\n    } else if (isDigit(cp) || isDot(cp)) {\n      index = parseNum(c, index + 1) - 1;\n    } else if (isWhitespace(cp)) {\n      // skip\n    } else {\n      throw createError(calc);\n    }\n  }\n  function parseSign(sign, start) {\n    if (start < len) {\n      const c = exp[start];\n      const cp = c.charCodeAt(0);\n      if (isDigit(cp) || isDot(cp)) {\n        return parseNum(sign + c, start + 1);\n      }\n    }\n    tokens.push({\n      value: sign,\n      type: TYPE_OPERATOR\n    });\n    return start;\n  }\n  function parseNum(num, start) {\n    let index = start;\n    for (; index < len; index++) {\n      const c = exp[index];\n      const cp = c.charCodeAt(0);\n      if (isDigit(cp)) {\n        num += c;\n      } else if (c === \".\") {\n        if (num.indexOf(\".\") >= 0) {\n          throw createError(calc);\n        }\n        num += c;\n      } else if (isUnit(cp)) {\n        return parseUnit(num, c, index + 1);\n      } else {\n        break;\n      }\n    }\n    if (num === \".\") {\n      throw createError(calc);\n    }\n    tokens.push({\n      value: parseFloat(num),\n      type: TYPE_NUMBER\n    });\n    return index;\n  }\n  function parseUnit(num, unit, start) {\n    let index = start;\n    for (; index < len; index++) {\n      const c = exp[index];\n      const cp = c.charCodeAt(0);\n      if (isUnit(cp)) {\n        unit += c;\n      } else {\n        break;\n      }\n    }\n    tokens.push({\n      value: parseFloat(num),\n      unit,\n      type: TYPE_UNIT\n    });\n    return index;\n  }\n  return tokens;\n}\nconst PRECEDENCE = {\n  \"*\": 3,\n  \"/\": 3,\n  \"+\": 2,\n  \"-\": 2\n};\nfunction lex(tokens, calc) {\n  function buildBinaryExpNode(stack) {\n    const right = stack.pop();\n    const op = stack.pop();\n    const left = stack.pop();\n    if (!left || !left.nodeType || !op || op.type !== TYPE_OPERATOR || !right || !right.nodeType) {\n      throw createError(calc);\n    }\n    return {\n      nodeType: NODE_TYPE_BINARY_EXPRESSION,\n      left,\n      op,\n      right\n    };\n  }\n  const stack = [];\n  while (tokens.length) {\n    const token = tokens.shift();\n    if (token.type === TYPE_PAREN && token.value === \"(\") {\n      let deep = 0;\n      const closeIndex = utils_1.array.findIndex(tokens, t => {\n        if (t.type === TYPE_PAREN && t.value === \"(\") {\n          deep++;\n        } else if (t.type === TYPE_PAREN && t.value === \")\") {\n          if (!deep) {\n            return true;\n          }\n          deep--;\n        }\n        return false;\n      });\n      if (closeIndex === -1) {\n        throw createError(calc);\n      }\n      stack.push(lex(tokens.splice(0, closeIndex), calc));\n      tokens.shift();\n    } else if (token.type === TYPE_OPERATOR) {\n      if (stack.length >= 3) {\n        const beforeOp = stack[stack.length - 2].value;\n        if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n          stack.push(buildBinaryExpNode(stack));\n        }\n      }\n      stack.push(token);\n    } else if (token.type === TYPE_UNIT) {\n      const {\n        value: num,\n        unit\n      } = token;\n      stack.push({\n        nodeType: NODE_TYPE_UNIT,\n        value: num,\n        unit\n      });\n    } else if (token.type === TYPE_NUMBER) {\n      stack.push({\n        nodeType: NODE_TYPE_NUMBER,\n        value: token.value\n      });\n    }\n  }\n  while (stack.length > 1) {\n    stack.push(buildBinaryExpNode(stack));\n  }\n  return stack[0];\n}\nfunction parse(calcStr) {\n  const tokens = tokenize(calcStr);\n  return lex(tokens, calcStr);\n}\nfunction calcNode(node, context) {\n  if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n    const left = calcNode(node.left, context);\n    const right = calcNode(node.right, context);\n    switch (node.op.value) {\n      case \"+\":\n        return left + right;\n      case \"-\":\n        return left - right;\n      case \"*\":\n        return left * right;\n      case \"/\":\n        return left / right;\n      default:\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        throw new Error(`calc error. unknown operator: ${node.op.value}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_UNIT) {\n    switch (node.unit) {\n      case \"%\":\n        return node.value * context.full / 100;\n      case \"em\":\n        return node.value * context.em;\n      case \"px\":\n        return node.value;\n      default:\n        throw new Error(`calc error. unknown unit: ${node.unit}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_NUMBER) {\n    return node.value;\n  }\n  throw new Error(\"calc error.\");\n}\nfunction toPxInternal(value, context) {\n  const ast = parse(value);\n  return calcNode(ast, context);\n}\nfunction toPx(value, context) {\n  if (typeof value === \"string\") {\n    return toPxInternal(value.trim(), context);\n  }\n  return value - 0;\n}\nexports.toPx = toPx;\n\n/***/ }),\n\n/***/ \"./internal/canvases.js\":\n/*!******************************!*\\\n  !*** ./internal/canvases.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n  const fontName = font || ctx.font;\n  if (fontSizeCache[fontName]) {\n    return fontSizeCache[fontName];\n  }\n  const bk = ctx.font;\n  try {\n    ctx.font = fontName;\n    const em = ctx.measureText(\"\").width;\n    return fontSizeCache[fontName] = {\n      width: em,\n      height: em\n    };\n  } finally {\n    ctx.font = bk;\n  }\n}\nexports.getFontSize = getFontSize;\nfunction calcBasePosition(ctx, rect, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  return calcStartPosition(ctx, rect, 0, 0, {\n    offset,\n    padding: {\n      left: paddingLeft,\n      right: paddingRight,\n      top: paddingTop,\n      bottom: paddingBottom\n    }\n  });\n}\nexports.calcBasePosition = calcBasePosition;\nfunction calcStartPosition(ctx, rect, width, height, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  const textAlign = ctx.textAlign || \"left\";\n  const textBaseline = ctx.textBaseline || \"middle\";\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  let x = rect.left + offset + paddingLeft;\n  if (textAlign === \"right\" || textAlign === \"end\") {\n    x = rect.right - width - offset - paddingRight;\n  } else if (textAlign === \"center\") {\n    x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n  }\n  let y = rect.top + offset + paddingTop;\n  if (textBaseline === \"bottom\" || textBaseline === \"alphabetic\" || textBaseline === \"ideographic\") {\n    y = rect.bottom - height - offset - paddingBottom;\n  } else if (textBaseline === \"middle\") {\n    y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n  }\n  return {\n    x,\n    y\n  };\n}\nexports.calcStartPosition = calcStartPosition;\n\n/***/ }),\n\n/***/ \"./internal/color.js\":\n/*!***************************!*\\\n  !*** ./internal/color.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.colorToRGB = void 0;\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n  const dummy = document.createElement(\"div\");\n  const {\n    style\n  } = dummy;\n  style.color = color;\n  style.position = \"fixed\";\n  style.height = \"1px\";\n  style.width = \"1px\";\n  style.opacity = \"0\";\n  document.body.appendChild(dummy);\n  const {\n    color: styleColor\n  } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n  document.body.removeChild(dummy);\n  return colorToRGB0(styleColor || \"\");\n}\nfunction hexToNum(hex) {\n  return parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n  return {\n    r,\n    g,\n    b,\n    a\n  };\n}\nfunction tripleHexToRGB({\n  1: r,\n  2: g,\n  3: b\n}) {\n  return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({\n  1: r1,\n  2: r2,\n  3: g1,\n  4: g2,\n  5: b1,\n  6: b2\n}) {\n  return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\nfunction testRGB({\n  r,\n  g,\n  b,\n  a\n}) {\n  return 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n}\nfunction rateToByte(r) {\n  return Math.ceil(r * 255 / 100);\n}\nconst numberPattern = /((?:\\+|-)?(?:\\d+(?:\\.\\d+)?|\\.\\d+))/.source;\nconst percentPattern = `${numberPattern}%`;\nconst maybePercentPattern = `${numberPattern}(%?)`;\nfunction buildRgbWithCommaRegExp(bytePattern) {\n  return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*\\\\)$`, \"i\");\n}\nfunction buildRgbLv4RegExp(bytePattern) {\n  return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*\\\\)$`, \"i\");\n}\nfunction buildRgbaWithCommaRegExp(bytePattern, alphaPattern) {\n  return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\n}\nfunction buildRgbaLv4RegExp(bytePattern, alphaPattern) {\n  return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*/\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\n}\nfunction colorToRGB0(color) {\n  if (/^#[0-9a-f]{3}$/i.exec(color)) {\n    return tripleHexToRGB(color);\n  }\n  if (/^#[0-9a-f]{6}$/i.exec(color)) {\n    return sextupleHexToRGB(color);\n  }\n  let ret = buildRgbWithCommaRegExp(numberPattern).exec(color) || buildRgbLv4RegExp(numberPattern).exec(color);\n  if (ret) {\n    const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n  ret = buildRgbWithCommaRegExp(percentPattern).exec(color) || buildRgbLv4RegExp(percentPattern).exec(color);\n  if (ret) {\n    const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])));\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n  ret = buildRgbaWithCommaRegExp(numberPattern, maybePercentPattern).exec(color) || buildRgbaLv4RegExp(numberPattern, maybePercentPattern).exec(color);\n  if (ret) {\n    const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n  ret = buildRgbaWithCommaRegExp(percentPattern, maybePercentPattern).exec(color) || buildRgbaLv4RegExp(percentPattern, maybePercentPattern).exec(color);\n  if (ret) {\n    const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n  return null;\n}\nfunction colorToRGB(color) {\n  if (typeof color !== \"string\") {\n    return createRGB(0, 0, 0, 0);\n  }\n  color = color.toLowerCase().trim();\n  if (rgbMap[color]) {\n    return rgbMap[color];\n  }\n  return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\nexports.colorToRGB = colorToRGB;\n\n/***/ }),\n\n/***/ \"./internal/dom.js\":\n/*!*************************!*\\\n  !*** ./internal/dom.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\nfunction createElement(tagName, {\n  classList,\n  text,\n  html\n} = {}) {\n  const element = document.createElement(tagName);\n  if (classList) {\n    if (Array.isArray(classList)) {\n      element.classList.add(...classList);\n    } else {\n      element.classList.add(classList);\n    }\n  }\n  if (text) {\n    element.textContent = text;\n  } else if (html) {\n    element.innerHTML = html;\n  }\n  return element;\n}\nexports.createElement = createElement;\nfunction empty(dom) {\n  let c;\n  while (c = dom.firstChild) {\n    dom.removeChild(c);\n  }\n}\nexports.empty = empty;\nfunction isNode(arg) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n  if (isNode(arg)) {\n    return arg;\n  }\n  const dom = createElement(\"div\", {\n    html: arg\n  });\n  return Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n  if (Array.isArray(arg)) {\n    const result = [];\n    arg.forEach(e => {\n      result.push(...toNodeList(e));\n    });\n    return result;\n  }\n  const node = toNode(arg);\n  return Array.isArray(node) ? node : [node];\n}\nexports.toNodeList = toNodeList;\nfunction appendHtml(dom, inner) {\n  toNodeList(inner).forEach(node => {\n    dom.appendChild(node);\n  });\n}\nexports.appendHtml = appendHtml;\nfunction disableFocus(el) {\n  el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\n  el.tabIndex = -1;\n  Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nexports.disableFocus = disableFocus;\nfunction enableFocus(el) {\n  if (\"disableBeforeTabIndex\" in el.dataset) {\n    el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\n  }\n  Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\nexports.enableFocus = enableFocus;\nfunction isFocusable(el) {\n  return el.tabIndex != null && el.tabIndex > -1;\n}\nexports.isFocusable = isFocusable;\nfunction findPrevSiblingFocusable(el) {\n  let n = el.previousSibling;\n  while (n && !isFocusable(n)) {\n    n = n.previousSibling;\n  }\n  return n;\n}\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\nfunction findNextSiblingFocusable(el) {\n  let n = el.nextSibling;\n  while (n && !isFocusable(n)) {\n    n = n.nextSibling;\n  }\n  return n;\n}\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\n\n/***/ }),\n\n/***/ \"./internal/fonts.js\":\n/*!***************************!*\\\n  !*** ./internal/fonts.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = exports.check = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst loads = {};\nlet load;\nexports.load = load;\nlet check;\nexports.check = check;\nif (utils_1.isNode) {\n  exports.load = load = function (_font, _testStr, callback) {\n    callback();\n  };\n  exports.check = check = function () {\n    return false;\n  };\n} else {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const fontFaceSet = document.fonts;\n  const legacy = !fontFaceSet;\n  exports.load = load = legacy ? function (font, testStr, callback) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      callback();\n      return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    __webpack_require__(/*! ./legacy/fontwatch/FontWatchRunner */ \"./internal/legacy/fontwatch/FontWatchRunner.js\").load(font, testStr, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    }, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    });\n  } : function (font, _testStr, callback) {\n    if (loads.all || loads[font]) {\n      callback();\n      return;\n    }\n    fontFaceSet.ready.then(() => {\n      loads.all = true;\n    });\n    fontFaceSet.load(font).then(() => {\n      loads[font] = true;\n      callback();\n    });\n  };\n  exports.check = check = legacy ? function (font, testStr) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      return true;\n    }\n    load(font, testStr, () => {});\n    return false;\n  } : function (font, testStr) {\n    if (loads.all || loads[font]) {\n      return true;\n    }\n    if (!fontFaceSet.check(font)) {\n      load(font, testStr, () => {});\n      return false;\n    }\n    return true;\n  };\n}\n\n/***/ }),\n\n/***/ \"./internal/hiDPI.js\":\n/*!***************************!*\\\n  !*** ./internal/hiDPI.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transform = void 0;\nconst EventHandler_1 = __webpack_require__(/*! ./EventHandler */ \"./internal/EventHandler.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst handler = new EventHandler_1.EventHandler();\nlet ratio = 1;\nfunction setRatio() {\n  if (utils_1.isNode) {\n    ratio = 1;\n  } else {\n    ratio = Math.ceil(window.devicePixelRatio || 1);\n    if (ratio > 1 && ratio % 2 !== 0) {\n      ratio += 1;\n    }\n  }\n}\nsetRatio();\nif (!utils_1.isNode) {\n  handler.on(window, \"resize\", setRatio);\n}\nfunction transform(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  const {\n    getAttribute,\n    setAttribute\n  } = canvas;\n  canvas.getAttribute = function (name) {\n    let result = getAttribute.call(this, name);\n    if (name === \"width\" || name === \"height\") {\n      result = `${Number(result) / ratio}`;\n    }\n    return result;\n  };\n  canvas.setAttribute = function (name, val) {\n    const wh = name === \"width\" || name === \"height\";\n    if (wh) {\n      val = `${Number(val) * ratio}`;\n    }\n    const result = setAttribute.call(this, name, val);\n    if (wh) {\n      ctx.scale(ratio, ratio);\n    }\n    return result;\n  };\n  Object.defineProperty(canvas, \"width\", {\n    get() {\n      return Number(canvas.getAttribute(\"width\"));\n    },\n    set: val => {\n      canvas.setAttribute(\"width\", `${Math.floor(val)}`);\n    },\n    configurable: true,\n    enumerable: true\n  });\n  Object.defineProperty(canvas, \"height\", {\n    get() {\n      return Number(canvas.getAttribute(\"height\"));\n    },\n    set: val => {\n      canvas.setAttribute(\"height\", `${Math.floor(val)}`);\n    },\n    configurable: true,\n    enumerable: true\n  });\n  const {\n    drawImage\n  } = ctx;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ctx.drawImage = function (img, ...args) {\n    if (img !== canvas || ratio === 1) {\n      return drawImage.call(this, img, ...args);\n    }\n    this.save();\n    try {\n      this.scale(1 / ratio, 1 / ratio);\n      if (args.length > 4) {\n        args[4] *= ratio;\n        args[5] *= ratio;\n      } else {\n        args[0] *= ratio;\n        args[1] *= ratio;\n      }\n      return drawImage.call(this, img, ...args);\n    } finally {\n      this.restore();\n    }\n  };\n  return canvas;\n}\nexports.transform = transform;\n\n/***/ }),\n\n/***/ \"./internal/icons.js\":\n/*!***************************!*\\\n  !*** ./internal/icons.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iconPropKeys = exports.toNormalizeArray = exports.getIconProps = void 0;\nconst ICON_PROP_KEYS = [\"content\", \"font\", \"color\", \"className\", \"tagName\", \"isLiga\", \"width\", \"src\", \"svg\", \"name\", \"path\", \"offsetTop\", \"offsetLeft\"];\nfunction quote(name) {\n  const quoted = [];\n  const split = name.split(/,\\s*/);\n  for (let i = 0; i < split.length; i++) {\n    const part = split[i].replace(/['\"]/g, \"\");\n    if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\n      quoted.push(part);\n    } else {\n      quoted.push(`'${part}'`);\n    }\n  }\n  return quoted.join(\",\");\n}\nconst doms = {};\nconst props = {};\nfunction getIconProps(tagName, className) {\n  const tagProps = props[tagName] || (props[tagName] = {});\n  if (tagProps[className]) {\n    return tagProps[className];\n  }\n  const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n  // `classList.add()` cannot be used because it may be separated by spaces.\n  dom.className = className;\n  dom.classList.add(\"cheetah-grid-icon\");\n  document.body.appendChild(dom);\n  try {\n    const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\n    let content = beforeStyle.getPropertyValue(\"content\");\n    if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\n      if (content[0] === content[content.length - 1]) {\n        content = content.slice(1, -1);\n      }\n    }\n    let font = beforeStyle.getPropertyValue(\"font\");\n    if (!font) {\n      font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\n    }\n    const color = beforeStyle.getPropertyValue(\"color\");\n    const width = dom.clientWidth;\n    const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\n    return tagProps[className] = {\n      content,\n      font,\n      color,\n      width,\n      isLiga\n    };\n  } finally {\n    document.body.removeChild(dom);\n  }\n}\nexports.getIconProps = getIconProps;\nfunction toPropArray(prop, count) {\n  const result = [];\n  if (Array.isArray(prop)) {\n    result.push(...prop);\n    for (let i = prop.length; i < count; i++) {\n      result.push(null);\n    }\n  } else {\n    for (let i = 0; i < count; i++) {\n      result.push(prop);\n    }\n  }\n  return result;\n}\nfunction toSimpleArray(iconProps) {\n  if (!iconProps) {\n    return iconProps;\n  } else if (Array.isArray(iconProps)) {\n    return iconProps;\n  }\n  const workData = {};\n  let count = 0;\n  ICON_PROP_KEYS.forEach(k => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const prop = iconProps[k];\n    if (prop) {\n      if (Array.isArray(prop)) {\n        count = Math.max(count, prop.length);\n      } else {\n        count = Math.max(count, 1);\n      }\n    }\n  });\n  ICON_PROP_KEYS.forEach(k => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const arr = toPropArray(iconProps[k], count);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    workData[k] = arr;\n  });\n  const result = [];\n  for (let i = 0; i < count; i++) {\n    const data = {};\n    ICON_PROP_KEYS.forEach(k => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const val = workData[k][i];\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      data[k] = val;\n    });\n    result.push(data);\n  }\n  return result;\n}\nfunction normalize(iconProps) {\n  const data = {};\n  for (const k in iconProps) {\n    if (k === \"className\") {\n      continue;\n    }\n    if (isIconKey(k)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      data[k] = iconProps[k];\n    }\n  }\n  if (iconProps.className) {\n    const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\n    for (const k in prop) {\n      if (isIconKey(k)) {\n        if (iconProps[k] == null) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          data[k] = prop[k];\n        }\n      }\n    }\n  }\n  return data;\n}\nfunction toNormalizeArray(iconProps) {\n  const icons = toSimpleArray(iconProps);\n  if (!icons) {\n    return icons;\n  }\n  return icons.map(icon => normalize(icon));\n}\nexports.toNormalizeArray = toNormalizeArray;\nexports.iconPropKeys = ICON_PROP_KEYS;\nfunction isIconKey(k) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return ICON_PROP_KEYS.indexOf(k) >= 0;\n}\n\n/***/ }),\n\n/***/ \"./internal/imgs.js\":\n/*!**************************!*\\\n  !*** ./internal/imgs.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCacheOrLoad = exports.loadImage = void 0;\nconst LRUCache_1 = __webpack_require__(/*! ./LRUCache */ \"./internal/LRUCache.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst allCache = {};\nfunction loadImage(src) {\n  if (typeof Promise === \"undefined\") {\n    console.error(\"Promise is not loaded. load Promise before this process.\");\n    return {\n      then() {\n        return this;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    };\n  }\n\n  const img = new Image();\n  const result = new Promise(resolve => {\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n  img.onerror = () => {\n    const url = src.length > 200 ? `${src.slice(0, 200)}...` : src;\n    console.warn(`cannot load: ${url}`);\n    throw new Error(`IMAGE LOAD ERROR: ${url}`);\n  };\n  img.src = src;\n  return result;\n}\nexports.loadImage = loadImage;\nfunction getCacheOrLoad0(cache, src) {\n  return (0, utils_1.then)(src, src => {\n    const c = cache.get(src);\n    if (c) {\n      return c;\n    }\n    const result = loadImage(src).then(img => {\n      cache.put(src, img);\n      return img;\n    });\n    cache.put(src, result);\n    return result;\n  });\n}\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n  const cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\n  return getCacheOrLoad0(cache, src);\n}\nexports.getCacheOrLoad = getCacheOrLoad;\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/Path2DShim.js\":\n/*!**********************************************!*\\\n  !*** ./internal/legacy/canvas/Path2DShim.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Path2DShim = void 0;\nconst PathCommandsParser_1 = __webpack_require__(/*! ./PathCommandsParser */ \"./internal/legacy/canvas/PathCommandsParser.js\");\nconst parser = new PathCommandsParser_1.PathCommandsParser();\nclass Path2DShim {\n  arc(...args) {\n    this._ops.push({\n      op: \"arc\",\n      args\n    });\n  }\n  arcTo(...args) {\n    this._ops.push({\n      op: \"arcTo\",\n      args\n    });\n  }\n  bezierCurveTo(...args) {\n    this._ops.push({\n      op: \"bezierCurveTo\",\n      args\n    });\n  }\n  closePath(...args) {\n    this._ops.push({\n      op: \"closePath\",\n      args\n    });\n  }\n  ellipse(...args) {\n    this._ops.push({\n      op: \"ellipse\",\n      args\n    });\n  }\n  lineTo(...args) {\n    this._ops.push({\n      op: \"lineTo\",\n      args\n    });\n  }\n  moveTo(...args) {\n    this._ops.push({\n      op: \"moveTo\",\n      args\n    });\n  }\n  quadraticCurveTo(...args) {\n    this._ops.push({\n      op: \"quadraticCurveTo\",\n      args\n    });\n  }\n  rect(...args) {\n    this._ops.push({\n      op: \"rect\",\n      args\n    });\n  }\n  constructor(arg) {\n    this._ops = [];\n    if (arg === undefined) {\n      return;\n    }\n    if (typeof arg === \"string\") {\n      // try {\n      this._ops = parser.parse(arg);\n      // } catch (e) {\n      // \tthrow e;\n      // }\n    } else if (arg.hasOwnProperty(\"_ops\")) {\n      this._ops = [...arg._ops];\n    } else {\n      throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n    }\n  }\n  roundRect(_x, _y, _w, _h, _radii) {\n    throw new Error(\"Method not implemented.\");\n  }\n}\nexports.Path2DShim = Path2DShim;\nconst {\n  CanvasRenderingContext2D\n} = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n  if (args[0] instanceof Path2DShim) {\n    const path = args[0];\n    this.beginPath();\n    path._ops.forEach(op => {\n      const fn = this[op.op];\n      fn.apply(this, op.args);\n    });\n    originalFill.apply(this, Array.prototype.slice.call(args, 1));\n  } else {\n    originalFill.apply(this, args);\n  }\n};\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/PathCommands.js\":\n/*!************************************************!*\\\n  !*** ./internal/legacy/canvas/PathCommands.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PathCommands = void 0;\n/*eslint new-cap: \"off\"*/\nfunction mag(v) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\nfunction dot(u, v) {\n  return u[0] * v[0] + u[1] * v[1];\n}\nfunction ratio(u, v) {\n  return dot(u, v) / (mag(u) * mag(v));\n}\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\nfunction angle(u, v) {\n  let sign = 1.0;\n  if (u[0] * v[1] - u[1] * v[0] < 0) {\n    sign = -1.0;\n  }\n  return sign * Math.acos(clamp(ratio(u, v), -1, 1));\n}\nfunction rotClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\nfunction rotCounterClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\nfunction midPoint(u, v) {\n  return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\nfunction meanVec(u, v) {\n  return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\nfunction pointMul(u, v) {\n  return [u[0] * v[0], u[1] * v[1]];\n}\nfunction scale(c, v) {\n  return [c * v[0], c * v[1]];\n}\nfunction sum(u, v) {\n  return [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n  // Convert from endpoint to center parametrization, as detailed in:\n  //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n  if (rx === 0 || ry === 0) {\n    ctx.lineTo(x2, x1);\n    return;\n  }\n  phi *= Math.PI / 180.0;\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\n  const xPrime2 = pointMul(xPrime, xPrime);\n  let rx2 = Math.pow(rx, 2);\n  let ry2 = Math.pow(ry, 2);\n  const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n  if (lambda > 1) {\n    rx *= lambda;\n    ry *= lambda;\n    rx2 = Math.pow(rx, 2);\n    ry2 = Math.pow(ry, 2);\n  }\n  let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n  if (fA === fS) {\n    factor *= -1.0;\n  }\n  const cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n  const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\n  const x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n  const x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n  const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n  const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n  const start = theta;\n  const end = theta + deltaTheta;\n  ctx.save();\n  ctx.translate(c[0], c[1]);\n  ctx.rotate(phi);\n  ctx.scale(rx, ry);\n  ctx.arc(0, 0, 1, start, end, !fS);\n  ctx.restore();\n}\nclass PathCommands {\n  constructor(ctx) {\n    let lMx;\n    let lMy;\n    let lx = 0;\n    let ly = 0;\n    let reflected;\n    let lastCommand = \"\";\n    function makeReflected() {\n      if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\n        return {\n          x: lx,\n          y: ly\n        };\n      }\n      return reflected;\n    }\n    this.M = (px, py) => {\n      ctx.moveTo(px, py);\n      lMx = px;\n      lMy = py;\n      lx = px;\n      ly = py;\n      lastCommand = \"M\";\n      return this;\n    };\n    this.m = (px, py) => this.M(px + lx, py + ly);\n    this.L = (px, py) => {\n      ctx.lineTo(px, py);\n      lx = px;\n      ly = py;\n      lastCommand = \"L\";\n      return this;\n    };\n    this.l = (px, py) => this.L(px + lx, py + ly);\n    this.H = px => this.L(px, ly);\n    this.h = px => this.H(px + lx);\n    this.V = py => this.L(lx, py);\n    this.v = py => this.V(py + ly);\n    this.Z = () => {\n      ctx.closePath();\n      lx = lMx;\n      ly = lMy;\n      lastCommand = \"Z\";\n      return this;\n    };\n    this.z = () => this.Z();\n    //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n    this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cp2x,\n        y: 2 * py - cp2y\n      };\n      lastCommand = \"C\";\n      return this;\n    };\n    this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n    //S x2 y2, x y (or s dx2 dy2, dx dy)\n    this.S = (cpx, cpy, px, py) => {\n      const {\n        x: cp1x,\n        y: cp1y\n      } = makeReflected( /*lastCommand*/);\n      return this.C(cp1x, cp1y, cpx, cpy, px, py);\n    };\n    this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n    //Q x1 y1, x y (or q dx1 dy1, dx dy)\n    this.Q = (cpx, cpy, px, py) => {\n      ctx.quadraticCurveTo(cpx, cpy, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cpx,\n        y: 2 * py - cpy\n      };\n      lastCommand = \"Q\";\n      return this;\n    };\n    this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n    //T x y (or t dx dy)\n    this.T = (px, py) => {\n      const {\n        x: cpx,\n        y: cpy\n      } = makeReflected();\n      return this.Q(cpx, cpy, px, py);\n    };\n    this.t = (px, py) => this.T(px + lx, py + ly);\n    //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n    this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n      const x1 = lx;\n      const y1 = ly;\n      ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n      lx = px;\n      ly = py;\n      lastCommand = \"A\";\n      return this;\n    };\n    //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n    this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n  }\n}\nexports.PathCommands = PathCommands;\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/PathCommandsParser.js\":\n/*!******************************************************!*\\\n  !*** ./internal/legacy/canvas/PathCommandsParser.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PathCommandsParser = void 0;\nconst PathCommands_1 = __webpack_require__(/*! ./PathCommands */ \"./internal/legacy/canvas/PathCommands.js\");\nfunction pathTokens(d) {\n  let idx = 0;\n  return {\n    next() {\n      let s = \"\";\n      while (d.length > idx) {\n        const c = d[idx];\n        idx++;\n        if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\n          if (s) {\n            return s;\n          }\n        } else {\n          const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\n          if (type === \"str\") {\n            if (s) {\n              idx--;\n              return s;\n            }\n            return c;\n          }\n          if (\"-+\".indexOf(c) > -1) {\n            if (s) {\n              idx--;\n              return s;\n            }\n          }\n          if (c === \".\") {\n            if (s.indexOf(\".\") > -1) {\n              idx--;\n              return s;\n            }\n          }\n          s += c;\n        }\n      }\n      return s || null;\n    }\n  };\n}\nfunction command(builder, cmd, argsProvider) {\n  if (cmd.toUpperCase() === \"M\" || cmd.toUpperCase() === \"L\" || cmd.toUpperCase() === \"T\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next());\n    return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\n  } else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\n    builder.command(cmd, argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"Z\") {\n    builder.command(cmd);\n    return cmd;\n  } else if (cmd.toUpperCase() === \"C\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"A\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else {\n    // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n    console.warn(`unsupported:${cmd}`);\n  }\n  return null;\n}\nclass PathCommandsParser {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this._ops = [];\n    this._commands = new PathCommands_1.PathCommands(this);\n    const buildPush = op =>\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (...args) => {\n      this._ops.push({\n        op,\n        args\n      });\n    };\n    this.moveTo = buildPush(\"moveTo\");\n    this.lineTo = buildPush(\"lineTo\");\n    this.closePath = buildPush(\"closePath\");\n    this.bezierCurveTo = buildPush(\"bezierCurveTo\");\n    this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\n    this.save = buildPush(\"save\");\n    this.translate = buildPush(\"translate\");\n    this.rotate = buildPush(\"rotate\");\n    this.scale = buildPush(\"scale\");\n    this.arc = buildPush(\"arc\");\n    this.restore = buildPush(\"restore\");\n    this.arcTo = buildPush(\"arcTo\");\n    this.ellipse = buildPush(\"ellipse\");\n    this.rect = buildPush(\"rect\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  command(name, ...args) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const numArgs = args || [];\n    for (let i = 0; i < args.length; i++) {\n      numArgs[i] -= 0;\n    }\n    const command = this._commands[name];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    command.apply(this, numArgs);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parse(d) {\n    const ops = this._ops = [];\n    const tokens = pathTokens(d);\n    try {\n      let cmd;\n      let subsequentCommand = \"Z\";\n      while (cmd = tokens.next()) {\n        if (!isNaN(Number(cmd))) {\n          let fst = true;\n          const argsProvider = {\n            next() {\n              if (fst) {\n                fst = false;\n                return cmd;\n              }\n              return tokens.next();\n            }\n          };\n          subsequentCommand = command(this, subsequentCommand, argsProvider) || \"Z\";\n        } else {\n          subsequentCommand = command(this, cmd, tokens) || \"Z\";\n        }\n      }\n    } catch (e) {\n      console.log(`Error: ${d}`);\n      throw e;\n    }\n    return ops;\n  }\n}\nexports.PathCommandsParser = PathCommandsParser;\n\n/***/ }),\n\n/***/ \"./internal/legacy/fontwatch/FontRuler.js\":\n/*!************************************************!*\\\n  !*** ./internal/legacy/fontwatch/FontRuler.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontRuler = void 0;\nfunction computeStyle(font) {\n  return [{\n    display: \"block\",\n    position: \"absolute\",\n    top: \"-9999px\",\n    left: \"-9999px\",\n    width: \"auto\",\n    height: \"auto\",\n    margin: \"0\",\n    padding: \"0\",\n    \"white-space\": \"nowrap\",\n    font\n  }, {\n    \"font-variant\": \"normal\",\n    \"font-size\": \"300px\",\n    \"font-style\": \"normal\",\n    \"font-weight\": \"400\",\n    \"line-height\": \"normal\"\n  }];\n}\nclass FontRuler {\n  constructor(font, testStr) {\n    const e = document.createElement(\"span\");\n    e.setAttribute(\"aria-hidden\", \"true\");\n    e.textContent = testStr || \"BESbswy\";\n    computeStyle(font).forEach(style => {\n      for (const k in style) {\n        const key = k;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        e.style[key] = style[key];\n      }\n    });\n    document.body.appendChild(e);\n    this.el_ = e;\n  }\n  getWidth() {\n    return this.el_.offsetWidth;\n  }\n  remove() {\n    document.body.removeChild(this.el_);\n  }\n}\nexports.FontRuler = FontRuler;\n\n/***/ }),\n\n/***/ \"./internal/legacy/fontwatch/FontWatchRunner.js\":\n/*!******************************************************!*\\\n  !*** ./internal/legacy/fontwatch/FontWatchRunner.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler_1 = __webpack_require__(/*! ./FontRuler */ \"./internal/legacy/fontwatch/FontRuler.js\");\nconst LastResortFonts = {\n  SERIF: \"serif\",\n  SANS_SERIF: \"sans-serif\"\n};\nconst watchRunners = {};\nclass FontWatchRunner {\n  static load(font, testStr, activeCallback, inactiveCallback) {\n    const c = watchRunners[font] || (watchRunners[font] = {});\n    testStr += \"\";\n    let runner;\n    if (c[testStr]) {\n      runner = c[testStr];\n    } else {\n      runner = c[testStr] = new FontWatchRunner(font, testStr);\n    }\n    runner.then(activeCallback, inactiveCallback);\n  }\n  constructor(font, testStr) {\n    this.activeCallbacks = [];\n    this.inactiveCallbacks = [];\n    this.status = null;\n    this.lastResortWidths_ = {};\n    this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n    this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n    const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n    const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n    //start\n    this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n    this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n    lastResortRulerA.remove();\n    lastResortRulerB.remove();\n    this.started_ = Date.now();\n    this.check_();\n  }\n  then(activeCallback, inactiveCallback) {\n    if (this.status) {\n      if (this.status !== \"ng\") {\n        activeCallback();\n      } else {\n        inactiveCallback();\n      }\n    } else {\n      this.activeCallbacks.push(activeCallback);\n      this.inactiveCallbacks.push(inactiveCallback);\n    }\n  }\n  check_() {\n    const widthA = this.fontRulerA_.getWidth();\n    const widthB = this.fontRulerB_.getWidth();\n    if (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n      if (Date.now() - this.started_ >= 3000) {\n        // timeout\n        if (this.isLastResortFont_(widthA, widthB)) {\n          this.finish_(this.activeCallbacks);\n          this.status = \"ok\";\n        } else {\n          this.finish_(this.inactiveCallbacks);\n          this.status = \"ng\";\n        }\n      } else {\n        setTimeout(() => {\n          this.check_();\n        }, 50);\n      }\n    } else {\n      this.finish_(this.activeCallbacks);\n      this.status = \"ok\";\n    }\n  }\n  isFallbackFont_(a, b) {\n    return this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n  }\n  widthsMatchLastResortWidths_(a, b) {\n    for (const font in LastResortFonts) {\n      if (LastResortFonts.hasOwnProperty(font)) {\n        if (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  widthMatches_(width, lastResortFont) {\n    return width === this.lastResortWidths_[lastResortFont];\n  }\n  isLastResortFont_(a, b) {\n    return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n  }\n  finish_(callbacks) {\n    setTimeout(() => {\n      this.fontRulerA_.remove();\n      this.fontRulerB_.remove();\n      callbacks.forEach(cb => cb());\n    }, 0);\n  }\n}\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n  if (HAS_WEBKIT_FALLBACK_BUG === null) {\n    const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n    HAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n  }\n  return HAS_WEBKIT_FALLBACK_BUG;\n}\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n\n/***/ \"./internal/menu-items.js\":\n/*!********************************!*\\\n  !*** ./internal/menu-items.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeToFn = exports.normalize = void 0;\n/** @private */\nfunction extend(a, b) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const o = {};\n  for (const k in a) {\n    o[k] = a[k];\n  }\n  for (const k in b) {\n    o[k] = b[k];\n  }\n  return o;\n}\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\nfunction normalize(options) {\n  if (!options) {\n    return [];\n  }\n  if (Array.isArray(options)) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return options.map(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    e => extend(e, {\n      label: e.caption || e.label\n    }));\n  }\n  if (typeof options === \"string\") {\n    return normalize(JSON.parse(options));\n  }\n  const result = [];\n  for (const k in options) {\n    result.push({\n      value: k,\n      label: options[k]\n    });\n  }\n  return result;\n}\nexports.normalize = normalize;\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\nfunction normalizeToFn(options) {\n  if (typeof options === \"function\") {\n    return record => normalize(options(record));\n  }\n  return () => normalize(options);\n}\nexports.normalizeToFn = normalizeToFn;\n\n/***/ }),\n\n/***/ \"./internal/paste-utils.js\":\n/*!*********************************!*\\\n  !*** ./internal/paste-utils.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parsePasteRangeBoxValues = exports.normalizePasteValue = void 0;\nfunction normalizePasteValue(text) {\n  return text[text.length - 1] !== \"\\n\" ? text : text[text.length - 2] === \"\\r\" ? text.slice(0, -2) : text.slice(0, -1);\n}\nexports.normalizePasteValue = normalizePasteValue;\nfunction parsePasteRangeBoxValues(value, option) {\n  const normalizedValue = normalizePasteValue(value);\n  const {\n    values,\n    colCount\n  } = parseValues(normalizedValue, option);\n  return {\n    colCount,\n    rowCount: values.length,\n    getCellValue(offsetCol, offsetRow) {\n      var _a, _b;\n      return (_b = (_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) !== null && _b !== void 0 ? _b : \"\";\n    }\n  };\n}\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\nfunction parseValues(text, {\n  trimOnPaste\n}) {\n  const len = text.length;\n  const adjustCell = trimOnPaste ? cell => cell.trim() : cell => cell;\n  let colCount = 1;\n  let line = [];\n  const values = [line];\n  let cell = \"\";\n  for (let index = 0; index < len; index++) {\n    const char = text[index];\n    if (char === \"\\t\") {\n      line.push(adjustCell(cell));\n      cell = \"\";\n      continue;\n    }\n    if (char === \"\\n\") {\n      // End of line\n      cell = adjustCell(cell);\n      if (cell[cell.length - 1] === \"\\r\") {\n        cell = cell.slice(0, -1);\n      }\n      line.push(cell);\n      colCount = Math.max(colCount, line.length);\n      line = [];\n      values.push(line);\n      cell = \"\";\n      continue;\n    }\n    if (char === '\"' && !cell.trim()) {\n      const quoted = processQuotedCell(index + 1);\n      if (quoted) {\n        ({\n          cell\n        } = quoted);\n        index = quoted.next - 1;\n        continue;\n      }\n    }\n    cell += char;\n  }\n  // End of text\n  line.push(adjustCell(cell));\n  colCount = Math.max(colCount, line.length);\n  return {\n    values,\n    colCount\n  };\n  function processQuotedCell(start) {\n    let cell = \"\";\n    let index = start;\n    while (index < len) {\n      const char = text[index];\n      if (char !== '\"') {\n        cell += char;\n        index++;\n        continue;\n      }\n      if (text[index + 1] === '\"') {\n        // Escape\n        cell += '\"';\n        index += 2;\n        continue;\n      }\n      // Maybe end quote\n      let next = index + 1;\n      while (next < len) {\n        const c = text[next];\n        if (c.trim()) {\n          // Not quoted. e.g. \"A\"B\n          return null;\n        }\n        if (c === \"\\t\" || c === \"\\n\") {\n          break;\n        }\n        // Allow spaces\n        next++;\n      }\n      // End quote\n      return {\n        cell,\n        next\n      };\n    }\n    return null;\n  }\n}\n\n/***/ }),\n\n/***/ \"./internal/path2DManager.js\":\n/*!***********************************!*\\\n  !*** ./internal/path2DManager.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fill = exports.getPath2D = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nfunction getPath2D() {\n  if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\n    return Path2D;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  return __webpack_require__(/*! ./legacy/canvas/Path2DShim */ \"./internal/legacy/canvas/Path2DShim.js\").Path2DShim;\n}\nexports.getPath2D = getPath2D;\nfunction fill(pathModule, ctx, x, y, w, h) {\n  ctx.save();\n  try {\n    const {\n      width,\n      height\n    } = pathModule;\n    const {\n      ud: upsideDown,\n      x: offsetX = 0,\n      y: offsetY = 0\n    } = pathModule;\n    w = w || width;\n    h = h || height;\n    const xrate = w / width;\n    const yrate = h / (upsideDown ? -height : height);\n    x = x || 0;\n    y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n    ctx.translate(x, y);\n    ctx.scale(xrate, yrate);\n    if (offsetX !== 0 || offsetY !== 0) {\n      ctx.translate(offsetX, offsetY);\n    }\n    const Path2D = getPath2D();\n    const path2d = pathModule.path2d = pathModule.path2d || new Path2D(pathModule.d);\n    ctx.fill(path2d);\n  } finally {\n    ctx.restore();\n  }\n}\nexports.fill = fill;\n\n/***/ }),\n\n/***/ \"./internal/sort.js\":\n/*!**************************!*\\\n  !*** ./internal/sort.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nfunction createArray(get, length) {\n  const array = new Array(length);\n  for (let i = 0; i < length; i++) {\n    array[i] = get(i);\n  }\n  return array;\n}\nfunction createArrayPromise(get, getField, length\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  return new Promise(resolve => {\n    const plist = [];\n    const array = new Array(length);\n    for (let i = 0; i < length; i++) {\n      const data = get(i);\n      const record = {\n        v: data,\n        f: data\n      };\n      array[i] = record;\n      if ((0, utils_1.isPromise)(data)) {\n        plist.push(data.then(v => {\n          record.v = v;\n          record.f = v;\n        }));\n      }\n    }\n    Promise.all(plist).then(() => getField == null ?\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    array :\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setArrayField(array, getField)).then(resolve);\n  });\n}\nfunction setArrayField(array, getField) {\n  return new Promise(resolve => {\n    const {\n      length\n    } = array;\n    const plist = [];\n    for (let i = 0; i < length; i++) {\n      const record = array[i];\n      const f = getField(record.v);\n      if ((0, utils_1.isPromise)(f)) {\n        plist.push(f.then(v => {\n          record.f = v;\n        }));\n      } else {\n        record.f = f;\n      }\n    }\n    Promise.all(plist).then(() => resolve(array));\n  });\n}\nfunction sortArray(array, compare) {\n  Array.prototype.sort.call(array, compare);\n}\nexports.sortArray = sortArray;\nfunction sort(get, set, length, compare, getField) {\n  const old = createArray(get, length);\n  if (getField != null) {\n    old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n  } else {\n    old.sort(compare);\n  }\n  for (let i = 0; i < length; i++) {\n    set(i, old[i]);\n  }\n}\nexports.sort = sort;\nfunction sortPromise(get, set, length,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncompare,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngetField) {\n  if (typeof Promise !== \"undefined\") {\n    return createArrayPromise(get, getField, length).then(array => {\n      array.sort((r1, r2) => compare(r1.f, r2.f));\n      for (let i = 0; i < length; i++) {\n        set(i, array[i].v);\n      }\n    });\n  } else {\n    sort(get, set, length, compare, getField);\n    const dummyPromise = {\n      then(fn) {\n        fn();\n        return dummyPromise;\n      },\n      catch() {\n        return dummyPromise;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    };\n\n    return dummyPromise;\n  }\n}\nexports.sortPromise = sortPromise;\n\n/***/ }),\n\n/***/ \"./internal/style.js\":\n/*!***************************!*\\\n  !*** ./internal/style.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getScrollBarSize = exports.initDocument = void 0;\nfunction getScrollBarWidth() {\n  const wrapper = document.createElement(\"div\");\n  const inner = document.createElement(\"div\");\n  const {\n    style: wrapperStyle\n  } = wrapper;\n  wrapperStyle.position = \"fixed\";\n  wrapperStyle.height = \"50px\";\n  wrapperStyle.width = \"50px\";\n  wrapperStyle.overflow = \"scroll\";\n  wrapperStyle.opacity = \"0\";\n  wrapperStyle.pointerEvents = \"none\";\n  const {\n    style\n  } = inner;\n  style.height = \"100%\";\n  style.width = \"100%\";\n  inner.textContent = \"x\";\n  wrapper.appendChild(inner);\n  document.body.appendChild(wrapper);\n  const wrapperWidth = wrapper.getBoundingClientRect().width;\n  const innerWidth = inner.getBoundingClientRect().width;\n  document.body.removeChild(wrapper);\n  return Math.ceil(wrapperWidth - innerWidth);\n}\nlet SCROLLBAR_SIZE;\nfunction initDocumentInternal() {\n  __webpack_require__(/*! @/internal/style.css */ \"../src/js/internal/style.css\");\n  SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n  const style = document.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-name\", \"cheetah-grid\");\n  style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n  document.head.appendChild(style);\n}\nlet initDocumentVar = initDocumentInternal;\nfunction initDocument() {\n  initDocumentVar();\n  initDocumentVar = Function.prototype;\n}\nexports.initDocument = initDocument;\nfunction getScrollBarSize() {\n  return SCROLLBAR_SIZE;\n}\nexports.getScrollBarSize = getScrollBarSize;\n\n/***/ }),\n\n/***/ \"./internal/symbolManager.js\":\n/*!***********************************!*\\\n  !*** ./internal/symbolManager.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\nconst Symbol = utils_1.isNode ? global.Symbol : window.Symbol ? window.Symbol : (() => {\n  function random() {\n    const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    const cl = c.length;\n    let r = \"\";\n    for (let i = 0; i < 10; i++) {\n      r += c[Math.floor(Math.random() * cl)];\n    }\n    return r;\n  }\n  return name => {\n    if (name) {\n      return `#${name}_${random()}`;\n    } else {\n      return `#_${random()}`;\n    }\n  };\n})();\nconst mem = {};\nfunction get(name) {\n  if (name) {\n    return mem[name] ? mem[name] : mem[name] = Symbol(name);\n  } else {\n    return Symbol();\n  }\n}\nexports.get = get;\nfunction getProtectedSymbol() {\n  return get(\"protected\");\n}\nexports.getProtectedSymbol = getProtectedSymbol;\nfunction getCheckColumnStateId() {\n  return get(\"chkcol.stateID\");\n}\nexports.getCheckColumnStateId = getCheckColumnStateId;\nfunction getRadioColumnStateId() {\n  return get(\"rdcol.stateID\");\n}\nexports.getRadioColumnStateId = getRadioColumnStateId;\nfunction getButtonColumnStateId() {\n  return get(\"btncol.stateID\");\n}\nexports.getButtonColumnStateId = getButtonColumnStateId;\nfunction getColumnFadeinStateId() {\n  return get(\"col.fadein_stateID\");\n}\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\nfunction getBranchGraphColumnStateId() {\n  return get(\"branch_graph_col.stateID\");\n}\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\nfunction getSmallDialogInputEditorStateId() {\n  return get(\"small_dialog_input_editor.stateID\");\n}\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\nfunction getInlineInputEditorStateId() {\n  return get(\"inline_input_editor.stateID\");\n}\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\nfunction getInlineMenuEditorStateId() {\n  return get(\"inline_menu_editor.stateID\");\n}\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\nfunction getCheckHeaderStateId() {\n  return get(\"check_header.stateID\");\n}\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./internal/utils.js\":\n/*!***************************!*\\\n  !*** ./internal/utils.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\nexports.isNode = isNode;\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n  get find() {\n    if (arrayFind) {\n      return arrayFind;\n    }\n    if (Array.prototype.find) {\n      arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n    } else {\n      arrayFind = (arr, predicate) => {\n        const index = array.findIndex(arr, predicate);\n        return index >= 0 ? arr[index] : undefined;\n      };\n    }\n    return arrayFind;\n  },\n  get findIndex() {\n    if (arrayFindIndex) {\n      return arrayFindIndex;\n    }\n    if (Array.prototype.findIndex) {\n      arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n    } else {\n      arrayFindIndex = (arr, predicate) => {\n        const {\n          length\n        } = arr;\n        for (let i = 0; i < length; i++) {\n          const value = arr[i];\n          if (predicate(value, i, arr)) {\n            return i;\n          }\n        }\n        return -1;\n      };\n    }\n    return arrayFindIndex;\n  }\n};\nexports.array = array;\nfunction analyzeUserAgent() {\n  if (isNode) {\n    return {\n      IE: false,\n      Edge: false,\n      Chrome: false,\n      Firefox: false,\n      Safari: false\n    };\n  } else {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return {\n      IE: !!/(msie|trident)/.exec(ua),\n      Edge: ua.indexOf(\"edge\") > -1,\n      Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\n      Firefox: ua.indexOf(\"firefox\") > -1,\n      Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1\n    };\n  }\n}\nconst {\n  IE,\n  Chrome,\n  Firefox,\n  Edge,\n  Safari\n} = analyzeUserAgent();\nfunction setReadonly(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    enumerable: false,\n    configurable: true,\n    value\n  });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction each(obj, fn) {\n  for (const key in obj) {\n    fn(obj[key], key, obj);\n  }\n}\nexports.each = each;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\nfunction omit(source, omits) {\n  const result = {};\n  for (const key in source) {\n    if (omits.indexOf(key) >= 0) {\n      continue;\n    }\n    Object.defineProperty(result, key, {\n      get() {\n        return source[key];\n      },\n      set(val) {\n        source[key] = val;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n  return result;\n}\nexports.omit = omit;\nfunction defaults(source, defs) {\n  const keys = [];\n  const result = {};\n  for (const key in source) {\n    keys.push(key);\n    Object.defineProperty(result, key, {\n      get() {\n        const val = source[key];\n        return val === undefined ? defs[key] : val;\n      },\n      set(val) {\n        source[key] = val;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n  for (const key in defs) {\n    if (keys.indexOf(key) >= 0) {\n      continue;\n    }\n    Object.defineProperty(result, key, {\n      get() {\n        const val = source[key];\n        return val === undefined ? defs[key] : val;\n      },\n      set(val) {\n        source[key] = val;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n  return result;\n}\nexports.defaults = defaults;\nfunction extend(...args) {\n  const result = {};\n  args.forEach(source => {\n    for (const key in source) {\n      Object.defineProperty(result, key, {\n        get() {\n          return source[key];\n        },\n        set(val) {\n          source[key] = val;\n        },\n        configurable: true,\n        enumerable: true\n      });\n    }\n  });\n  return result;\n}\nexports.extend = extend;\nfunction isDescendantElement(root, target) {\n  while (target.parentElement) {\n    const p = target.parentElement;\n    if (root === p) {\n      return true;\n    }\n    target = p;\n  }\n  return false;\n}\nexports.isDescendantElement = isDescendantElement;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction applyChainSafe(obj, fn, ...names) {\n  let value = obj;\n  for (let i = 0; i < names.length && value != null; i++) {\n    value = fn(value, names[i]);\n  }\n  return value;\n}\nexports.applyChainSafe = applyChainSafe;\nfunction getChainSafe(obj, ...names) {\n  return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nexports.getChainSafe = getChainSafe;\nfunction getOrApply(value, ...args) {\n  if (typeof value === \"function\") {\n    return value(...args);\n  } else {\n    return value;\n  }\n}\nexports.getOrApply = getOrApply;\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction endsWith(str, searchString, position) {\n  const subjectString = str.toString();\n  if (typeof position !== \"number\" || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n    position = subjectString.length;\n  }\n  position -= searchString.length;\n  const lastIndex = subjectString.lastIndexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n  // Surrogate Code Point\n  // [\\uD800-\\uDBFF]\n  // Variation Selectors\n  // FVS [\\u180B-\\u180D]\n  // VS1VS16 [\\uFE00-\\uFE0F]\n  // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n  const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n  };\n}\nfunction genWords(s) {\n  const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n  };\n}\nfunction isPromise(data) {\n  return Boolean(data && typeof data.then === \"function\");\n}\nexports.isPromise = isPromise;\nfunction then(result, callback) {\n  return isPromise(result) ? result.then(r => callback(r)) : callback(result);\n}\nexports.then = then;\nfunction getMouseButtons(e) {\n  if (e.buttons != null) {\n    return e.buttons;\n  }\n  /*for legacy*/\n  if (e.which != null) {\n    if (e.which === 3) {\n      //right?\n      return 4;\n    }\n    if (e.which === 2) {\n      //middle?\n      return 4;\n    }\n    return e.which; //left or no\n  }\n\n  if (e.button === 0 || e.button === 1) {\n    return 1; //candidate left\n  }\n\n  if (e.button === 2) {\n    return 2; // right\n  }\n\n  return 0; //no or middle?\n}\n\nfunction getKeyCode(e) {\n  return e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getIgnoreCase(obj, name) {\n  if (obj[name]) {\n    return obj[name];\n  }\n  const l = name.toLowerCase();\n  if (obj[l]) {\n    return obj[l];\n  }\n  const u = name.toLowerCase();\n  if (obj[u]) {\n    return obj[u];\n  }\n  for (const k in obj) {\n    if (k.toLowerCase() === l) {\n      return obj[k];\n    }\n  }\n  return undefined;\n}\nexports.getIgnoreCase = getIgnoreCase;\nfunction cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\nfunction toBoxArray(obj) {\n  if (!Array.isArray(obj)) {\n    return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n  }\n\n  if (obj.length === 3) {\n    return [obj[0] /*top*/, obj[1] /*right*/, obj[2] /*bottom*/, obj[1] /*left*/];\n  }\n\n  if (obj.length === 2) {\n    return [obj[0] /*top*/, obj[1] /*right*/, obj[0] /*bottom*/, obj[1] /*left*/];\n  }\n\n  if (obj.length === 1) {\n    return [obj[0] /*top*/, obj[0] /*right*/, obj[0] /*bottom*/, obj[0] /*left*/];\n  }\n\n  return obj;\n}\nfunction cellEquals(a, b) {\n  return a.col === b.col && a.row === b.row;\n}\nexports.cellEquals = cellEquals;\nfunction cellInRange(range, col, row) {\n  return range.start.col <= col && col <= range.end.col && range.start.row <= row && row <= range.end.row;\n}\nexports.cellInRange = cellInRange;\nexports.browser = {\n  IE,\n  Edge,\n  Chrome,\n  Firefox,\n  Safari,\n  // Chrome 16777216 (onl Chrome 33554431)\n  // FireFox 17895588\n  // IE 10737433\n  heightLimit: Chrome ? 16777216 : Firefox ? 17895588 : 10737433 // default IE limit\n};\n\nexports.obj = {\n  setReadonly,\n  isObject\n};\nexports.str = {\n  endsWith,\n  genChars,\n  genWords\n};\nexports.event = {\n  getMouseButtons,\n  getKeyCode,\n  isTouchEvent,\n  cancel\n};\nexports.style = {\n  toBoxArray\n};\nexports.emptyFn = Function.prototype;\n\n/***/ }),\n\n/***/ \"./list-grid/LG_EVENT_TYPE.js\":\n/*!************************************!*\\\n  !*** ./list-grid/LG_EVENT_TYPE.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LG_EVENT_TYPE = void 0;\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nexports.LG_EVENT_TYPE = (0, utils_1.extend)(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\n  BEFORE_CHANGE_VALUE: \"before_change_value\",\n  CHANGED_VALUE: \"changed_value\",\n  CHANGED_HEADER_VALUE: \"changed_header_value\",\n  REJECTED_PASTE_VALUES: \"rejected_paste_values\"\n});\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/index.js\":\n/*!***************************************!*\\\n  !*** ./list-grid/layout-map/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultiLayoutMap = exports.SimpleHeaderLayoutMap = void 0;\nvar simple_header_layout_1 = __webpack_require__(/*! ./internal/simple-header-layout */ \"./list-grid/layout-map/internal/simple-header-layout.js\");\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", {\n  enumerable: true,\n  get: function () {\n    return simple_header_layout_1.SimpleHeaderLayoutMap;\n  }\n});\nvar multi_layout_1 = __webpack_require__(/*! ./internal/multi-layout */ \"./list-grid/layout-map/internal/multi-layout.js\");\nObject.defineProperty(exports, \"MultiLayoutMap\", {\n  enumerable: true,\n  get: function () {\n    return multi_layout_1.MultiLayoutMap;\n  }\n});\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/multi-layout.js\":\n/*!*******************************************************!*\\\n  !*** ./list-grid/layout-map/internal/multi-layout.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultiLayoutMap = void 0;\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\nconst headerAction = __importStar(__webpack_require__(/*! ../../../header/action */ \"./header/action.js\"));\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./list-grid/layout-map/internal/utils.js\");\nfunction normalizeLayout(layout) {\n  if (Array.isArray(layout)) {\n    return {\n      header: layout,\n      body: layout\n    };\n  }\n  return layout;\n}\nlet seqId = 0;\nclass LayoutObjectGrid {\n  constructor(layout, transform) {\n    this.objects = [];\n    this.objectGrid = [];\n    this.objectMap = {};\n    this.columnCount = 0;\n    this.columnWidths = [];\n    layout.forEach((rowLayout, row) => {\n      let col = 0;\n      rowLayout.forEach(cell => {\n        var _a, _b;\n        const id = seqId++;\n        const obj = transform(cell, id);\n        this.objects.push(obj);\n        this.objectMap[id] = obj;\n        col = this._findStartCell(col, row);\n        const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\n        const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\n        const endRow = row + rowSpan;\n        const endCol = col + colSpan;\n        for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\n          const objectGridRow = this._getObjectGridRow(rowIndex);\n          for (let colIndex = col; colIndex < endCol; colIndex++) {\n            objectGridRow[colIndex] = obj;\n          }\n        }\n        if (colSpan === 1) {\n          this._setWidthDataIfAbsent(col, cell);\n        }\n        this._useColumnIndex(endCol - 1);\n        col = endCol;\n      });\n    });\n  }\n  get rowCount() {\n    return this.objectGrid.length;\n  }\n  _findStartCell(col, row) {\n    const objectGridRow = this._getObjectGridRow(row);\n    for (let index = col; index < objectGridRow.length; index++) {\n      if (!objectGridRow[index]) {\n        return index;\n      }\n    }\n    return objectGridRow.length;\n  }\n  _getObjectGridRow(row) {\n    return this.objectGrid[row] || (this.objectGrid[row] = []);\n  }\n  _useColumnIndex(col) {\n    if (this.columnCount > col) {\n      return;\n    }\n    this.columnCount = col + 1;\n  }\n  _setWidthDataIfAbsent(col, cell) {\n    if (!this.columnWidths[col]) {\n      if (cell.width != null || cell.maxWidth != null || cell.minWidth != null) {\n        this.columnWidths[col] = {\n          width: cell.width,\n          maxWidth: cell.maxWidth,\n          minWidth: cell.minWidth\n        };\n      }\n    }\n  }\n}\nclass MultiLayoutMap {\n  constructor(layout) {\n    this._columnWidths = [];\n    this._emptyDataCache = new utils_1.EmptyDataCache();\n    const hbLayouut = normalizeLayout(layout);\n    const header = this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\n      return {\n        id,\n        caption: hd.caption,\n        field: hd.headerField || hd.field,\n        headerIcon: hd.headerIcon,\n        style: hd.headerStyle,\n        headerType: headerType.ofCell(hd),\n        action: headerAction.ofCell(hd),\n        define: hd\n      };\n    });\n    const body = this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\n      return {\n        id,\n        field: colDef.field,\n        width: colDef.width,\n        minWidth: colDef.minWidth,\n        maxWidth: colDef.maxWidth,\n        icon: colDef.icon,\n        message: colDef.message,\n        columnType: columns.type.of(colDef.columnType),\n        action: columns.action.of(colDef.action),\n        style: colDef.style,\n        define: colDef\n      };\n    });\n    const columnCount = this._columnCount = Math.max(header.columnCount, body.columnCount);\n    for (let col = 0; col < columnCount; col++) {\n      const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\n      this._columnWidths[col] = widthDef;\n    }\n  }\n  get columnWidths() {\n    return this._columnWidths;\n  }\n  get headerRowCount() {\n    return this._header.rowCount;\n  }\n  get bodyRowCount() {\n    return this._body.rowCount;\n  }\n  get colCount() {\n    return this._columnCount;\n  }\n  get headerObjects() {\n    return this._header.objects;\n  }\n  get columnObjects() {\n    return this._body.objects;\n  }\n  getCellId(col, row) {\n    var _a, _b, _c, _d;\n    if (this.headerRowCount <= row) {\n      const bodyRow = row - this.headerRowCount;\n      const bodyLayoutRow = bodyRow % this.bodyRowCount;\n      return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n    }\n    //in header\n    return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\n  }\n  getHeader(col, row) {\n    const id = this.getCellId(col, row);\n    return this._header.objectMap[id] || this._emptyDataCache.getHeader(col, row);\n  }\n  getBody(col, row) {\n    const id = this.getCellId(col, row);\n    return this._body.objectMap[id] || this._emptyDataCache.getBody(col, row);\n  }\n  getBodyLayoutRangeById(id) {\n    var _a;\n    for (let row = 0; row < this.bodyRowCount; row++) {\n      const objectGridRow = this._body.objectGrid[row];\n      if (!objectGridRow) {\n        continue;\n      }\n      for (let col = 0; col < this.colCount; col++) {\n        if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\n          return this._getCellRange(this._body, col, row, 0);\n        }\n      }\n    }\n    throw new Error(`can not found body layout @id=${id}`);\n  }\n  getCellRange(col, row) {\n    if (this.headerRowCount <= row) {\n      const recordIndex = this.getRecordIndexByRow(row);\n      const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\n      const bodyRow = row - this.headerRowCount;\n      const bodyLayoutRow = bodyRow % this.bodyRowCount;\n      return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\n    }\n    //in header\n    return this._getCellRange(this._header, col, row, 0);\n  }\n  getRecordIndexByRow(row) {\n    if (row < this.headerRowCount) {\n      return -1;\n    } else {\n      const bodyRow = row - this.headerRowCount;\n      return Math.floor(bodyRow / this.bodyRowCount);\n    }\n  }\n  getRecordStartRowByRecordIndex(index) {\n    return this.headerRowCount + index * this.bodyRowCount;\n  }\n  _getCellRange(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  layout, col, layoutRow, offsetRow) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    const result = {\n      start: {\n        col,\n        row: layoutRow + offsetRow\n      },\n      end: {\n        col,\n        row: layoutRow + offsetRow\n      }\n    };\n    const {\n      objectGrid\n    } = layout;\n    const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n    if (id == null) {\n      return result;\n    }\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\n        break;\n      }\n      result.start.col = c;\n    }\n    for (let c = col + 1; c < layout.columnCount; c++) {\n      if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\n        break;\n      }\n      result.end.col = c;\n    }\n    for (let r = layoutRow - 1; r >= 0; r--) {\n      if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\n        break;\n      }\n      result.start.row = r + offsetRow;\n    }\n    for (let r = layoutRow + 1; r < layout.rowCount; r++) {\n      if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\n        break;\n      }\n      result.end.row = r + offsetRow;\n    }\n    return result;\n  }\n}\nexports.MultiLayoutMap = MultiLayoutMap;\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/simple-header-layout.js\":\n/*!***************************************************************!*\\\n  !*** ./list-grid/layout-map/internal/simple-header-layout.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleHeaderLayoutMap = void 0;\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\nconst headerAction = __importStar(__webpack_require__(/*! ../../../header/action */ \"./header/action.js\"));\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./list-grid/layout-map/internal/utils.js\");\nlet seqId = 0;\nclass SimpleHeaderLayoutMap {\n  constructor(header) {\n    this.bodyRowCount = 1;\n    this._emptyDataCache = new utils_1.EmptyDataCache();\n    this._columns = [];\n    this._headerCellIds = [];\n    this._headerObjects = this._addHeaders(0, header, []);\n    this._headerObjectMap = this._headerObjects.reduce((o, e) => {\n      o[e.id] = e;\n      return o;\n    }, {});\n  }\n  get columnWidths() {\n    return this._columns;\n  }\n  get headerRowCount() {\n    return this._headerCellIds.length;\n  }\n  get colCount() {\n    return this._columns.length;\n  }\n  get headerObjects() {\n    return this._headerObjects;\n  }\n  get columnObjects() {\n    return this._columns;\n  }\n  getCellId(col, row) {\n    if (this.headerRowCount <= row) {\n      return this._columns[col].id;\n    }\n    //in header\n    return this._headerCellIds[row][col];\n  }\n  getHeader(col, row) {\n    const id = this.getCellId(col, row);\n    return this._headerObjectMap[id] || this._emptyDataCache.getHeader(col, row);\n  }\n  getBody(col, _row) {\n    return this._columns[col] || this._emptyDataCache.getBody(col, 0);\n  }\n  getBodyLayoutRangeById(id) {\n    for (let col = 0; col < this.colCount; col++) {\n      if (id === this._columns[col].id) {\n        return {\n          start: {\n            col,\n            row: 0\n          },\n          end: {\n            col,\n            row: 0\n          }\n        };\n      }\n    }\n    throw new Error(`can not found body layout @id=${id}`);\n  }\n  getCellRange(col, row) {\n    const result = {\n      start: {\n        col,\n        row\n      },\n      end: {\n        col,\n        row\n      }\n    };\n    if (this.headerRowCount <= row) {\n      return result;\n    }\n    //in header\n    const id = this.getCellId(col, row);\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== this.getCellId(c, row)) {\n        break;\n      }\n      result.start.col = c;\n    }\n    for (let c = col + 1; c < this.colCount; c++) {\n      if (id !== this.getCellId(c, row)) {\n        break;\n      }\n      result.end.col = c;\n    }\n    for (let r = row - 1; r >= 0; r--) {\n      if (id !== this.getCellId(col, r)) {\n        break;\n      }\n      result.start.row = r;\n    }\n    for (let r = row + 1; r < this.headerRowCount; r++) {\n      if (id !== this.getCellId(col, r)) {\n        break;\n      }\n      result.end.row = r;\n    }\n    return result;\n  }\n  getRecordIndexByRow(row) {\n    if (row < this.headerRowCount) {\n      return -1;\n    } else {\n      return row - this.headerRowCount;\n    }\n  }\n  getRecordStartRowByRecordIndex(index) {\n    return this.headerRowCount + index;\n  }\n  _addHeaders(row, header, roots) {\n    const results = [];\n    const rowCells = this._headerCellIds[row] || this._newRow(row);\n    header.forEach(hd => {\n      const col = this._columns.length;\n      const id = seqId++;\n      const cell = {\n        id,\n        caption: hd.caption,\n        field: hd.headerField || hd.field,\n        headerIcon: hd.headerIcon,\n        style: hd.headerStyle,\n        headerType: headerType.ofCell(hd),\n        action: headerAction.ofCell(hd),\n        define: hd\n      };\n      results[id] = cell;\n      rowCells[col] = id;\n      for (let r = row - 1; r >= 0; r--) {\n        this._headerCellIds[r][col] = roots[r];\n      }\n      if (hd.columns) {\n        this._addHeaders(row + 1, hd.columns, [...roots, id]).forEach(c => results.push(c));\n      } else {\n        const colDef = hd;\n        this._columns.push({\n          id: seqId++,\n          field: colDef.field,\n          width: colDef.width,\n          minWidth: colDef.minWidth,\n          maxWidth: colDef.maxWidth,\n          icon: colDef.icon,\n          message: colDef.message,\n          columnType: columns.type.of(colDef.columnType),\n          action: columns.action.of(colDef.action),\n          style: colDef.style,\n          define: colDef\n        });\n        for (let r = row + 1; r < this._headerCellIds.length; r++) {\n          this._headerCellIds[r][col] = id;\n        }\n      }\n    });\n    return results;\n  }\n  _newRow(row) {\n    const newRow = this._headerCellIds[row] = [];\n    if (!this._columns.length) {\n      return newRow;\n    }\n    const prev = this._headerCellIds[row - 1];\n    for (let col = 0; col < prev.length; col++) {\n      newRow[col] = prev[col];\n    }\n    return newRow;\n  }\n}\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/utils.js\":\n/*!************************************************!*\\\n  !*** ./list-grid/layout-map/internal/utils.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\nlet seqId = -1;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyHeaderData() {\n  return {\n    id: seqId--,\n    define: {},\n    headerType: headerType.of(null) // default\n  };\n}\n\nexports.newEmptyHeaderData = newEmptyHeaderData;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyColumnData() {\n  return {\n    id: seqId--,\n    define: {},\n    columnType: columns.type.of(null),\n    style: null\n  };\n}\nexports.newEmptyColumnData = newEmptyColumnData;\nclass EmptyDataCache {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.headers = [];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.columns = [];\n  }\n  getHeader(col, row) {\n    const rows = this.headers[row] || (this.headers[row] = []);\n    return rows[col] || (rows[col] = newEmptyHeaderData());\n  }\n  getBody(col, row) {\n    const rows = this.columns[row] || (this.columns[row] = []);\n    return rows[col] || (rows[col] = newEmptyColumnData());\n  }\n}\nexports.EmptyDataCache = EmptyDataCache;\n\n/***/ }),\n\n/***/ \"./main.js\":\n/*!*****************!*\\\n  !*** ./main.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = exports._getInternal = void 0;\nconst columns = __importStar(__webpack_require__(/*! ./columns */ \"./columns.js\"));\nexports.columns = columns;\nconst core = __importStar(__webpack_require__(/*! ./core */ \"./core.js\"));\nexports.core = core;\nconst data = __importStar(__webpack_require__(/*! ./data */ \"./data.js\"));\nexports.data = data;\nconst headers = __importStar(__webpack_require__(/*! ./headers */ \"./headers.js\"));\nexports.headers = headers;\nconst icons = __importStar(__webpack_require__(/*! ./icons */ \"./icons.js\"));\nconst register = __importStar(__webpack_require__(/*! ./register */ \"./register.js\"));\nexports.register = register;\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\nexports.themes = themes;\nconst tools = __importStar(__webpack_require__(/*! ./tools */ \"./tools.js\"));\nexports.tools = tools;\nconst ListGrid_1 = __webpack_require__(/*! ./ListGrid */ \"./ListGrid.js\");\nObject.defineProperty(exports, \"ListGrid\", {\n  enumerable: true,\n  get: function () {\n    return ListGrid_1.ListGrid;\n  }\n});\nconst GridCanvasHelper_1 = __webpack_require__(/*! ./GridCanvasHelper */ \"./GridCanvasHelper.js\");\nObject.defineProperty(exports, \"GridCanvasHelper\", {\n  enumerable: true,\n  get: function () {\n    return GridCanvasHelper_1.GridCanvasHelper;\n  }\n});\nvar get_internal_1 = __webpack_require__(/*! ./get-internal */ \"./get-internal.js\");\nObject.defineProperty(exports, \"_getInternal\", {\n  enumerable: true,\n  get: function () {\n    return get_internal_1.getInternal;\n  }\n});\n/** @private */\nfunction getIcons() {\n  return icons.get();\n}\nexports.getIcons = getIcons;\n// backward compatibility\nexports.default = {\n  core,\n  tools,\n  // impl Grids\n  ListGrid: ListGrid_1.ListGrid,\n  // objects\n  columns,\n  headers,\n  themes,\n  data,\n  // helper\n  GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\n  //plugin registers\n  register,\n  get icons() {\n    return getIcons();\n  }\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"default\", {\n  enumerable: false,\n  configurable: true,\n  get() {\n    return themes.getDefault();\n  },\n  set(defaultTheme) {\n    themes.setDefault(defaultTheme);\n  }\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"choices\", {\n  enumerable: false,\n  configurable: true,\n  get() {\n    return themes.getChoices();\n  }\n});\n\n/***/ }),\n\n/***/ \"./plugins/icons.js\":\n/*!**************************!*\\\n  !*** ./plugins/icons.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.icons = void 0;\nexports.icons = {};\n\n/***/ }),\n\n/***/ \"./plugins/themes.js\":\n/*!***************************!*\\\n  !*** ./plugins/themes.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.themes = void 0;\nexports.themes = {};\n\n/***/ }),\n\n/***/ \"./register.js\":\n/*!*********************!*\\\n  !*** ./register.js ***!\n  \\*********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.icons = exports.icon = exports.theme = void 0;\nconst icons_1 = __webpack_require__(/*! ./plugins/icons */ \"./plugins/icons.js\");\nconst themes_1 = __webpack_require__(/*! ./plugins/themes */ \"./plugins/themes.js\");\nfunction register(obj, name, value) {\n  const old = obj[name];\n  obj[name] = value;\n  return old;\n}\nfunction registers(obj, values) {\n  for (const k in values) {\n    obj[k] = values[k];\n  }\n}\nfunction theme(name, theme) {\n  if (theme != null) {\n    return register(themes_1.themes, name, theme);\n  } else {\n    return themes_1.themes[name];\n  }\n}\nexports.theme = theme;\nfunction icon(name, icon) {\n  if (icon != null) {\n    return register(icons_1.icons, name, icon);\n  } else {\n    return icons_1.icons[name];\n  }\n}\nexports.icon = icon;\nfunction icons(icons) {\n  return registers(icons_1.icons, icons);\n}\nexports.icons = icons;\n\n/***/ }),\n\n/***/ \"./themes.js\":\n/*!*******************!*\\\n  !*** ./themes.js ***!\n  \\*******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\nconst theme_1 = __webpack_require__(/*! ./themes/theme */ \"./themes/theme.js\");\nconst BASIC_1 = __importDefault(__webpack_require__(/*! ./themes/BASIC */ \"./themes/BASIC.js\"));\nconst MATERIAL_DESIGN_1 = __importDefault(__webpack_require__(/*! ./themes/MATERIAL_DESIGN */ \"./themes/MATERIAL_DESIGN.js\"));\nconst themes_1 = __webpack_require__(/*! ./plugins/themes */ \"./plugins/themes.js\");\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\nconst builtin = {\n  BASIC: exports.BASIC,\n  MATERIAL_DESIGN: exports.MATERIAL_DESIGN\n};\nlet defTheme = exports.MATERIAL_DESIGN;\nexports.theme = {\n  Theme: theme_1.Theme\n};\nfunction of(value) {\n  if (!value) {\n    return null;\n  }\n  if (typeof value === \"string\") {\n    const t = (0, utils_1.getIgnoreCase)(getChoices(), value);\n    if (t) {\n      return t;\n    }\n    return null;\n  }\n  if (value instanceof theme_1.Theme) {\n    return value;\n  }\n  return new theme_1.Theme(value);\n}\nexports.of = of;\nfunction getDefault() {\n  return defTheme;\n}\nexports.getDefault = getDefault;\nfunction setDefault(defaultTheme) {\n  defTheme = of(defaultTheme) || defTheme;\n}\nexports.setDefault = setDefault;\nfunction getChoices() {\n  return (0, utils_1.extend)(builtin, themes_1.themes);\n}\nexports.getChoices = getChoices;\n\n/***/ }),\n\n/***/ \"./themes/BASIC.js\":\n/*!*************************!*\\\n  !*** ./themes/BASIC.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction DEFAULT_BG_COLOR(args) {\n  const {\n    row,\n    grid\n  } = args;\n  if (row < grid.frozenRowCount) {\n    return \"#FFF\";\n  }\n  const index = grid.getRecordIndexByRow(row);\n  if (!(index & 1)) {\n    return \"#FFF\";\n  } else {\n    return \"#F6F6F6\";\n  }\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n  let stop;\n  const stopsKey = [];\n  for (stop in colorStops) {\n    stopsKey.push(`${stop}@${colorStops[stop]}`);\n  }\n  const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\n  const ret = cacheLinearGradient[key];\n  if (ret) {\n    return ret;\n  }\n  const grad = context.createLinearGradient(left, top, left, bottom);\n  for (stop in colorStops) {\n    grad.addColorStop(Number(stop), colorStops[stop]);\n  }\n  return cacheLinearGradient[key] = grad;\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n  const {\n    col,\n    grid,\n    grid: {\n      frozenRowCount\n    },\n    context\n  } = args;\n  const {\n    left,\n    top\n  } = grid.getCellRelativeRect(col, 0);\n  const {\n    bottom\n  } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n  return getLinearGradient(context, left, top, left, bottom, {\n    0: \"#FFF\",\n    1: \"#D3D3D3\"\n  });\n}\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @memberof cheetahGrid.themes.choices\r\n */\nexports.default = {\n  color: \"#000\",\n  // frozenRowsColor: '#000',\n  defaultBgColor: DEFAULT_BG_COLOR,\n  frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n  selectionBgColor: \"#CCE0FF\",\n  borderColor: \"#000\",\n  // frozenRowsBorderColor: '#000',\n  highlightBorderColor: \"#5E9ED6\",\n  checkbox: {\n    uncheckBgColor: \"#FFF\",\n    checkBgColor: \"rgb(76, 73, 72)\",\n    borderColor: \"#000\"\n  },\n  radioButton: {\n    checkColor: \"rgb(76, 73, 72)\",\n    checkBorderColor: \"#000\",\n    uncheckBorderColor: \"#000\",\n    uncheckBgColor: \"#FFF\",\n    checkBgColor: \"#FFF\"\n  },\n  button: {\n    color: \"#FFF\",\n    bgColor: \"#2196F3\"\n  },\n  header: {\n    sortArrowColor: \"rgba(0, 0, 0, 0.38)\"\n  },\n  indicators: {\n    topLeftColor: \"#000\"\n  },\n  underlayBackgroundColor: \"#F6F6F6\"\n};\n\n/***/ }),\n\n/***/ \"./themes/MATERIAL_DESIGN.js\":\n/*!***********************************!*\\\n  !*** ./themes/MATERIAL_DESIGN.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n  if (frozenRowCount - 1 === row) {\n    return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\n  } else {\n    return [\"#f2f2f2\"];\n  }\n}\nfunction BORDER_COLOR(args) {\n  const {\n    col,\n    row,\n    grid\n  } = args;\n  const {\n    colCount,\n    frozenColCount,\n    recordRowCount\n  } = grid;\n  let top = \"#ccc7c7\";\n  let bottom = \"#ccc7c7\";\n  if (recordRowCount > 1) {\n    const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n    const endRow = startRow + recordRowCount - 1;\n    if (startRow !== row) {\n      top = null;\n    }\n    if (endRow !== row) {\n      bottom = null;\n    }\n  }\n  if (frozenColCount - 1 === col) {\n    return [top, \"#f2f2f2\", bottom, null];\n  }\n  if (colCount - 1 === col) {\n    return [top, \"#f2f2f2\", bottom, null];\n  }\n  return [top, null, bottom, null];\n}\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @memberof cheetahGrid.themes.choices\r\n */\nexports.default = {\n  color: \"rgba(0, 0, 0, 0.87)\",\n  frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\n  defaultBgColor: \"#FFF\",\n  // frozenRowsBgColor: '#FFF',\n  selectionBgColor: \"#CCE0FF\",\n  borderColor: BORDER_COLOR,\n  frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n  highlightBorderColor: \"#5E9ED6\",\n  checkbox: {\n    // uncheckBgColor: '#FFF',\n    checkBgColor: \"rgb(76, 73, 72)\",\n    borderColor: \"rgba(0, 0, 0, 0.26)\"\n  },\n  radioButton: {\n    checkColor: \"rgb(76, 73, 72)\",\n    checkBorderColor: \"rgb(76, 73, 72)\",\n    uncheckBorderColor: \"rgb(189, 189, 189)\"\n    // uncheckBgColor: \"#FFF\",\n    // checkBgColor: \"#FFF\",\n  },\n\n  button: {\n    color: \"#FFF\",\n    bgColor: \"#2196F3\"\n  },\n  header: {\n    sortArrowColor: \"rgba(0, 0, 0, 0.38)\"\n  },\n  indicators: {\n    topLeftColor: \"#ccc7c7\"\n  },\n  underlayBackgroundColor: \"#FFF\"\n};\n\n/***/ }),\n\n/***/ \"./themes/theme.js\":\n/*!*************************!*\\\n  !*** ./themes/theme.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Theme = void 0;\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\");\n//private symbol\nconst _ = (0, symbolManager_1.get)();\nfunction getProp(obj, superObj, names, defNames, convertForSuper, defaultValue) {\n  const value = (0, utils_1.getChainSafe)(obj, ...names) || (0, utils_1.getChainSafe)(superObj, ...names);\n  if (value) {\n    return value;\n  }\n  if (!defNames) {\n    return value || defaultValue;\n  }\n  const getChainSafeWithConvert = convertForSuper ? (obj, ...names) => {\n    const value = (0, utils_1.getChainSafe)(obj, ...names);\n    if (!value) {\n      return value;\n    }\n    return convertForSuper(value);\n  } : utils_1.getChainSafe;\n  return getChainSafeWithConvert(obj, ...defNames) || getChainSafeWithConvert(superObj, ...defNames) || defaultValue;\n}\nclass Theme {\n  constructor(obj, superTheme) {\n    this._checkbox = null;\n    this._radioButton = null;\n    this._button = null;\n    this._header = null;\n    this._messages = null;\n    this._indicators = null;\n    this[_] = {\n      obj,\n      superTheme: superTheme\n    };\n  }\n  get font() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"font\"]);\n  }\n  get underlayBackgroundColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\n  }\n  // color\n  get color() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"color\"]);\n  }\n  get frozenRowsColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\n  }\n  // background\n  get defaultBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"defaultBgColor\"]);\n  }\n  get frozenRowsBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\n  }\n  get selectionBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\n  }\n  get highlightBgColor() {\n    if (this.hasProperty([\"highlightBgColor\"])) {\n      const {\n        obj,\n        superTheme\n      } = this[_];\n      return getProp(obj, superTheme, [\"highlightBgColor\"]);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return args => {\n      const color = args.row < args.grid.frozenRowCount ? this.frozenRowsBgColor : this.defaultBgColor;\n      if (typeof color === \"function\") {\n        return color(args);\n      }\n      return color;\n    };\n  }\n  // border\n  get borderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"borderColor\"]);\n  }\n  get frozenRowsBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\n  }\n  get highlightBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\n  }\n  get checkbox() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getCheckboxProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\n      },\n      get checkBgColor() {\n        return getCheckboxProp(\"checkBgColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get borderColor() {\n        return getCheckboxProp(\"borderColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      }\n    });\n    function getCheckboxProp(prop, defNames, convertForSuper, defaultValue) {\n      return getProp(obj, superTheme, [\"checkbox\", prop], defNames, convertForSuper, defaultValue);\n    }\n  }\n  get radioButton() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._radioButton || (this._radioButton = {\n      get checkColor() {\n        return getRadioButtonProp(\"checkColor\", [\"color\"]);\n      },\n      get uncheckBorderColor() {\n        return getRadioButtonProp(\"uncheckBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get checkBorderColor() {\n        return getRadioButtonProp(\"checkBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get uncheckBgColor() {\n        return getRadioButtonProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\n      },\n      get checkBgColor() {\n        return getRadioButtonProp(\"checkBgColor\", [\"defaultBgColor\"]);\n      }\n    });\n    function getRadioButtonProp(prop, defNames, convertForSuper, defaultValue) {\n      return getProp(obj, superTheme, [\"radioButton\", prop], defNames, convertForSuper, defaultValue);\n    }\n  }\n  get button() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._button || (this._button = {\n      get color() {\n        return getButtonProp(\"color\", [\"color\"]);\n      },\n      get bgColor() {\n        return getButtonProp(\"bgColor\", [\"defaultBgColor\"]);\n      }\n    });\n    function getButtonProp(prop, defNames) {\n      return getProp(obj, superTheme, [\"button\", prop], defNames);\n    }\n  }\n  get header() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\n      }\n    });\n  }\n  get messages() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._messages || (this._messages = {\n      get infoBgColor() {\n        return getMessageProp(\"infoBgColor\");\n      },\n      get errorBgColor() {\n        return getMessageProp(\"errorBgColor\");\n      },\n      get warnBgColor() {\n        return getMessageProp(\"warnBgColor\");\n      },\n      get boxWidth() {\n        return getMessageProp(\"boxWidth\");\n      },\n      get markHeight() {\n        return getMessageProp(\"markHeight\");\n      }\n    });\n    function getMessageProp(prop) {\n      return getProp(obj, superTheme, [\"messages\", prop]);\n    }\n  }\n  get indicators() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._indicators || (this._indicators = {\n      get topLeftColor() {\n        return getIndicatorsProp(\"topLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get topLeftSize() {\n        return getIndicatorsProp(\"topLeftSize\");\n      },\n      get topRightColor() {\n        return getIndicatorsProp(\"topRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get topRightSize() {\n        return getIndicatorsProp(\"topRightSize\");\n      },\n      get bottomRightColor() {\n        return getIndicatorsProp(\"bottomRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get bottomRightSize() {\n        return getIndicatorsProp(\"bottomRightSize\");\n      },\n      get bottomLeftColor() {\n        return getIndicatorsProp(\"bottomLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\n      },\n      get bottomLeftSize() {\n        return getIndicatorsProp(\"bottomLeftSize\");\n      }\n    });\n    function getIndicatorsProp(prop, defNames, convertForSuper, defaultValue) {\n      return getProp(obj, superTheme, [\"indicators\", prop], defNames, convertForSuper, defaultValue);\n    }\n  }\n  hasProperty(names) {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\n  }\n  extends(obj) {\n    return new Theme(obj, this);\n  }\n}\nexports.Theme = Theme;\nfunction hasThemeProperty(obj, names) {\n  if (obj instanceof Theme) {\n    return obj.hasProperty(names);\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let o = obj;\n    if (!o) {\n      return false;\n    }\n    for (let index = 0; index < names.length; index++) {\n      const name = names[index];\n      o = o[name];\n      if (!o) {\n        return false;\n      }\n    }\n    return !!o;\n  }\n}\nfunction colorsToColor(colors) {\n  if (typeof colors === \"function\") {\n    return arg => {\n      const val = colors(arg);\n      return val ? colorsArrayToColor(val) : val;\n    };\n  }\n  return colorsArrayToColor(colors);\n  function colorsArrayToColor(\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  colors) {\n    if (!Array.isArray(colors)) {\n      return colors;\n    }\n    return colors.find(Boolean) || undefined;\n  }\n}\n\n/***/ }),\n\n/***/ \"./tools.js\":\n/*!******************!*\\\n  !*** ./tools.js ***!\n  \\******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canvashelper = void 0;\nconst canvashelper = __importStar(__webpack_require__(/*! ./tools/canvashelper */ \"./tools/canvashelper.js\"));\nexports.canvashelper = canvashelper;\n\n/***/ }),\n\n/***/ \"./tools/canvashelper.js\":\n/*!*******************************!*\\\n  !*** ./tools/canvashelper.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\nconst {\n  ceil,\n  PI\n} = Math;\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n  function strokeRectLines(positions) {\n    for (let i = 0; i < borderColors.length; i++) {\n      const color = borderColors[i];\n      const preColor = borderColors[i - 1];\n      if (color) {\n        if (preColor !== color) {\n          if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n          }\n          const pos1 = positions[i];\n          ctx.beginPath();\n          ctx.moveTo(pos1.x, pos1.y);\n        }\n        const pos2 = positions[i + 1];\n        ctx.lineTo(pos2.x, pos2.y);\n      } else {\n        if (preColor) {\n          ctx.strokeStyle = preColor;\n          ctx.stroke();\n        }\n      }\n    }\n    const preColor = borderColors[borderColors.length - 1];\n    if (preColor) {\n      ctx.strokeStyle = preColor;\n      ctx.stroke();\n    }\n  }\n  if (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n    if (borderColors[0]) {\n      ctx.strokeStyle = borderColors[0];\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    strokeRectLines([{\n      x: left,\n      y: top\n    }, {\n      x: left + width,\n      y: top\n    }, {\n      x: left + width,\n      y: top + height\n    }, {\n      x: left,\n      y: top + height\n    }, {\n      x: left,\n      y: top\n    }]);\n  }\n}\nexports.strokeColorsRect = strokeColorsRect;\nfunction roundRect(ctx, left, top, width, height, radius) {\n  ctx.beginPath();\n  ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n  ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n  ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n  ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n  ctx.closePath();\n}\nexports.roundRect = roundRect;\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.fill();\n}\nexports.fillRoundRect = fillRoundRect;\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.stroke();\n}\nexports.strokeRoundRect = strokeRoundRect;\nfunction fillCircle(ctx, left, top, width, height) {\n  const min = Math.min(width, height) / 2;\n  ctx.beginPath();\n  ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n  ctx.closePath();\n  ctx.fill();\n}\nexports.fillCircle = fillCircle;\nfunction strokeCircle(ctx, left, top, width, height) {\n  const min = Math.min(width, height) / 2;\n  ctx.beginPath();\n  ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n  ctx.closePath();\n  ctx.stroke();\n}\nexports.strokeCircle = strokeCircle;\nfunction fillTextRect(ctx, text, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height);\n    //clip\n    ctx.clip();\n    //\n    const pos = (0, canvases_1.calcBasePosition)(ctx, rect, {\n      offset,\n      padding\n    });\n    ctx.fillText(text, pos.x, pos.y);\n  } finally {\n    ctx.restore();\n  }\n}\nexports.fillTextRect = fillTextRect;\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height);\n    //clip\n    ctx.clip();\n    //\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, destWidth, destHeight, {\n      offset,\n      padding\n    });\n    ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n  } finally {\n    ctx.restore();\n  }\n}\nexports.drawInlineImageRect = drawInlineImageRect;\n/**\r\n * Returns an object containing the width of the checkbox.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the checkbox\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\nfunction measureCheckbox(ctx) {\n  return {\n    width: (0, canvases_1.getFontSize)(ctx, null).width\n  };\n}\nexports.measureCheckbox = measureCheckbox;\n/**\r\n * Returns an object containing the width of the radio button.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the radio button\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\nfunction measureRadioButton(ctx) {\n  return {\n    width: (0, canvases_1.getFontSize)(ctx, null).width\n  };\n}\nexports.measureRadioButton = measureRadioButton;\n/**\r\n * draw Checkbox\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {boolean|number} check checkbox check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\nfunction drawCheckbox(ctx, x, y, check, {\n  uncheckBgColor = \"#FFF\",\n  checkBgColor = \"rgb(76, 73, 72)\",\n  borderColor = \"#000\",\n  boxSize = measureCheckbox(ctx).width\n} = {}) {\n  const checkPoint = typeof check === \"number\" ? check > 1 ? 1 : check : 1;\n  ctx.save();\n  try {\n    ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n    const leftX = ceil(x);\n    const topY = ceil(y);\n    const size = ceil(boxSize);\n    fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\n    if (check) {\n      ctx.lineWidth = ceil(boxSize / 10);\n      ctx.strokeStyle = uncheckBgColor;\n      let leftWidth = boxSize / 4;\n      let rightWidth = boxSize / 2 * 0.9;\n      const leftLeftPos = x + boxSize * 0.2;\n      const leftTopPos = y + boxSize / 2;\n      if (checkPoint < 0.5) {\n        leftWidth *= checkPoint * 2;\n      }\n      ctx.beginPath();\n      ctx.moveTo(leftLeftPos, leftTopPos);\n      ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n      if (checkPoint > 0.5) {\n        if (checkPoint < 1) {\n          rightWidth *= (checkPoint - 0.5) * 2;\n        }\n        ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n      }\n      ctx.stroke();\n    }\n  } finally {\n    ctx.restore();\n  }\n}\nexports.drawCheckbox = drawCheckbox;\n/**\r\n * draw Radio button\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {boolean|number} check radio button check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\nfunction drawRadioButton(ctx, x, y, check, {\n  checkColor = \"rgb(76, 73, 72)\",\n  borderColor = \"#000\",\n  bgColor = \"#FFF\",\n  boxSize = measureRadioButton(ctx).width\n} = {}) {\n  const ratio = typeof check === \"number\" ? check > 1 ? 1 : check : 1;\n  ctx.save();\n  try {\n    ctx.fillStyle = bgColor;\n    const leftX = ceil(x);\n    const topY = ceil(y);\n    const size = ceil(boxSize);\n    fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\n    if (check) {\n      const checkSize = size * ratio / 2;\n      const padding = (size - checkSize) / 2;\n      ctx.fillStyle = checkColor;\n      fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\n    }\n  } finally {\n    ctx.restore();\n  }\n}\nexports.drawRadioButton = drawRadioButton;\n/**\r\n * draw Button\r\n */\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n  const {\n    backgroundColor = \"#FFF\",\n    bgColor = backgroundColor,\n    radius = 4,\n    shadow = {}\n  } = option;\n  ctx.save();\n  try {\n    ctx.fillStyle = bgColor;\n    if (shadow) {\n      const {\n        color = \"rgba(0, 0, 0, 0.24)\",\n        blur = 1,\n        offsetX = 0,\n        offsetY = 2,\n        offset: {\n          x: ox = offsetX,\n          y: oy = offsetY\n        } = {}\n      } = shadow;\n      ctx.shadowColor = color;\n      ctx.shadowBlur = blur; //\n      ctx.shadowOffsetX = ox;\n      ctx.shadowOffsetY = oy;\n    }\n    fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n  } finally {\n    ctx.restore();\n  }\n}\nexports.drawButton = drawButton;\n\n/***/ }),\n\n/***/ \"./tooltip/BaseTooltip.js\":\n/*!********************************!*\\\n  !*** ./tooltip/BaseTooltip.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseTooltip = void 0;\nclass BaseTooltip {\n  constructor(grid) {\n    this._grid = grid;\n  }\n  dispose() {\n    this.detachTooltipElement();\n    if (this._tooltipElement) {\n      this._tooltipElement.dispose();\n    }\n    this._tooltipElement = undefined;\n  }\n  _getTooltipElement() {\n    if (this._tooltipElement) {\n      return this._tooltipElement;\n    }\n    return this._tooltipElement = this.createTooltipElementInternal();\n  }\n  attachTooltipElement(col, row, content) {\n    const tooltipElement = this._getTooltipElement();\n    tooltipElement.attach(this._grid, col, row, content);\n  }\n  moveTooltipElement(col, row) {\n    const tooltipElement = this._getTooltipElement();\n    tooltipElement.move(this._grid, col, row);\n  }\n  detachTooltipElement() {\n    const tooltipElement = this._getTooltipElement();\n    tooltipElement._detach();\n  }\n}\nexports.BaseTooltip = BaseTooltip;\n\n/***/ }),\n\n/***/ \"./tooltip/Tooltip.js\":\n/*!****************************!*\\\n  !*** ./tooltip/Tooltip.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\nconst BaseTooltip_1 = __webpack_require__(/*! ./BaseTooltip */ \"./tooltip/BaseTooltip.js\");\nconst TooltipElement_1 = __webpack_require__(/*! ./internal/TooltipElement */ \"./tooltip/internal/TooltipElement.js\");\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\n  createTooltipElementInternal() {\n    return new TooltipElement_1.TooltipElement();\n  }\n}\nexports.Tooltip = Tooltip;\n\n/***/ }),\n\n/***/ \"./tooltip/TooltipHandler.js\":\n/*!***********************************!*\\\n  !*** ./tooltip/TooltipHandler.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipHandler = void 0;\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ../list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\nconst Tooltip_1 = __webpack_require__(/*! ./Tooltip */ \"./tooltip/Tooltip.js\");\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\nconst TOOLTIP_INSTANCE_FACTORY = {\n  \"overflow-text\"(grid) {\n    return new Tooltip_1.Tooltip(grid);\n  }\n};\nfunction getTooltipInstanceInfo(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngrid, col, row) {\n  //\n  // overflow text tooltip\n  const overflowText = grid.getCellOverflowText(col, row);\n  if (overflowText) {\n    return {\n      type: \"overflow-text\",\n      content: overflowText\n    };\n  }\n  return null;\n}\nclass TooltipHandler {\n  constructor(grid) {\n    this._grid = grid;\n    this._tooltipInstances = {};\n    this._bindGridEvent(grid);\n  }\n  dispose() {\n    const tooltipInstances = this._tooltipInstances;\n    for (const k in tooltipInstances) {\n      tooltipInstances[k].dispose();\n    }\n    // @ts-expect-error -- ignore\n    delete this._tooltipInstances;\n    this._attachInfo = null;\n  }\n  _attach(col, row) {\n    const info = this._attachInfo;\n    const instanceInfo = this._getTooltipInstanceInfo(col, row);\n    if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n      info.instance.detachTooltipElement();\n      this._attachInfo = null;\n    }\n    if (!instanceInfo) {\n      return;\n    }\n    const {\n      instance\n    } = instanceInfo;\n    instance.attachTooltipElement(col, row, instanceInfo.content);\n    const range = this._grid.getCellRange(col, row);\n    this._attachInfo = {\n      range,\n      instance\n    };\n  }\n  _move(col, row) {\n    const info = this._attachInfo;\n    if (!info || !(0, utils_1.cellInRange)(info.range, col, row)) {\n      return;\n    }\n    const {\n      instance\n    } = info;\n    instance.moveTooltipElement(col, row);\n  }\n  _detach() {\n    const info = this._attachInfo;\n    if (!info) {\n      return;\n    }\n    const {\n      instance\n    } = info;\n    instance.detachTooltipElement();\n    this._attachInfo = null;\n  }\n  _isAttachCell(col, row) {\n    const info = this._attachInfo;\n    if (!info) {\n      return false;\n    }\n    return (0, utils_1.cellInRange)(info.range, col, row);\n  }\n  _bindGridEvent(grid) {\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n      if (e.related) {\n        if (this._isAttachCell(e.col, e.row)) {\n          return;\n        }\n      }\n      this._attach(e.col, e.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n      if (e.related) {\n        if (this._isAttachCell(e.related.col, e.related.row)) {\n          return;\n        }\n      }\n      this._detach();\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n      }\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n      const info = this._attachInfo;\n      if (!info) {\n        return;\n      }\n      this._move(info.range.start.col, info.range.start.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n        this._attach(e.col, e.row);\n      }\n    });\n  }\n  _getTooltipInstanceInfo(col, row) {\n    const grid = this._grid;\n    const tooltipInstances = this._tooltipInstances;\n    const info = getTooltipInstanceInfo(grid, col, row);\n    if (!info) {\n      return null;\n    }\n    const {\n      type\n    } = info;\n    const instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n    return {\n      instance,\n      type,\n      content: info.content\n    };\n  }\n}\nexports.TooltipHandler = TooltipHandler;\n\n/***/ }),\n\n/***/ \"./tooltip/internal/TooltipElement.js\":\n/*!********************************************!*\\\n  !*** ./tooltip/internal/TooltipElement.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipElement = void 0;\nconst EventHandler_1 = __webpack_require__(/*! ../../internal/EventHandler */ \"./internal/EventHandler.js\");\nconst dom_1 = __webpack_require__(/*! ../../internal/dom */ \"./internal/dom.js\");\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createTooltipDomElement() {\n  __webpack_require__(/*! @/tooltip/internal/TooltipElement.css */ \"../src/js/tooltip/internal/TooltipElement.css\");\n  const rootElement = (0, dom_1.createElement)(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = (0, dom_1.createElement)(\"pre\", {\n    classList: [CONTENT_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\nclass TooltipElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    const rootElement = this._rootElement = createTooltipDomElement();\n    this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n  }\n  dispose() {\n    this.detach();\n    const rootElement = this._rootElement;\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n    }\n    this._handler.dispose();\n    // @ts-expect-error -- ignore\n    delete this._rootElement;\n    // @ts-expect-error -- ignore\n    delete this._messageElement;\n  }\n  attach(grid, col, row, content) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = content;\n    } else {\n      this._detach();\n    }\n  }\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n  detach() {\n    this._detach();\n  }\n  _detach() {\n    const rootElement = this._rootElement;\n    if (rootElement.parentElement) {\n      // rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      height: offsetHeight,\n      width: offsetWidth,\n      left: elementLeft,\n      right: elementRight\n    } = element.getBoundingClientRect();\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    const cellCenter = left + width / 2;\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${cellCenter.toFixed()}px`;\n    rootElement.style.minWidth = `${width.toFixed()}px`;\n    const maxWidthForLeft = (elementLeft + cellCenter) * 2;\n    const winWidth = window.innerWidth;\n    const maxWidthForRight = (offsetWidth - cellCenter + (winWidth - elementRight)) * 2;\n    const maxWidth = Math.min(maxWidthForLeft, maxWidthForRight);\n    rootElement.style.maxWidth = `${maxWidth.toFixed()}px`;\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n    return true;\n  }\n}\nexports.TooltipElement = TooltipElement;\n\n/***/ })\n\n/******/ });\n});\n}).call(typeof global !== \"undefined\" ? global : window, typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridCanvasHelper = void 0;\r\nconst calc = __importStar(require(\"./internal/calc\"));\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nconst fonts = __importStar(require(\"./internal/fonts\"));\r\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst canvases_1 = require(\"./internal/canvases\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst color_1 = require(\"./internal/color\");\r\nconst { toBoxArray } = utils_1.style;\r\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\r\nconst TEXT_OFFSET = 2;\r\nconst CHECKBOX_OFFSET = TEXT_OFFSET + 1;\r\nfunction invalidateCell(context, grid) {\r\n    const { col, row } = context;\r\n    grid.invalidateCell(col, row);\r\n}\r\nfunction getColor(color, col, row, grid, context) {\r\n    return (0, utils_1.getOrApply)(color, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getFont(font, col, row, grid, context) {\r\n    if (font == null) {\r\n        return undefined;\r\n    }\r\n    return (0, utils_1.getOrApply)(font, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getThemeColor(grid, ...names) {\r\n    const gridThemeColor = (0, utils_1.getChainSafe)(grid.theme, ...names);\r\n    if (gridThemeColor == null) {\r\n        // use default theme\r\n        return (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n    }\r\n    if (typeof gridThemeColor !== \"function\") {\r\n        return gridThemeColor;\r\n    }\r\n    let defaultThemeColor;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ((args) => {\r\n        const color = gridThemeColor(args);\r\n        if (color != null) {\r\n            // use grid theme\r\n            return color;\r\n        }\r\n        // use default theme\r\n        defaultThemeColor =\r\n            defaultThemeColor || (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n        return (0, utils_1.getOrApply)(defaultThemeColor, args);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    });\r\n}\r\nfunction testFontLoad(font, value, context, grid) {\r\n    if (font) {\r\n        if (!fonts.check(font, value)) {\r\n            fonts.load(font, value, () => invalidateCell(context, grid));\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\r\n    function drawInline(inline, offsetLeft, offsetRight) {\r\n        if (inline.canDraw()) {\r\n            ctx.save();\r\n            try {\r\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\r\n                ctx.font = inline.font() || ctx.font;\r\n                inline.draw({\r\n                    ctx,\r\n                    canvashelper,\r\n                    rect,\r\n                    offset,\r\n                    offsetLeft,\r\n                    offsetRight,\r\n                    offsetTop,\r\n                    offsetBottom,\r\n                });\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        }\r\n        else {\r\n            inline.onReady(() => grid.invalidateCell(col, row));\r\n            //noop\r\n        }\r\n    }\r\n    if (inlines.length === 1) {\r\n        //1\r\n        const inline = inlines[0];\r\n        drawInline(inline, 0, 0);\r\n    }\r\n    else {\r\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\r\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\r\n        let offsetLeft = 0;\r\n        inlines.forEach((inline, index) => {\r\n            const inlineWidth = inlineWidths[index];\r\n            offsetRight -= inlineWidth;\r\n            drawInline(inline, offsetLeft, offsetRight);\r\n            offsetLeft += inlineWidth;\r\n        });\r\n    }\r\n}\r\nfunction buildInlines(icons, inline) {\r\n    return inlineUtils.buildInlines(icons, inline || \"\");\r\n}\r\nfunction inlineToString(inline) {\r\n    return inlineUtils.string(inline);\r\n}\r\nfunction getOverflowInline(textOverflow) {\r\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\r\n        return INLINE_ELLIPSIS;\r\n    }\r\n    textOverflow = textOverflow.trim();\r\n    if (textOverflow.length === 1) {\r\n        return inlineUtils.of(textOverflow[0]);\r\n    }\r\n    return INLINE_ELLIPSIS;\r\n}\r\nfunction isAllowOverflow(textOverflow) {\r\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\r\n}\r\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\r\n    const maxWidth = width - 3; /*buffer*/\r\n    let lineWidth = 0;\r\n    for (let i = 0; i < inlines.length; i++) {\r\n        const inline = inlines[i];\r\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\r\n        if (lineWidth + inlineWidth > maxWidth) {\r\n            return {\r\n                index: i,\r\n                lineWidth,\r\n                remWidth: maxWidth - lineWidth,\r\n            };\r\n        }\r\n        lineWidth += inlineWidth;\r\n    }\r\n    return null;\r\n}\r\nfunction isOverflowInlines(ctx, inlines, width) {\r\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\r\n}\r\nfunction breakWidthInlines(ctx, inlines, width) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            beforeInlines: inlines,\r\n            overflow: false,\r\n            afterInlines: [],\r\n        };\r\n    }\r\n    const { index, remWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const beforeInlines = inlines.slice(0, index);\r\n    const afterInlines = [];\r\n    if (inline.canBreak()) {\r\n        let { before, after } = inline.breakWord(ctx, remWidth);\r\n        if (!before && !beforeInlines.length) {\r\n            ({ before, after } = inline.breakAll(ctx, remWidth));\r\n        }\r\n        if (!before && !beforeInlines.length) {\r\n            // Always return one char\r\n            ({ before, after } = inline.splitIndex(1));\r\n        }\r\n        if (before) {\r\n            beforeInlines.push(before);\r\n        }\r\n        if (after) {\r\n            afterInlines.push(after);\r\n        }\r\n        afterInlines.push(...inlines.slice(index + 1));\r\n    }\r\n    else {\r\n        if (!beforeInlines.length) {\r\n            // Always return one char\r\n            beforeInlines.push(inline);\r\n        }\r\n        afterInlines.push(...inlines.slice(beforeInlines.length));\r\n    }\r\n    return {\r\n        beforeInlines,\r\n        overflow: true,\r\n        afterInlines,\r\n    };\r\n}\r\nfunction truncateInlines(ctx, inlines, width, option) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            inlines,\r\n            overflow: false,\r\n        };\r\n    }\r\n    const { index, lineWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const overflowInline = getOverflowInline(option);\r\n    const ellipsisWidth = overflowInline.width({ ctx });\r\n    const remWidth = width - lineWidth - ellipsisWidth;\r\n    const result = inlines.slice(0, index);\r\n    if (inline.canBreak()) {\r\n        const { before } = inline.breakAll(ctx, remWidth);\r\n        if (before) {\r\n            result.push(before);\r\n        }\r\n    }\r\n    result.push(overflowInline);\r\n    return {\r\n        inlines: result,\r\n        overflow: true,\r\n    };\r\n}\r\nfunction _inlineRect(grid, ctx, inline, drawRect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    let inlines = buildInlines(icons, inline);\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let inlineDrawRect = drawRect;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n        inlineDrawRect = new Rect_1.Rect(drawRect.left, drawRect.top, width, drawRect.height);\r\n    }\r\n    if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, width)) {\r\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n        inlines = truncInlines;\r\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n    }\r\n    drawInlines(ctx, inlines, inlineDrawRect, offset, 0, 0, col, row, grid);\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let sumWidth = 0;\r\n        inlines.forEach((inline) => {\r\n            sumWidth += inline.width({ ctx });\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < sumWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += sumWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\n// eslint-disable-next-line complexity\r\nfunction _multiInlineRect(grid, ctx, multiInlines, drawRect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    if (lineClamp === \"auto\") {\r\n        const rectHeight = drawRect.height - offset * 2 - 2; /*offset added by Inline#draw*/\r\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\r\n    }\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n    }\r\n    let buildedMultiInlines;\r\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\r\n        buildedMultiInlines = [];\r\n        const procLineClamp = lineClamp > 0\r\n            ? (inlines, hasNext) => {\r\n                if (buildedMultiInlines.length + 1 >= Number(lineClamp)) {\r\n                    if (inlines.length === 0 && hasNext) {\r\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    else {\r\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                        buildedMultiInlines.push(hasNext && !overflow\r\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\r\n                            : truncInlines);\r\n                        if (overflow || hasNext) {\r\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n            : () => true;\r\n        const procLine = autoWrapText\r\n            ? (inlines, hasNext) => {\r\n                if (!procLineClamp(inlines, hasNext)) {\r\n                    return false;\r\n                }\r\n                while (inlines.length) {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\r\n                    buildedMultiInlines.push(beforeInlines);\r\n                    inlines = afterInlines;\r\n                }\r\n                return true;\r\n            }\r\n            : isAllowOverflow(textOverflow)\r\n                ? (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                    buildedMultiInlines.push(truncInlines);\r\n                    if (overflow) {\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    return true;\r\n                }\r\n                : (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    buildedMultiInlines.push(inlines);\r\n                    return true;\r\n                };\r\n        grid.setCellOverflowText(col, row, false);\r\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\r\n            const inline = multiInlines[lineRow];\r\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\r\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\r\n    }\r\n    let paddingTop = 0;\r\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\r\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop += pad;\r\n        paddingBottom -= pad;\r\n    }\r\n    else if (ctx.textBaseline === \"bottom\" ||\r\n        ctx.textBaseline === \"alphabetic\" ||\r\n        ctx.textBaseline === \"ideographic\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop -= pad;\r\n        paddingBottom += pad;\r\n    }\r\n    buildedMultiInlines.forEach((buildedInline) => {\r\n        drawInlines(ctx, buildedInline, drawRect, offset, paddingTop, paddingBottom, col, row, grid);\r\n        paddingTop += lineHeight;\r\n        paddingBottom -= lineHeight;\r\n    });\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let maxWidth = 0;\r\n        buildedMultiInlines.forEach((buildedInline) => {\r\n            let sumWidth = 0;\r\n            buildedInline.forEach((inline) => {\r\n                sumWidth += inline.width({ ctx });\r\n            });\r\n            maxWidth = Math.max(maxWidth, sumWidth);\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < maxWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += maxWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\r\n    const startColorRGB = (0, color_1.colorToRGB)(startColor);\r\n    const endColorRGB = (0, color_1.colorToRGB)(endColor);\r\n    const getRGB = (colorName) => {\r\n        const start = startColorRGB[colorName];\r\n        const end = endColorRGB[colorName];\r\n        if (elapsedTime >= 1) {\r\n            return end;\r\n        }\r\n        if (elapsedTime <= 0) {\r\n            return start;\r\n        }\r\n        const diff = start - end;\r\n        return Math.ceil(start - diff * elapsedTime);\r\n    };\r\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\r\n}\r\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    borderColor = helper.getColor(borderColor, col, row, ctx);\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        uncheckBgColor = check\r\n            ? uncheckBgColor\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n        checkBgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : checkBgColor;\r\n    }\r\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\r\n        uncheckBgColor,\r\n        checkBgColor,\r\n        borderColor,\r\n    });\r\n}\r\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    checkColor = helper.getColor(checkColor, col, row, ctx);\r\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\r\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\r\n    let bgColor = check ? checkBgColor : uncheckBgColor;\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        borderColor = check\r\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\r\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\r\n        bgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n    }\r\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\r\n        checkColor,\r\n        borderColor,\r\n        bgColor,\r\n    });\r\n}\r\nclass ThemeResolver {\r\n    constructor(grid) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this._grid = grid;\r\n    }\r\n    getThemeColor(...name) {\r\n        return getThemeColor(this._grid, ...name);\r\n    }\r\n    get font() {\r\n        return getThemeColor(this._grid, \"font\");\r\n    }\r\n    get underlayBackgroundColor() {\r\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\r\n    }\r\n    // color\r\n    get color() {\r\n        return getThemeColor(this._grid, \"color\");\r\n    }\r\n    get frozenRowsColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsColor\");\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        return getThemeColor(this._grid, \"defaultBgColor\");\r\n    }\r\n    get frozenRowsBgColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\r\n    }\r\n    get selectionBgColor() {\r\n        return getThemeColor(this._grid, \"selectionBgColor\");\r\n    }\r\n    get highlightBgColor() {\r\n        return getThemeColor(this._grid, \"highlightBgColor\");\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        return getThemeColor(this._grid, \"borderColor\");\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\r\n    }\r\n    get highlightBorderColor() {\r\n        return getThemeColor(this._grid, \"highlightBorderColor\");\r\n    }\r\n    get checkbox() {\r\n        const grid = this._grid;\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop) {\r\n            return getThemeColor(grid, \"checkbox\", prop);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const grid = this._grid;\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\");\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\");\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop) {\r\n            return getThemeColor(grid, \"radioButton\", prop);\r\n        }\r\n    }\r\n    get button() {\r\n        const grid = this._grid;\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\");\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\");\r\n                },\r\n            }));\r\n        function getButtonProp(prop) {\r\n            return getThemeColor(grid, \"button\", prop);\r\n        }\r\n    }\r\n    get header() {\r\n        const grid = this._grid;\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const grid = this._grid;\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getThemeColor(grid, \"messages\", prop);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const grid = this._grid;\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop) {\r\n            return getThemeColor(grid, \"indicators\", prop);\r\n        }\r\n    }\r\n}\r\nfunction strokeRect(ctx, color, left, top, width, height) {\r\n    if (!Array.isArray(color)) {\r\n        if (color) {\r\n            ctx.strokeStyle = color;\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        const borderColors = toBoxArray(color);\r\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\r\n    }\r\n}\r\nclass GridCanvasHelper {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._theme = new ThemeResolver(grid);\r\n    }\r\n    createCalculator(context, font) {\r\n        return {\r\n            calcWidth(width) {\r\n                return calc.toPx(width, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.width;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).width;\r\n                    },\r\n                });\r\n            },\r\n            calcHeight(height) {\r\n                return calc.toPx(height, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.height;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).height;\r\n                    },\r\n                });\r\n            },\r\n        };\r\n    }\r\n    getColor(color, col, row, ctx) {\r\n        return getColor(color, col, row, this._grid, ctx);\r\n    }\r\n    toBoxArray(obj) {\r\n        return toBoxArray(obj);\r\n    }\r\n    toBoxPixelArray(value, context, font) {\r\n        if (typeof value === \"string\" || Array.isArray(value)) {\r\n            const calculator = this.createCalculator(context, font);\r\n            const box = toBoxArray(value);\r\n            return [\r\n                calculator.calcHeight(box[0]),\r\n                calculator.calcWidth(box[1]),\r\n                calculator.calcHeight(box[2]),\r\n                calculator.calcWidth(box[3]),\r\n            ];\r\n        }\r\n        return toBoxArray(value);\r\n    }\r\n    get theme() {\r\n        return this._theme;\r\n    }\r\n    drawWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n            //clip\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    drawBorderWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const rect = context.getRect();\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            //clip\r\n            ctx.beginPath();\r\n            let clipLeft = drawRect.left;\r\n            let clipWidth = drawRect.width;\r\n            if (drawRect.left === rect.left) {\r\n                clipLeft += -1;\r\n                clipWidth += 1;\r\n            }\r\n            let clipTop = drawRect.top;\r\n            let clipHeight = drawRect.height;\r\n            if (drawRect.top === rect.top) {\r\n                clipTop += -1;\r\n                clipHeight += 1;\r\n            }\r\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    text(text, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, trailingIcon, appendRightPx, } = {}) {\r\n        let rect = context.getRect();\r\n        rect.width += appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0;\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width + (appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0), height);\r\n            }\r\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    multilineText(multilines, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, trailingIcon, } = {}) {\r\n        let rect = context.getRect();\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width, height);\r\n            }\r\n            const calculator = this.createCalculator(context, font);\r\n            lineHeight = calculator.calcHeight(lineHeight);\r\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\r\n            ctx.textAlign = textAlign;\r\n            ctx.textBaseline = textBaseline;\r\n            ctx.font = font || ctx.font;\r\n            ctx.fillText(text, x, y);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        });\r\n    }\r\n    fillCellWithState(context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillCell(context, option);\r\n    }\r\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillRectWithState(rect, context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillRect(rect, context, option);\r\n    }\r\n    getFillColorState(context, option = {}) {\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        if (!(0, utils_1.cellEquals)(sel.select, context) && (0, utils_1.cellInRange)(sel.range, col, row)) {\r\n            return this.theme.selectionBgColor;\r\n        }\r\n        if (option.fillColor) {\r\n            return option.fillColor;\r\n        }\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            return this.theme.highlightBgColor;\r\n        }\r\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            return this.theme.frozenRowsBgColor;\r\n        }\r\n        return this.theme.defaultBgColor;\r\n    }\r\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawBorderWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\r\n            if (lineWidth === 1) {\r\n                ctx.lineWidth = 1;\r\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\r\n            }\r\n            else if (lineWidth === 2) {\r\n                ctx.lineWidth = 2;\r\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\r\n            }\r\n            else {\r\n                ctx.lineWidth = lineWidth;\r\n                const startOffset = lineWidth / 2 - 1;\r\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\r\n            }\r\n        });\r\n    }\r\n    // Unused in main\r\n    borderWithState(context, option = {}) {\r\n        const rect = context.getRect();\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        //\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            option.borderColor = this.theme.highlightBorderColor;\r\n            option.lineWidth = 2;\r\n            this.border(context, option);\r\n        }\r\n        else {\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n                option.borderColor = this.theme.frozenRowsBorderColor;\r\n            }\r\n            option.lineWidth = 1;\r\n            this.border(context, option);\r\n            //\r\n            const sel = this._grid.selection.select;\r\n            if (sel.col + 1 === col && sel.row === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n            else if (sel.col === col && sel.row + 1 === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n        }\r\n    }\r\n    buildCheckBoxInline(check, context, option = {}) {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const self = this;\r\n        const ctx = context.getContext();\r\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw,\r\n            width: boxWidth + 3,\r\n            height: boxWidth + 1,\r\n            color: undefined,\r\n        });\r\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\r\n                offset: offset + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                padding: {\r\n                    left: offsetLeft + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                    right: offsetRight,\r\n                    top: offsetTop,\r\n                    bottom: offsetBottom,\r\n                },\r\n            });\r\n        }\r\n    }\r\n    checkbox(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, uncheckBgColor, checkBgColor, borderColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                borderColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    radioButton(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                checkColor,\r\n                uncheckBorderColor,\r\n                checkBorderColor,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = TEXT_OFFSET, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            const { col, row } = context;\r\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\r\n            const left = rect.left + paddingNums[3];\r\n            const top = rect.top + paddingNums[0];\r\n            const width = rect.width - paddingNums[1] - paddingNums[3];\r\n            const height = rect.height - paddingNums[0] - paddingNums[2];\r\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\r\n            canvashelper.drawButton(ctx, left, top, width, height, {\r\n                bgColor,\r\n                radius: rect.height / 8,\r\n                // offset,\r\n                shadow,\r\n            });\r\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n    testFontLoad(font, value, context) {\r\n        return testFontLoad(font, value, context, this._grid);\r\n    }\r\n}\r\nexports.GridCanvasHelper = GridCanvasHelper;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ListGrid = void 0;\r\nconst icons = __importStar(require(\"./internal/icons\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst data_1 = require(\"./data\");\r\nconst layout_map_1 = require(\"./list-grid/layout-map\");\r\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst style_1 = require(\"./columns/style\");\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nconst style_2 = require(\"./header/style\");\r\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"./internal/symbolManager\");\r\nconst paste_utils_1 = require(\"./internal/paste-utils\");\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n//private methods\r\n/** @private */\r\nfunction _getCellRange(grid, col, row) {\r\n    return grid[_].layoutMap.getCellRange(col, row);\r\n}\r\n/** @private */\r\nfunction _updateRect(grid, col, row, context) {\r\n    context.setRectFilter((rect) => {\r\n        let { left, right, top, bottom } = rect;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\r\n        for (let c = col - 1; c >= startCol; c--) {\r\n            left -= grid.getColWidth(c);\r\n        }\r\n        for (let c = col + 1; c <= endCol; c++) {\r\n            right += grid.getColWidth(c);\r\n        }\r\n        for (let r = row - 1; r >= startRow; r--) {\r\n            top -= grid.getRowHeight(r);\r\n        }\r\n        for (let r = row + 1; r <= endRow; r++) {\r\n            bottom += grid.getRowHeight(r);\r\n        }\r\n        return Rect_1.Rect.bounds(left, top, right, bottom);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getCellValue(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\r\n        return typeof caption === \"function\" ? caption() : caption;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        return _getField(grid, field, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _setCellValue(grid, col, row, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        // nop\r\n        return false;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.setField(index, field, value);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getCellMessage(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const { message } = grid[_].layoutMap.getBody(col, row);\r\n        if (!message) {\r\n            return null;\r\n        }\r\n        if (!Array.isArray(message)) {\r\n            return _getField(grid, message, row);\r\n        }\r\n        const promises = [];\r\n        for (let index = 0; index < message.length; index++) {\r\n            const msg = _getField(grid, message[index], row);\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promises.push(msg);\r\n            }\r\n            else if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                return msg;\r\n            }\r\n        }\r\n        if (!promises.length) {\r\n            return null;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            promises.forEach((p) => {\r\n                p.then((msg) => {\r\n                    if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                        resolve(msg);\r\n                    }\r\n                }, reject);\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction _getCellIcon0(grid, icon, row) {\r\n    if (Array.isArray(icon)) {\r\n        return icon.map((i) => _getCellIcon0(grid, i, row));\r\n    }\r\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\r\n        return _getField(grid, icon, row);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const retIcon = {};\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const iconOpt = icon;\r\n    icons.iconPropKeys.forEach((k) => {\r\n        if (iconOpt[k]) {\r\n            const f = _getField(grid, iconOpt[k], row);\r\n            if (f != null) {\r\n                retIcon[k] = f;\r\n            }\r\n            else {\r\n                if (!_hasField(grid, iconOpt[k], row)) {\r\n                    retIcon[k] = iconOpt[k];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return retIcon;\r\n}\r\n/** @private */\r\nfunction _getCellIcon(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { headerIcon } = grid[_].layoutMap.getHeader(col, row);\r\n        if (headerIcon == null) {\r\n            return null;\r\n        }\r\n        return headerIcon;\r\n    }\r\n    else {\r\n        const { icon } = grid[_].layoutMap.getBody(col, row);\r\n        if (icon == null) {\r\n            return null;\r\n        }\r\n        return _getCellIcon0(grid, icon, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getField(grid, field, row) {\r\n    if (field == null) {\r\n        return null;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.getField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _hasField(grid, field, row) {\r\n    if (field == null) {\r\n        return false;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return false;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.hasField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\r\n    const helper = grid[_].gridCanvasHelper;\r\n    const drawCellBg = ({ bgColor, } = {}) => {\r\n        const fillOpt = {\r\n            fillColor: bgColor,\r\n        };\r\n        //cell\r\n        helper.fillCellWithState(context, fillOpt);\r\n    };\r\n    const drawCellBorder = () => {\r\n        if (context.col === grid.frozenColCount - 1) {\r\n            //\r\n            const rect = context.getRect();\r\n            helper.drawWithClip(context, (ctx) => {\r\n                const borderColor = context.row >= grid.frozenRowCount\r\n                    ? helper.theme.borderColor\r\n                    : helper.theme.frozenRowsBorderColor;\r\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.right - 2.5, rect.top);\r\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        _borderWithState(grid, helper, context);\r\n    };\r\n    const drawCellBase = ({ bgColor, } = {}) => {\r\n        drawCellBg({ bgColor });\r\n        drawCellBorder();\r\n    };\r\n    const info = {\r\n        getRecord: () => grid.getRowRecord(row),\r\n        getIcon: () => _getCellIcon(grid, col, row),\r\n        getMessage: () => _getCellMessage(grid, col, row),\r\n        messageHandler: grid[_].messageHandler,\r\n        style,\r\n        drawCellBase,\r\n        drawCellBg,\r\n        drawCellBorder,\r\n    };\r\n    return draw(cellValue, info, context, grid);\r\n}\r\n/** @private */\r\nfunction _borderWithState(grid, helper, context) {\r\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\r\n    const { col, row } = context;\r\n    const sel = grid.selection.select;\r\n    const { layoutMap } = grid[_];\r\n    const rect = context.getRect();\r\n    const option = {};\r\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\r\n    const selId = layoutMap.getCellId(sel.col, sel.row);\r\n    function isSelectCell(col, row) {\r\n        if (col === sel.col && row === sel.row) {\r\n            return true;\r\n        }\r\n        return (selId != null &&\r\n            layoutMap.getCellId(col, row) === selId &&\r\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\r\n    }\r\n    //\r\n    if (isSelectCell(col, row) &&\r\n        ((typeof helper.theme.highlightBorderColor == \"string\" &&\r\n            helper.theme.highlightBorderColor) ||\r\n            (typeof helper.theme.highlightBorderColor == \"function\" &&\r\n                helper.theme.highlightBorderColor(row, col)))) {\r\n        option.borderColor = helper.theme.highlightBorderColor;\r\n        option.lineWidth = 2;\r\n        helper.border(context, option);\r\n    }\r\n    else {\r\n        option.lineWidth = 1;\r\n        // header color\r\n        const isFrozenCell = grid.isFrozenCell(col, row);\r\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n            option.borderColor = helper.theme.frozenRowsBorderColor;\r\n        }\r\n        let flagBorder = false;\r\n        if ((_b = layoutMap.getBody(col, row)) === null || _b === void 0 ? void 0 : _b.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_c = layoutMap.getBody(col, row)) === null || _c === void 0 ? void 0 : _c.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_e = (_d = layoutMap.getBody(col, row).style) === null || _d === void 0 ? void 0 : _d.borderColor) !== null && _e !== void 0 ? _e : \"\";\r\n            }\r\n            if (typeof ((_f = layoutMap.getBody(col, row)) === null || _f === void 0 ? void 0 : _f.style) == \"function\" &&\r\n                ((_g = grid[_].records) === null || _g === void 0 ? void 0 : _g.length)) {\r\n                borderColorCell = (_h = layoutMap.getBody(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _h === void 0 ? void 0 : _h.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if ((_j = layoutMap.getHeader(col, row)) === null || _j === void 0 ? void 0 : _j.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_k = layoutMap.getHeader(col, row)) === null || _k === void 0 ? void 0 : _k.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_m = (_l = layoutMap.getHeader(col, row).style) === null || _l === void 0 ? void 0 : _l.borderColor) !== null && _m !== void 0 ? _m : \"\";\r\n            }\r\n            if (typeof ((_o = layoutMap.getHeader(col, row)) === null || _o === void 0 ? void 0 : _o.style) == \"function\" &&\r\n                ((_p = grid[_].records) === null || _p === void 0 ? void 0 : _p.length)) {\r\n                borderColorCell = (_q = layoutMap.getHeader(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _q === void 0 ? void 0 : _q.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if (!flagBorder) {\r\n            helper.border(context, option);\r\n        }\r\n        //\r\n        if (col > 0 && isSelectCell(col - 1, row)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        else if (row > 0 && isSelectCell(col, row - 1)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[0]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshHeader(grid) {\r\n    var _b;\r\n    const protectedSpace = grid[_];\r\n    if (protectedSpace.headerEvents) {\r\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\r\n    }\r\n    const headerEvents = (grid[_].headerEvents = []);\r\n    headerEvents.forEach((id) => grid.unlisten(id));\r\n    let layoutMap;\r\n    if (protectedSpace.layout &&\r\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\r\n    }\r\n    else {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_b = protectedSpace.header) !== null && _b !== void 0 ? _b : []);\r\n    }\r\n    layoutMap.headerObjects.forEach((cell) => {\r\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\r\n        headerEvents.push(...ids);\r\n        if (cell.style) {\r\n            if (cell.style instanceof style_2.BaseStyle) {\r\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n        if (cell.action) {\r\n            const ids = cell.action.bindGridEvent(grid, cell.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n    });\r\n    layoutMap.columnObjects.forEach((col) => {\r\n        if (col.action) {\r\n            const ids = col.action.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.columnType) {\r\n            const ids = col.columnType.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.style) {\r\n            if (col.style instanceof style_1.BaseStyle) {\r\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n    });\r\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\r\n        const column = layoutMap.columnWidths[col];\r\n        const { width, minWidth, maxWidth } = column;\r\n        if (width && (typeof width === \"string\" || width > 0)) {\r\n            grid.setColWidth(col, width);\r\n        }\r\n        else {\r\n            grid.setColWidth(col, null);\r\n        }\r\n        if (minWidth && (typeof minWidth === \"string\" || minWidth > 0)) {\r\n            grid.setMinColWidth(col, minWidth);\r\n        }\r\n        else {\r\n            grid.setMinColWidth(col, null);\r\n        }\r\n        if (maxWidth && (typeof maxWidth === \"string\" || maxWidth > 0)) {\r\n            grid.setMaxColWidth(col, maxWidth);\r\n        }\r\n        else {\r\n            grid.setMaxColWidth(col, null);\r\n        }\r\n    }\r\n    const { headerRowHeight } = grid[_];\r\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\r\n        const height = Array.isArray(headerRowHeight)\r\n            ? headerRowHeight[row]\r\n            : headerRowHeight;\r\n        if (height && height > 0) {\r\n            grid.setRowHeight(row, height);\r\n        }\r\n        else {\r\n            grid.setRowHeight(row, null);\r\n        }\r\n    }\r\n    grid.colCount = layoutMap.colCount;\r\n    _refreshRowCount(grid);\r\n    if (grid.frozenRowCount == 0) {\r\n        grid.frozenRowCount = layoutMap.headerRowCount;\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshRowCount(grid) {\r\n    const { layoutMap } = grid[_];\r\n    grid.rowCount =\r\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\r\n            layoutMap.headerRowCount;\r\n}\r\n/** @private */\r\nfunction _tryWithUpdateDataSource(grid, fn) {\r\n    const { dataSourceEventIds } = grid[_];\r\n    if (dataSourceEventIds) {\r\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\r\n    }\r\n    fn(grid);\r\n    grid[_].dataSourceEventIds = [\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\r\n            _refreshRowCount(grid);\r\n            grid.invalidate();\r\n        }),\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            grid.invalidate();\r\n        }),\r\n    ];\r\n}\r\n/** @private */\r\nfunction _setRecords(grid, records = []) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        grid[_].records = records;\r\n        const newDataSource = (grid[_].dataSource =\r\n            data_1.CachedDataSource.ofArray(records));\r\n        grid.addDisposable(newDataSource);\r\n    });\r\n}\r\n/** @private */\r\nfunction _setDataSource(grid, dataSource) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        if (dataSource) {\r\n            if (dataSource instanceof data_1.DataSource) {\r\n                grid[_].dataSource = dataSource;\r\n            }\r\n            else {\r\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\r\n                grid.addDisposable(newDataSource);\r\n            }\r\n        }\r\n        else {\r\n            grid[_].dataSource = data_1.DataSource.EMPTY;\r\n        }\r\n        grid[_].records = null;\r\n    });\r\n}\r\n/** @private */\r\nfunction _getRecordIndexByRow(grid, row) {\r\n    const { layoutMap } = grid[_];\r\n    return layoutMap.getRecordIndexByRow(row);\r\n}\r\n/** @private */\r\nfunction _onRangePaste(text, test = () => true) {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const values = (0, paste_utils_1.parsePasteRangeBoxValues)(text, {\r\n        trimOnPaste: this.trimOnPaste,\r\n    });\r\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\r\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let rejectedDetail = [];\r\n    const addRejectedDetail = (cell, record, define, pasteValue) => {\r\n        rejectedDetail.push({\r\n            col: cell.col,\r\n            row: cell.row,\r\n            record,\r\n            define,\r\n            pasteValue,\r\n        });\r\n    };\r\n    let timeout = null;\r\n    const processRejected = () => {\r\n        if (timeout)\r\n            clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            if (rejectedDetail.length > 0) {\r\n                this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.REJECTED_PASTE_VALUES, {\r\n                    detail: rejectedDetail,\r\n                });\r\n                rejectedDetail = [];\r\n            }\r\n        }, 100);\r\n    };\r\n    let reject = addRejectedDetail;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    let valuesRow = 0;\r\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\r\n        let valuesCol = 0;\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const { action, id, define } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\r\n                (0, utils_1.then)(this.getRowRecord(row), (record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (oldValue) => {\r\n                        if (test({\r\n                            grid: this,\r\n                            record: record,\r\n                            col,\r\n                            row,\r\n                            value: cellValue,\r\n                            oldValue,\r\n                        })) {\r\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue, {\r\n                                reject() {\r\n                                    reject({ col, row }, record, define, cellValue);\r\n                                },\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            valuesCol++;\r\n            if (valuesCol >= values.colCount) {\r\n                valuesCol = 0;\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n        valuesRow++;\r\n        if (valuesRow >= values.rowCount) {\r\n            valuesRow = 0;\r\n        }\r\n    }\r\n    const newEnd = {\r\n        col: start.col + pasteColCount - 1,\r\n        row: start.row + pasteRowCount - 1,\r\n    };\r\n    this.selection.range = {\r\n        start,\r\n        end: newEnd,\r\n    };\r\n    this.invalidateCellRange(this.selection.range);\r\n    processRejected();\r\n    reject = (cell, record, define, pasteValue) => {\r\n        addRejectedDetail(cell, record, define, pasteValue);\r\n        processRejected();\r\n    };\r\n}\r\n/** @private */\r\nfunction _onRangeDelete() {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\r\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                (0, utils_1.then)(this.getRowRecord(row), (_record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (_oldValue) => {\r\n                        action.onDeleteCellRangeBox(this, { col, row });\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n    }\r\n    this.invalidateCellRange(selectionRange);\r\n}\r\n/**\r\n * ListGrid\r\n * @classdesc cheetahGrid.ListGrid\r\n * @memberof cheetahGrid\r\n */\r\nclass ListGrid extends DrawGrid_1.DrawGrid {\r\n    static get EVENT_TYPE() {\r\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\r\n    }\r\n    /**\r\n     * constructor\r\n     *\r\n     * @constructor\r\n     * @param options Constructor options\r\n     */\r\n    constructor(options = {}) {\r\n        var _b, _c;\r\n        super((0, utils_1.omit)(options, [\"colCount\", \"rowCount\"]));\r\n        this[_a] = this[_];\r\n        this.disabled = false;\r\n        this.readOnly = false;\r\n        const protectedSpace = this[_];\r\n        protectedSpace.header = options.header || [];\r\n        protectedSpace.layout = options.layout || [];\r\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\r\n        protectedSpace.frozenRowCount = (_b = options.frozenRowCount) !== null && _b !== void 0 ? _b : 0;\r\n        if (options.dataSource) {\r\n            _setDataSource(this, options.dataSource);\r\n        }\r\n        else {\r\n            _setRecords(this, options.records);\r\n        }\r\n        protectedSpace.allowRangePaste = (_c = options.allowRangePaste) !== null && _c !== void 0 ? _c : false;\r\n        _refreshHeader(this);\r\n        protectedSpace.sortState = {\r\n            col: -1,\r\n            row: -1,\r\n            order: undefined,\r\n        };\r\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\r\n        protectedSpace.theme = themes.of(options.theme);\r\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\r\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\r\n        this.invalidate();\r\n        protectedSpace.handler.on(window, \"resize\", () => {\r\n            this.updateSize();\r\n            this.updateScroll();\r\n            this.invalidate();\r\n        });\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        const protectedSpace = this[_];\r\n        protectedSpace.messageHandler.dispose();\r\n        protectedSpace.tooltipHandler.dispose();\r\n        super.dispose();\r\n    }\r\n    /**\r\n     * Gets the define of the header.\r\n     */\r\n    get header() {\r\n        return this[_].header;\r\n    }\r\n    /**\r\n     * Sets the define of the header with the given data.\r\n     * <pre>\r\n     * column options\r\n     * -----\r\n     * caption: header caption\r\n     * field: field name\r\n     * width: column width\r\n     * minWidth: column min width\r\n     * maxWidth: column max width\r\n     * icon: icon definition\r\n     * message: message key name\r\n     * columnType: column type\r\n     * action: column action\r\n     * style: column style\r\n     * headerType: header type\r\n     * headerStyle: header style\r\n     * headerAction: header action\r\n     * headerField: header field name\r\n     * headerIcon: header icon definition\r\n     * sort: define sort setting\r\n     * -----\r\n     *\r\n     * multiline header\r\n     * -----\r\n     * caption: header caption\r\n     * columns: columns define\r\n     * -----\r\n     * </pre>\r\n     */\r\n    set header(header) {\r\n        this[_].header = header;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Gets the define of the layout.\r\n     */\r\n    get layout() {\r\n        return this[_].layout;\r\n    }\r\n    /**\r\n     * Sets the define of the layout with the given data.\r\n     */\r\n    set layout(layout) {\r\n        this[_].layout = layout;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Get the row count per record\r\n     */\r\n    get recordRowCount() {\r\n        return this[_].layoutMap.bodyRowCount;\r\n    }\r\n    /**\r\n     * Get the records.\r\n     */\r\n    get records() {\r\n        return this[_].records || null;\r\n    }\r\n    /**\r\n     * Set the records from given\r\n     */\r\n    set records(records) {\r\n        if (records == null) {\r\n            return;\r\n        }\r\n        _setRecords(this, records);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the data source.\r\n     */\r\n    get dataSource() {\r\n        return this[_].dataSource;\r\n    }\r\n    /**\r\n     * Set the data source from given\r\n     */\r\n    set dataSource(dataSource) {\r\n        _setDataSource(this, dataSource);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the theme.\r\n     */\r\n    get theme() {\r\n        return this[_].theme;\r\n    }\r\n    /**\r\n     * Set the theme from given\r\n     */\r\n    set theme(theme) {\r\n        this[_].theme = themes.of(theme);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * If set to true to allow pasting of ranges.\r\n     */\r\n    get allowRangePaste() {\r\n        return this[_].allowRangePaste;\r\n    }\r\n    set allowRangePaste(allowRangePaste) {\r\n        this[_].allowRangePaste = allowRangePaste;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     * @override\r\n     */\r\n    get font() {\r\n        return super.font || this[_].gridCanvasHelper.theme.font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     * @override\r\n     */\r\n    set font(font) {\r\n        super.font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     * @override\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return (super.underlayBackgroundColor ||\r\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     * @override\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        super.underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Get the sort state.\r\n     */\r\n    get sortState() {\r\n        return this[_].sortState;\r\n    }\r\n    /**\r\n     * Sets the sort state.\r\n     * If `null` to set, the sort state is initialized.\r\n     */\r\n    set sortState(sortState) {\r\n        const oldState = this.sortState;\r\n        let oldField;\r\n        if (oldState.col >= 0 && oldState.row >= 0) {\r\n            oldField = this.getHeaderField(oldState.col, oldState.row);\r\n        }\r\n        const newState = (this[_].sortState =\r\n            sortState != null\r\n                ? sortState\r\n                : {\r\n                    col: -1,\r\n                    row: -1,\r\n                    order: undefined,\r\n                });\r\n        let newField;\r\n        if (newState.col >= 0 && newState.row >= 0) {\r\n            newField = this.getHeaderField(newState.col, newState.row);\r\n        }\r\n        // bind header value\r\n        if (oldField != null && oldField !== newField) {\r\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\r\n        }\r\n        if (newField != null) {\r\n            this.setHeaderValue(newState.col, newState.row, newState.order);\r\n        }\r\n    }\r\n    /**\r\n     * Get the header values.\r\n     */\r\n    get headerValues() {\r\n        return this[_].headerValues || (this[_].headerValues = new Map());\r\n    }\r\n    /**\r\n     * Sets the header values.\r\n     */\r\n    set headerValues(headerValues) {\r\n        this[_].headerValues = headerValues || new Map();\r\n    }\r\n    /**\r\n     * Get the field of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The field object.\r\n     */\r\n    getField(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\r\n    }\r\n    /**\r\n     * Get the column define of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The column define object.\r\n     */\r\n    getColumnDefine(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\r\n    }\r\n    getColumnType(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).columnType;\r\n    }\r\n    getColumnAction(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).action;\r\n    }\r\n    /**\r\n     * Get the header field of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The field object.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderField(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.field;\r\n    }\r\n    /**\r\n     * Get the header define of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The header define object.\r\n     */\r\n    getHeaderDefine(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.define;\r\n    }\r\n    /**\r\n     * Get the record of the given row index.\r\n     * @param  {number} row The row index.\r\n     * @return {object} The record.\r\n     */\r\n    getRowRecord(row) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return undefined;\r\n        }\r\n        else {\r\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\r\n        }\r\n    }\r\n    /**\r\n     * Get the record index of the given row index.\r\n     * @param  {number} row The row index.\r\n     */\r\n    getRecordIndexByRow(row) {\r\n        return _getRecordIndexByRow(this, row);\r\n    }\r\n    /**\r\n     * Gets the row index starting at the given record index.\r\n     * @param  {number} index The record index.\r\n     */\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @return {number} The column index.\r\n     * @deprecated use `getCellRangeByField` instead\r\n     */\r\n    getColumnIndexByField(field) {\r\n        var _b;\r\n        const range = this.getCellRangeByField(field, 0);\r\n        return (_b = range === null || range === void 0 ? void 0 : range.start.col) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {number} The column index.\r\n     */\r\n    getCellRangeByField(field, index) {\r\n        const { layoutMap } = this[_];\r\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\r\n        if (colObj) {\r\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\r\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\r\n            return {\r\n                start: {\r\n                    col: layoutRange.start.col,\r\n                    row: startRow + layoutRange.start.row,\r\n                },\r\n                end: {\r\n                    col: layoutRange.end.col,\r\n                    row: startRow + layoutRange.end.row,\r\n                },\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    focusGridCell(field, index) {\r\n        var _b;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\r\n        const newFocus = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        if (newFocus == null) {\r\n            return;\r\n        }\r\n        this.focusCell(newFocus.col, newFocus.row);\r\n        this.selection.select = newFocus;\r\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n        this.invalidateCell(newFocus.col, newFocus.row);\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    makeVisibleGridCell(field, index) {\r\n        var _b, _c, _d;\r\n        const cell = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        this.makeVisibleCell((_c = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _c !== void 0 ? _c : 0, (_d = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _d !== void 0 ? _d : this[_].layoutMap.headerRowCount);\r\n    }\r\n    getGridCanvasHelper() {\r\n        return this[_].gridCanvasHelper;\r\n    }\r\n    /**\r\n     * Get cell range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     */\r\n    getCellRange(col, row) {\r\n        return _getCellRange(this, col, row);\r\n    }\r\n    /**\r\n     * Get header range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     * @deprecated use `getCellRange` instead\r\n     */\r\n    getHeaderCellRange(col, row) {\r\n        return this.getCellRange(col, row);\r\n    }\r\n    getCopyCellValue(col, row, range) {\r\n        const cellRange = _getCellRange(this, col, row);\r\n        const startCol = range\r\n            ? Math.max(range.start.col, cellRange.start.col)\r\n            : cellRange.start.col;\r\n        const startRow = range\r\n            ? Math.max(range.start.row, cellRange.start.row)\r\n            : cellRange.start.row;\r\n        if (startCol !== col || startRow !== row) {\r\n            return \"\";\r\n        }\r\n        const value = _getCellValue(this, col, row);\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            const headerData = this[_].layoutMap.getHeader(col, row);\r\n            return headerData.headerType.getCopyCellValue(value, this, { col, row });\r\n        }\r\n        const columnData = this[_].layoutMap.getBody(col, row);\r\n        return columnData.columnType.getCopyCellValue(value, this, { col, row });\r\n    }\r\n    onDrawCell(col, row, context) {\r\n        const { layoutMap } = this[_];\r\n        let draw;\r\n        let style;\r\n        if (row < layoutMap.headerRowCount) {\r\n            const hd = layoutMap.getHeader(col, row);\r\n            draw = hd.headerType.onDrawCell;\r\n            ({ style } = hd);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        else {\r\n            const column = layoutMap.getBody(col, row);\r\n            draw = column.columnType.onDrawCell;\r\n            ({ style } = column);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        const cellValue = _getCellValue(this, col, row);\r\n        if (this.rowCount <= row) {\r\n            // Depending on the FilterDataSource, the rowCount may be reduced.\r\n            return undefined;\r\n        }\r\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\r\n    }\r\n    doGetCellValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    valueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const value = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(value)) {\r\n                //\r\n                return false;\r\n            }\r\n            valueCallback(value);\r\n        }\r\n        return true;\r\n    }\r\n    doChangeValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    changeValueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const record = this.getRowRecord(row);\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                //\r\n                return false;\r\n            }\r\n            const before = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(before)) {\r\n                //\r\n                return false;\r\n            }\r\n            const after = changeValueCallback(before);\r\n            if (after === undefined) {\r\n                return false;\r\n            }\r\n            const { field } = this[_].layoutMap.getBody(col, row);\r\n            this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BEFORE_CHANGE_VALUE, {\r\n                col,\r\n                row,\r\n                record: record,\r\n                field: field,\r\n                value: after,\r\n                oldValue: before,\r\n            });\r\n            return (0, utils_1.then)(_setCellValue(this, col, row, after), (ret) => {\r\n                if (ret) {\r\n                    const { field } = this[_].layoutMap.getBody(col, row);\r\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\r\n                        col,\r\n                        row,\r\n                        record: record,\r\n                        field: field,\r\n                        value: after,\r\n                        oldValue: before,\r\n                    });\r\n                }\r\n                return ret;\r\n            });\r\n        }\r\n    }\r\n    doSetPasteValue(text, test) {\r\n        _onRangePaste.call(this, text, test);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderValue(col, row) {\r\n        const field = this.getHeaderField(col, row);\r\n        return this.headerValues.get(field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setHeaderValue(col, row, newValue) {\r\n        const field = this.getHeaderField(col, row);\r\n        const oldValue = this.headerValues.get(field);\r\n        this.headerValues.set(field, newValue);\r\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\r\n            col,\r\n            row,\r\n            field,\r\n            value: newValue,\r\n            oldValue,\r\n        });\r\n    }\r\n    getLayoutCellId(col, row) {\r\n        return this[_].layoutMap.getCellId(col, row);\r\n    }\r\n    bindEventsInternal() {\r\n        const grid = this;\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            const range = _getCellRange(this, e.col, e.row);\r\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\r\n            if (startCol !== endCol || startRow !== endRow) {\r\n                this.invalidateCellRange(range);\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n            if (!this[_].allowRangePaste) {\r\n                return;\r\n            }\r\n            const { start, end } = this.selection.range;\r\n            if (!e.multi && (0, utils_1.cellEquals)(start, end)) {\r\n                return;\r\n            }\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangePaste.call(this, e.normalizeValue);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\r\n            const { start } = this.selection.range;\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangeDelete.call(this);\r\n        });\r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col, row }) {\r\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\r\n        col = startCol;\r\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col, row, }) {\r\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\r\n        col = endCol;\r\n        return super.getMoveRightColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ col, row }) {\r\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\r\n        row = startRow;\r\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ col, row }) {\r\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\r\n        row = endRow;\r\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 1;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        const { start } = this.getCellRange(range.start.col, range.start.row);\r\n        const { end } = this.getCellRange(range.end.col, range.end.row);\r\n        return { start, end };\r\n    }\r\n    fireListeners(type, ...event) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.ListGrid = ListGrid;\r\n_a = _;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./columns/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./columns/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./columns/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst Action_1 = require(\"./action/Action\");\r\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\r\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\r\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\r\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\r\nconst Editor_1 = require(\"./action/Editor\");\r\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\r\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\r\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\r\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\r\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\r\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\r\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\r\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\r\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    CHECK: new ImmutableCheckEditor(),\r\n    INPUT: new ImmutableInputEditor(),\r\n    RADIO: new ImmutableRadioEditor(),\r\n};\r\nfunction of(columnAction) {\r\n    if (!columnAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof columnAction === \"string\") {\r\n        const key = columnAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return columnAction;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Action = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nclass Action extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._action = option.action || (() => { });\r\n    }\r\n    get editable() {\r\n        return false;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(action) {\r\n        this._action = action;\r\n    }\r\n    clone() {\r\n        return new Action(this);\r\n    }\r\n    getState(_grid) {\r\n        return {};\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = this.getState(grid);\r\n        const action = (cell) => {\r\n            if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            const record = grid.getRowRecord(cell.row);\r\n            this._action(record, (0, utils_1.extend)(cell, { grid }));\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox() {\r\n        // noop\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.Action = Action;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // abstract\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseInputEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass BaseInputEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        const input = (cell, value) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            this.onInputCellInternal(grid, cell, value);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.value);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.normalizeValue);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n                utils_1.event.cancel(e.event);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                this.onGridScrollInternal(grid);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return false;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return;\r\n                }\r\n                const range = grid.getCellRange(cell.col, cell.row);\r\n                if (range.start.col !== range.end.col ||\r\n                    range.start.row !== range.end.row) {\r\n                    const { input } = cell;\r\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\r\n                    const rangeRect = grid.getCellRangeRect(range);\r\n                    input.style.top = `${(parseFloat(input.style.top) +\r\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\r\n                    input.style.left = `${(parseFloat(input.style.left) +\r\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\r\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\r\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\r\n                }\r\n                this.onSetInputAttrsInternal(grid, {\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                }, cell.input);\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => {\r\n            if (this.isSupportMultilineValue()) {\r\n                return value;\r\n            }\r\n            return value.replace(/\\r?\\n/g, \" \");\r\n        });\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\r\n    }\r\n    isSupportMultilineValue() {\r\n        return false;\r\n    }\r\n}\r\nexports.BaseInputEditor = BaseInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonAction = void 0;\r\nconst Action_1 = require(\"./Action\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonAction extends Action_1.Action {\r\n    getState(grid) {\r\n        let state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (!state) {\r\n            state = {};\r\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\r\n        }\r\n        return state;\r\n    }\r\n}\r\nexports.ButtonAction = ButtonAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckEditor extends Editor_1.Editor {\r\n    clone() {\r\n        return new CheckEditor(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[CHECK_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            if (ret) {\r\n                const onChange = () => {\r\n                    // checkbox animation\r\n                    (0, animate_1.animate)(200, (point) => {\r\n                        if (point === 1) {\r\n                            delete state.elapsed[cellKey];\r\n                        }\r\n                        else {\r\n                            state.elapsed[cellKey] = point;\r\n                        }\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                };\r\n                if ((0, utils_1.isPromise)(ret)) {\r\n                    state.block[cellKey] = true;\r\n                    ret.then(() => {\r\n                        delete state.block[cellKey];\r\n                        onChange();\r\n                    });\r\n                }\r\n                else {\r\n                    onChange();\r\n                }\r\n            }\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action: (_e) => {\r\n                    const selrange = grid.selection.range;\r\n                    const { col } = grid.selection.select;\r\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\r\n                        if (!isTarget(col, row)) {\r\n                            continue;\r\n                        }\r\n                        action({\r\n                            col,\r\n                            row,\r\n                        });\r\n                    }\r\n                },\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                grid.doGetCellValue(e.col, e.row, (value) => {\r\n                    const newValue = (0, action_utils_1.toggleValue)(value);\r\n                    if (`${newValue}`.trim() === pasteValue) {\r\n                        action({\r\n                            col: e.col,\r\n                            row: e.row,\r\n                        });\r\n                    }\r\n                    else if (isRejectValue(value, pasteValue)) {\r\n                        const record = grid.getRowRecord(e.row);\r\n                        if (!(0, utils_1.isPromise)(record)) {\r\n                            grid.fireListeners(\"rejected_paste_values\", {\r\n                                detail: [\r\n                                    {\r\n                                        col: e.col,\r\n                                        row: e.row,\r\n                                        record,\r\n                                        define: grid.getColumnDefine(e.col, e.row),\r\n                                        pasteValue,\r\n                                    },\r\n                                ],\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            const newValue = (0, action_utils_1.toggleValue)(value);\r\n            if (`${newValue}`.trim() === pasteValue) {\r\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            }\r\n            else if (isRejectValue(value, pasteValue)) {\r\n                context.reject();\r\n            }\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.CheckEditor = CheckEditor;\r\nfunction isRejectValue(oldValue, pasteValue) {\r\n    if ((oldValue != null ? `${oldValue}`.trim() : \"\") === pasteValue) {\r\n        return false;\r\n    }\r\n    const newValue = (0, action_utils_1.toggleValue)(oldValue);\r\n    return (`${newValue}`.trim() !== pasteValue &&\r\n        `${(0, action_utils_1.toggleValue)(newValue)}`.trim() !== pasteValue);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Editor = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nclass Editor extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._readOnly = option.readOnly || false;\r\n    }\r\n    get editable() {\r\n        return true;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n    set readOnly(readOnly) {\r\n        this._readOnly = readOnly;\r\n        this.onChangeReadOnlyInternal();\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // abstruct\r\n    }\r\n}\r\nexports.Editor = Editor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputEditor = void 0;\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst _ = (0, symbolManager_1.getInlineInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineInputElement_1.InlineInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nfunction doChangeValue(_grid) {\r\n    if (globalElement) {\r\n        globalElement.doChangeValue();\r\n    }\r\n}\r\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    clone() {\r\n        return new InlineInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(grid, _cell, _selected) {\r\n        doChangeValue(grid);\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(grid) {\r\n        doChangeValue(grid);\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n}\r\nexports.InlineInputEditor = InlineInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\r\nconst type_1 = require(\"../type\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nconst _ = (0, symbolManager_1.getInlineMenuEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachMenu(grid, cell, editor, value, record) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\r\n}\r\nfunction detachMenu(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass InlineMenuEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._options = (0, menu_items_1.normalizeToFn)(option.options);\r\n    }\r\n    dispose() {\r\n        // noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    set options(options) {\r\n        this._options = (0, menu_items_1.normalizeToFn)(options);\r\n    }\r\n    clone() {\r\n        return new InlineMenuEditor(this);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n                const record = grid.getRowRecord(cell.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                attachMenu(grid, cell, this, value, record);\r\n            });\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\r\n                detachMenu();\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                detachMenu(true);\r\n            }),\r\n            // mouse move\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                if (!grid.getElement().style.cursor) {\r\n                    grid.getElement().style.cursor = \"pointer\";\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"\";\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                const record = grid.getRowRecord(e.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\r\n                if (pasteOpt) {\r\n                    utils_1.event.cancel(e.event);\r\n                    (0, utils_1.then)(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\r\n                        const range = grid.getCellRange(e.col, e.row);\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                }\r\n                else {\r\n                    grid.fireListeners(\"rejected_paste_values\", {\r\n                        detail: [\r\n                            {\r\n                                col: e.col,\r\n                                row: e.row,\r\n                                record,\r\n                                define: grid.getColumnDefine(e.col, e.row),\r\n                                pasteValue: e.normalizeValue,\r\n                            },\r\n                        ],\r\n                    });\r\n                }\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n        else {\r\n            // unknown\r\n            context.reject();\r\n        }\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n    }\r\n    _pasteDataToOptionValue(value, grid, cell, record) {\r\n        const options = this._options(record);\r\n        const pasteOpt = _textToOptionValue(value, options);\r\n        if (pasteOpt) {\r\n            return pasteOpt;\r\n        }\r\n        const columnType = grid.getColumnType(cell.col, cell.row);\r\n        if (hasOptions(columnType)) {\r\n            // Find with caption.\r\n            const pasteValue = normalizePasteValueStr(value);\r\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\r\n            if (captionOpt) {\r\n                return _textToOptionValue(captionOpt.value, options);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nexports.InlineMenuEditor = InlineMenuEditor;\r\nfunction _textToOptionValue(value, options) {\r\n    const pasteValue = normalizePasteValueStr(value);\r\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\r\n    if (pasteOpt) {\r\n        return pasteOpt;\r\n    }\r\n    return undefined;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction normalizePasteValueStr(value) {\r\n    if (value == null) {\r\n        return \"\";\r\n    }\r\n    return `${value}`.trim();\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction hasOptions(columnType) {\r\n    if (columnType instanceof type_1.MenuColumn) {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    if (Array.isArray(columnType.options)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_2 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._group = option.group;\r\n        this._checkAction = option.checkAction;\r\n    }\r\n    clone() {\r\n        return new RadioEditor(this);\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    get group() {\r\n        return this._group;\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    set group(group) {\r\n        this._group = group;\r\n    }\r\n    get checkAction() {\r\n        return this._checkAction;\r\n    }\r\n    set checkAction(checkAction) {\r\n        this._checkAction = checkAction;\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[RADIO_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            this._action(grid, cell);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                if (isRejectValue(pasteValue)) {\r\n                    // Not a boolean\r\n                    const record = grid.getRowRecord(e.row);\r\n                    if (!(0, utils_1.isPromise)(record)) {\r\n                        grid.fireListeners(\"rejected_paste_values\", {\r\n                            detail: [\r\n                                {\r\n                                    col: e.col,\r\n                                    row: e.row,\r\n                                    record,\r\n                                    define: grid.getColumnDefine(e.col, e.row),\r\n                                    pasteValue,\r\n                                },\r\n                            ],\r\n                        });\r\n                    }\r\n                    return;\r\n                }\r\n                if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n                    return;\r\n                }\r\n                action({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        if (isRejectValue(pasteValue)) {\r\n            // Not a boolean\r\n            context.reject();\r\n            return;\r\n        }\r\n        if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n            return;\r\n        }\r\n        this._action(grid, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n    _action(grid, cell) {\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(cell.col, cell.row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n            state.block[cellKey]) {\r\n            return;\r\n        }\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            if ((0, utils_2.toBoolean)(value)) {\r\n                return;\r\n            }\r\n            if (this._checkAction) {\r\n                // User behavior\r\n                const record = grid.getRowRecord(cell.row);\r\n                this._checkAction(record, (0, utils_1.extend)(cell, { grid }));\r\n                return;\r\n            }\r\n            if (this._group) {\r\n                // Backward compatibility\r\n                const state = grid[RADIO_COLUMN_STATE_ID];\r\n                const targets = this._group({ grid, col: cell.col, row: cell.row });\r\n                targets.forEach(({ col, row }) => {\r\n                    const range = grid.getCellRange(col, row);\r\n                    const cellKey = `${range.start.col}:${range.start.row}`;\r\n                    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                        (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                        state.block[cellKey]) {\r\n                        return;\r\n                    }\r\n                    actionCell(grid, col, row, col === cell.col && row === cell.row);\r\n                });\r\n                return;\r\n            }\r\n            // default behavior\r\n            const field = grid.getField(cell.col, cell.row);\r\n            const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(cell.row));\r\n            /** Original DataSource */\r\n            const { dataSource } = grid.dataSource;\r\n            const girdRecords = getAllRecordsFromGrid(grid);\r\n            for (let index = 0; index < dataSource.length; index++) {\r\n                const record = dataSource.get(index);\r\n                const showData = girdRecords.find((d) => d.record === record);\r\n                if (showData) {\r\n                    actionCell(grid, cell.col, showData.row, showData.row === recordStartRow);\r\n                }\r\n                else {\r\n                    // Hidden record\r\n                    (0, utils_1.then)(dataSource.getField(index, field), (value) => {\r\n                        if (!(0, utils_2.toBoolean)(value)) {\r\n                            return;\r\n                        }\r\n                        dataSource.setField(index, field, (0, action_utils_1.toggleValue)(value));\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.RadioEditor = RadioEditor;\r\nfunction getAllRecordsFromGrid(grid) {\r\n    const result = [];\r\n    const { rowCount, recordRowCount } = grid;\r\n    for (let targetRow = grid.frozenRowCount; targetRow < rowCount; targetRow += recordRowCount) {\r\n        const record = grid.getRowRecord(targetRow);\r\n        result.push({ row: targetRow, record });\r\n    }\r\n    return result;\r\n}\r\nfunction actionCell(grid, col, row, flag) {\r\n    grid.doGetCellValue(col, row, (value) => {\r\n        if ((0, utils_2.toBoolean)(value) === flag) {\r\n            return;\r\n        }\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\r\n        if (ret) {\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            if ((0, utils_1.isPromise)(ret)) {\r\n                state.block[cellKey] = true;\r\n                ret.then(() => {\r\n                    delete state.block[cellKey];\r\n                    onChange();\r\n                });\r\n            }\r\n            else {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction isRejectValue(pasteValue) {\r\n    return (0, action_utils_1.toggleValue)((0, action_utils_1.toggleValue)(pasteValue)) !== pasteValue;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputEditor = void 0;\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\r\nconst _ = (0, symbolManager_1.getSmallDialogInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._helperText = option.helperText;\r\n        this._inputValidator = option.inputValidator;\r\n        this._validator = option.validator;\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    dispose() {\r\n        //noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    get helperText() {\r\n        return this._helperText;\r\n    }\r\n    get inputValidator() {\r\n        return this._inputValidator;\r\n    }\r\n    get validator() {\r\n        return this._validator;\r\n    }\r\n    clone() {\r\n        return new SmallDialogInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\r\n        // cancel input\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(_grid) {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...super.bindGridEvent(grid, cellId),\r\n            grid.listen('click_cell', (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction isDisabledRecord(option, grid, row) {\r\n    if (grid.disabled) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isDisabledRecord = isDisabledRecord;\r\nfunction isReadOnlyRecord(option, grid, row) {\r\n    if (grid.readOnly) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isReadOnlyRecord = isReadOnlyRecord;\r\nfunction toggleValue(val) {\r\n    if (typeof val === \"number\") {\r\n        if (val === 0) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    else if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return \"true\";\r\n        }\r\n        else if (val === \"off\") {\r\n            return \"on\";\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return val.replace(/^(0*)0$/, \"$11\");\r\n        }\r\n        else if (val === \"true\") {\r\n            return \"false\";\r\n        }\r\n        else if (val === \"on\") {\r\n            return \"off\";\r\n        }\r\n        else if (/^0*1$/.exec(val)) {\r\n            return val.replace(/^(0*)1$/, \"$10\");\r\n        }\r\n    }\r\n    return !val;\r\n}\r\nexports.toggleValue = toggleValue;\r\nfunction getBooleanOptionOfRecord(option, grid, row) {\r\n    if (typeof option === \"function\") {\r\n        const record = grid.getRowRecord(row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return true;\r\n        }\r\n        return !!option(record);\r\n    }\r\n    return !!option;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(sel.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst CLASSNAME = \"cheetah-grid__inline-input\";\r\nfunction createInputElement() {\r\n    require(\"@/columns/action/internal/InlineInputElement.css\");\r\n    return (0, dom_1.createElement)(\"input\", { classList: CLASSNAME });\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { classList, type } = editor;\r\n    if (classList) {\r\n        input.classList.add(...classList);\r\n    }\r\n    input.type = type || \"\";\r\n}\r\nclass InlineInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._input = createInputElement();\r\n        this._bindInputEvents();\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const input = this._input;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const input = this._input;\r\n        const handler = this._handler;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                input.classList.remove(...classList);\r\n            }\r\n        }\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        input.style.top = `${rect.top.toFixed()}px`;\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(input);\r\n        setInputAttrs(editor, grid, input);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        this._activeData = { grid, col, row, editor };\r\n        this._beforePropEditor = editor;\r\n        const focus = () => {\r\n            input.focus();\r\n            const end = input.value.length;\r\n            try {\r\n                if (typeof input.selectionStart !== \"undefined\") {\r\n                    input.selectionStart = end;\r\n                    input.selectionEnd = end;\r\n                    return;\r\n                }\r\n            }\r\n            catch (e) {\r\n                //ignore\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (document.selection) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const range = input.createTextRange();\r\n                range.collapse();\r\n                range.moveEnd(\"character\", end);\r\n                range.moveStart(\"character\", end);\r\n                range.select();\r\n            }\r\n        };\r\n        handler.tryWithOffEvents(input, \"blur\", () => {\r\n            focus();\r\n        });\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const input = this._input;\r\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\r\n                var _a;\r\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n            });\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n    }\r\n    doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        const { grid, col, row } = this._activeData;\r\n        grid.doChangeValue(col, row, () => value);\r\n    }\r\n    _isActive() {\r\n        const input = this._input;\r\n        if (!input || !input.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindInputEvents() {\r\n        const handler = this._handler;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(input, \"click\", stopPropagationOnly);\r\n        handler.on(input, \"mousedown\", stopPropagationOnly);\r\n        handler.on(input, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"dblclick\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(e);\r\n            }\r\n        });\r\n        handler.on(input, \"blur\", (_e) => {\r\n            this.doChangeValue();\r\n            this.detach();\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        var _a;\r\n        if (!this._isActive() || this._attaching) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n            grid.onKeyDownMove(e);\r\n        }\r\n    }\r\n    _onKeydownTab(e) {\r\n        var _a;\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\r\n            return;\r\n        }\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        grid.onKeyDownMove(e);\r\n    }\r\n}\r\nexports.InlineInputElement = InlineInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuElement = void 0;\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_ESC = 27;\r\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\r\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\r\nfunction findItemParents(target) {\r\n    let el = target;\r\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\r\n        el = el.parentElement;\r\n        if (!el || el.classList.contains(CLASSNAME)) {\r\n            return null;\r\n        }\r\n    }\r\n    return el;\r\n}\r\nfunction createMenuElement() {\r\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\r\n    return (0, dom_1.createElement)(\"ul\", { classList: CLASSNAME });\r\n}\r\nfunction attachElement(element, rect, menu) {\r\n    menu.style.top = `${rect.top.toFixed()}px`;\r\n    menu.style.left = `${rect.left.toFixed()}px`;\r\n    menu.style.width = `${rect.width.toFixed()}px`;\r\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\r\n    element.appendChild(menu);\r\n}\r\nfunction optionToLi({ classList, label, value, html }, index) {\r\n    const item = (0, dom_1.createElement)(\"li\", { classList: ITEM_CLASSNAME });\r\n    item.tabIndex = 0;\r\n    item.dataset.valueindex = `${index}`;\r\n    if (classList) {\r\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\r\n    }\r\n    if (label) {\r\n        const span = (0, dom_1.createElement)(\"span\", { text: label });\r\n        item.appendChild(span);\r\n    }\r\n    else if (html) {\r\n        (0, dom_1.appendHtml)(item, html);\r\n    }\r\n    if (value === \"\" || value == null) {\r\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\r\n    }\r\n    return item;\r\n}\r\nfunction openMenu(grid, editor, col, row, value, options, menu) {\r\n    const { classList } = editor;\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.empty)(menu);\r\n    menu.style.font = grid.font || \"16px sans-serif\";\r\n    let emptyItemEl = null;\r\n    let valueItemEl = null;\r\n    options.forEach((option, i) => {\r\n        const item = optionToLi(option, i);\r\n        menu.appendChild(item);\r\n        if (option.value === value) {\r\n            valueItemEl = item;\r\n            item.dataset.select = \"select\";\r\n        }\r\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\r\n            emptyItemEl = item;\r\n        }\r\n    });\r\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\r\n    if (classList) {\r\n        menu.classList.add(...classList);\r\n    }\r\n    const children = Array.prototype.slice.call(menu.children, 0);\r\n    const focusIndex = children.indexOf(focusEl);\r\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n    // Cover the right line\r\n    rect.width++;\r\n    // append for calculation\r\n    attachElement(element, rect, menu);\r\n    // Make the selection item at the middle\r\n    let offset = 0;\r\n    let allHeight = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const { offsetHeight } = children[i];\r\n        if (i < focusIndex) {\r\n            offset += offsetHeight;\r\n        }\r\n        allHeight += offsetHeight;\r\n    }\r\n    rect.offsetTop(-offset);\r\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\r\n    attachElement(element, rect, menu);\r\n    // Control not to overflow the screen range\r\n    const menuClientRect = menu.getBoundingClientRect();\r\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\r\n    const orgMenuTop = menuClientRect.top - scaleDiff;\r\n    let menuTop = orgMenuTop;\r\n    const menuBottom = menuTop + allHeight;\r\n    const winBottom = window.innerHeight;\r\n    const winMargin = 20;\r\n    if (menuBottom > winBottom - winMargin) {\r\n        const diff = menuBottom - winBottom + winMargin;\r\n        menuTop -= diff;\r\n    }\r\n    if (menuTop < 0 /*winTop*/ + winMargin) {\r\n        menuTop = winMargin;\r\n    }\r\n    if (menuTop !== orgMenuTop) {\r\n        rect.offsetTop(-(orgMenuTop - menuTop));\r\n        // re update\r\n        attachElement(element, rect, menu);\r\n    }\r\n    if (focusEl) {\r\n        focusEl.focus();\r\n    }\r\n    menu.classList.remove(HIDDEN_CLASSNAME);\r\n    menu.classList.add(SHOWN_CLASSNAME);\r\n}\r\nfunction closeMenu(_grid, _col, _row, menu) {\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.disableFocus)(menu);\r\n}\r\nclass InlineMenuElement {\r\n    constructor() {\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        this._menu = createMenuElement();\r\n        this._bindMenuEvents();\r\n        let bodyClickListenerId;\r\n        const deregisterBodyClickListener = (this._deregisterBodyClickListener =\r\n            () => handler.off(bodyClickListenerId));\r\n        this._registerBodyClickListener = () => {\r\n            deregisterBodyClickListener();\r\n            bodyClickListenerId = handler.on(document.body, \"click\", this._onBodyClick.bind(this), { capture: true });\r\n        };\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const menu = this._menu;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._menu;\r\n        this._beforePropEditor = null;\r\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\r\n    }\r\n    attach(grid, editor, col, row, value, record) {\r\n        const menu = this._menu;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                menu.classList.remove(...classList);\r\n            }\r\n        }\r\n        const options = editor.options(record);\r\n        openMenu(grid, editor, col, row, value, options, menu);\r\n        this._activeData = { grid, col, row, editor, options };\r\n        this._beforePropEditor = editor;\r\n        this._registerBodyClickListener();\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const menu = this._menu;\r\n            closeMenu(grid, col, row, menu);\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._deregisterBodyClickListener();\r\n    }\r\n    _doChangeValue(valueindex) {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid, col, row, options } = this._activeData;\r\n        const option = options[Number(valueindex)];\r\n        if (option) {\r\n            const { value } = option;\r\n            grid.doChangeValue(col, row, () => value);\r\n        }\r\n    }\r\n    _isActive() {\r\n        const menu = this._menu;\r\n        if (!menu || !menu.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindMenuEvents() {\r\n        const handler = this._handler;\r\n        const menu = this._menu;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\r\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\r\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\r\n        handler.on(menu, \"click\", (e) => {\r\n            e.stopPropagation();\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const { valueindex } = item.dataset;\r\n            this._doChangeValue(valueindex || \"\");\r\n            this.detach(true);\r\n        });\r\n        handler.on(menu, \"keydown\", (e) => {\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(menu, item, e);\r\n            }\r\n            else if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_UP) {\r\n                const n = (0, dom_1.findPrevSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_DOWN) {\r\n                const n = (0, dom_1.findNextSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(menu, item, e);\r\n            }\r\n        });\r\n    }\r\n    _onBodyClick(e) {\r\n        const el = e.target;\r\n        if (!el) {\r\n            return;\r\n        }\r\n        if (this._menu.contains(el)) {\r\n            return;\r\n        }\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if (grid.getElement().contains(el)) {\r\n                return;\r\n            }\r\n        }\r\n        this.detach();\r\n    }\r\n    _onKeydownEnter(_menu, item, e) {\r\n        var _a;\r\n        const grid = this._isActive() ? this._activeData.grid : null;\r\n        const { valueindex } = item.dataset;\r\n        this._doChangeValue(valueindex || \"\");\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if (grid) {\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                grid.onKeyDownMove(e);\r\n            }\r\n        }\r\n    }\r\n    _onKeydownTab(menu, item, e) {\r\n        var _a;\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\r\n                const { valueindex } = item.dataset;\r\n                this._doChangeValue(valueindex || \"\");\r\n                this.detach(true);\r\n                grid.onKeyDownMove(e);\r\n                return;\r\n            }\r\n        }\r\n        if (!e.shiftKey) {\r\n            if (!(0, dom_1.findNextSiblingFocusable)(item)) {\r\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findNextSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (!(0, dom_1.findPrevSiblingFocusable)(item)) {\r\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\r\n                let n = items[items.length - 1];\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findPrevSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.InlineMenuElement = InlineMenuElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputElement = void 0;\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\r\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst KEY_ENTER = 13;\r\nconst KEY_ESC = 27;\r\nfunction _focus(input, handler) {\r\n    const focus = () => {\r\n        input.focus();\r\n        const end = input.value.length;\r\n        try {\r\n            if (typeof input.selectionStart !== \"undefined\") {\r\n                input.selectionStart = end;\r\n                input.selectionEnd = end;\r\n                return;\r\n            }\r\n        }\r\n        catch (e) {\r\n            //ignore\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (document.selection) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const range = input.createTextRange();\r\n            range.collapse();\r\n            range.moveEnd(\"character\", end);\r\n            range.moveStart(\"character\", end);\r\n            range.select();\r\n        }\r\n    };\r\n    handler.tryWithOffEvents(input, \"blur\", () => {\r\n        focus();\r\n    });\r\n}\r\nfunction createDialogElement() {\r\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\r\n    const element = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const input = (0, dom_1.createElement)(\"input\", { classList: INPUT_CLASSNAME });\r\n    input.readOnly = true;\r\n    input.tabIndex = -1;\r\n    element.appendChild(input);\r\n    return element;\r\n}\r\nfunction bindProps(grid, dialog, input, editor) {\r\n    const { classList, helperText } = editor;\r\n    if (classList) {\r\n        dialog.classList.add(...classList);\r\n    }\r\n    if (helperText && typeof helperText !== \"function\") {\r\n        dialog.dataset.helperText = helperText;\r\n    }\r\n    setInputAttrs(editor, grid, input);\r\n}\r\nfunction unbindProps(_grid, dialog, input, editor) {\r\n    const { classList } = editor;\r\n    if (classList) {\r\n        dialog.classList.remove(...classList);\r\n    }\r\n    delete dialog.dataset.helperText;\r\n    input.type = \"\";\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { type } = editor;\r\n    input.type = type || \"\";\r\n}\r\nclass SmallDialogInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._dialog = createDialogElement();\r\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\r\n        this._bindDialogEvents();\r\n    }\r\n    dispose() {\r\n        const dialog = this._dialog;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._dialog;\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        if (dialog.parentElement) {\r\n            dialog.parentElement.removeChild(dialog);\r\n        }\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        if (this._beforePropEditor) {\r\n            unbindProps(grid, dialog, input, this._beforePropEditor);\r\n        }\r\n        delete dialog.dataset.errorMessage;\r\n        dialog.classList.remove(SHOWN_CLASSNAME);\r\n        dialog.classList.add(HIDDEN_CLASSNAME);\r\n        input.readOnly = true;\r\n        input.tabIndex = 0;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        dialog.style.top = `${rect.top.toFixed()}px`;\r\n        dialog.style.left = `${rect.left.toFixed()}px`;\r\n        dialog.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(dialog);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const activeData = { grid, col, row, editor };\r\n        this._onInputValue(input, activeData);\r\n        if (!utils_1.browser.IE) {\r\n            _focus(input, handler);\r\n        }\r\n        else {\r\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\r\n            setTimeout(() => _focus(input, handler));\r\n        }\r\n        dialog.classList.add(SHOWN_CLASSNAME);\r\n        dialog.classList.remove(HIDDEN_CLASSNAME);\r\n        input.readOnly = false;\r\n        bindProps(grid, dialog, input, editor);\r\n        this._activeData = activeData;\r\n        this._beforePropEditor = editor;\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const dialog = this._dialog;\r\n            const input = this._input;\r\n            dialog.classList.remove(SHOWN_CLASSNAME);\r\n            dialog.classList.add(HIDDEN_CLASSNAME);\r\n            input.readOnly = true;\r\n            input.tabIndex = -1;\r\n            const { grid, col, row } = this._activeData;\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._beforeValue = null;\r\n    }\r\n    _doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return false;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        return (0, utils_1.then)(this._validate(value), (res) => {\r\n            if (res && value === input.value) {\r\n                const { grid, col, row } = this._activeData;\r\n                grid.doChangeValue(col, row, () => value);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    _isActive() {\r\n        const dialog = this._dialog;\r\n        if (!dialog || !dialog.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindDialogEvents() {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(dialog, \"click\", stopPropagationOnly);\r\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\r\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\r\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n            this._onInputValue(input);\r\n        });\r\n        const onKeyupAndPress = (_e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            this._onInputValue(input);\r\n        };\r\n        handler.on(input, \"keyup\", onKeyupAndPress);\r\n        handler.on(input, \"keypress\", onKeyupAndPress);\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else {\r\n                this._onInputValue(input);\r\n            }\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        if (this._attaching) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        (0, utils_1.then)(this._doChangeValue(), (r) => {\r\n            var _a;\r\n            if (r && value === input.value) {\r\n                const grid = this._isActive() ? this._activeData.grid : null;\r\n                this.detach(true);\r\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                    grid.onKeyDownMove(e);\r\n                }\r\n            }\r\n        });\r\n        utils_1.event.cancel(e);\r\n    }\r\n    _onInputValue(input, activeData) {\r\n        const before = this._beforeValue;\r\n        const { value } = input;\r\n        if (before !== value) {\r\n            this._onInputValueChange(value, activeData);\r\n        }\r\n        this._beforeValue = value;\r\n    }\r\n    _onInputValueChange(after, activeData) {\r\n        activeData = (activeData || this._activeData);\r\n        const dialog = this._dialog;\r\n        const { grid, col, row, editor } = activeData;\r\n        if (typeof editor.helperText === \"function\") {\r\n            const helperText = editor.helperText(after, { grid, col, row });\r\n            if (helperText) {\r\n                dialog.dataset.helperText = helperText;\r\n            }\r\n            else {\r\n                delete dialog.dataset.helperText;\r\n            }\r\n        }\r\n        if (\"errorMessage\" in dialog.dataset) {\r\n            this._validate(after, true);\r\n        }\r\n    }\r\n    _validate(value, inputOnly) {\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const { grid, col, row, editor } = this._activeData;\r\n        let message = \"\";\r\n        if (editor.inputValidator) {\r\n            message = editor.inputValidator(value, { grid, col, row });\r\n        }\r\n        return (0, utils_1.then)(message, (message) => {\r\n            if (!message && editor.validator && !inputOnly) {\r\n                message = editor.validator(value, { grid, col, row });\r\n            }\r\n            return (0, utils_1.then)(message, (message) => {\r\n                if (message && value === input.value) {\r\n                    dialog.dataset.errorMessage = message;\r\n                }\r\n                else {\r\n                    delete dialog.dataset.errorMessage;\r\n                }\r\n                return !message;\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.SmallDialogInputElement = SmallDialogInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setInputValue = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nfunction setInputValue(input, value) {\r\n    const sign = input.type === \"number\" && value === \"-\";\r\n    if (sign) {\r\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\r\n        input.type = \"\";\r\n        let handler = new EventHandler_1.EventHandler();\r\n        const dispose = () => {\r\n            if (handler) {\r\n                handler.dispose();\r\n                handler = null;\r\n            }\r\n        };\r\n        handler.once(input, \"input\", (_e) => {\r\n            input.type = \"number\";\r\n            dispose();\r\n        });\r\n        handler.once(input, \"blur\", (_e) => {\r\n            dispose();\r\n        });\r\n    }\r\n    input.value = value !== null && value !== void 0 ? value : \"\";\r\n}\r\nexports.setInputValue = setInputValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDrawIndicator = void 0;\r\nconst triangle_1 = require(\"./triangle\");\r\nfunction getDrawIndicator(indicatorStyle) {\r\n    const { style } = indicatorStyle;\r\n    if (style === \"triangle\") {\r\n        return triangle_1.drawTriangleIndicator;\r\n    }\r\n    return null;\r\n}\r\nexports.getDrawIndicator = getDrawIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawTriangleIndicator = void 0;\r\nconst KIND_PROCESS_MAP = {\r\n    [0 /* DrawIndicatorKind.topLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseLeft, baseTop);\r\n            ctx.lineTo(baseLeft + size, baseTop);\r\n            ctx.lineTo(baseLeft, baseTop + size);\r\n        },\r\n    },\r\n    [1 /* DrawIndicatorKind.topRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseRight, baseTop);\r\n            ctx.lineTo(baseRight - size, baseTop);\r\n            ctx.lineTo(baseRight, baseTop + size);\r\n        },\r\n    },\r\n    [2 /* DrawIndicatorKind.bottomRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseRight, baseBottom);\r\n            ctx.lineTo(baseRight - size, baseBottom);\r\n            ctx.lineTo(baseRight, baseBottom - size);\r\n        },\r\n    },\r\n    [3 /* DrawIndicatorKind.bottomLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseLeft, baseBottom);\r\n            ctx.lineTo(baseLeft + size, baseBottom);\r\n            ctx.lineTo(baseLeft, baseBottom - size);\r\n        },\r\n    },\r\n};\r\nfunction drawTriangleIndicator(context, style, kind, helper) {\r\n    const process = KIND_PROCESS_MAP[kind];\r\n    if (!process) {\r\n        return;\r\n    }\r\n    helper.drawBorderWithClip(context, (ctx) => {\r\n        const rect = context.getRect();\r\n        const color = style.color ||\r\n            helper.getColor(process.themeColor(helper), context.col, context.row, ctx);\r\n        const size = (style.size && Number(style.size)) ||\r\n            process.themeSize(helper) ||\r\n            rect.height / 6;\r\n        // draw triangle\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        process.drawPath(ctx, rect, size);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    });\r\n}\r\nexports.drawTriangleIndicator = drawTriangleIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseMessage = void 0;\r\nclass BaseMessage {\r\n    constructor(grid) {\r\n        this._messageElement = null;\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachMessageElement();\r\n        if (this._messageElement) {\r\n            this._messageElement.dispose();\r\n        }\r\n        this._messageElement = null;\r\n    }\r\n    _getMessageElement() {\r\n        return (this._messageElement ||\r\n            (this._messageElement = this.createMessageElementInternal()));\r\n    }\r\n    attachMessageElement(col, row, message) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.attach(this._grid, col, row, message);\r\n    }\r\n    moveMessageElement(col, row) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.move(this._grid, col, row);\r\n    }\r\n    detachMessageElement() {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement._detach();\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.BaseMessage = BaseMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst RED_A100 = \"#ff8a80\";\r\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new ErrorMessageElement_1.ErrorMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.errorBgColor, context.col, context.row, ctx) || RED_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ErrorMessage = ErrorMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InfoMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst MessageElement_1 = require(\"./internal/MessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst GREY_L2 = \"#e0e0e0\";\r\nclass InfoMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new MessageElement_1.MessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawInformationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.infoBgColor, context.col, context.row, ctx) || GREY_L2,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.InfoMessage = InfoMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageHandler = exports.hasMessage = void 0;\r\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\r\nconst InfoMessage_1 = require(\"./InfoMessage\");\r\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\r\nconst WarningMessage_1 = require(\"./WarningMessage\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst EMPTY_MESSAGE = {\r\n    type: \"error\",\r\n    message: null,\r\n};\r\nconst MESSAGE_INSTANCE_FACTORY = {\r\n    error(grid) {\r\n        return new ErrorMessage_1.ErrorMessage(grid);\r\n    },\r\n    info(grid) {\r\n        return new InfoMessage_1.InfoMessage(grid);\r\n    },\r\n    warning(grid) {\r\n        return new WarningMessage_1.WarningMessage(grid);\r\n    },\r\n};\r\nfunction normalizeMessage(message) {\r\n    if (!message || (0, utils_1.isPromise)(message)) {\r\n        return EMPTY_MESSAGE;\r\n    }\r\n    if (typeof message === \"string\") {\r\n        return {\r\n            type: \"error\",\r\n            message,\r\n            original: message,\r\n        };\r\n    }\r\n    const type = message.type || \"error\";\r\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\r\n        return {\r\n            type: type.toLowerCase(),\r\n            message: message.message,\r\n            original: message,\r\n        };\r\n    }\r\n    return {\r\n        type: \"error\",\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        message: `${message}`,\r\n        original: message,\r\n    };\r\n}\r\nfunction hasMessage(message) {\r\n    return !!normalizeMessage(message).message;\r\n}\r\nexports.hasMessage = hasMessage;\r\nclass MessageHandler {\r\n    constructor(grid, getMessage) {\r\n        this._attachInfo = null;\r\n        this._grid = grid;\r\n        this._messageInstances = {};\r\n        this._bindGridEvent(grid, getMessage);\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const messageInstances = this._messageInstances;\r\n        for (const k in messageInstances) {\r\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageInstances;\r\n        // @ts-expect-error -- ignore\r\n        delete this._attachInfo;\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        if (!hasMessage(message)) {\r\n            return;\r\n        }\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\r\n    }\r\n    _attach(col, row, message) {\r\n        const info = this._attachInfo;\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        if (info && info.instance !== instance) {\r\n            info.instance.detachMessageElement();\r\n        }\r\n        instance.attachMessageElement(col, row, normalizeMessage(message));\r\n        this._attachInfo = { col, row, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || info.col !== col || info.row !== row) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveMessageElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachMessageElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _bindGridEvent(grid, getMessage) {\r\n        const onSelectMessage = (sel) => {\r\n            const setMessageData = (msg) => {\r\n                if (!hasMessage(msg)) {\r\n                    this._detach();\r\n                }\r\n                else {\r\n                    this._attach(sel.col, sel.row, msg);\r\n                }\r\n            };\r\n            const message = getMessage(sel.col, sel.row);\r\n            if ((0, utils_1.isPromise)(message)) {\r\n                this._detach();\r\n                message.then((msg) => {\r\n                    const newSel = grid.selection.select;\r\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\r\n                        return;\r\n                    }\r\n                    setMessageData(msg);\r\n                });\r\n                return;\r\n            }\r\n            setMessageData(message);\r\n        };\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (!e.selected) {\r\n                return;\r\n            }\r\n            if (e.before.col === e.col && e.before.row === e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const sel = grid.selection.select;\r\n            this._move(sel.col, sel.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (!grid.hasFocusGrid()) {\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (sel.col !== e.col || sel.row !== e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\r\n            const sel = grid.selection.select;\r\n            onSelectMessage(sel);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\r\n            this._detach();\r\n        });\r\n    }\r\n    _getMessageInstanceOfMessage(message) {\r\n        const messageInstances = this._messageInstances;\r\n        const { type } = normalizeMessage(message);\r\n        return (messageInstances[type] ||\r\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\r\n    }\r\n}\r\nexports.MessageHandler = MessageHandler;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\r\nclass WarningMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new WarningMessageElement_1.WarningMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.warnBgColor, context.col, context.row, ctx) || DEEP_ORANGE_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.WarningMessage = WarningMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.ErrorMessageElement = ErrorMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createMessageDomElement() {\r\n    require(\"@/columns/message/internal/MessageElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"span\", {\r\n        classList: [MESSAGE_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass MessageElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createMessageDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, message) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = message.message;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { offsetHeight, offsetWidth } = element;\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${left.toFixed()}px`;\r\n        rootElement.style.width = `${width.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.MessageElement = MessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass WarningMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.WarningMessageElement = WarningMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawInformationMarkBox = exports.drawExclamationMarkBox = void 0;\r\nconst Rect_1 = require(\"../../internal/Rect\");\r\nfunction drawExclamationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw exclamation mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\r\n}\r\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\r\nfunction drawInformationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw i mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\r\n        fillColor,\r\n    });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\r\n}\r\nexports.drawInformationMarkBox = drawInformationMarkBox;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\r\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\r\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\r\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\r\nconst IconStyle_1 = require(\"./style/IconStyle\");\r\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\r\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\r\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\r\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\r\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\r\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\r\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\r\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\r\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\r\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\r\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\r\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\r\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\r\nexports.EVENT_TYPE = EVENT_TYPE;\r\nfunction of(columnStyle, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nrecord, StyleClassDef = Style_1.Style, col, row) {\r\n    if (columnStyle) {\r\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\r\n            return columnStyle;\r\n        }\r\n        else if (typeof columnStyle === \"function\") {\r\n            return of(columnStyle(record, col, row), record, StyleClassDef, col, row);\r\n        }\r\n        else if (record && columnStyle in record) {\r\n            return of(record[columnStyle], record, StyleClassDef, col, row);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return new StyleClassDef(columnStyle);\r\n    }\r\n    else {\r\n        return StyleClassDef.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst STYLE_EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return STYLE_EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor, indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopLeft() {\r\n        return this._indicatorTopLeft;\r\n    }\r\n    set indicatorTopLeft(indicatorTopLeft) {\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopRight() {\r\n        return this._indicatorTopRight;\r\n    }\r\n    set indicatorTopRight(indicatorTopRight) {\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomRight() {\r\n        return this._indicatorBottomRight;\r\n    }\r\n    set indicatorBottomRight(indicatorBottomRight) {\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomLeft() {\r\n        return this._indicatorBottomLeft;\r\n    }\r\n    set indicatorBottomLeft(indicatorBottomLeft) {\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\nfunction normalizeIndicator(indicator) {\r\n    if (typeof indicator === \"string\") {\r\n        return { style: indicator };\r\n    }\r\n    return indicator;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\r\n    switch (index % 3) {\r\n        case 0:\r\n            return \"#979797\";\r\n        case 1:\r\n            return \"#008fb5\";\r\n        case 2:\r\n            return \"#f1c109\";\r\n        default:\r\n    }\r\n    return \"#979797\";\r\n};\r\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new BranchGraphStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\r\n        this._margin = style.margin || 4;\r\n        this._circleSize = style.circleSize || 16;\r\n        this._branchLineWidth = style.branchLineWidth || 4;\r\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\r\n    }\r\n    get branchColors() {\r\n        return this._branchColors;\r\n    }\r\n    set branchColors(branchColors) {\r\n        this._branchColors = branchColors;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    get circleSize() {\r\n        return this._circleSize;\r\n    }\r\n    set circleSize(circleSize) {\r\n        this._circleSize = circleSize;\r\n        this.doChangeStyle();\r\n    }\r\n    get branchLineWidth() {\r\n        return this._branchLineWidth;\r\n    }\r\n    set branchLineWidth(branchLineWidth) {\r\n        this._branchLineWidth = branchLineWidth;\r\n        this.doChangeStyle();\r\n    }\r\n    get mergeStyle() {\r\n        return this._mergeStyle;\r\n    }\r\n    set mergeStyle(mergeStyle) {\r\n        this._mergeStyle = mergeStyle;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new BranchGraphStyle(this);\r\n    }\r\n}\r\nexports.BranchGraphStyle = BranchGraphStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ButtonStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { buttonBgColor } = style;\r\n        this._buttonBgColor = buttonBgColor;\r\n    }\r\n    get buttonBgColor() {\r\n        return this._buttonBgColor;\r\n    }\r\n    set buttonBgColor(buttonBgColor) {\r\n        this._buttonBgColor = buttonBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ButtonStyle(this);\r\n    }\r\n}\r\nexports.ButtonStyle = ButtonStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckStyle(this);\r\n    }\r\n}\r\nexports.CheckStyle = CheckStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass IconStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n    }\r\n    clone() {\r\n        return new IconStyle(this);\r\n    }\r\n}\r\nexports.IconStyle = IconStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        this._imageSizing = style.imageSizing;\r\n        this._margin = style.margin || 4;\r\n    }\r\n    get imageSizing() {\r\n        return this._imageSizing;\r\n    }\r\n    set imageSizing(imageSizing) {\r\n        this._imageSizing = imageSizing;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ImageStyle(this);\r\n    }\r\n}\r\nexports.ImageStyle = ImageStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nclass MenuStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        const { appearance } = style;\r\n        this._appearance = appearance;\r\n    }\r\n    get appearance() {\r\n        return this._appearance || \"menulist-button\";\r\n    }\r\n    set appearance(appearance) {\r\n        this._appearance = appearance;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new MenuStyle(this);\r\n    }\r\n}\r\nexports.MenuStyle = MenuStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass MultilineTextStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textBaseline: \"top\" }));\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new MultilineTextStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.MultilineTextStyle = MultilineTextStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass NumberStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"right\" }));\r\n    }\r\n    clone() {\r\n        return new NumberStyle(this);\r\n    }\r\n}\r\nexports.NumberStyle = NumberStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nconst DEFAULT_BAR_COLOR = (num) => {\r\n    if (num > 80) {\r\n        return \"#20a8d8\";\r\n    }\r\n    if (num > 50) {\r\n        return \"#4dbd74\";\r\n    }\r\n    if (num > 20) {\r\n        return \"#ffc107\";\r\n    }\r\n    return \"#f86c6b\";\r\n};\r\nclass PercentCompleteBarStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new PercentCompleteBarStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\r\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\r\n        this._barHeight = style.barHeight || 3;\r\n    }\r\n    get barColor() {\r\n        return this._barColor;\r\n    }\r\n    set barColor(barColor) {\r\n        this._barColor = barColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barBgColor() {\r\n        return this._barBgColor;\r\n    }\r\n    set barBgColor(barBgColor) {\r\n        this._barBgColor = barBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barHeight() {\r\n        return this._barHeight;\r\n    }\r\n    set barHeight(barHeight) {\r\n        this._barHeight = barHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarStyle(this);\r\n    }\r\n}\r\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\r\n        this._checkColor = checkColor;\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this._checkBorderColor = checkBorderColor;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n    }\r\n    get checkColor() {\r\n        return this._checkColor;\r\n    }\r\n    set checkColor(checkColor) {\r\n        this._checkColor = checkColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBorderColor() {\r\n        return this._uncheckBorderColor;\r\n    }\r\n    set uncheckBorderColor(uncheckBorderColor) {\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBorderColor() {\r\n        return this._checkBorderColor;\r\n    }\r\n    set checkBorderColor(checkBorderColor) {\r\n        this._checkBorderColor = checkBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new RadioStyle(this);\r\n    }\r\n}\r\nexports.RadioStyle = RadioStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"clip\";\r\n        this._appendRightPx = style.appendRightPx;\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    get appendRightPx() {\r\n        return this._appendRightPx;\r\n    }\r\n    set appendRightPx(appendRightPx) {\r\n        this._appendRightPx = appendRightPx;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\r\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\r\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\r\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\r\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\r\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\r\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\r\nconst Column_1 = require(\"./type/Column\");\r\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\r\nconst IconColumn_1 = require(\"./type/IconColumn\");\r\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\r\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\r\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\r\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\r\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\r\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\r\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\r\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\r\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\r\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\r\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\r\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\r\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Column_1.Column(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    NUMBER: new NumberColumn_1.NumberColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckColumn_1.CheckColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    RADIO: new RadioColumn_1.RadioColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    IMAGE: new ImageColumn_1.ImageColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\r\n};\r\nfunction of(columnType) {\r\n    if (!columnType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof columnType === \"string\") {\r\n        const key = columnType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return columnType;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseColumn = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst handlers_1 = require(\"../indicator/handlers\");\r\nconst { setReadonly } = utils_1.obj;\r\nconst COLUMN_FADEIN_STATE_ID = (0, symbolManager_1.getColumnFadeinStateId)();\r\nfunction isFadeinWhenCallbackInPromise(column, grid) {\r\n    if (column.fadeinWhenCallbackInPromise != null) {\r\n        return column.fadeinWhenCallbackInPromise;\r\n    }\r\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\r\n}\r\nfunction getFadeinState(grid) {\r\n    let state = grid[COLUMN_FADEIN_STATE_ID];\r\n    if (!state) {\r\n        state = { cells: {} };\r\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\r\n    return (point) => {\r\n        const state = getFadeinState(grid);\r\n        const stateKey = `${row}:${col}`;\r\n        if (point === 1) {\r\n            delete state.cells[stateKey];\r\n        }\r\n        else {\r\n            state.cells[stateKey] = {\r\n                opacity: point,\r\n            };\r\n        }\r\n        drawCellBase();\r\n        drawInternal();\r\n        const cellState = state.cells[stateKey];\r\n        if (cellState) {\r\n            //\r\n            const ctx = context.getContext();\r\n            ctx.globalAlpha = 1 - cellState.opacity;\r\n            try {\r\n                drawCellBase();\r\n            }\r\n            finally {\r\n                ctx.globalAlpha = 1;\r\n            }\r\n        }\r\n    };\r\n}\r\nconst fadeinMgr = {\r\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        // fadein animation\r\n        const state = getFadeinState(grid);\r\n        const activeFadeins = [\r\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\r\n        ];\r\n        state.activeFadeins = activeFadeins;\r\n        (0, animate_1.animate)(500, (point) => {\r\n            activeFadeins.forEach((f) => f(point));\r\n            if (point === 1) {\r\n                delete state.activeFadeins;\r\n            }\r\n        });\r\n    },\r\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        const state = getFadeinState(grid);\r\n        if (state.activeFadeins) {\r\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\r\n        }\r\n        else {\r\n            drawInternal();\r\n        }\r\n    },\r\n};\r\nclass BaseColumn {\r\n    constructor(option) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n        //Promisecallback\r\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\r\n    }\r\n    get fadeinWhenCallbackInPromise() {\r\n        return this._fadeinWhenCallbackInPromise;\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        var _a;\r\n        const { style, getRecord, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        const record = getRecord();\r\n        let promise;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            promise = record;\r\n        }\r\n        else if ((0, utils_1.isPromise)(cellValue)) {\r\n            promise = cellValue;\r\n        }\r\n        else {\r\n            const msg = info.getMessage();\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promise = msg;\r\n            }\r\n        }\r\n        //\r\n        if (promise) {\r\n            const start = Date.now();\r\n            return Promise.all([\r\n                record,\r\n                cellValue,\r\n                promise.then(() => cellValue).then(() => info.getMessage()),\r\n            ]).then(({ 0: record, 1: val, 2: message }) => {\r\n                const currentContext = context.toCurrentContext();\r\n                const drawRect = currentContext.getDrawRect();\r\n                if (!drawRect) {\r\n                    return;\r\n                }\r\n                const time = Date.now() - start;\r\n                const drawInternal = () => {\r\n                    const currentContext = context.toCurrentContext();\r\n                    const drawRect = currentContext.getDrawRect();\r\n                    if (!drawRect) {\r\n                        return;\r\n                    }\r\n                    const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\r\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\r\n                    this.drawIndicatorsInternal(currentContext, actStyle, helper, grid, info);\r\n                };\r\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\r\n                    drawInternal(); //\r\n                }\r\n                else {\r\n                    const { col, row } = context;\r\n                    if (time < 80) {\r\n                        //80msPromiseCallback\r\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                    else {\r\n                        //\r\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\r\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\r\n            this.drawIndicatorsInternal(context, actStyle, helper, grid, info);\r\n            //\r\n            const { col, row } = context;\r\n            const stateKey = `${col}:${row}`;\r\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\r\n            if (cellState) {\r\n                const ctx = context.getContext();\r\n                ctx.globalAlpha = 1 - cellState.opacity;\r\n                try {\r\n                    drawCellBase();\r\n                }\r\n                finally {\r\n                    ctx.globalAlpha = 1;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n    }\r\n    convertInternal(value) {\r\n        return value != null ? value : \"\";\r\n    }\r\n    drawMessageInternal(message, context, style, helper, grid, info) {\r\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\r\n    }\r\n    drawIndicatorsInternal(context, style, helper, grid, info) {\r\n        var _a;\r\n        const { indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = style;\r\n        for (const [indicatorStyle, kind] of [\r\n            [indicatorTopLeft, 0 /* DrawIndicatorKind.topLeft */],\r\n            [indicatorTopRight, 1 /* DrawIndicatorKind.topRight */],\r\n            [indicatorBottomRight, 2 /* DrawIndicatorKind.bottomRight */],\r\n            [indicatorBottomLeft, 3 /* DrawIndicatorKind.bottomLeft */],\r\n        ]) {\r\n            if (indicatorStyle) {\r\n                (_a = (0, handlers_1.getDrawIndicator)(indicatorStyle)) === null || _a === void 0 ? void 0 : _a(context, indicatorStyle, kind, helper, grid, info);\r\n            }\r\n        }\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        return value;\r\n    }\r\n}\r\nexports.BaseColumn = BaseColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst _ = (0, symbolManager_1.getBranchGraphColumnStateId)();\r\nfunction getAllColumnData(grid, field, callback) {\r\n    const { dataSource } = grid;\r\n    const allData = [];\r\n    let promise;\r\n    for (let index = 0; index < dataSource.length; index++) {\r\n        const data = dataSource.getField(index, field);\r\n        if ((0, utils_1.isPromise)(data)) {\r\n            const dataIndex = allData.length;\r\n            allData.push(undefined);\r\n            if (!promise) {\r\n                promise = data.then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n            else {\r\n                promise = promise\r\n                    .then(() => data)\r\n                    .then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            allData.push(data);\r\n        }\r\n    }\r\n    if (promise) {\r\n        promise.then(() => callback(allData));\r\n    }\r\n    else {\r\n        callback(allData);\r\n    }\r\n}\r\nclass BranchLine {\r\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\r\n        this.fromIndex = fromIndex;\r\n        this.toIndex = toIndex;\r\n        this.colorIndex = colorIndex;\r\n        this.point = point;\r\n    }\r\n}\r\nclass BranchPoint {\r\n    constructor({ index, commit = false, lines = [], tag, }) {\r\n        this.index = index;\r\n        this.commit = commit;\r\n        this.lines = lines;\r\n        this.tag = tag;\r\n    }\r\n    static mergeLines(lines) {\r\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\r\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\r\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\r\n        froms.forEach((f) => {\r\n            for (let i = 0; i < tos.length; i++) {\r\n                const t = tos[i];\r\n                if (t.point) {\r\n                    continue;\r\n                }\r\n                if (f.colorIndex === t.colorIndex) {\r\n                    f.toIndex = t.toIndex;\r\n                    tos.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            result.push(f);\r\n        });\r\n        return result.concat(tos);\r\n    }\r\n    static merge(a, b) {\r\n        if (!a) {\r\n            return b;\r\n        }\r\n        return new BranchPoint({\r\n            index: a.index,\r\n            commit: a.commit || b.commit,\r\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\r\n            tag: a.tag || b.tag,\r\n        });\r\n    }\r\n}\r\nfunction joinLine(timeline, branchIndex) {\r\n    const reverse = [...timeline].reverse();\r\n    for (let i = 0; i < reverse.length; i++) {\r\n        const f = reverse[i][branchIndex];\r\n        if (f) {\r\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\r\n                new BranchLine({\r\n                    toIndex: branchIndex,\r\n                    colorIndex: branchIndex,\r\n                }),\r\n            ]));\r\n            for (let j = 0; j < i; j++) {\r\n                const tl = reverse[j];\r\n                tl[branchIndex] = new BranchPoint({\r\n                    index: branchIndex,\r\n                    lines: [\r\n                        new BranchLine({\r\n                            fromIndex: branchIndex,\r\n                            toIndex: branchIndex,\r\n                            colorIndex: branchIndex,\r\n                        }),\r\n                    ],\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction branch({ timeline, branches }, from, to) {\r\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\r\n    let toIndex = branches.indexOf(to);\r\n    if (toIndex < 0) {\r\n        toIndex = branches.length;\r\n        branches.push(to);\r\n    }\r\n    function findBranchRootIndex() {\r\n        for (let index = timeline.length - 1; index >= 0; index--) {\r\n            const tl = timeline[index];\r\n            const from = tl[fromIndex];\r\n            if (from && from.commit) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    if (fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n        });\r\n    }\r\n    else {\r\n        const fromTargetIndex = findBranchRootIndex();\r\n        if (fromTargetIndex === -1) {\r\n            return null;\r\n        }\r\n        const branchTargetFromIndex = fromTargetIndex + 1;\r\n        const branchPoint = new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    fromIndex,\r\n                    colorIndex: toIndex,\r\n                }),\r\n            ],\r\n        });\r\n        let point;\r\n        let result = null;\r\n        if (branchTargetFromIndex < timeline.length) {\r\n            const targetLine = timeline[branchTargetFromIndex];\r\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\r\n        }\r\n        else {\r\n            point = branchPoint;\r\n            result = branchPoint;\r\n        }\r\n        const from = timeline[fromTargetIndex][fromIndex];\r\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\r\n            new BranchLine({\r\n                toIndex,\r\n                colorIndex: toIndex,\r\n                point,\r\n            }),\r\n        ]));\r\n        return result;\r\n    }\r\n}\r\nfunction commit({ timeline, branches }, name) {\r\n    const index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        return null;\r\n    }\r\n    const result = new BranchPoint({\r\n        index,\r\n        commit: true,\r\n    });\r\n    if (joinLine(timeline, index)) {\r\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\r\n            new BranchLine({\r\n                fromIndex: index,\r\n                colorIndex: index,\r\n            }),\r\n        ]));\r\n    }\r\n    return result;\r\n}\r\nfunction commitTag({ branches }, name, tag) {\r\n    let index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        index = branches.length;\r\n        branches.push(name);\r\n    }\r\n    return new BranchPoint({\r\n        index,\r\n        tag,\r\n    });\r\n}\r\nfunction commitMerge({ timeline, branches }, from, to) {\r\n    const fromIndex = branches.indexOf(from);\r\n    const toIndex = branches.indexOf(to);\r\n    if (toIndex < 0 || fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n            commit: true,\r\n        });\r\n    }\r\n    const result = new BranchPoint({\r\n        index: toIndex,\r\n        commit: true,\r\n        lines: [\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n            new BranchLine({\r\n                fromIndex: toIndex,\r\n                colorIndex: toIndex,\r\n            }),\r\n        ],\r\n    });\r\n    const froms = [...timeline];\r\n    const fromTargetLine = froms.pop();\r\n    if (fromTargetLine) {\r\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    toIndex,\r\n                    colorIndex: fromIndex,\r\n                }),\r\n            ],\r\n        }));\r\n    }\r\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\r\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n        ]));\r\n    }\r\n    joinLine(timeline, toIndex);\r\n    return result;\r\n}\r\nfunction calcCommand(info, command) {\r\n    const { timeline } = info;\r\n    const timelineData = [];\r\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\r\n    const commands = Array.isArray(command) ? command : [command];\r\n    commands.forEach((cmd) => {\r\n        if (!cmd) {\r\n            return;\r\n        }\r\n        let point;\r\n        if (cmd.command === \"branch\") {\r\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\r\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\r\n            point = branch(info, from, to);\r\n        }\r\n        else if (cmd.command === \"commit\") {\r\n            const { branch } = cmd;\r\n            point = commit(info, branch);\r\n        }\r\n        else if (cmd.command === \"merge\") {\r\n            const { from, to } = cmd.branch;\r\n            point = commitMerge(info, from, to);\r\n        }\r\n        else if (cmd.command === \"tag\") {\r\n            const { branch, tag } = cmd;\r\n            point = commitTag(info, branch, tag);\r\n        }\r\n        if (point && point.index > -1) {\r\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\r\n        }\r\n    });\r\n    timeline.push(timelineData);\r\n}\r\nfunction calcBranchesInfo(start, grid, field) {\r\n    const result = {\r\n        branches: [],\r\n        timeline: [],\r\n    };\r\n    getAllColumnData(grid, field, (data) => {\r\n        if (start !== \"top\") {\r\n            data = [...data].reverse();\r\n        }\r\n        data.forEach((command) => {\r\n            calcCommand(result, command);\r\n        });\r\n    });\r\n    return result;\r\n}\r\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\r\n    let w = Math.max(width / branches.length + 1, 5);\r\n    timeline.forEach((tl) => {\r\n        tl.forEach((p, index) => {\r\n            if (index <= 0) {\r\n                // \r\n                return;\r\n            }\r\n            if (p.tag) {\r\n                const textWidth = ctx.measureText(p.tag).width;\r\n                if (w * index + radius * 2 + 4 + textWidth > width) {\r\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    const result = [];\r\n    let x = left;\r\n    branches.forEach(() => {\r\n        result.push(Math.ceil(x + radius));\r\n        x += w;\r\n    });\r\n    return result;\r\n}\r\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \r\n// margin,\r\nbranchColors, branchLineWidth, mergeStyle, }, { \r\n// width,\r\ncol, row, branches, }) {\r\n    if (upLineIndex != null || downLineIndex != null) {\r\n        ctx.strokeStyle = (0, utils_1.getOrApply)(branchColors, branches[colorIndex], colorIndex);\r\n        ctx.lineWidth = branchLineWidth;\r\n        ctx.lineCap = \"round\";\r\n        ctx.beginPath();\r\n        if (upLineIndex != null) {\r\n            const upX = branchXPoints[upLineIndex];\r\n            const upRect = grid.getCellRelativeRect(col, row - 1);\r\n            const upY = upRect.top + upRect.height / 2;\r\n            ctx.moveTo(upX, upY);\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\r\n            }\r\n            else {\r\n                ctx.lineTo(x, y);\r\n            }\r\n        }\r\n        else {\r\n            ctx.moveTo(x, y);\r\n        }\r\n        if (downLineIndex != null) {\r\n            const downX = branchXPoints[downLineIndex];\r\n            const downRect = grid.getCellRelativeRect(col, row + 1);\r\n            const downY = downRect.top + downRect.height / 2;\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\r\n            }\r\n            else {\r\n                ctx.lineTo(downX, downY);\r\n            }\r\n        }\r\n        ctx.stroke();\r\n    }\r\n}\r\n/**\r\n * BranchGraphColumn\r\n *\r\n * Data commands\r\n * - mastar branch or orphan branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * ```\r\n *\r\n * - commit\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * ```\r\n *\r\n * - branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - merge\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - tag\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * ```\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\r\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._start = option.start || \"bottom\";\r\n        this._cache = option.cache != null ? option.cache : false;\r\n    }\r\n    get StyleClass() {\r\n        return BranchGraphStyle_1.BranchGraphStyle;\r\n    }\r\n    clearCache(grid) {\r\n        delete grid[_];\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        if (this._cache) {\r\n            const state = grid[_] || (grid[_] = new Map());\r\n            const { col, row } = context;\r\n            const field = grid.getField(col, row);\r\n            if (!state.has(field)) {\r\n                state.set(field, calcBranchesInfo(this._start, grid, field));\r\n            }\r\n        }\r\n        return super.onDrawCell(cellValue, info, context, grid);\r\n    }\r\n    clone() {\r\n        return new BranchGraphColumn(this);\r\n    }\r\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a, _b;\r\n        const { col, row } = context;\r\n        const field = grid.getField(col, row);\r\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\r\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\r\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\r\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\r\n        const data = this._start !== \"top\"\r\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\r\n            : timeline[row - grid.frozenRowCount];\r\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const rect = context.getRect();\r\n        const radius = circleSize / 2;\r\n        const width = rect.width - margin * 2;\r\n        helper.drawWithClip(context, (ctx) => {\r\n            ctx.textAlign = \"left\";\r\n            ctx.textBaseline = \"middle\";\r\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\r\n            const y = rect.top + rect.height / 2;\r\n            // draw join lines\r\n            data\r\n                .map((point, index) => point\r\n                ? point.lines.map((line) => ({\r\n                    colorIndex: line.colorIndex,\r\n                    upLineIndex: line[upLineIndexKey],\r\n                    downLineIndex: line[downLineIndexKey],\r\n                    pointIndex: index,\r\n                }))\r\n                : [])\r\n                .reduce((p, c) => p.concat(c), []) // flatMap\r\n                // order of overlap\r\n                .sort((a, b) => b.colorIndex - a.colorIndex)\r\n                .forEach((line) => {\r\n                const x = branchXPoints[line.pointIndex];\r\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\r\n                    margin,\r\n                    branchXPoints,\r\n                    branchLineWidth,\r\n                    branchColors,\r\n                    mergeStyle,\r\n                }, {\r\n                    width,\r\n                    col,\r\n                    row,\r\n                    branches,\r\n                });\r\n            });\r\n            // draw commit points\r\n            data.forEach((p, index) => {\r\n                if (p && p.commit) {\r\n                    const x = branchXPoints[index];\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.beginPath();\r\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\r\n                    ctx.fill();\r\n                    ctx.closePath();\r\n                }\r\n            });\r\n            // draw tags\r\n            data.forEach((p, index) => {\r\n                if (p && p.tag) {\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.BranchGraphColumn = BranchGraphColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\r\nconst Column_1 = require(\"./Column\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._caption = option.caption;\r\n    }\r\n    get StyleClass() {\r\n        return ButtonStyle_1.ButtonStyle;\r\n    }\r\n    get caption() {\r\n        return this._caption;\r\n    }\r\n    withCaption(caption) {\r\n        const c = this.clone();\r\n        c._caption = caption;\r\n        return c;\r\n    }\r\n    clone() {\r\n        return new ButtonColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return this._caption || super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._caption || value;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        let active = false;\r\n        const state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (state) {\r\n            if (state.mouseActiveCell &&\r\n                (0, utils_1.cellInRange)(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\r\n                active = true;\r\n            }\r\n            else {\r\n                const { select } = context.getSelection();\r\n                if ((0, utils_1.cellInRange)(range, select.col, select.row)) {\r\n                    active = true;\r\n                }\r\n            }\r\n        }\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.button(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                bgColor: buttonBgColor,\r\n                color,\r\n                font,\r\n                padding,\r\n                shadow: active\r\n                    ? {\r\n                        color: \"rgba(0, 0, 0, 0.48)\",\r\n                        blur: 6,\r\n                        offsetY: 3,\r\n                    }\r\n                    : {},\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.ButtonColumn = ButtonColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return CheckStyle_1.CheckStyle;\r\n    }\r\n    clone() {\r\n        return new CheckColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.checkbox(value, context, opt);\r\n    }\r\n}\r\nexports.CheckColumn = CheckColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Column = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Column extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    clone() {\r\n        return new Column(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, appendRightPx, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.text(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n                icons,\r\n                appendRightPx,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Column = Column;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconColumn = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst Column_1 = require(\"./Column\");\r\nconst IconStyle_1 = require(\"../style/IconStyle\");\r\nfunction repeatArray(val, count) {\r\n    if (count === Infinity) {\r\n        count = 0;\r\n    }\r\n    const a = [];\r\n    for (let i = 0; i < count; i++) {\r\n        a.push(val);\r\n    }\r\n    return a;\r\n}\r\nclass IconColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._tagName = option.tagName || \"i\";\r\n        this._className = option.className;\r\n        this._content = option.content;\r\n        this._name = option.name;\r\n        this._iconWidth = option.iconWidth;\r\n    }\r\n    get StyleClass() {\r\n        return IconStyle_1.IconStyle;\r\n    }\r\n    clone() {\r\n        return new IconColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        const num = Number(value);\r\n        if (!isNaN(num)) {\r\n            const icon = {};\r\n            icons.iconPropKeys.forEach((k) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                icon[k] = style[k];\r\n            });\r\n            icon.className = this._className;\r\n            icon.tagName = this._tagName;\r\n            if (this._content) {\r\n                icon.content = this._content;\r\n            }\r\n            icon.name = this._name;\r\n            if (this._iconWidth) {\r\n                icon.width = this._iconWidth;\r\n            }\r\n            info.getIcon = () => repeatArray(icon, num);\r\n        }\r\n        else {\r\n            info.getIcon = () => null;\r\n        }\r\n        super.drawInternal(\"\", context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.IconColumn = IconColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nconst imgs_1 = require(\"../../internal/imgs\");\r\nconst MAX_LRU_CACHE_SIZE = 50;\r\nfunction getImage(url) {\r\n    return (0, imgs_1.getCacheOrLoad)(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\r\n}\r\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\r\n    let newWidth = width;\r\n    let newHeight = height;\r\n    if (newWidth > maxWidth) {\r\n        newWidth = maxWidth;\r\n        newHeight = (newWidth * height) / width;\r\n    }\r\n    if (newHeight > maxHeight) {\r\n        newHeight = maxHeight;\r\n        newWidth = (newHeight * width) / height;\r\n    }\r\n    return {\r\n        width: newWidth,\r\n        height: newHeight,\r\n    };\r\n}\r\nclass ImageColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return ImageStyle_1.ImageStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\r\n    }\r\n    clone() {\r\n        return new ImageColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\r\n        if (value) {\r\n            const { textAlign, textBaseline, margin, bgColor } = style;\r\n            if (bgColor) {\r\n                drawCellBase({\r\n                    bgColor,\r\n                });\r\n            }\r\n            helper.drawWithClip(context, (ctx) => {\r\n                ctx.textAlign = textAlign;\r\n                ctx.textBaseline = textBaseline;\r\n                const rect = context.getRect();\r\n                if (style.imageSizing === \"keep-aspect-ratio\") {\r\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\r\n                    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, width, height, {\r\n                        offset: margin,\r\n                    });\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\r\n                }\r\n                else {\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ImageColumn = ImageColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nclass MenuColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._options = (0, menu_items_1.normalize)(option.options);\r\n    }\r\n    get StyleClass() {\r\n        return MenuStyle_1.MenuStyle;\r\n    }\r\n    clone() {\r\n        return new MenuColumn(this);\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    withOptions(options) {\r\n        const c = this.clone();\r\n        c._options = (0, menu_items_1.normalize)(options);\r\n        return c;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\r\n        let { color } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const convertedValue = this._convertInternal(value);\r\n        const text = convertedValue != null ? String(convertedValue) : \"\";\r\n        helper.testFontLoad(font, text, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\r\n            const textPadding = basePadding.slice(0);\r\n            textPadding[1] += 26; // icon padding\r\n            const iconPadding = basePadding.slice(0);\r\n            iconPadding[1] += 8;\r\n            if (color == null && (value == null || value === \"\")) {\r\n                color = \"rgba(0, 0, 0, .38)\";\r\n            }\r\n            helper.text(text, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding: textPadding,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n            if (appearance === \"menulist-button\") {\r\n                // draw dropdown arrow icon\r\n                helper.text(\"\", context, {\r\n                    textAlign: \"right\",\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    icons: [\r\n                        {\r\n                            path: \"M0 2 5 7 10 2z\",\r\n                            width: 10,\r\n                            color: \"rgba(0, 0, 0, .54)\",\r\n                        },\r\n                    ],\r\n                    padding: iconPadding,\r\n                });\r\n            }\r\n            else if (appearance !== \"none\") {\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                console.warn(`unsupported appearance:${appearance}`);\r\n            }\r\n        });\r\n    }\r\n    convertInternal(value) {\r\n        return value;\r\n    }\r\n    _convertInternal(value) {\r\n        const options = this._options;\r\n        for (let i = 0; i < options.length; i++) {\r\n            const option = options[i];\r\n            if (option.value === value) {\r\n                value = option.label;\r\n                break;\r\n            }\r\n        }\r\n        return super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._convertInternal(value);\r\n    }\r\n}\r\nexports.MenuColumn = MenuColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\r\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    get StyleClass() {\r\n        return MultilineTextStyle_1.MultilineTextStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextColumn = MultilineTextColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberColumn = void 0;\r\nconst Column_1 = require(\"./Column\");\r\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\r\nlet defaultFotmat;\r\nclass NumberColumn extends Column_1.Column {\r\n    static get defaultFotmat() {\r\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\r\n    }\r\n    static set defaultFotmat(fmt) {\r\n        defaultFotmat = fmt;\r\n    }\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._format = option.format;\r\n    }\r\n    get StyleClass() {\r\n        return NumberStyle_1.NumberStyle;\r\n    }\r\n    clone() {\r\n        return new NumberColumn(this);\r\n    }\r\n    get format() {\r\n        return this._format;\r\n    }\r\n    withFormat(format) {\r\n        const c = this.clone();\r\n        c._format = format;\r\n        return c;\r\n    }\r\n    convertInternal(value) {\r\n        const num = Number(value);\r\n        if (isNaN(num)) {\r\n            const convertedValue = super.convertInternal(value);\r\n            return convertedValue != null ? String(convertedValue) : \"\";\r\n        }\r\n        const format = this._format || NumberColumn.defaultFotmat;\r\n        return format.format(num);\r\n    }\r\n}\r\nexports.NumberColumn = NumberColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst Column_1 = require(\"./Column\");\r\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\r\nconst MARGIN = 2;\r\nclass PercentCompleteBarColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._min = option.min || 0;\r\n        this._max = option.max || this._min + 100;\r\n        this._formatter = option.formatter || ((v) => v);\r\n    }\r\n    get StyleClass() {\r\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\r\n        const { barColor, barBgColor, barHeight } = style;\r\n        let textValue = value != null ? String(value) : \"\";\r\n        if (utils_1.str.endsWith(textValue, \"%\")) {\r\n            textValue = textValue.slice(0, -1);\r\n        }\r\n        const num = Number(textValue);\r\n        if (isNaN(num)) {\r\n            return;\r\n        }\r\n        const rate = num < this._min\r\n            ? 0\r\n            : num > this._max\r\n                ? 1\r\n                : (num - this._min) / (this._max - this._min);\r\n        helper.drawWithClip(context, (ctx) => {\r\n            const rect = context.getRect();\r\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\r\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\r\n            const barLeft = rect.left + MARGIN;\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barBgColor, rate * 100) || \"#f0f3f5\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\r\n            ctx.fill();\r\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barColor, rate * 100) || \"#20a8d8\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barSize, barHeight);\r\n            ctx.fill();\r\n        });\r\n    }\r\n}\r\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return RadioStyle_1.RadioStyle;\r\n    }\r\n    clone() {\r\n        return new RadioColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            checkColor,\r\n            uncheckBorderColor,\r\n            checkBorderColor,\r\n            uncheckBgColor,\r\n            checkBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.radioButton(value, context, opt);\r\n    }\r\n}\r\nexports.RadioColumn = RadioColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadIcons = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction loadIcons(icon, context, helper, callback) {\r\n    let argIcon = undefined;\r\n    if (icon) {\r\n        if ((0, utils_1.isPromise)(icon)) {\r\n            icon.then((i) => {\r\n                loadIcons(i, context.toCurrentContext(), helper, callback);\r\n            });\r\n        }\r\n        else {\r\n            const iconList = icons.toNormalizeArray(icon);\r\n            iconList.forEach((i) => {\r\n                if (i.font && i.content) {\r\n                    helper.testFontLoad(i.font, i.content, context);\r\n                }\r\n            });\r\n            argIcon = iconList;\r\n        }\r\n    }\r\n    callback(argIcon, context);\r\n}\r\nexports.loadIcons = loadIcons;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toBoolean = void 0;\r\nfunction toBoolean(val) {\r\n    if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return false;\r\n        }\r\n        else if (val === \"off\") {\r\n            return false;\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return false;\r\n        }\r\n    }\r\n    return Boolean(val);\r\n}\r\nexports.toBoolean = toBoolean;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\r\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\r\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DG_EVENT_TYPE = void 0;\r\n/**\r\n * DrawGrid event types\r\n * @classdesc cheetahGrid.core.EVENT_TYPE\r\n * @memberof cheetahGrid.core\r\n */\r\nexports.DG_EVENT_TYPE = {\r\n    CLICK_CELL: \"click_cell\",\r\n    DBLCLICK_CELL: \"dblclick_cell\",\r\n    DBLTAP_CELL: \"dbltap_cell\",\r\n    MOUSEDOWN_CELL: \"mousedown_cell\",\r\n    MOUSEDOWN_GRID: 'mousedown_grid',\r\n    MOUSEUP_CELL: \"mouseup_cell\",\r\n    SELECTED_CELL: \"selected_cell\",\r\n    KEYDOWN: \"keydown\",\r\n    MOUSEMOVE_CELL: \"mousemove_cell\",\r\n    MOUSEENTER_CELL: \"mouseenter_cell\",\r\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\r\n    MOUSEOVER_CELL: \"mouseover_cell\",\r\n    MOUSEOUT_CELL: \"mouseout_cell\",\r\n    TOUCHSTART_CELL: \"touchstart_cell\",\r\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\r\n    INPUT_CELL: \"input_cell\",\r\n    PASTE_CELL: \"paste_cell\",\r\n    DELETE_CELL: \"delete_cell\",\r\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\r\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\r\n    RESIZE_COLUMN: \"resize_column\",\r\n    SCROLL: \"scroll\",\r\n    FOCUS_GRID: \"focus_grid\",\r\n    BLUR_GRID: \"blur_grid\",\r\n};\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DrawGrid = void 0;\r\nconst calc = __importStar(require(\"../internal/calc\"));\r\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\r\nconst style = __importStar(require(\"../internal/style\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst paste_utils_1 = require(\"../internal/paste-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\nconst EventTarget_1 = require(\"./EventTarget\");\r\nconst NumberMap_1 = require(\"../internal/NumberMap\");\r\nconst Rect_1 = require(\"../internal/Rect\");\r\nconst Scrollable_1 = require(\"../internal/Scrollable\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\nconst { \r\n/** @private */\r\nisTouchEvent, \r\n/** @private */\r\ngetMouseButtons, \r\n/** @private */\r\ngetKeyCode, \r\n/** @private */\r\ncancel: cancelEvent, } = utils_1.event;\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n/** @private */\r\nfunction createRootElement() {\r\n    const element = document.createElement(\"div\");\r\n    element.classList.add(\"cheetah-grid\");\r\n    return element;\r\n}\r\n/** @private */\r\nconst KEY_BS = 8;\r\n/** @private */\r\nconst KEY_TAB = 9;\r\n/** @private */\r\nconst KEY_ENTER = 13;\r\n/** @private */\r\nconst KEY_END = 35;\r\n/** @private */\r\nconst KEY_HOME = 36;\r\n/** @private */\r\nconst KEY_LEFT = 37;\r\n/** @private */\r\nconst KEY_UP = 38;\r\n/** @private */\r\nconst KEY_RIGHT = 39;\r\n/** @private */\r\nconst KEY_DOWN = 40;\r\n/** @private */\r\nconst KEY_DEL = 46;\r\n/** @private */\r\nconst KEY_ALPHA_A = 65;\r\n/** @private */\r\nconst KEY_ALPHA_C = 67;\r\n/** @private */\r\nconst KEY_ALPHA_V = 86;\r\n//private methods\r\n/** @private */\r\nfunction _vibrate(e) {\r\n    if (navigator.vibrate && isTouchEvent(e)) {\r\n        navigator.vibrate(50);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetRowAt(absoluteY) {\r\n    const internal = this.getTargetRowAtInternal(absoluteY);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const findBefore = (startRow, startBottom) => {\r\n        let bottom = startBottom;\r\n        for (let row = startRow; row >= 0; row--) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const top = bottom - height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            bottom = top;\r\n        }\r\n        return null;\r\n    };\r\n    const findAfter = (startRow, startBottom) => {\r\n        let top = startBottom - _getRowHeight.call(this, startRow);\r\n        const { rowCount } = this[_];\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = top + height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            top = bottom;\r\n        }\r\n        return null;\r\n    };\r\n    const candidateRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\r\n    const bottom = _getRowsHeight.call(this, 0, candidateRow);\r\n    if (absoluteY >= bottom) {\r\n        return findAfter(candidateRow, bottom);\r\n    }\r\n    else {\r\n        return findBefore(candidateRow, bottom);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetColAt(grid, absoluteX) {\r\n    let left = 0;\r\n    const { colCount } = grid[_];\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    let { top } = grid[_].scroll;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        const bottom = top + height;\r\n        if (bottom > absoluteY) {\r\n            return {\r\n                top,\r\n                row,\r\n            };\r\n        }\r\n        top = bottom;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenColAt(grid, absoluteX) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    let { left } = grid[_].scroll;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getFrozenRowsRect(grid) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    const { top } = grid[_].scroll;\r\n    let height = 0;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        height += _getRowHeight.call(grid, row);\r\n    }\r\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\r\n}\r\n/** @private */\r\nfunction _getFrozenColsRect(grid) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    const { left } = grid[_].scroll;\r\n    let width = 0;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        width += _getColWidth(grid, col);\r\n    }\r\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\r\n}\r\n/** @private */\r\nfunction _getCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return null;\r\n    }\r\n    return grid[_].drawCells[row][col];\r\n}\r\n/** @private */\r\nfunction _putCellDrawing(grid, col, row, context) {\r\n    if (!grid[_].drawCells[row]) {\r\n        grid[_].drawCells[row] = {};\r\n    }\r\n    grid[_].drawCells[row][col] = context;\r\n}\r\n/** @private */\r\nfunction _removeCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return;\r\n    }\r\n    delete grid[_].drawCells[row][col];\r\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\r\n        delete grid[_].drawCells[row];\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\r\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\r\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\r\n    if (drawRect.height > 0 && drawRect.width > 0) {\r\n        ctx.save();\r\n        try {\r\n            const cellDrawing = _getCellDrawing(this, col, row);\r\n            if (cellDrawing) {\r\n                cellDrawing.cancel();\r\n            }\r\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\r\n            const p = this.onDrawCell(col, row, dcContext);\r\n            if ((0, utils_1.isPromise)(p)) {\r\n                //\r\n                _putCellDrawing(this, col, row, dcContext);\r\n                const pCol = col;\r\n                dcContext._delayMode(this, () => {\r\n                    _removeCellDrawing(this, pCol, row);\r\n                });\r\n                p.then(() => {\r\n                    dcContext.terminate();\r\n                });\r\n            }\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\r\n    const { colCount } = grid[_];\r\n    const drawOuter = (col, absoluteLeft) => {\r\n        //\r\n        if (col >= colCount - 1 &&\r\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\r\n            const outerLeft = absoluteLeft - visibleRect.left;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteLeft = 0;\r\n    if (initFrozenCol) {\r\n        let absoluteLeft = initFrozenCol.left;\r\n        const count = grid[_].frozenColCount;\r\n        for (let { col } = initFrozenCol; col < count; col++) {\r\n            const width = _getColWidth(grid, col);\r\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\r\n            absoluteLeft += width;\r\n            if (drawRight <= absoluteLeft) {\r\n                //\r\n                drawOuter(col, absoluteLeft);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteLeft = absoluteLeft;\r\n    }\r\n    let absoluteLeft = initCol.left;\r\n    for (let { col } = initCol; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\r\n        absoluteLeft += width;\r\n        if (drawRight <= absoluteLeft) {\r\n            //\r\n            drawOuter(col, absoluteLeft);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(colCount - 1, absoluteLeft);\r\n}\r\n/** @private */\r\nfunction _getInitContext() {\r\n    return this._getInitContext();\r\n}\r\n/** @private */\r\nfunction _invalidateRect(grid, drawRect) {\r\n    const visibleRect = _getVisibleRect(grid);\r\n    const { rowCount } = grid[_];\r\n    const ctx = _getInitContext.call(grid);\r\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\r\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\r\n        row: rowCount,\r\n    };\r\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\r\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\r\n        col: grid[_].colCount,\r\n    };\r\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\r\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\r\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\r\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\r\n    const drawLayers = new DrawLayers();\r\n    const drawOuter = (row, absoluteTop) => {\r\n        //\r\n        if (row >= rowCount - 1 &&\r\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\r\n            const outerTop = absoluteTop - visibleRect.top;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteTop = 0;\r\n    if (initFrozenRow) {\r\n        let absoluteTop = initFrozenRow.top;\r\n        const count = grid[_].frozenRowCount;\r\n        for (let { row } = initFrozenRow; row < count; row++) {\r\n            const height = _getRowHeight.call(grid, row);\r\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\r\n            absoluteTop += height;\r\n            if (drawBottom <= absoluteTop) {\r\n                //\r\n                drawOuter(row, absoluteTop);\r\n                drawLayers.draw(ctx);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteTop = absoluteTop;\r\n    }\r\n    let absoluteTop = initRow.top;\r\n    for (let { row } = initRow; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        //\r\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\r\n        absoluteTop += height;\r\n        if (drawBottom <= absoluteTop) {\r\n            //\r\n            drawOuter(row, absoluteTop);\r\n            drawLayers.draw(ctx);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(rowCount - 1, absoluteTop);\r\n    drawLayers.draw(ctx);\r\n}\r\n/** @private */\r\nfunction _toPxWidth(grid, width) {\r\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\r\n}\r\n/** @private */\r\nfunction _adjustColWidth(grid, col, orgWidth) {\r\n    const limits = _getColWidthLimits(grid, col);\r\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\r\n}\r\n/** @private */\r\nfunction _applyColWidthLimits(limits, orgWidth) {\r\n    if (!limits) {\r\n        return orgWidth;\r\n    }\r\n    if (limits.min) {\r\n        if (limits.min > orgWidth) {\r\n            return limits.min;\r\n        }\r\n    }\r\n    if (limits.max) {\r\n        if (limits.max < orgWidth) {\r\n            return limits.max;\r\n        }\r\n    }\r\n    return orgWidth;\r\n}\r\n/**\r\n * Gets the definition of the column width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {string|number} width definition\r\n * @private\r\n */\r\nfunction _getColWidthDefine(grid, col) {\r\n    const width = grid[_].colWidthsMap.get(col);\r\n    if (width) {\r\n        return width;\r\n    }\r\n    return grid.defaultColWidth;\r\n}\r\n/**\r\n * Gets the column width limits.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {object|null} the column width limits\r\n * @private\r\n */\r\nfunction _getColWidthLimits(grid, col) {\r\n    const limit = grid[_].colWidthsLimit[col];\r\n    if (!limit) {\r\n        return null;\r\n    }\r\n    const result = {};\r\n    if (limit.min) {\r\n        result.min = _toPxWidth(grid, limit.min);\r\n        result.minDef = limit.min;\r\n    }\r\n    if (limit.max) {\r\n        result.max = _toPxWidth(grid, limit.max);\r\n        result.maxDef = limit.max;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Checks if the given width definition is `auto`.\r\n * @param {string|number} width width definition to check\r\n * @returns {boolean} `true ` if the given width definition is `auto`\r\n * @private\r\n */\r\nfunction isAutoDefine(width) {\r\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\r\n}\r\n/**\r\n * Creates a formula to calculate the auto width.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {string} formula\r\n * @private\r\n */\r\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\r\n    const fullWidth = grid[_].calcWidthContext.full;\r\n    let sumMin = 0;\r\n    const others = [];\r\n    let autoCount = 0;\r\n    const hasLimitsOnAuto = [];\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        const limits = _getColWidthLimits(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            if (limits) {\r\n                hasLimitsOnAuto.push(limits);\r\n                if (limits.min) {\r\n                    sumMin += limits.min;\r\n                }\r\n            }\r\n            autoCount++;\r\n        }\r\n        else {\r\n            let expr = def;\r\n            if (limits) {\r\n                const orgWidth = _toPxWidth(grid, expr);\r\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\r\n                if (orgWidth !== newWidth) {\r\n                    expr = `${newWidth}px`;\r\n                }\r\n                sumMin += newWidth;\r\n            }\r\n            others.push(expr);\r\n        }\r\n        if (shortCircuit && sumMin > fullWidth) {\r\n            // Returns 0px because it has consumed the full width.\r\n            return \"0px\";\r\n        }\r\n    }\r\n    if (hasLimitsOnAuto.length && others.length) {\r\n        const autoPx = (fullWidth -\r\n            _toPxWidth(grid, `calc(${others\r\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\r\n                .join(\" + \")})`)) /\r\n            autoCount;\r\n        hasLimitsOnAuto.forEach((limits) => {\r\n            if (limits.min && autoPx < limits.min) {\r\n                others.push(limits.minDef);\r\n                autoCount--;\r\n            }\r\n            else if (limits.max && limits.max < autoPx) {\r\n                others.push(limits.maxDef);\r\n                autoCount--;\r\n            }\r\n        });\r\n        if (shortCircuit && autoCount <= 0) {\r\n            return `${autoPx}px`;\r\n        }\r\n    }\r\n    if (others.length) {\r\n        const strDefs = [];\r\n        let num = 0;\r\n        others.forEach((c) => {\r\n            if (typeof c === \"number\") {\r\n                num += c;\r\n            }\r\n            else {\r\n                strDefs.push(c);\r\n            }\r\n        });\r\n        strDefs.push(`${num}px`);\r\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\r\n    }\r\n    else {\r\n        return `${100 / autoCount}%`;\r\n    }\r\n}\r\n/**\r\n * Calculate the pixels of width from the definition of width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {string|number} width width definition\r\n * @returns {number} the pixels of width\r\n * @private\r\n */\r\nfunction _colWidthDefineToPxWidth(grid, width) {\r\n    if (isAutoDefine(width)) {\r\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\r\n    }\r\n    return _toPxWidth(grid, width);\r\n}\r\n/** @private */\r\nfunction _getColWidth(grid, col) {\r\n    const width = _getColWidthDefine(grid, col);\r\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\r\n}\r\n/** @private */\r\nfunction _setColWidth(grid, col, width) {\r\n    if (width != null) {\r\n        grid[_].colWidthsMap.put(col, width);\r\n    }\r\n    else {\r\n        grid[_].colWidthsMap.remove(col);\r\n    }\r\n}\r\n/**\r\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {void}\r\n * @private\r\n */\r\nfunction _storeAutoColWidthExprs(grid) {\r\n    let expr = null;\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _getColsWidth(grid, startCol, endCol) {\r\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\r\n    const colCount = endCol - startCol + 1;\r\n    let w = defaultColPxWidth * colCount;\r\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\r\n        w +=\r\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\r\n                defaultColPxWidth;\r\n    });\r\n    for (let col = startCol; col <= endCol; col++) {\r\n        if (grid[_].colWidthsMap.has(col)) {\r\n            continue;\r\n        }\r\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\r\n        if (adj !== defaultColPxWidth) {\r\n            w += adj - defaultColPxWidth;\r\n        }\r\n    }\r\n    return w;\r\n}\r\n/** @private */\r\nfunction _getRowHeight(row) {\r\n    const internal = this.getRowHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const height = this[_].rowHeightsMap.get(row);\r\n    if (height) {\r\n        return height;\r\n    }\r\n    return this[_].defaultRowHeight;\r\n}\r\n/** @private */\r\nfunction _setRowHeight(grid, row, height) {\r\n    if (height != null) {\r\n        grid[_].rowHeightsMap.put(row, height);\r\n    }\r\n    else {\r\n        grid[_].rowHeightsMap.remove(row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getRowsHeight(startRow, endRow) {\r\n    const internal = this.getRowsHeightInternal(startRow, endRow);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const rowCount = endRow - startRow + 1;\r\n    let h = this[_].defaultRowHeight * rowCount;\r\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _getScrollWidth(grid) {\r\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\r\n}\r\n/** @private */\r\nfunction _getScrollHeight(row) {\r\n    const internal = this.getScrollHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    let h = this[_].defaultRowHeight * this[_].rowCount;\r\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _onScroll(grid, _e) {\r\n    const lastLeft = grid[_].scroll.left;\r\n    const lastTop = grid[_].scroll.top;\r\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\r\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\r\n    //\r\n    grid[_].scroll = {\r\n        left: grid[_].scrollable.scrollLeft,\r\n        top: grid[_].scrollable.scrollTop,\r\n    };\r\n    // If the focus is on the header, recalculate and move the focus position.\r\n    const { focus } = grid[_].selection;\r\n    const isFrozenCell = grid.isFrozenCell(focus.col, focus.row);\r\n    if (isFrozenCell &&\r\n        (((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.col) && moveX) || ((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) && moveY))) {\r\n        grid.setFocusCursor(focus.col, focus.row);\r\n    }\r\n    const visibleRect = _getVisibleRect(grid);\r\n    if (Math.abs(moveX) >= visibleRect.width ||\r\n        Math.abs(moveY) >= visibleRect.height) {\r\n        //\r\n        _invalidateRect(grid, visibleRect);\r\n    }\r\n    else {\r\n        //\r\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\r\n        if (moveX !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveX < 0) {\r\n                redrawRect.width = -moveX;\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenColsRect(grid);\r\n                    redrawRect.width += frozenRect.width;\r\n                }\r\n            }\r\n            else if (moveX > 0) {\r\n                redrawRect.left = redrawRect.right - moveX;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveX > 0) {\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\r\n                }\r\n            }\r\n        }\r\n        if (moveY !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveY < 0) {\r\n                redrawRect.height = -moveY;\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenRowsRect(grid);\r\n                    redrawRect.height += frozenRect.height;\r\n                }\r\n            }\r\n            else if (moveY > 0) {\r\n                redrawRect.top = redrawRect.bottom - moveY;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveY > 0) {\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\n// eslint-disable-next-line complexity\r\nfunction _onKeyDownMove(e) {\r\n    var _a, _b, _c;\r\n    const { shiftKey } = e;\r\n    const keyCode = getKeyCode(e);\r\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\r\n    if (keyCode === KEY_LEFT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"W\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"W\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_UP) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"N\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_RIGHT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"E\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_DOWN) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_HOME) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", \"W\");\r\n        }\r\n        else {\r\n            move(this, null, \"W\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_END) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", \"E\");\r\n        }\r\n        else {\r\n            move(this, null, \"E\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnTab === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnTab({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!hMove.call(this, \"W\", false)) {\r\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n                if (0 > row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\", false)) {\r\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n                if (this.rowCount <= row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, 0, row, false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnEnter === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnEnter({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!vMove.call(this, \"N\", false)) {\r\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n                if (0 > col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\", false)) {\r\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n                if (this.colCount <= col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n        keyCode === KEY_ALPHA_A &&\r\n        (e.ctrlKey || e.metaKey)) {\r\n        this.selection.range = {\r\n            start: { col: 0, row: 0 },\r\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\r\n        };\r\n        this.invalidate();\r\n        cancelEvent(e);\r\n    }\r\n    function move(grid, vDir, hDir) {\r\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\r\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\r\n        _moveFocusCell.call(grid, col, row, shiftKey);\r\n    }\r\n    function vMove(vDir, shiftKeyFlg = shiftKey) {\r\n        const { col } = focusCell;\r\n        let row;\r\n        if (vDir === \"S\") {\r\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n            if (this.rowCount <= row) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, this.rowCount - 1);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n            if (row < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, 0);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n    function hMove(hDir, shiftKeyFlg = shiftKey) {\r\n        const { row } = focusCell;\r\n        let col;\r\n        if (hDir === \"E\") {\r\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n            if (this.colCount <= col) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(this.colCount - 1, row);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n            if (col < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(0, row);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n}\r\n/** @private */\r\nfunction _moveFocusCell(col, row, shiftKey) {\r\n    const offset = this.getOffsetInvalidateCells();\r\n    function extendRange(range) {\r\n        if (offset > 0) {\r\n            range.start.col -= offset;\r\n            range.start.row -= offset;\r\n            range.end.col += offset;\r\n            range.end.row += offset;\r\n        }\r\n        return range;\r\n    }\r\n    const beforeRange = extendRange(this.selection.range);\r\n    const beforeRect = this.getCellRangeRect(beforeRange);\r\n    this.selection._setFocusCell(col, row, shiftKey);\r\n    this.makeVisibleCell(col, row);\r\n    this.focusCell(col, row);\r\n    const afterRange = extendRange(this.selection.range);\r\n    const afterRect = this.getCellRangeRect(afterRange);\r\n    if (afterRect.intersection(beforeRect)) {\r\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\r\n        _invalidateRect(this, invalidateRect);\r\n    }\r\n    else {\r\n        _invalidateRect(this, beforeRect);\r\n        _invalidateRect(this, afterRect);\r\n    }\r\n}\r\n/** @private */\r\nfunction _updatedSelection() {\r\n    const { focusControl } = this[_];\r\n    const { col: selCol, row: selRow } = this[_].selection.select;\r\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\r\n        col: selCol,\r\n        row: selRow,\r\n    });\r\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\r\n    focusControl.editMode = editMode;\r\n    if (editMode) {\r\n        focusControl.storeInputStatus();\r\n        focusControl.setDefaultInputStatus();\r\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\r\n            col: selCol,\r\n            row: selRow,\r\n            input: focusControl.input,\r\n        });\r\n    }\r\n}\r\n/** @private */\r\nfunction _getMouseAbstractPoint(grid, evt) {\r\n    let e;\r\n    if (isTouchEvent(evt)) {\r\n        e = evt.changedTouches[0];\r\n    }\r\n    else {\r\n        e = evt;\r\n    }\r\n    const clientX = e.clientX || e.pageX + window.scrollX;\r\n    const clientY = e.clientY || e.pageY + window.scrollY;\r\n    const rect = grid[_].canvas.getBoundingClientRect();\r\n    if (rect.right <= clientX) {\r\n        return null;\r\n    }\r\n    if (rect.bottom <= clientY) {\r\n        return null;\r\n    }\r\n    const x = clientX - rect.left + grid[_].scroll.left;\r\n    const y = clientY - rect.top + grid[_].scroll.top;\r\n    return { x, y };\r\n}\r\n/** @private */\r\nfunction _bindEvents() {\r\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\r\n    const grid = this;\r\n    const { handler, element, scrollable } = grid[_];\r\n    const getCellEventArgsSet = (e) => {\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return {};\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return {\r\n                abstractPos,\r\n                cell,\r\n            };\r\n        }\r\n        const eventArgs = {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            event: e,\r\n        };\r\n        return {\r\n            abstractPos,\r\n            cell,\r\n            eventArgs,\r\n        };\r\n    };\r\n    const canResizeColumn = (col) => {\r\n        if (grid[_].disableColumnResize) {\r\n            return false;\r\n        }\r\n        const limit = grid[_].colWidthsLimit[col];\r\n        if (!limit || !limit.min || !limit.max) {\r\n            return true;\r\n        }\r\n        return limit.max !== limit.min;\r\n    };\r\n    handler.on(element, \"mousedown\", (e) => {\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs, cell } = eventArgsSet;\r\n        if (!abstractPos) {\r\n            return;\r\n        }\r\n        if (cell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_GRID, cell);\r\n        }\r\n        if (eventArgs) {\r\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\r\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n                return;\r\n            }\r\n        }\r\n        if (getMouseButtons(e) !== 1 &&\r\n            // For mobile safari. If we do not post-process here, the keyboard will not start in Mobile Safari.\r\n            e.buttons !== 0) {\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            //\r\n            grid[_].columnResizer.start(resizeCol, e);\r\n        }\r\n        else {\r\n            //\r\n            grid[_].cellSelector.start(e);\r\n        }\r\n    });\r\n    handler.on(element, \"mouseup\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\r\n        }\r\n    });\r\n    let doubleTapBefore = null;\r\n    let longTouchId = null;\r\n    let useTouch = null;\r\n    function useTouchStart() {\r\n        if ((useTouch === null || useTouch === void 0 ? void 0 : useTouch.timeoutId) != null)\r\n            clearTimeout(useTouch.timeoutId);\r\n        useTouch = {};\r\n    }\r\n    function useTouchEnd() {\r\n        if (useTouch) {\r\n            if (useTouch.timeoutId != null)\r\n                clearTimeout(useTouch.timeoutId);\r\n            useTouch.timeoutId = setTimeout(() => {\r\n                useTouch = null;\r\n            }, 350);\r\n        }\r\n    }\r\n    handler.on(element, \"touchstart\", (e) => {\r\n        // Since it is an environment where touch start can be used, it blocks mousemove that occurs after this.\r\n        useTouchStart();\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.TOUCHSTART_CELL, eventArgs);\r\n        }\r\n        if (!doubleTapBefore) {\r\n            doubleTapBefore = eventArgs;\r\n            setTimeout(() => {\r\n                doubleTapBefore = null;\r\n            }, 350);\r\n        }\r\n        else {\r\n            if (eventArgs &&\r\n                eventArgs.col === doubleTapBefore.col &&\r\n                eventArgs.row === doubleTapBefore.row) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\r\n            }\r\n            doubleTapBefore = null;\r\n            if (e.defaultPrevented) {\r\n                return;\r\n            }\r\n        }\r\n        if (e.targetTouches.length > 1) {\r\n            // If touchstart with multiple fingers,\r\n            // it is not considered as an operation event.\r\n            return;\r\n        }\r\n        longTouchId = setTimeout(() => {\r\n            //\r\n            longTouchId = null;\r\n            const abstractPos = _getMouseAbstractPoint(grid, e);\r\n            if (!abstractPos) {\r\n                return;\r\n            }\r\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\r\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n                //\r\n                grid[_].columnResizer.start(resizeCol, e);\r\n            }\r\n            else {\r\n                //\r\n                grid[_].cellSelector.start(e);\r\n            }\r\n        }, 500);\r\n    });\r\n    function cancel(_e) {\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            longTouchId = null;\r\n        }\r\n    }\r\n    handler.on(element, \"touchcancel\", (e) => {\r\n        cancel(e);\r\n        useTouchEnd();\r\n    });\r\n    handler.on(element, \"touchmove\", cancel);\r\n    handler.on(element, \"touchend\", (e) => {\r\n        useTouchEnd();\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            grid[_].cellSelector.select(e);\r\n            longTouchId = null;\r\n        }\r\n    });\r\n    let isMouseover = false;\r\n    let mouseEnterCell = null;\r\n    let mouseOverCell = null;\r\n    function onMouseenterCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseEnterCell = cell;\r\n    }\r\n    function onMouseleaveCell(related) {\r\n        const beforeMouseCell = mouseEnterCell;\r\n        mouseEnterCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    function onMouseoverCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseOverCell = cell;\r\n    }\r\n    function onMouseoutCell(related) {\r\n        const beforeMouseCell = mouseOverCell;\r\n        mouseOverCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    const scrollElement = scrollable.getElement();\r\n    handler.on(scrollElement, \"mouseover\", (_e) => {\r\n        isMouseover = true;\r\n    });\r\n    handler.on(scrollElement, \"mouseout\", (_e) => {\r\n        isMouseover = false;\r\n        onMouseoutCell();\r\n    });\r\n    handler.on(element, \"mouseleave\", (_e) => {\r\n        onMouseleaveCell();\r\n    });\r\n    handler.on(element, \"mousemove\", (e) => {\r\n        if (useTouch) {\r\n            // Probably a mousemove event triggered by a touchstart. Therefore, this event is blocked.\r\n            return;\r\n        }\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs } = eventArgsSet;\r\n        if (eventArgs) {\r\n            const beforeMouseCell = mouseEnterCell;\r\n            if (beforeMouseCell) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n                if (beforeMouseCell.col !== eventArgs.col ||\r\n                    beforeMouseCell.row !== eventArgs.row) {\r\n                    const enterCell = {\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    };\r\n                    const outCell = onMouseoutCell(enterCell);\r\n                    const leaveCell = onMouseleaveCell(enterCell);\r\n                    onMouseenterCell(enterCell, leaveCell);\r\n                    if (isMouseover) {\r\n                        onMouseoverCell(enterCell, outCell);\r\n                    }\r\n                }\r\n                else if (isMouseover && !mouseOverCell) {\r\n                    onMouseoverCell({\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                const enterCell = {\r\n                    col: eventArgs.col,\r\n                    row: eventArgs.row,\r\n                };\r\n                onMouseenterCell(enterCell);\r\n                if (isMouseover) {\r\n                    onMouseoverCell(enterCell);\r\n                }\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n            }\r\n        }\r\n        else {\r\n            onMouseoutCell();\r\n            onMouseleaveCell();\r\n        }\r\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\r\n            return;\r\n        }\r\n        const { style } = element;\r\n        if (!abstractPos) {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            style.cursor = \"col-resize\";\r\n        }\r\n        else {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n        }\r\n    });\r\n    handler.on(element, \"click\", (e) => {\r\n        if (grid[_].columnResizer.lastMoving(e) ||\r\n            grid[_].cellSelector.lastMoving(e)) {\r\n            return;\r\n        }\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"contextmenu\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"dblclick\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\r\n    });\r\n    grid[_].focusControl.onKeyDown((evt) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\r\n    });\r\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\r\n    });\r\n    scrollable.onScroll((e) => {\r\n        _onScroll(grid, e);\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\r\n    });\r\n    grid[_].focusControl.onKeyDownMove((e) => {\r\n        _onKeyDownMove.call(grid, e);\r\n    });\r\n    grid.listen(\"copydata\", (range) => {\r\n        const copyRange = grid.getCopyRangeInternal(range);\r\n        const copyLines = [];\r\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\r\n            let copyLine = \"\";\r\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\r\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\r\n                let strCellValue;\r\n                if (typeof copyCellValue === \"string\") {\r\n                    strCellValue = copyCellValue;\r\n                }\r\n                else if (copyCellValue == null ||\r\n                    // Asynchronous data is treated as empty.\r\n                    (typeof Promise !== \"undefined\" && copyCellValue instanceof Promise)) {\r\n                    strCellValue = \"\";\r\n                }\r\n                else {\r\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                    strCellValue = `${copyCellValue}`;\r\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\r\n                        // Ignore maybe object\r\n                        strCellValue = \"\";\r\n                    }\r\n                }\r\n                copyLine += /[\\t\\n]/.test(strCellValue)\r\n                    ? // Need quote\r\n                        `\"${strCellValue.replace(/\"/g, '\"\"')}\"`\r\n                    : strCellValue;\r\n                if (col < copyRange.end.col) {\r\n                    copyLine += \"\\t\";\r\n                }\r\n            }\r\n            copyLines.push(copyLine);\r\n        }\r\n        return copyLines.join(\"\\n\");\r\n    });\r\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\r\n    grid[_].focusControl.onPaste(({ value, event }) => {\r\n        const { trimOnPaste } = grid;\r\n        const normalizedValue = (0, paste_utils_1.normalizePasteValue)(value);\r\n        const { col, row } = grid[_].selection.select;\r\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizedValue); // is multi cell values\r\n        let rangeBoxValues = null;\r\n        const pasteCellEvent = {\r\n            col,\r\n            row,\r\n            value,\r\n            normalizeValue: trimOnPaste ? normalizedValue.trim() : normalizedValue,\r\n            multi,\r\n            get rangeBoxValues() {\r\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = (0, paste_utils_1.parsePasteRangeBoxValues)(normalizedValue, {\r\n                    trimOnPaste,\r\n                })));\r\n            },\r\n            event,\r\n        };\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\r\n    });\r\n    grid[_].focusControl.onInput((value) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\r\n    });\r\n    grid[_].focusControl.onDelete((event) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\r\n    });\r\n    grid[_].focusControl.onFocus((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\r\n        grid[_].focusedGrid = true;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n    grid[_].focusControl.onBlur((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\r\n        grid[_].focusedGrid = false;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\r\n    if (grid[_].frozenRowCount <= 0) {\r\n        return -1;\r\n    }\r\n    const frozenRect = _getFrozenRowsRect(grid);\r\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\r\n        return -1;\r\n    }\r\n    const cell = grid.getCellAt(abstractX, abstractY);\r\n    const cellRect = grid.getCellRect(cell.col, cell.row);\r\n    if (abstractX < cellRect.left + offset) {\r\n        return cell.col - 1;\r\n    }\r\n    if (cellRect.right - offset < abstractX) {\r\n        return cell.col;\r\n    }\r\n    return -1;\r\n}\r\n/** @private */\r\nfunction _getVisibleRect(grid) {\r\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\r\n    return new Rect_1.Rect(left, top, width, height);\r\n}\r\n/** @private */\r\nfunction _getScrollableVisibleRect(grid) {\r\n    let frozenColsWidth = 0;\r\n    if (grid[_].frozenColCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenColsRect(grid);\r\n        frozenColsWidth = frozenRect.width;\r\n    }\r\n    let frozenRowsHeight = 0;\r\n    if (grid[_].frozenRowCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenRowsRect(grid);\r\n        frozenRowsHeight = frozenRect.height;\r\n    }\r\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\r\n}\r\n/** @private */\r\nfunction _toRelativeRect(grid, absoluteRect) {\r\n    const rect = absoluteRect.copy();\r\n    const visibleRect = _getVisibleRect(grid);\r\n    rect.offsetLeft(-visibleRect.left);\r\n    rect.offsetTop(-visibleRect.top);\r\n    return rect;\r\n}\r\n//end private methods\r\n//\r\n//\r\n//\r\n//\r\n/**\r\n * managing mouse down moving\r\n * @private\r\n */\r\nclass BaseMouseDownMover {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._events = {};\r\n        this._started = false;\r\n        this._moved = false;\r\n    }\r\n    moving(_e) {\r\n        return !!this._started;\r\n    }\r\n    lastMoving(e) {\r\n        // mouseupclick\r\n        if (this.moving(e)) {\r\n            return true;\r\n        }\r\n        const last = this._mouseEndPoint;\r\n        if (!last) {\r\n            return false;\r\n        }\r\n        const pt = _getMouseAbstractPoint(this._grid, e);\r\n        return pt != null && pt.x === last.x && pt.y === last.y;\r\n    }\r\n    _bindMoveAndUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        if (!isTouchEvent(e)) {\r\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\r\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\r\n        }\r\n        else {\r\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\r\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\r\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\r\n        }\r\n        this._started = true;\r\n        this._moved = false;\r\n    }\r\n    _mouseMove(e) {\r\n        if (!isTouchEvent(e)) {\r\n            if (getMouseButtons(e) !== 1) {\r\n                this._mouseUp(e);\r\n                return;\r\n            }\r\n        }\r\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\r\n        cancelEvent(e);\r\n    }\r\n    _moveInternal(_e) {\r\n        //protected\r\n        return false;\r\n    }\r\n    _mouseUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        handler.off(events.mousemove);\r\n        handler.off(events.touchmove);\r\n        handler.off(events.mouseup);\r\n        handler.off(events.touchend);\r\n        // handler.off(this._events.mouseleave);\r\n        handler.off(events.touchcancel);\r\n        this._started = false;\r\n        this._upInternal(e);\r\n        // mouseupclick\r\n        if (this._moved) {\r\n            //\r\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\r\n            setTimeout(() => {\r\n                this._mouseEndPoint = null;\r\n            }, 10);\r\n        }\r\n    }\r\n    _upInternal(_e) {\r\n        //protected\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * managing cell selection operation with mouse\r\n * @private\r\n */\r\nclass CellSelector extends BaseMouseDownMover {\r\n    start(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._bindMoveAndUp(e);\r\n        this._cell = cell;\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    select(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._cell = cell;\r\n    }\r\n    _moveInternal(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return false;\r\n        }\r\n        const { col: oldCol, row: oldRow } = this._cell;\r\n        const { col: newCol, row: newRow } = cell;\r\n        if (oldCol === newCol && oldRow === newRow) {\r\n            return false;\r\n        }\r\n        const grid = this._grid;\r\n        _moveFocusCell.call(grid, newCol, newRow, true);\r\n        //make visible\r\n        const makeVisibleCol = (() => {\r\n            if (newCol < oldCol && 0 < newCol) {\r\n                // move left\r\n                return newCol - 1;\r\n            }\r\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\r\n                // move right\r\n                return newCol + 1;\r\n            }\r\n            return newCol;\r\n        })();\r\n        const makeVisibleRow = (() => {\r\n            if (newRow < oldRow && 0 < newRow) {\r\n                // move up\r\n                return newRow - 1;\r\n            }\r\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\r\n                // move down\r\n                return newRow + 1;\r\n            }\r\n            return newRow;\r\n        })();\r\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\r\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\r\n        }\r\n        this._cell = cell;\r\n        return true;\r\n    }\r\n    _getTargetCell(e) {\r\n        const grid = this._grid;\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return null;\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return null;\r\n        }\r\n        return cell;\r\n    }\r\n}\r\n/**\r\n * managing row width changing operation with mouse\r\n * @private\r\n */\r\nclass ColumnResizer extends BaseMouseDownMover {\r\n    constructor(grid) {\r\n        super(grid);\r\n        this._x = -1;\r\n        this._preX = -1;\r\n        this._invalidateAbsoluteLeft = -1;\r\n        this._targetCol = -1;\r\n    }\r\n    start(col, e) {\r\n        let pageX;\r\n        if (!isTouchEvent(e)) {\r\n            ({ pageX } = e);\r\n        }\r\n        else {\r\n            ({ pageX } = e.changedTouches[0]);\r\n        }\r\n        this._x = pageX;\r\n        this._preX = 0;\r\n        this._bindMoveAndUp(e);\r\n        this._targetCol = col;\r\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    _moveInternal(e) {\r\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\r\n        const x = pageX - this._x;\r\n        const moveX = x - this._preX;\r\n        this._preX = x;\r\n        const pre = this._grid.getColWidth(this._targetCol);\r\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\r\n        if (afterSize < 10 && moveX < 0) {\r\n            afterSize = 10;\r\n        }\r\n        _storeAutoColWidthExprs(this._grid);\r\n        _setColWidth(this._grid, this._targetCol, afterSize);\r\n        const rect = _getVisibleRect(this._grid);\r\n        rect.left = this._invalidateAbsoluteLeft;\r\n        _invalidateRect(this._grid, rect);\r\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\r\n            col: this._targetCol,\r\n        });\r\n        return true;\r\n    }\r\n    _upInternal(_e) {\r\n        const grid = this._grid;\r\n        if (grid.updateScroll()) {\r\n            grid.invalidate();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction setSafeInputValue(input, value) {\r\n    const { type } = input;\r\n    input.type = \"\";\r\n    input.value = value;\r\n    if (type) {\r\n        input.type = type;\r\n    }\r\n}\r\nconst IGNORE_STORE_ATTRS = [\"style\", \"readonly\"];\r\n/**\r\n * Manage focus\r\n * @private\r\n */\r\nclass FocusControl extends EventTarget_1.EventTarget {\r\n    constructor(grid, parentElement, scrollable, selection) {\r\n        super();\r\n        this._grid = grid;\r\n        this._scrollable = scrollable;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        const input = (this._input = document.createElement(\"input\"));\r\n        input.classList.add(\"grid-focus-control\");\r\n        input.readOnly = true;\r\n        parentElement.appendChild(input);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n            input.style.font = grid.font || \"16px sans-serif\";\r\n            this._isComposition = true;\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n            grid.focus();\r\n        });\r\n        let lastInputValue;\r\n        const inputClear = (storeLastInputValue) => {\r\n            lastInputValue = input.value;\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (lastInputValue !== \"\") {\r\n                setSafeInputValue(input, \"\");\r\n            }\r\n            if (!storeLastInputValue) {\r\n                lastInputValue = \"\";\r\n            }\r\n        };\r\n        const handleCompositionEnd = () => {\r\n            this._isComposition = false;\r\n            input.classList.remove(\"composition\");\r\n            input.style.font = \"\";\r\n            const { value } = input;\r\n            inputClear(false);\r\n            if (!input.readOnly) {\r\n                this.fireListeners(\"input\", value);\r\n            }\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n        };\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\r\n        });\r\n        selection.listen(\"before_hook\", () => {\r\n            if (this._compositionEnd) {\r\n                handleCompositionEnd();\r\n            }\r\n        });\r\n        handler.on(input, \"keypress\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!input.readOnly && e.key && e.key.length === 1) {\r\n                if (e.ctrlKey || e.metaKey) {\r\n                    if (e.key === \"c\") {\r\n                        //copy! for Firefox & Safari\r\n                    }\r\n                    else if (e.key === \"v\") {\r\n                        //paste! for Firefox & Safari\r\n                    }\r\n                }\r\n                else {\r\n                    if (e.key === \" \") {\r\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\r\n                        return;\r\n                    }\r\n                    this.fireListeners(\"input\", e.key);\r\n                    cancelEvent(e);\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            var _a;\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                    cancelEvent(e);\r\n                }\r\n                return;\r\n            }\r\n            const keyCode = getKeyCode(e);\r\n            let stopCellMove = false;\r\n            const evt = {\r\n                keyCode,\r\n                event: e,\r\n                stopCellMoving() {\r\n                    stopCellMove = true;\r\n                },\r\n            };\r\n            this.fireListeners(\"keydown\", evt);\r\n            if (!input.readOnly && lastInputValue) {\r\n                // for Safari\r\n                this.fireListeners(\"input\", lastInputValue);\r\n            }\r\n            if (!stopCellMove)\r\n                this.fireKeyDownMove(keyCode, e);\r\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\r\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\r\n                this.fireListeners(\"delete\", e);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keyup\", (_e) => {\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"input\", (e) => {\r\n            if (e.data === \" \" || e.data === \"\") {\r\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\r\n                this.fireListeners(\"input\", e.data);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        if (utils_1.browser.IE) {\r\n            handler.on(document, \"keydown\", (e) => {\r\n                if (e.target !== input) {\r\n                    return;\r\n                }\r\n                const keyCode = getKeyCode(e);\r\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\r\n                    // When text is not selected copy-event is not emit, on IE.\r\n                    setSafeInputValue(input, \"dummy\");\r\n                    input.select();\r\n                    setTimeout(() => {\r\n                        setSafeInputValue(input, \"\");\r\n                    }, 100);\r\n                }\r\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\r\n                    // When input is read-only paste-event is not emit, on IE.\r\n                    if (input.readOnly) {\r\n                        input.readOnly = false;\r\n                        setTimeout(() => {\r\n                            input.readOnly = true;\r\n                            setSafeInputValue(input, \"\");\r\n                        }, 10);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (utils_1.browser.Edge) {\r\n            handler.once(document, \"keydown\", (e) => {\r\n                var _a;\r\n                if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                    return;\r\n                }\r\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\r\n                const dummyInput = document.createElement(\"input\");\r\n                grid.getElement().appendChild(dummyInput);\r\n                dummyInput.focus();\r\n                input.focus();\r\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\r\n            });\r\n        }\r\n        handler.on(document, \"paste\", (e) => {\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            let pasteText = undefined;\r\n            if (utils_1.browser.IE) {\r\n                // IE\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                pasteText = window.clipboardData.getData(\"Text\");\r\n            }\r\n            else {\r\n                const clipboardData = e.clipboardData;\r\n                if (clipboardData.items) {\r\n                    // Chrome & Firefox & Edge\r\n                    pasteText = clipboardData.getData(\"text/plain\");\r\n                }\r\n                else {\r\n                    // Safari\r\n                    if (-1 !==\r\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\r\n                        pasteText = clipboardData.getData(\"Text\");\r\n                    }\r\n                }\r\n            }\r\n            if (pasteText != null && pasteText.length) {\r\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\r\n            }\r\n        });\r\n        handler.on(document, \"copy\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            setSafeInputValue(input, \"\");\r\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\r\n            if (data != null) {\r\n                cancelEvent(e);\r\n                if (utils_1.browser.IE) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    window.clipboardData.setData(\"Text\", data); // IE\r\n                }\r\n                else {\r\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\r\n                }\r\n            }\r\n        });\r\n        handler.on(input, \"focus\", (e) => {\r\n            this.fireListeners(\"focus\", e);\r\n        });\r\n        handler.on(input, \"blur\", (e) => {\r\n            this.fireListeners(\"blur\", e);\r\n        });\r\n    }\r\n    fireKeyDownMove(keyCode, e) {\r\n        var _a, _b, _c;\r\n        const fn = this._keyDownMoveCallback;\r\n        if (!fn) {\r\n            return;\r\n        }\r\n        if (this._isComposition) {\r\n            return;\r\n        }\r\n        if (keyCode === KEY_LEFT ||\r\n            keyCode === KEY_UP ||\r\n            keyCode === KEY_RIGHT ||\r\n            keyCode === KEY_DOWN ||\r\n            keyCode === KEY_HOME ||\r\n            keyCode === KEY_END) {\r\n            fn(e);\r\n        }\r\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\r\n            keyCode === KEY_TAB) {\r\n            fn(e);\r\n        }\r\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\r\n            keyCode === KEY_ENTER) {\r\n            fn(e);\r\n        }\r\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n            keyCode === KEY_ALPHA_A &&\r\n            (e.ctrlKey || e.metaKey)) {\r\n            fn(e);\r\n        }\r\n    }\r\n    onKeyDownMove(fn) {\r\n        this._keyDownMoveCallback = fn;\r\n    }\r\n    onKeyDown(fn) {\r\n        return this.listen(\"keydown\", fn);\r\n    }\r\n    onInput(fn) {\r\n        return this.listen(\"input\", fn);\r\n    }\r\n    onDelete(fn) {\r\n        return this.listen(\"delete\", fn);\r\n    }\r\n    onCopy(fn) {\r\n        return this.listen(\"copy\", fn);\r\n    }\r\n    onPaste(fn) {\r\n        return this.listen(\"paste\", fn);\r\n    }\r\n    onFocus(fn) {\r\n        return this.listen(\"focus\", fn);\r\n    }\r\n    onBlur(fn) {\r\n        return this.listen(\"blur\", fn);\r\n    }\r\n    focus() {\r\n        // this._input.value = '';\r\n        this._input.focus();\r\n    }\r\n    setFocusRect(rect) {\r\n        const input = this._input;\r\n        const top = this._scrollable.calcTop(rect.top);\r\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n    }\r\n    get editMode() {\r\n        return !this._input.readOnly;\r\n    }\r\n    set editMode(editMode) {\r\n        this._input.readOnly = !editMode;\r\n    }\r\n    resetInputStatus() {\r\n        var _a;\r\n        const el = this._input;\r\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const composition = el.classList.contains(\"composition\");\r\n        const attrs = el.attributes;\r\n        const removeNames = [];\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(attr.nodeName))) {\r\n                removeNames.push(attr.name);\r\n            }\r\n        }\r\n        removeNames.forEach((removeName) => {\r\n            el.removeAttribute(removeName);\r\n        });\r\n        for (const name in this._inputStatus) {\r\n            el.setAttribute(name, this._inputStatus[name]);\r\n        }\r\n        if (composition) {\r\n            el.classList.add(\"composition\");\r\n            el.style.font = this._grid.font || \"16px sans-serif\";\r\n        }\r\n        else {\r\n            el.classList.remove(\"composition\");\r\n        }\r\n        el.classList.remove(\"grid-focus-control--stored-status\");\r\n    }\r\n    storeInputStatus() {\r\n        const el = this._input;\r\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const inputStatus = (this._inputStatus = {});\r\n        const attrs = el.attributes;\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            inputStatus[attr.name] = attr.value;\r\n        }\r\n        el.classList.add(\"grid-focus-control--stored-status\");\r\n    }\r\n    setDefaultInputStatus() {\r\n        // \r\n        // this._input.style.font = this._grid.font || '16px sans-serif';\r\n    }\r\n    get input() {\r\n        return this._input;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * Selected area management\r\n */\r\nclass Selection extends EventTarget_1.EventTarget {\r\n    constructor(grid) {\r\n        super();\r\n        this._grid = grid;\r\n        this._sel = { col: 0, row: 0 };\r\n        this._focus = { col: 0, row: 0 };\r\n        this._start = { col: 0, row: 0 };\r\n        this._end = { col: 0, row: 0 };\r\n    }\r\n    get range() {\r\n        const start = this._start;\r\n        const end = this._end;\r\n        const startCol = Math.min(start.col, end.col);\r\n        const startRow = Math.min(start.row, end.row);\r\n        const endCol = Math.max(start.col, end.col);\r\n        const endRow = Math.max(start.row, end.row);\r\n        return {\r\n            start: {\r\n                col: startCol,\r\n                row: startRow,\r\n            },\r\n            end: {\r\n                col: endCol,\r\n                row: endRow,\r\n            },\r\n        };\r\n    }\r\n    set range(range) {\r\n        this._callBeforeHooks();\r\n        const startCol = Math.min(range.start.col, range.end.col);\r\n        const startRow = Math.min(range.start.row, range.end.row);\r\n        const endCol = Math.max(range.start.col, range.end.col);\r\n        const endRow = Math.max(range.start.row, range.end.row);\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._focus = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._start = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._end = {\r\n                col: endCol,\r\n                row: endRow,\r\n            };\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    get focus() {\r\n        const { col, row } = this._focus;\r\n        return { col, row };\r\n    }\r\n    get select() {\r\n        const { col, row } = this._sel;\r\n        return { col, row };\r\n    }\r\n    set select(cell) {\r\n        this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            const { col = 0, row = 0 } = cell;\r\n            this._setSelectCell(col, row);\r\n            this._setFocusCell(col, row, true, true);\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    _setSelectCell(col, row) {\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = { col, row };\r\n            this._start = { col, row };\r\n        });\r\n    }\r\n    _setFocusCell(col, row, keepSelect, ignoreBeforeHook) {\r\n        if (!ignoreBeforeHook)\r\n            this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            if (!keepSelect) {\r\n                this._setSelectCell(col, row);\r\n            }\r\n            this._focus = { col, row };\r\n            this._end = { col, row };\r\n        });\r\n    }\r\n    _wrapFireSelectedEvent(callback) {\r\n        if (this._isWrapped) {\r\n            callback();\r\n        }\r\n        else {\r\n            this._isWrapped = true;\r\n            try {\r\n                const before = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: false,\r\n                    after: null,\r\n                };\r\n                callback();\r\n                const after = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: true,\r\n                    before: {\r\n                        col: before.col,\r\n                        row: before.row,\r\n                    },\r\n                };\r\n                before.after = {\r\n                    col: after.col,\r\n                    row: after.row,\r\n                };\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\r\n            }\r\n            finally {\r\n                this._isWrapped = false;\r\n            }\r\n        }\r\n    }\r\n    _updateGridRange() {\r\n        const { rowCount, colCount } = this._grid;\r\n        const points = [this._sel, this._focus, this._start, this._end];\r\n        let needChange = false;\r\n        for (let i = 0; i < points.length; i++) {\r\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\r\n                needChange = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!needChange) {\r\n            return false;\r\n        }\r\n        this._wrapFireSelectedEvent(() => {\r\n            points.forEach((p) => {\r\n                p.col = Math.min(colCount - 1, p.col);\r\n                p.row = Math.min(rowCount - 1, p.row);\r\n            });\r\n        });\r\n        return true;\r\n    }\r\n    _callBeforeHooks() {\r\n        this.fireListeners(\"before_hook\");\r\n    }\r\n}\r\n/**\r\n * This class manages the drawing process for each layer\r\n */\r\n/** @private */\r\nclass DrawLayers {\r\n    constructor() {\r\n        this._layers = {};\r\n    }\r\n    addDraw(level, fn) {\r\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\r\n        l.addDraw(fn);\r\n    }\r\n    draw(ctx) {\r\n        const list = [];\r\n        for (const k in this._layers) {\r\n            list.push(this._layers[k]);\r\n        }\r\n        list.sort((a, b) => a.level - b.level);\r\n        list.forEach((l) => l.draw(ctx));\r\n    }\r\n}\r\n/** @private */\r\nclass DrawLayer {\r\n    constructor(level) {\r\n        this._level = level;\r\n        this._list = [];\r\n    }\r\n    get level() {\r\n        return this._level;\r\n    }\r\n    addDraw(fn) {\r\n        this._list.push(fn);\r\n    }\r\n    draw(ctx) {\r\n        this._list.forEach((fn) => {\r\n            ctx.save();\r\n            try {\r\n                fn(ctx);\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Context of cell drawing\r\n * @private\r\n */\r\nclass DrawCellContext {\r\n    //  private _grid: any;\r\n    //  private _onTerminate: any;\r\n    /**\r\n     * constructor\r\n     * @param {number} col index of column\r\n     * @param {number} row index of row\r\n     * @param {CanvasRenderingContext2D} ctx context\r\n     * @param {Rect} rect rect of cell area\r\n     * @param {Rect} drawRect rect of drawing area\r\n     * @param {boolean} drawing `true` if drawing is in progress\r\n     * @param {object} selection the selection\r\n     * @param {Array} drawLayers array of draw layers\r\n     * @private\r\n     */\r\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\r\n        this._rectFilter = null;\r\n        this._col = col;\r\n        this._row = row;\r\n        this._mode = 0;\r\n        this._ctx = ctx;\r\n        this._rect = rect;\r\n        this._drawRect = drawRect;\r\n        this._drawing = drawing;\r\n        this._selection = selection;\r\n        this._drawLayers = drawLayers;\r\n        this._childContexts = [];\r\n    }\r\n    get drawing() {\r\n        if (this._mode === 0) {\r\n            return this._drawing;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    get row() {\r\n        return this._row;\r\n    }\r\n    get col() {\r\n        return this._col;\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n        this._childContexts.forEach((ctx) => {\r\n            ctx.cancel();\r\n        });\r\n    }\r\n    /**\r\n     * select status.\r\n     * @return {object} select status\r\n     */\r\n    getSelection() {\r\n        return {\r\n            select: this._selection.select,\r\n            range: this._selection.range,\r\n        };\r\n    }\r\n    /**\r\n     * Canvas context.\r\n     * @return {CanvasRenderingContext2D} Canvas context.\r\n     */\r\n    getContext() {\r\n        if (this._mode === 0) {\r\n            return this._ctx;\r\n        }\r\n        else {\r\n            return _getInitContext.call(this._grid);\r\n        }\r\n    }\r\n    /**\r\n     * Rectangle of cell.\r\n     * @return {Rect} rect Rectangle of cell.\r\n     */\r\n    getRect() {\r\n        const rectFilter = this._rectFilter;\r\n        return rectFilter\r\n            ? rectFilter(this._getRectInternal())\r\n            : this._getRectInternal();\r\n    }\r\n    setRectFilter(rectFilter) {\r\n        this._rectFilter = rectFilter;\r\n    }\r\n    /**\r\n     * Rectangle of Drawing range.\r\n     * @return {Rect} Rectangle of Drawing range.\r\n     */\r\n    getDrawRect() {\r\n        if (this._cancel) {\r\n            return null;\r\n        }\r\n        if (this._mode === 0) {\r\n            return this._drawRect;\r\n        }\r\n        else {\r\n            if (this._isOutOfRange()) {\r\n                return null;\r\n            }\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            return this._toRelativeDrawRect(absoluteRect);\r\n        }\r\n    }\r\n    _isOutOfRange() {\r\n        const { colCount, rowCount } = this._grid;\r\n        return colCount <= this._col || rowCount <= this._row;\r\n    }\r\n    /**\r\n     * get Context of current state\r\n     * @return {DrawCellContext} current DrawCellContext.\r\n     */\r\n    toCurrentContext() {\r\n        if (this._mode === 0) {\r\n            return this;\r\n        }\r\n        else {\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            const rect = _toRelativeRect(this._grid, absoluteRect);\r\n            const drawRect = this._isOutOfRange()\r\n                ? null\r\n                : this._toRelativeDrawRect(absoluteRect);\r\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\r\n            // toCurrentContext  toCurrentContext\r\n            context.toCurrentContext = this.toCurrentContext.bind(this);\r\n            this._childContexts.push(context);\r\n            if (this._cancel) {\r\n                context.cancel();\r\n            }\r\n            context._rectFilter = this._rectFilter;\r\n            return context;\r\n        }\r\n    }\r\n    addLayerDraw(level, fn) {\r\n        this._drawLayers.addDraw(level, fn);\r\n    }\r\n    _toRelativeDrawRect(absoluteRect) {\r\n        const visibleRect = _getVisibleRect(this._grid);\r\n        let rect = absoluteRect.copy();\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        const grid = this._grid;\r\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\r\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\r\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\r\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\r\n        }\r\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\r\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\r\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\r\n        }\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        rect.offsetLeft(-visibleRect.left);\r\n        rect.offsetTop(-visibleRect.top);\r\n        return rect;\r\n    }\r\n    _delayMode(grid, onTerminate) {\r\n        this._mode = 1;\r\n        this._ctx = null;\r\n        this._rect = null;\r\n        this._drawRect = null;\r\n        this._grid = grid;\r\n        this._onTerminate = onTerminate;\r\n    }\r\n    /**\r\n     * terminate\r\n     * @return {void}\r\n     */\r\n    terminate() {\r\n        var _a;\r\n        if (this._mode !== 0) {\r\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\r\n        }\r\n    }\r\n    _getRectInternal() {\r\n        if (this._mode === 0) {\r\n            return this._rect;\r\n        }\r\n        else {\r\n            if (this._rect) {\r\n                return this._rect;\r\n            }\r\n            return this._grid.getCellRelativeRect(this._col, this._row);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nconst protectedKey = _;\r\n/**\r\n * DrawGrid\r\n * @classdesc cheetahGrid.core.DrawGrid\r\n * @memberof cheetahGrid.core\r\n */\r\nclass DrawGrid extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\r\n    }\r\n    constructor(options = {}) {\r\n        super();\r\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, trimOnPaste, } = options;\r\n        const protectedSpace = (this[_] = {});\r\n        style.initDocument();\r\n        protectedSpace.element = createRootElement();\r\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\r\n        protectedSpace.handler = new EventHandler_1.EventHandler();\r\n        protectedSpace.selection = new Selection(this);\r\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable, protectedSpace.selection);\r\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\r\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\r\n            alpha: false,\r\n        });\r\n        protectedSpace.rowCount = rowCount;\r\n        protectedSpace.colCount = colCount;\r\n        protectedSpace.frozenColCount = frozenColCount;\r\n        protectedSpace.frozenRowCount = frozenRowCount;\r\n        protectedSpace.defaultRowHeight = defaultRowHeight;\r\n        protectedSpace.defaultColWidth = defaultColWidth;\r\n        protectedSpace.font = font;\r\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\r\n        protectedSpace.keyboardOptions = keyboardOptions;\r\n        protectedSpace.disableColumnResize = disableColumnResize;\r\n        protectedSpace.trimOnPaste = trimOnPaste !== null && trimOnPaste !== void 0 ? trimOnPaste : false;\r\n        /////\r\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsLimit = {};\r\n        protectedSpace.calcWidthContext = {\r\n            _: protectedSpace,\r\n            get full() {\r\n                return this._.canvas.width;\r\n            },\r\n            get em() {\r\n                return (0, canvases_1.getFontSize)(this._.context, this._.font).width;\r\n            },\r\n        };\r\n        protectedSpace.columnResizer = new ColumnResizer(this);\r\n        protectedSpace.cellSelector = new CellSelector(this);\r\n        protectedSpace.drawCells = {};\r\n        protectedSpace.cellTextOverflows = {};\r\n        protectedSpace.focusedGrid = false;\r\n        protectedSpace.element.appendChild(protectedSpace.canvas);\r\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\r\n        protectedSpace.scroll = {\r\n            left: 0,\r\n            top: 0,\r\n        };\r\n        this.updateScroll();\r\n        if (parentElement) {\r\n            parentElement.appendChild(protectedSpace.element);\r\n            this.updateSize();\r\n        }\r\n        else {\r\n            this.updateSize();\r\n        }\r\n        _bindEvents.call(this);\r\n        this.bindEventsInternal();\r\n    }\r\n    /**\r\n     * Get root element.\r\n     * @returns {HTMLElement} root element\r\n     */\r\n    getElement() {\r\n        return this[_].element;\r\n    }\r\n    /**\r\n     * Get canvas element.\r\n     */\r\n    get canvas() {\r\n        return this[_].canvas;\r\n    }\r\n    /**\r\n     * Focus the grid.\r\n     * @return {void}\r\n     */\r\n    focus() {\r\n        const { col, row } = this[_].selection.select;\r\n        this.focusCell(col, row);\r\n    }\r\n    hasFocusGrid() {\r\n        return this[_].focusedGrid;\r\n    }\r\n    /**\r\n     * Get the selection instance.\r\n     */\r\n    get selection() {\r\n        return this[_].selection;\r\n    }\r\n    /**\r\n     * Get the number of rows.\r\n     */\r\n    get rowCount() {\r\n        return this[_].rowCount;\r\n    }\r\n    /**\r\n     * Set the number of rows.\r\n     */\r\n    set rowCount(rowCount) {\r\n        this[_].rowCount = rowCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of columns.\r\n     */\r\n    get colCount() {\r\n        return this[_].colCount;\r\n    }\r\n    /**\r\n     * Set the number of columns.\r\n     */\r\n    set colCount(colCount) {\r\n        this[_].colCount = colCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of frozen columns.\r\n     */\r\n    get frozenColCount() {\r\n        return this[_].frozenColCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen columns.\r\n     */\r\n    set frozenColCount(frozenColCount) {\r\n        this[_].frozenColCount = frozenColCount;\r\n    }\r\n    /**\r\n     * Get the number of frozen rows.\r\n     */\r\n    get frozenRowCount() {\r\n        return this[_].frozenRowCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen rows.\r\n     */\r\n    set frozenRowCount(frozenRowCount) {\r\n        this[_].frozenRowCount = frozenRowCount;\r\n    }\r\n    /**\r\n     * Get the default row height.\r\n     *\r\n     */\r\n    get defaultRowHeight() {\r\n        return this[_].defaultRowHeight;\r\n    }\r\n    /**\r\n     * Set the default row height.\r\n     */\r\n    set defaultRowHeight(defaultRowHeight) {\r\n        this[_].defaultRowHeight = defaultRowHeight;\r\n    }\r\n    /**\r\n     * Get the default column width.\r\n     */\r\n    get defaultColWidth() {\r\n        return this[_].defaultColWidth;\r\n    }\r\n    /**\r\n     * Set the default column width.\r\n     */\r\n    set defaultColWidth(defaultColWidth) {\r\n        this[_].defaultColWidth = defaultColWidth;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     */\r\n    get font() {\r\n        return this[_].font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     */\r\n    set font(font) {\r\n        this[_].font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return this[_].underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * If set to true, trim the pasted text on pasting.\r\n     */\r\n    get trimOnPaste() {\r\n        return this[_].trimOnPaste;\r\n    }\r\n    set trimOnPaste(trimOnPaste) {\r\n        this[_].trimOnPaste = trimOnPaste;\r\n    }\r\n    get keyboardOptions() {\r\n        var _a;\r\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    set keyboardOptions(keyboardOptions) {\r\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    configure(name, value) {\r\n        const cfg = this[_].config || (this[_].config = {});\r\n        if (value != null) {\r\n            cfg[name] = value;\r\n        }\r\n        return cfg[name];\r\n    }\r\n    /**\r\n     * Apply the changed size.\r\n     * @return {void}\r\n     */\r\n    updateSize() {\r\n        //\r\n        const { canvas } = this[_];\r\n        canvas.style.width = \"\";\r\n        canvas.style.height = \"\";\r\n        const width = Math.floor(canvas.offsetWidth ||\r\n            canvas.parentElement.offsetWidth -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        const height = Math.floor(canvas.offsetHeight ||\r\n            canvas.parentElement.offsetHeight -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        //style\r\n        canvas.style.width = `${width}px`;\r\n        canvas.style.height = `${height}px`;\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n    }\r\n    /**\r\n     * Apply the changed scroll size.\r\n     * @return {boolean} `true` if there was a change in the scroll size\r\n     */\r\n    updateScroll() {\r\n        const { scrollable } = this[_];\r\n        const newHeight = _getScrollHeight.call(this);\r\n        const newWidth = _getScrollWidth(this);\r\n        if (newHeight === scrollable.scrollHeight &&\r\n            newWidth === scrollable.scrollWidth) {\r\n            return false;\r\n        }\r\n        scrollable.setScrollSize(newWidth, newHeight);\r\n        this[_].scroll = {\r\n            left: scrollable.scrollLeft,\r\n            top: scrollable.scrollTop,\r\n        };\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n        return true;\r\n    }\r\n    /**\r\n     * Get the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @return {number} The row height\r\n     */\r\n    getRowHeight(row) {\r\n        return _getRowHeight.call(this, row);\r\n    }\r\n    /**\r\n     * Set the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @param  {number} height The row height\r\n     * @return {void}\r\n     */\r\n    setRowHeight(row, height) {\r\n        _setRowHeight(this, row, height);\r\n    }\r\n    /**\r\n     * Get the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column width\r\n     */\r\n    getColWidth(col) {\r\n        return _getColWidth(this, col);\r\n    }\r\n    /**\r\n     * Set the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} width The column width\r\n     * @return {void}\r\n     */\r\n    setColWidth(col, width) {\r\n        _setColWidth(this, col, width);\r\n    }\r\n    /**\r\n     * Get the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column max width\r\n     */\r\n    getMaxColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.max) || undefined;\r\n    }\r\n    /**\r\n     * Set the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} maxwidth The column max width\r\n     * @return {void}\r\n     */\r\n    setMaxColWidth(col, maxwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (maxwidth != null) {\r\n            obj.max = maxwidth;\r\n        }\r\n        else {\r\n            delete obj.max;\r\n        }\r\n    }\r\n    /**\r\n     * Get the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column min width\r\n     */\r\n    getMinColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.min) || undefined;\r\n    }\r\n    /**\r\n     * Set the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} minwidth The column min width\r\n     * @return {void}\r\n     */\r\n    setMinColWidth(col, minwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (minwidth != null) {\r\n            obj.min = minwidth;\r\n        }\r\n        else {\r\n            delete obj.min;\r\n        }\r\n    }\r\n    /**\r\n     * Get the rect of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRect(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\r\n        const width = _getColWidth(this, col);\r\n        if (isFrozenCell && isFrozenCell.col) {\r\n            absoluteLeft += this[_].scroll.left;\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\r\n        const height = _getRowHeight.call(this, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            absoluteTop += this[_].scroll.top;\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    /**\r\n     * Get the relative rectangle of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRelativeRect(col, row) {\r\n        return _toRelativeRect(this, this.getCellRect(col, row));\r\n    }\r\n    /**\r\n     * Get the rectangle of the cells area.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @returns {Rect} the rect of the cells.\r\n     */\r\n    getCellsRect(startCol, startRow, endCol, endRow) {\r\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\r\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let width = _getColsWidth(this, startCol, endCol);\r\n        if (isFrozenStartCell && isFrozenStartCell.col) {\r\n            const scrollLeft = this[_].scroll.left;\r\n            absoluteLeft += scrollLeft;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\r\n                width -= scrollLeft;\r\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\r\n            }\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let height = _getRowsHeight.call(this, startRow, endRow);\r\n        if (isFrozenStartCell && isFrozenStartCell.row) {\r\n            const scrollTop = this[_].scroll.top;\r\n            absoluteTop += scrollTop;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\r\n                height -= scrollTop;\r\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\r\n            }\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    getCellRangeRect(range) {\r\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    isFrozenCell(col, row) {\r\n        const { frozenRowCount, frozenColCount } = this[_];\r\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\r\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\r\n        if (isFrozenRow || isFrozenCol) {\r\n            return {\r\n                row: isFrozenRow,\r\n                col: isFrozenCol,\r\n            };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    getRowAt(absoluteY) {\r\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\r\n        if (frozen) {\r\n            return frozen.row;\r\n        }\r\n        const row = _getTargetRowAt.call(this, absoluteY);\r\n        return row ? row.row : -1;\r\n    }\r\n    getColAt(absoluteX) {\r\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\r\n        if (frozen) {\r\n            return frozen.col;\r\n        }\r\n        const col = _getTargetColAt(this, absoluteX);\r\n        return col ? col.col : -1;\r\n    }\r\n    getCellAt(absoluteX, absoluteY) {\r\n        return {\r\n            row: this.getRowAt(absoluteY),\r\n            col: this.getColAt(absoluteX),\r\n        };\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    makeVisibleCell(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\r\n            return;\r\n        }\r\n        const rect = this.getCellRect(col, row);\r\n        const visibleRect = _getScrollableVisibleRect(this);\r\n        if (visibleRect.contains(rect)) {\r\n            return;\r\n        }\r\n        const { scrollable } = this[_];\r\n        if (!isFrozenCell || !isFrozenCell.col) {\r\n            if (rect.left < visibleRect.left) {\r\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\r\n            }\r\n            else if (visibleRect.right < rect.right) {\r\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\r\n            }\r\n        }\r\n        if (!isFrozenCell || !isFrozenCell.row) {\r\n            if (rect.top < visibleRect.top) {\r\n                scrollable.scrollTop -= visibleRect.top - rect.top;\r\n            }\r\n            else if (visibleRect.bottom < rect.bottom) {\r\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Moves the focus cursor to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    setFocusCursor(col, row) {\r\n        const { focusControl } = this[_];\r\n        const oldEditMode = focusControl.editMode;\r\n        focusControl.setFocusRect(this.getCellRect(col, row));\r\n        _updatedSelection.call(this);\r\n        if (oldEditMode && !focusControl.editMode) {\r\n            focusControl.resetInputStatus();\r\n        }\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    focusCell(col, row) {\r\n        this.setFocusCursor(col, row);\r\n        // Failure occurs in IE if focus is not last\r\n        this[_].focusControl.focus();\r\n    }\r\n    /**\r\n     * Redraws the range of the given cell.\r\n     * @param  {number} col The column index of cell.\r\n     * @param  {number} row The row index of cell.\r\n     * @return {void}\r\n     */\r\n    invalidateCell(col, row) {\r\n        this.invalidateGridRect(col, row);\r\n    }\r\n    /**\r\n     * Redraws the range of the given cells.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @return {void}\r\n     */\r\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\r\n        const offset = this.getOffsetInvalidateCells();\r\n        if (offset > 0) {\r\n            startCol -= offset;\r\n            startRow -= offset;\r\n            endCol += offset;\r\n            endRow += offset;\r\n        }\r\n        const visibleRect = _getVisibleRect(this);\r\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\r\n        const invalidateTarget = visibleRect.intersection(cellsRect);\r\n        if (invalidateTarget) {\r\n            const { frozenColCount, frozenRowCount } = this[_];\r\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\r\n                const frozenRect = _getFrozenColsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\r\n                }\r\n            }\r\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\r\n                const frozenRect = _getFrozenRowsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\r\n                }\r\n            }\r\n            _invalidateRect(this, invalidateTarget);\r\n        }\r\n    }\r\n    invalidateCellRange(range) {\r\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    /**\r\n     * Redraws the whole grid.\r\n     * @return {void}\r\n     */\r\n    invalidate() {\r\n        const visibleRect = _getVisibleRect(this);\r\n        _invalidateRect(this, visibleRect);\r\n    }\r\n    /**\r\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleRowCount() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let count = 0;\r\n        const { rowCount } = this;\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = absoluteTop + height;\r\n            if (visibleRect.bottom < bottom) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteTop = bottom;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleColCount() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let count = 0;\r\n        const { colCount } = this;\r\n        for (let col = startCol; col < colCount; col++) {\r\n            const width = _getColWidth(this, col);\r\n            const right = absoluteLeft + width;\r\n            if (visibleRect.right < right) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteLeft = right;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the index of the first row in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get topRow() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n    }\r\n    /**\r\n     * Get the index of the first column in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get leftCol() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled vertically\r\n     */\r\n    get scrollTop() {\r\n        return this[_].scrollable.scrollTop;\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this[_].scrollable.scrollTop = scrollTop;\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\r\n     */\r\n    get scrollLeft() {\r\n        return this[_].scrollable.scrollLeft;\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this[_].scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    /**\r\n     * Get the value of cell with the copy action.\r\n     * <p>\r\n     * Please implement\r\n     * </p>\r\n     *\r\n     * @protected\r\n     * @param col Column index of cell.\r\n     * @param row Row index of cell.\r\n     * @param range Copy range.\r\n     * @return {string} the value of cell\r\n     */\r\n    getCopyCellValue(_col, _row, _range) {\r\n        //Please implement get cell value!!\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Get the overflowed text in the cell rectangle, from the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {string | null} The text overflowing the cell rect.\r\n     */\r\n    getCellOverflowText(col, row) {\r\n        const key = `${col}:${row}`;\r\n        return this[_].cellTextOverflows[key] || null;\r\n    }\r\n    /**\r\n     * Set the overflowed text in the cell rectangle, to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\r\n     * @return {void}\r\n     */\r\n    setCellOverflowText(col, row, overflowText) {\r\n        const key = `${col}:${row}`;\r\n        if (overflowText) {\r\n            this[_].cellTextOverflows[key] =\r\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\r\n        }\r\n        else {\r\n            delete this[_].cellTextOverflows[key];\r\n        }\r\n    }\r\n    addDisposable(disposable) {\r\n        if (!disposable ||\r\n            !disposable.dispose ||\r\n            typeof disposable.dispose !== \"function\") {\r\n            throw new Error(\"not disposable!\");\r\n        }\r\n        const disposables = (this[_].disposables = this[_].disposables || []);\r\n        disposables.push(disposable);\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        const protectedSpace = this[_];\r\n        protectedSpace.handler.dispose();\r\n        protectedSpace.scrollable.dispose();\r\n        protectedSpace.focusControl.dispose();\r\n        protectedSpace.columnResizer.dispose();\r\n        protectedSpace.cellSelector.dispose();\r\n        if (protectedSpace.disposables) {\r\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\r\n            protectedSpace.disposables = null;\r\n        }\r\n        const { parentElement } = protectedSpace.element;\r\n        if (parentElement) {\r\n            parentElement.removeChild(protectedSpace.element);\r\n        }\r\n    }\r\n    getAttachCellsArea(range) {\r\n        return {\r\n            element: this.getElement(),\r\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\r\n        };\r\n    }\r\n    onKeyDownMove(evt) {\r\n        _onKeyDownMove.call(this, evt);\r\n    }\r\n    bindEventsInternal() {\r\n        //nop\r\n    }\r\n    getTargetRowAtInternal(_absoluteY) {\r\n        // \r\n    }\r\n    getRowsHeightInternal(_startRow, _endRow) {\r\n        // \r\n    }\r\n    getRowHeightInternal(_row) {\r\n        // \r\n    }\r\n    getScrollHeightInternal(_row) {\r\n        // \r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col }) {\r\n        return col - 1;\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col }) {\r\n        return col + 1;\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ row }) {\r\n        return row - 1;\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ row }) {\r\n        return row + 1;\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 0;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        return range;\r\n    }\r\n    _getInitContext() {\r\n        const ctx = this[_].context;\r\n        //\r\n        ctx.fillStyle = \"white\";\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.textAlign = \"left\";\r\n        ctx.textBaseline = \"top\";\r\n        ctx.lineWidth = 1;\r\n        ctx.font = this.font || \"16px sans-serif\";\r\n        return ctx;\r\n    }\r\n    fireListeners(type, ...event) {\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.DrawGrid = DrawGrid;\r\n","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventTarget = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\n/** @private */\r\nconst _ = (0, symbolManager_1.get)();\r\n/** @private */\r\nlet nextId = 1;\r\n/**\r\n * event target.\r\n */\r\nclass EventTarget {\r\n    constructor() {\r\n        this[_a] = {\r\n            listeners: {},\r\n            listenerData: {},\r\n        };\r\n    }\r\n    /**\r\n     * Adds an event listener.\r\n     * @param  {string} type The event type id.\r\n     * @param  {function} listener Callback method.\r\n     * @return {number} unique id for the listener.\r\n     */\r\n    listen(type, listener) {\r\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\r\n        list.push(listener);\r\n        const id = nextId++;\r\n        this[_].listenerData[id] = {\r\n            type,\r\n            listener,\r\n            remove: () => {\r\n                delete this[_].listenerData[id];\r\n                const index = list.indexOf(listener);\r\n                list.splice(index, 1);\r\n                if (!this[_].listeners[type].length) {\r\n                    delete this[_].listeners[type];\r\n                }\r\n            },\r\n        };\r\n        return id;\r\n    }\r\n    /**\r\n     * Removes an event listener which was added with listen() by the id returned by listen().\r\n     * @param  {number} id the id returned by listen().\r\n     * @return {void}\r\n     */\r\n    unlisten(id) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        this[_].listenerData[id].remove();\r\n    }\r\n    addEventListener(type, listener) {\r\n        this.listen(type, listener);\r\n    }\r\n    removeEventListener(type, listener) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        (0, utils_1.each)(this[_].listenerData, (obj, id) => {\r\n            if (obj.type === type && obj.listener === listener) {\r\n                this.unlisten(id);\r\n            }\r\n        });\r\n    }\r\n    hasListeners(type) {\r\n        if (!this[_]) {\r\n            return false;\r\n        }\r\n        return !!this[_].listeners[type];\r\n    }\r\n    /**\r\n     * Fires all registered listeners\r\n     * @param  {string}    type The type of the listeners to fire.\r\n     * @param  {...*} args fire arguments\r\n     * @return {*} the result of the last listener\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fireListeners(type, ...args) {\r\n        if (!this[_]) {\r\n            return [];\r\n        }\r\n        const list = this[_].listeners[type];\r\n        if (!list) {\r\n            return [];\r\n        }\r\n        return list\r\n            .map((listener) => listener.call(this, ...args))\r\n            .filter((r) => r != null);\r\n    }\r\n    dispose() {\r\n        // @ts-expect-error -- ignore\r\n        delete this[_];\r\n    }\r\n}\r\nexports.EventTarget = EventTarget;\r\n_a = _;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\r\nconst DataSource_1 = require(\"./data/DataSource\");\r\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\r\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\r\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\r\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\r\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CachedDataSource = void 0;\r\nconst DataSource_1 = require(\"./DataSource\");\r\n/** @private */\r\nfunction _setFieldCache(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfCache, index, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    const recCache = fCache[index] || (fCache[index] = new Map());\r\n    recCache.set(field, value);\r\n}\r\n/**\r\n * grid data source for caching Promise data\r\n *\r\n * @classdesc cheetahGrid.data.CachedDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass CachedDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new CachedDataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(opt) {\r\n        super(opt);\r\n        this._rCache = {};\r\n        this._fCache = {};\r\n    }\r\n    getOriginal(index) {\r\n        if (this._rCache && this._rCache[index]) {\r\n            return this._rCache[index];\r\n        }\r\n        return super.getOriginal(index);\r\n    }\r\n    getOriginalField(index, field) {\r\n        const rowCache = this._fCache && this._fCache[index];\r\n        if (rowCache) {\r\n            const cache = rowCache.get(field);\r\n            if (cache) {\r\n                return cache;\r\n            }\r\n        }\r\n        return super.getOriginalField(index, field);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        const fCache = this._fCache;\r\n        if (fCache && fCache[index]) {\r\n            delete fCache[index]; // clear row cache\r\n        }\r\n        return super.setOriginalField(index, field, value);\r\n    }\r\n    clearCache() {\r\n        if (this._rCache) {\r\n            this._rCache = {};\r\n        }\r\n        if (this._fCache) {\r\n            this._fCache = {};\r\n        }\r\n    }\r\n    fieldPromiseCallBackInternal(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        _setFieldCache(this._fCache, index, field, value);\r\n    }\r\n    recordPromiseCallBackInternal(index, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    record) {\r\n        this._rCache[index] = record;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n}\r\nexports.CachedDataSource = CachedDataSource;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataSource = void 0;\r\nconst sort = __importStar(require(\"../internal/sort\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst EventTarget_1 = require(\"../core/EventTarget\");\r\n/** @private */\r\nfunction isFieldAssessor(field) {\r\n    if (utils_1.obj.isObject(field)) {\r\n        if (field.get && field.set) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/** @private */\r\nconst EVENT_TYPE = {\r\n    UPDATE_LENGTH: \"update_length\",\r\n    UPDATED_LENGTH: \"updated_length\",\r\n    UPDATED_ORDER: \"updated_order\",\r\n};\r\n/** @private */\r\nfunction ascOrderFn(v1, v2) {\r\n    if (v1 === v2) {\r\n        return 0;\r\n    }\r\n    if (v1 == null) {\r\n        return v2 == null\r\n            ? // If both are nullish, consider a match.\r\n                0\r\n            : // Nulls first\r\n                -1;\r\n    }\r\n    if (v2 == null) {\r\n        // Nulls first\r\n        return 1;\r\n    }\r\n    return v1 > v2 ? 1 : -1;\r\n}\r\nfunction descOrderFn(v1, v2) {\r\n    return (ascOrderFn(v1, v2) * -1);\r\n}\r\n/** @private */\r\nfunction getValue(value, setPromiseBack) {\r\n    const maybePromiseValue = (0, utils_1.getOrApply)(value);\r\n    if ((0, utils_1.isPromise)(maybePromiseValue)) {\r\n        const promiseValue = maybePromiseValue.then((r) => {\r\n            setPromiseBack(r);\r\n            return r;\r\n        });\r\n        //\r\n        setPromiseBack(promiseValue);\r\n        return promiseValue;\r\n    }\r\n    else {\r\n        return maybePromiseValue;\r\n    }\r\n}\r\n/** @private */\r\nfunction getField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nsetPromiseBack) {\r\n    if (record == null) {\r\n        return undefined;\r\n    }\r\n    if ((0, utils_1.isPromise)(record)) {\r\n        return record.then((r) => getField(r, field, setPromiseBack));\r\n    }\r\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\r\n    if (fieldGet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    if (typeof fieldGet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = fieldGet(record);\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n    const ss = String(fieldGet).split(\".\");\r\n    if (ss.length <= 1) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    const fieldResult = (0, utils_1.applyChainSafe)(record, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\r\n    return getValue(fieldResult, setPromiseBack);\r\n}\r\n/** @private */\r\nfunction setField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (record == null) {\r\n        return false;\r\n    }\r\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\r\n    if (fieldSet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    else if (typeof fieldSet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return fieldSet(record, value);\r\n    }\r\n    else if (typeof fieldSet === \"string\") {\r\n        const ss = `${fieldSet}`.split(\".\");\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let obj = record;\r\n        const { length } = ss;\r\n        for (let i = 0; i < length; i++) {\r\n            const f = ss[i];\r\n            if (i === length - 1) {\r\n                obj[f] = value;\r\n            }\r\n            else {\r\n                obj = obj[f] || (obj[f] = {});\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    return true;\r\n}\r\n/** @private */\r\nfunction _getIndex(sortedIndexMap, index) {\r\n    if (!sortedIndexMap) {\r\n        return index;\r\n    }\r\n    const mapIndex = sortedIndexMap[index];\r\n    return mapIndex != null ? mapIndex : index;\r\n}\r\n/**\r\n * grid data source\r\n *\r\n * @classdesc cheetahGrid.data.DataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass DataSource extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new DataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(obj) {\r\n        var _a;\r\n        super();\r\n        this._sortedIndexMap = null;\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\r\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\r\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    get(index) {\r\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\r\n    }\r\n    getField(index, field) {\r\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    hasField(index, field) {\r\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    setField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\r\n    }\r\n    sort(field, order) {\r\n        const sortedIndexMap = new Array(this._length);\r\n        const orderFn = order !== \"desc\" ? ascOrderFn : descOrderFn;\r\n        return sort\r\n            .sortPromise((index) => sortedIndexMap[index] != null\r\n            ? sortedIndexMap[index]\r\n            : (sortedIndexMap[index] = index), (index, rel) => {\r\n            sortedIndexMap[index] = rel;\r\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\r\n            .then(() => {\r\n            this._sortedIndexMap = sortedIndexMap;\r\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\r\n        });\r\n    }\r\n    get length() {\r\n        return this._length;\r\n    }\r\n    set length(length) {\r\n        if (this._length === length) {\r\n            return;\r\n        }\r\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\r\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n            return;\r\n        }\r\n        this._length = length;\r\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\r\n    }\r\n    get dataSource() {\r\n        return this;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n    getOriginal(index) {\r\n        return getValue(this._get(index), (val) => {\r\n            this.recordPromiseCallBackInternal(index, val);\r\n        });\r\n    }\r\n    getOriginalField(index, field) {\r\n        if (field == null) {\r\n            return undefined;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return getField(record, field, (val) => {\r\n            this.fieldPromiseCallBackInternal(index, field, val);\r\n        });\r\n    }\r\n    hasOriginalField(index, field) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        if (typeof field === \"function\") {\r\n            return true;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return Boolean(record && field in record);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return record.then((r) => setField(r, field, value));\r\n        }\r\n        return setField(record, field, value);\r\n    }\r\n    fieldPromiseCallBackInternal(_index, _field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    _value) {\r\n        //\r\n    }\r\n    recordPromiseCallBackInternal(_index, _record) {\r\n        //\r\n    }\r\n}\r\nexports.DataSource = DataSource;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nDataSource.EMPTY = new DataSource({\r\n    get() {\r\n        /*noop */\r\n    },\r\n    length: 0,\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst DataSource_1 = require(\"./DataSource\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\n/** @private */\r\nclass DataSourceIterator {\r\n    constructor(dataSource) {\r\n        this._dataSource = dataSource;\r\n        this._curIndex = -1;\r\n        this._data = [];\r\n    }\r\n    hasNext() {\r\n        const next = this._curIndex + 1;\r\n        return this._dataSource.length > next;\r\n    }\r\n    next() {\r\n        const next = this._curIndex + 1;\r\n        const data = this._getIndexData(next);\r\n        this._curIndex = next;\r\n        return data;\r\n    }\r\n    movePrev() {\r\n        this._curIndex--;\r\n    }\r\n    _getIndexData(index, nest) {\r\n        const dataSource = this._dataSource;\r\n        const data = this._data;\r\n        if (index < data.length) {\r\n            return data[index];\r\n        }\r\n        if (dataSource.length <= index) {\r\n            return undefined;\r\n        }\r\n        const record = this._dataSource.get(index);\r\n        data[index] = record;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            record.then((val) => {\r\n                data[index] = val;\r\n            });\r\n            if (!nest) {\r\n                for (let i = 1; i <= 100; i++) {\r\n                    this._getIndexData(index + i, true);\r\n                }\r\n            }\r\n        }\r\n        return record;\r\n    }\r\n}\r\n/** @private */\r\nclass FilterData {\r\n    constructor(dc, original, filter) {\r\n        this._cancel = false;\r\n        this._owner = dc;\r\n        this._dataSourceItr = new DataSourceIterator(original);\r\n        this._filter = filter;\r\n        this._filteredList = [];\r\n        this._queues = [];\r\n    }\r\n    get(index) {\r\n        if (this._cancel) {\r\n            return undefined;\r\n        }\r\n        const filteredList = this._filteredList;\r\n        if (index < filteredList.length) {\r\n            return filteredList[index];\r\n        }\r\n        const queues = this._queues;\r\n        const indexQueue = queues[index];\r\n        if (indexQueue) {\r\n            return indexQueue;\r\n        }\r\n        return queues[index] || this._findIndex(index);\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n    }\r\n    _findIndex(index) {\r\n        if (window.Promise) {\r\n            const timeout = Date.now() + 100;\r\n            let count = 0;\r\n            return this._findIndexWithTimeout(index, () => {\r\n                count++;\r\n                if (count >= 100) {\r\n                    count = 0;\r\n                    return timeout < Date.now();\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        return this._findIndexWithTimeout(index, () => false);\r\n    }\r\n    _findIndexWithTimeout(index, testTimeout) {\r\n        const filteredList = this._filteredList;\r\n        const filter = this._filter;\r\n        const dataSourceItr = this._dataSourceItr;\r\n        const queues = this._queues;\r\n        while (dataSourceItr.hasNext()) {\r\n            if (this._cancel) {\r\n                return undefined;\r\n            }\r\n            const record = dataSourceItr.next();\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                dataSourceItr.movePrev();\r\n                const queue = record.then((_value) => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n            if (filter(record)) {\r\n                filteredList.push(record);\r\n                if (index < filteredList.length) {\r\n                    return filteredList[index];\r\n                }\r\n            }\r\n            if (testTimeout()) {\r\n                const promise = new Promise((resolve) => {\r\n                    setTimeout(() => {\r\n                        resolve();\r\n                    }, 300);\r\n                });\r\n                const queue = promise.then(() => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n        }\r\n        const dc = this._owner;\r\n        dc.length = filteredList.length;\r\n        return undefined;\r\n    }\r\n}\r\n/**\r\n * grid data source for filter\r\n *\r\n * @classdesc cheetahGrid.data.FilterDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass FilterDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    constructor(dataSource, filter) {\r\n        super(dataSource);\r\n        this._filterData = null;\r\n        this._dataSource = dataSource;\r\n        this.filter = filter;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            // reset\r\n            // eslint-disable-next-line no-self-assign\r\n            this.filter = this.filter;\r\n        });\r\n        (0, utils_1.each)(DataSource_1.DataSource.EVENT_TYPE, (type) => {\r\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\r\n        });\r\n    }\r\n    get filter() {\r\n        var _a;\r\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\r\n    }\r\n    set filter(filter) {\r\n        if (this._filterData) {\r\n            this._filterData.cancel();\r\n        }\r\n        this._filterData = filter\r\n            ? new FilterData(this, this._dataSource, filter)\r\n            : null;\r\n        this.length = this._dataSource.length;\r\n    }\r\n    getOriginal(index) {\r\n        if (!this._filterData) {\r\n            return super.getOriginal(index);\r\n        }\r\n        return this._filterData.get(index);\r\n    }\r\n    sort(field, order) {\r\n        return this._dataSource.sort(field, order);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._dataSource.source;\r\n    }\r\n    get dataSource() {\r\n        return this._dataSource;\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n        super.dispose();\r\n    }\r\n}\r\nexports.FilterDataSource = FilterDataSource;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Inline = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nfunction getWidth(ctx, content) {\r\n    return ctx.measureText(content).width;\r\n}\r\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\r\n    const chars = [];\r\n    let ret = itr.next();\r\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\r\n        chars.push(ret);\r\n    }\r\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\r\n    if (beforeWidth > width) {\r\n        while (chars.length) {\r\n            const c = chars.pop();\r\n            beforeWidth -= getWidth(ctx, c || \"\");\r\n            if (beforeWidth <= width) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else if (beforeWidth < width) {\r\n        while (ret !== null) {\r\n            const charWidth = getWidth(ctx, ret);\r\n            if (beforeWidth + charWidth > width) {\r\n                break;\r\n            }\r\n            chars.push(ret);\r\n            beforeWidth += charWidth;\r\n            ret = itr.next();\r\n        }\r\n    }\r\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\r\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\r\n    return {\r\n        before: beforeContent ? new Inline(beforeContent) : null,\r\n        after: afterContent ? new Inline(afterContent) : null,\r\n    };\r\n}\r\nclass Inline {\r\n    constructor(content) {\r\n        this._content = content != null ? content : \"\";\r\n    }\r\n    width({ ctx }) {\r\n        return getWidth(ctx, this._content);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft,\r\n                right: offsetRight,\r\n                top: offsetTop,\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return !!this._content;\r\n    }\r\n    splitIndex(index) {\r\n        const content = this._content;\r\n        const itr = utils_1.str.genChars(content);\r\n        const chars = [];\r\n        let ret = itr.next();\r\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\r\n            chars.push(ret);\r\n        }\r\n        const beforeContent = chars.join(\"\");\r\n        const afterContent = content.slice(beforeContent.length);\r\n        return {\r\n            before: beforeContent ? new Inline(beforeContent) : null,\r\n            after: afterContent ? new Inline(afterContent) : null,\r\n        };\r\n    }\r\n    breakWord(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genWords(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    breakAll(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genChars(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    toString() {\r\n        return this._content;\r\n    }\r\n}\r\nexports.Inline = Inline;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineDrawer = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineDrawer extends Inline_1.Inline {\r\n    constructor({ draw, width, \r\n    // height,\r\n    color, }) {\r\n        super();\r\n        this._draw = draw;\r\n        this._width = width;\r\n        // this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        this._draw({\r\n            ctx,\r\n            canvashelper,\r\n            rect,\r\n            offset,\r\n            offsetLeft,\r\n            offsetRight,\r\n            offsetTop,\r\n            offsetBottom,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineDrawer = InlineDrawer;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineIcon = void 0;\r\nconst fonts = __importStar(require(\"../internal/fonts\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineIcon extends Inline_1.Inline {\r\n    constructor(icon) {\r\n        super();\r\n        this._icon = icon || {};\r\n    }\r\n    width({ ctx }) {\r\n        const icon = this._icon;\r\n        if (icon.width) {\r\n            return icon.width;\r\n        }\r\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\r\n            ctx.save();\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                ctx.font = icon.font || ctx.font;\r\n                return ctx.measureText(icon.content || \"\").width;\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n                ctx.restore();\r\n            }\r\n        }\r\n        return 0; //unknown\r\n    }\r\n    font() {\r\n        var _a;\r\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        const icon = this._icon;\r\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\r\n    }\r\n    onReady(callback) {\r\n        const icon = this._icon;\r\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\r\n            fonts.load(icon.font, icon.content || \"\", callback);\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        const icon = this._icon;\r\n        if (icon.content) {\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                // eslint-disable-next-line no-self-assign\r\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\r\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft + (this._icon.offsetLeft || 0),\r\n                        right: offsetRight,\r\n                        top: offsetTop + (this._icon.offsetTop || 0),\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n            }\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineIcon = InlineIcon;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineImage = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nconst imgs_1 = require(\"../internal/imgs\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nclass InlineImage extends Inline_1.Inline {\r\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, offsetTop, offsetLeft, }) {\r\n        super();\r\n        this._inlineImgPromise = null;\r\n        this._inlineImg = null;\r\n        this._src = src;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._imageLeft = imageLeft;\r\n        this._imageTop = imageTop;\r\n        this._imageWidth = imageWidth;\r\n        this._imageHeight = imageHeight;\r\n        this._offsetTop = offsetTop;\r\n        this._offsetLeft = offsetLeft;\r\n        this._onloaded = [];\r\n        if ((0, utils_1.isPromise)(src)) {\r\n            src.then((s) => {\r\n                this._src = s;\r\n                this._loadImage(s);\r\n            });\r\n        }\r\n        else {\r\n            this._loadImage(src);\r\n        }\r\n    }\r\n    _loadImage(src) {\r\n        const img = (this._inlineImgPromise = (0, imgs_1.getCacheOrLoad)(\"InlineImage\", 50, src));\r\n        if ((0, utils_1.isPromise)(img)) {\r\n            img.then((i) => {\r\n                this._inlineImg = i;\r\n                this._onloaded.forEach((fn) => fn());\r\n            });\r\n        }\r\n        else {\r\n            this._inlineImg = img;\r\n        }\r\n    }\r\n    width(_arg) {\r\n        var _a, _b;\r\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return !!this._inlineImg;\r\n    }\r\n    onReady(callback) {\r\n        if ((0, utils_1.isPromise)(this._src) || (0, utils_1.isPromise)(this._inlineImgPromise)) {\r\n            this._onloaded.push(() => callback());\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        var _a, _b;\r\n        const img = this._inlineImg;\r\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft + ((_a = this._offsetLeft) !== null && _a !== void 0 ? _a : 0),\r\n                right: offsetRight,\r\n                top: offsetTop + ((_b = this._offsetTop) !== null && _b !== void 0 ? _b : 0),\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineImage = InlineImage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlinePath2D = void 0;\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nclass InlinePath2D extends Inline_1.Inline {\r\n    constructor({ path, width, height, color }) {\r\n        super();\r\n        // IEPath2Dpolyfill\r\n        const Path2D = path2DManager.getPath2D();\r\n        this._path = new Path2D(path);\r\n        this._width = width;\r\n        this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        offset++;\r\n        const padding = {\r\n            left: offsetLeft,\r\n            right: offsetRight,\r\n            top: offsetTop,\r\n            bottom: offsetBottom,\r\n        };\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            //clip\r\n            ctx.clip();\r\n            //\r\n            const pos = (0, canvases_1.calcStartPosition)(ctx, rect, this._width, this._height, {\r\n                offset,\r\n                padding,\r\n            });\r\n            ctx.translate(pos.x, pos.y);\r\n            ctx.fill(this._path);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlinePath2D = InlinePath2D;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineSvg = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nfunction buildSvgDataUrl(svg) {\r\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\r\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\r\n    return url;\r\n}\r\nfunction getSvgElement(svg) {\r\n    if (typeof svg === \"string\") {\r\n        const parser = new DOMParser();\r\n        return parser.parseFromString(svg, \"image/svg+xml\")\r\n            .children[0];\r\n    }\r\n    else {\r\n        return svg;\r\n    }\r\n}\r\nclass InlineSvg extends InlineImage_1.InlineImage {\r\n    constructor({ svg, width, height }) {\r\n        var _a, _b;\r\n        const svgElem = (0, utils_1.then)(svg, getSvgElement);\r\n        const elmWidth = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined\r\n            : undefined;\r\n        const elmHeight = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined\r\n            : undefined;\r\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\r\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\r\n        super({\r\n            src: (0, utils_1.then)(svg, buildSvgDataUrl),\r\n            width: width || numElmWidth,\r\n            height: height || numElmHeight,\r\n            imageWidth: numElmWidth,\r\n            imageHeight: numElmHeight,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineSvg = InlineSvg;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\r\nconst icons = __importStar(require(\"../icons\"));\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\r\nconst InlineIcon_1 = require(\"./InlineIcon\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\r\nconst InlineSvg_1 = require(\"./InlineSvg\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, drawWidth, drawHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nfunction isIconConstructorOption(icon) {\r\n    if (icon.font && icon.content) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineImageConstructorOption(icon) {\r\n    if (icon.src) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineSvgConstructorOption(icon) {\r\n    if (icon.path) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction iconOf(icon) {\r\n    if (icon instanceof Inline_1.Inline) {\r\n        return icon;\r\n    }\r\n    if (!icon) {\r\n        return null;\r\n    }\r\n    if (isIconConstructorOption(icon)) {\r\n        return new InlineIcon_1.InlineIcon(icon);\r\n    }\r\n    if (isInlineImageConstructorOption(icon)) {\r\n        return new InlineImage_1.InlineImage({\r\n            src: icon.src,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            offsetTop: icon.offsetTop,\r\n            offsetLeft: icon.offsetLeft,\r\n        });\r\n    }\r\n    if (icon.svg) {\r\n        return new InlineSvg_1.InlineSvg({\r\n            svg: icon.svg,\r\n            width: icon.width,\r\n            height: icon.width,\r\n        });\r\n    }\r\n    if (isInlineSvgConstructorOption(icon)) {\r\n        return new InlinePath2D_1.InlinePath2D({\r\n            path: icon.path,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    const registeredIcons = icons.get();\r\n    if (icon.name && registeredIcons[icon.name]) {\r\n        const registeredIcon = registeredIcons[icon.name];\r\n        const width = icon.width || Math.max(registeredIcon.width, registeredIcon.height);\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n                drawRegisteredIcon(ctx, registeredIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft,\r\n                        right: offsetRight,\r\n                        top: offsetTop,\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            },\r\n            width,\r\n            height: width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    return new InlineIcon_1.InlineIcon(icon);\r\n}\r\nexports.iconOf = iconOf;\r\nfunction of(content) {\r\n    if (content == null) {\r\n        return null;\r\n    }\r\n    if (content instanceof Inline_1.Inline) {\r\n        return content;\r\n    }\r\n    return new Inline_1.Inline(content);\r\n}\r\nexports.of = of;\r\nfunction buildInlines(icons, inline) {\r\n    const result = [];\r\n    if (icons) {\r\n        result.push(...icons\r\n            .map((icon) => iconOf(icon))\r\n            .filter((i) => i != null));\r\n    }\r\n    if (Array.isArray(inline)\r\n    // && inline.filter(il => il instanceof Inline).length <- ?\r\n    ) {\r\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\r\n    }\r\n    else {\r\n        const il = of(inline);\r\n        if (il) {\r\n            result.push(il);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.buildInlines = buildInlines;\r\nfunction string(inline) {\r\n    return buildInlines(undefined, inline).join(\"\");\r\n}\r\nexports.string = string;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getInternal = void 0;\r\nfunction getInternal() {\r\n    console.warn(\"use internal!!\");\r\n    return {\r\n        color: require(\"./internal/color\"),\r\n        sort: require(\"./internal/sort\"),\r\n        calc: require(\"./internal/calc\"),\r\n        symbolManager: require(\"./internal/symbolManager\"),\r\n        path2DManager: require(\"./internal/path2DManager\"),\r\n        pasteUtils: require(\"./internal/paste-utils\"),\r\n    };\r\n}\r\nexports.getInternal = getInternal;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\r\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\r\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\r\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\r\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new ImmutableSortHeaderAction(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new ImmutableCheckHeaderAction(),\r\n};\r\nfunction of(headerAction) {\r\n    if (!headerAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof headerAction === \"string\") {\r\n        const key = headerAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return headerAction;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        if (typeof headerCell.sort === \"function\") {\r\n            const sortMethod = headerCell.sort;\r\n            // 0.9.0 Backward compatibility\r\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\r\n            return new ImmutableSortHeaderAction({ sort });\r\n        }\r\n        if (typeof headerCell.sort === \"string\") {\r\n            return new ImmutableSortHeaderAction({ sort: headerCell.sort });\r\n        }\r\n        return exports.ACTIONS.SORT;\r\n    }\r\n    return of(headerCell.headerAction);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = !!option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new BaseAction(this);\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // impl\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderAction = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\r\n    clone() {\r\n        return new CheckHeaderAction(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = getState(grid);\r\n        const action = ({ col, row }) => {\r\n            const range = grid.getCellRange(col, row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if (this.disabled || state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            onChange();\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.CheckHeaderAction = CheckHeaderAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderAction = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst actionBind_1 = require(\"./actionBind\");\r\nclass SortHeaderAction extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        var _a;\r\n        super(option);\r\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\r\n    }\r\n    get sort() {\r\n        return this._sort;\r\n    }\r\n    set sort(sort) {\r\n        this._sort = sort;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new SortHeaderAction(this);\r\n    }\r\n    _executeSort(newState, grid) {\r\n        if (typeof this._sort === \"function\") {\r\n            this._sort({\r\n                order: newState.order || \"asc\",\r\n                col: newState.col,\r\n                row: newState.row,\r\n                grid,\r\n            });\r\n        }\r\n        else if (typeof this._sort === \"string\" &&\r\n            // v1.6.3 Backward compatibility\r\n            (this._sort !== \"true\" || hasTrueField(grid))) {\r\n            const field = this._sort;\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n        else {\r\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\r\n            const field = grid.getField(newState.col, fieldRow);\r\n            if (field == null) {\r\n                return;\r\n            }\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        const action = (cell) => {\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n            const state = grid.sortState;\r\n            let newState;\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            if (isTarget(state.col, cell.row)) {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\r\n                };\r\n            }\r\n            else {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: \"asc\",\r\n                };\r\n            }\r\n            grid.sortState = newState;\r\n            this._executeSort(newState, grid);\r\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (_e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                },\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SortHeaderAction = SortHeaderAction;\r\nfunction hasTrueField(grid) {\r\n    if (grid.dataSource.length > 0) {\r\n        const record = grid.dataSource.get(0);\r\n        return record != null && \"true\" in record;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    let inMouse;\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n            inMouse = true;\r\n        }),\r\n        //MOUSEENTER'col-resize'move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (inMouse && !grid.getElement().style.cursor) {\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n            inMouse = false;\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\r\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\r\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\r\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\r\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\r\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nfunction of(headerStyle, StyleClass) {\r\n    if (headerStyle) {\r\n        if (headerStyle instanceof Style_1.Style) {\r\n            return headerStyle;\r\n        }\r\n        else if (typeof headerStyle === \"function\") {\r\n            return of(headerStyle(), StyleClass);\r\n        }\r\n        return new StyleClass(headerStyle);\r\n    }\r\n    else {\r\n        return StyleClass.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckHeaderStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new CheckHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckHeaderStyle(this);\r\n    }\r\n}\r\nexports.CheckHeaderStyle = CheckHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass MultilineTextHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeaderStyle(this);\r\n    }\r\n}\r\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass SortHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._sortArrowColor = style.sortArrowColor;\r\n        this._multiline = style.multiline;\r\n    }\r\n    get sortArrowColor() {\r\n        return this._sortArrowColor;\r\n    }\r\n    set sortArrowColor(sortArrowColor) {\r\n        this._sortArrowColor = sortArrowColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new SortHeaderStyle(this);\r\n    }\r\n}\r\nexports.SortHeaderStyle = SortHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdMultilineTextBaseStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nlet defaultStyle;\r\nclass StdMultilineTextBaseStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdMultilineTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new StdMultilineTextBaseStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.StdMultilineTextBaseStyle = StdMultilineTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdTextBaseStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass StdTextBaseStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"ellipsis\";\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdTextBaseStyle(this);\r\n    }\r\n}\r\nexports.StdTextBaseStyle = StdTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._multiline = style.multiline;\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\r\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\r\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\r\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\r\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\r\nconst Header_1 = require(\"./type/Header\");\r\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\r\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\r\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\r\nconst SortHeader_1 = require(\"./type/SortHeader\");\r\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Header_1.Header(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new SortHeader_1.SortHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckHeader_1.CheckHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\r\n};\r\nfunction of(headerType) {\r\n    if (!headerType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof headerType === \"string\") {\r\n        const key = headerType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return headerType;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        return TYPES.SORT;\r\n    }\r\n    return of(headerCell.headerType);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseHeader = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nclass BaseHeader {\r\n    constructor(_options = {}) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        const { style, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        //\r\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\r\n    }\r\n    convertInternal(value) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        return value != null ? `${value}` : \"\";\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        return value != null ? value : \"\";\r\n    }\r\n}\r\nexports.BaseHeader = BaseHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeader = void 0;\r\nconst inlineUtils = __importStar(require(\"../../element/inlines\"));\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return CheckHeaderStyle_1.CheckHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new CheckHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, padding, color, font, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\r\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            let contents = [inlineCheck];\r\n            contents = contents.concat(inlineUtils.buildInlines(icons, value != null ? String(value) : \"\"));\r\n            helper.text(contents, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.CheckHeader = CheckHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Header = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Header extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, lineHeight, autoWrapText, lineClamp, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Header = Header;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\r\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextHeader = MultilineTextHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nclass SortHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return SortHeaderStyle_1.SortHeaderStyle;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, padding, textOverflow, lineHeight, autoWrapText, lineClamp, sortArrowColor, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const state = grid.sortState;\r\n            let order = undefined;\r\n            const { col, row } = context;\r\n            const range = grid.getCellRange(col, row);\r\n            if ((0, utils_1.cellInRange)(range, state.col, state.row)) {\r\n                ({ order } = state);\r\n            }\r\n            const ctx = context.getContext();\r\n            const arrowSize = (0, canvases_1.getFontSize)(ctx, font).width * 1.2;\r\n            const trailingIcon = {\r\n                name: order != null\r\n                    ? order === \"asc\"\r\n                        ? \"arrow_downward\"\r\n                        : \"arrow_upward\"\r\n                    : undefined,\r\n                width: arrowSize,\r\n                color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\r\n            };\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.SortHeader = SortHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./header/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./header/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./header/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\n/*eslint-disable camelcase*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.get = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst builtins = {\r\n    get arrow_upward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\r\n        return {\r\n            d: \"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get arrow_downward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\r\n        return {\r\n            d: \"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get edit() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\r\n        return {\r\n            d: \"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get add() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\r\n        return {\r\n            d: \"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get star() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\r\n        return {\r\n            d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_border() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_half() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n};\r\nfunction get() {\r\n    return (0, utils_1.extend)(builtins, icons_1.icons);\r\n}\r\nexports.get = get;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventHandler = void 0;\r\nconst utils_1 = require(\"./utils\");\r\n/** @private */\r\nlet nextId = 1;\r\nclass EventHandler {\r\n    constructor() {\r\n        this._listeners = {};\r\n    }\r\n    on(target, type, listener, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ...options) {\r\n        if (target.addEventListener) {\r\n            target.addEventListener(type, listener, ...options);\r\n        }\r\n        const obj = {\r\n            target,\r\n            type,\r\n            listener,\r\n            options,\r\n        };\r\n        const id = nextId++;\r\n        this._listeners[id] = obj;\r\n        return id;\r\n    }\r\n    once(target, type, listener, ...options) {\r\n        const id = this.on(target, type, (...args) => {\r\n            this.off(id);\r\n            listener(...args);\r\n        }, ...options);\r\n        return id;\r\n    }\r\n    tryWithOffEvents(target, type, call) {\r\n        const list = [];\r\n        try {\r\n            (0, utils_1.each)(this._listeners, (obj) => {\r\n                if (obj.target === target && obj.type === type) {\r\n                    if (obj.target.removeEventListener) {\r\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n                    }\r\n                    list.push(obj);\r\n                }\r\n            });\r\n            call();\r\n        }\r\n        finally {\r\n            list.forEach((obj) => {\r\n                if (obj.target.addEventListener) {\r\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    off(id) {\r\n        if (id == null) {\r\n            return;\r\n        }\r\n        const obj = this._listeners[id];\r\n        if (!obj) {\r\n            return;\r\n        }\r\n        delete this._listeners[id];\r\n        if (obj.target.removeEventListener) {\r\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fire(target, type, ...args) {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                obj.listener.call(obj.target, ...args);\r\n            }\r\n        });\r\n    }\r\n    hasListener(target, type) {\r\n        let result = false;\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    clear() {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target.removeEventListener) {\r\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n            }\r\n        });\r\n        this._listeners = {};\r\n    }\r\n    dispose() {\r\n        this.clear();\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._listeners = null;\r\n    }\r\n}\r\nexports.EventHandler = EventHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LRUCache = void 0;\r\nclass LRUCache {\r\n    constructor(cacheSize) {\r\n        this._list = [];\r\n        this._map = {};\r\n        this._cacheSize = cacheSize || 50;\r\n    }\r\n    get(key) {\r\n        const val = this._map[key];\r\n        if (val) {\r\n            const list = this._list;\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n            list.push(key);\r\n        }\r\n        return val;\r\n    }\r\n    put(key, value) {\r\n        const list = this._list;\r\n        const map = this._map;\r\n        if (map[key]) {\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n        }\r\n        map[key] = value;\r\n        list.push(key);\r\n        if (list.length > this._cacheSize) {\r\n            const remKey = list.shift() || \"\";\r\n            delete map[remKey];\r\n        }\r\n    }\r\n}\r\nexports.LRUCache = LRUCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberMap = void 0;\r\nconst indexFirst = (arr, elm) => {\r\n    let low = 0;\r\n    let high = arr.length - 1;\r\n    while (low <= high) {\r\n        const i = Math.floor((low + high) / 2);\r\n        if (arr[i] === elm) {\r\n            return i;\r\n        }\r\n        else if (arr[i] > elm) {\r\n            high = i - 1;\r\n        }\r\n        else {\r\n            low = i + 1;\r\n        }\r\n    }\r\n    return high < 0 ? 0 : high;\r\n};\r\nclass NumberMap {\r\n    constructor() {\r\n        this._keys = [];\r\n        this._vals = {};\r\n        this._sorted = false;\r\n    }\r\n    put(key, value) {\r\n        if (!(key in this._vals)) {\r\n            this._keys.push(key);\r\n            this._sorted = false;\r\n        }\r\n        this._vals[key] = value;\r\n    }\r\n    remove(key) {\r\n        delete this._vals[key];\r\n        const index = this._keys.indexOf(key);\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this._keys.splice(index, 1);\r\n        this._sorted = false;\r\n    }\r\n    get(key) {\r\n        return this._vals[key];\r\n    }\r\n    has(key) {\r\n        return this._vals[key] != null;\r\n    }\r\n    each(keyFrom, keyTo, fn) {\r\n        const { _keys: keys } = this;\r\n        const { length } = keys;\r\n        if (!this._sorted) {\r\n            keys.sort((a, b) => {\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n            this._sorted = true;\r\n        }\r\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\r\n            const key = keys[i];\r\n            if (keyFrom <= key && key <= keyTo) {\r\n                fn(this.get(key), key);\r\n            }\r\n            else if (keyTo < key) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.NumberMap = NumberMap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rect = void 0;\r\nclass Rect {\r\n    constructor(left, top, width, height) {\r\n        this._left = left;\r\n        this._top = top;\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n    static bounds(left, top, right, bottom) {\r\n        return new Rect(left, top, right - left, bottom - top);\r\n    }\r\n    static max(rect1, rect2) {\r\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\r\n    }\r\n    get left() {\r\n        return this._left;\r\n    }\r\n    set left(left) {\r\n        const { right } = this;\r\n        this._left = left;\r\n        this.right = right;\r\n    }\r\n    get top() {\r\n        return this._top;\r\n    }\r\n    set top(top) {\r\n        const { bottom } = this;\r\n        this._top = top;\r\n        this.bottom = bottom;\r\n    }\r\n    get width() {\r\n        return this._width;\r\n    }\r\n    set width(width) {\r\n        this._width = width;\r\n        this._right = undefined;\r\n    }\r\n    get height() {\r\n        return this._height;\r\n    }\r\n    set height(height) {\r\n        this._height = height;\r\n        this._bottom = undefined;\r\n    }\r\n    get right() {\r\n        return this._right !== undefined\r\n            ? this._right\r\n            : (this._right = this.left + this.width);\r\n    }\r\n    set right(right) {\r\n        this._right = right;\r\n        this.width = right - this.left;\r\n    }\r\n    get bottom() {\r\n        return this._bottom !== undefined\r\n            ? this._bottom\r\n            : (this._bottom = this.top + this.height);\r\n    }\r\n    set bottom(bottom) {\r\n        this._bottom = bottom;\r\n        this.height = bottom - this.top;\r\n    }\r\n    offsetLeft(offset) {\r\n        this._left += offset;\r\n        this._right = undefined;\r\n    }\r\n    offsetTop(offset) {\r\n        this._top += offset;\r\n        this._bottom = undefined;\r\n    }\r\n    copy() {\r\n        return new Rect(this.left, this.top, this.width, this.height);\r\n    }\r\n    intersection(rect) {\r\n        const x0 = Math.max(this.left, rect.left);\r\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\r\n        if (x0 <= x1) {\r\n            const y0 = Math.max(this.top, rect.top);\r\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\r\n            if (y0 <= y1) {\r\n                return Rect.bounds(x0, y0, x1, y1);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    contains(another) {\r\n        return (this.left <= another.left &&\r\n            this.left + this.width >= another.left + another.width &&\r\n            this.top <= another.top &&\r\n            this.top + this.height >= another.top + another.height);\r\n    }\r\n    inPoint(x, y) {\r\n        return (this.left <= x &&\r\n            this.left + this.width >= x &&\r\n            this.top <= y &&\r\n            this.top + this.height >= y);\r\n    }\r\n}\r\nexports.Rect = Rect;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scrollable = void 0;\r\nconst style = __importStar(require(\"./style\"));\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\r\nclass Scrollable {\r\n    constructor() {\r\n        this._p = 1;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._scrollable = document.createElement(\"div\");\r\n        this._scrollable.classList.add(\"grid-scrollable\");\r\n        this._height = 0;\r\n        this._width = 0;\r\n        this._endPointElement = document.createElement(\"div\");\r\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\r\n        this._update();\r\n        this._scrollable.appendChild(this._endPointElement);\r\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\r\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\r\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\r\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\r\n        // this.scrollTop += delta < 0 ? point : -point;\r\n        // });\r\n    }\r\n    calcTop(top) {\r\n        const relativeTop = top - this.scrollTop;\r\n        return this._scrollable.scrollTop + relativeTop;\r\n    }\r\n    getElement() {\r\n        return this._scrollable;\r\n    }\r\n    setScrollSize(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollWidth() {\r\n        return this._width;\r\n    }\r\n    set scrollWidth(width) {\r\n        this._width = width;\r\n        this._update();\r\n    }\r\n    get scrollHeight() {\r\n        return this._height;\r\n    }\r\n    set scrollHeight(height) {\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollLeft() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this._scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    get scrollTop() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this._scrollable.scrollTop = scrollTop * this._p;\r\n    }\r\n    onScroll(fn) {\r\n        this._handler.on(this._scrollable, \"scroll\", fn);\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n    _update() {\r\n        let domHeight;\r\n        const { offsetHeight, offsetWidth } = this._scrollable;\r\n        if (this._height > MAX_SCROLL) {\r\n            const sbSize = style.getScrollBarSize();\r\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\r\n            const rScrollRange = this._height - offsetHeight + sbSize;\r\n            this._p = vScrollRange / rScrollRange;\r\n            domHeight = MAX_SCROLL;\r\n        }\r\n        else {\r\n            this._p = 1;\r\n            domHeight = this._height;\r\n        }\r\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\r\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\r\n        // Sets the maximum value to the scroll position\r\n        // if the current scroll position exceeds the maximum value.\r\n        if (this.scrollTop > this.scrollHeight - offsetHeight) {\r\n            this.scrollTop = this.scrollHeight - offsetHeight;\r\n        }\r\n        if (this.scrollLeft > this.scrollWidth - offsetWidth) {\r\n            this.scrollLeft = this.scrollWidth - offsetWidth;\r\n        }\r\n    }\r\n}\r\nexports.Scrollable = Scrollable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.animate = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction cubicBezier(x2, y2, x3, y3) {\r\n    let step;\r\n    const err = 0.0001;\r\n    x2 *= 3;\r\n    y2 *= 3;\r\n    x3 *= 3;\r\n    y3 *= 3;\r\n    return function (t) {\r\n        let p, a, b, c, d, x, s;\r\n        if (t < 0 || 1 < t) {\r\n            throw new Error(`${t}`);\r\n        }\r\n        p = step || t;\r\n        do {\r\n            a = 1 - p;\r\n            b = a * a;\r\n            c = p * p;\r\n            d = c * p;\r\n            x = x2 * b * p + x3 * a * c + d;\r\n            s = t - x;\r\n            p += s * 0.5;\r\n        } while (err < Math.abs(s));\r\n        step = p;\r\n        return y2 * b * p + y3 * a * c + d;\r\n    };\r\n}\r\nconst EASINGS = {\r\n    linear(p) {\r\n        return p;\r\n    },\r\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\r\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\r\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\r\n};\r\nconst raf = (utils_1.isNode\r\n    ? () => { }\r\n    : window.requestAnimationFrame ||\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        ((fn) => setTimeout(fn, 1)));\r\nfunction now() {\r\n    return Date.now();\r\n}\r\n/**\r\n * <pre>\r\n * Animates.\r\n * </pre>\r\n * @function\r\n * @param {number} duration animation time.\r\n * @param {function} step step\r\n * @param {function|string} easing easing\r\n * @returns {object} Deferred object.\r\n */\r\nfunction animate(duration, step, easing) {\r\n    const startedAt = now();\r\n    const easingFn = easing == null\r\n        ? EASINGS.easeInOut\r\n        : typeof easing === \"string\"\r\n            ? EASINGS[easing]\r\n            : easing;\r\n    let canceledFlg = false;\r\n    const createAnim = (resolve, reject) => {\r\n        const anim = () => {\r\n            const point = now() - startedAt;\r\n            if (canceledFlg) {\r\n                //cancel\r\n                if (reject) {\r\n                    reject();\r\n                }\r\n            }\r\n            else if (point >= duration) {\r\n                //end\r\n                step(1);\r\n                if (resolve) {\r\n                    resolve();\r\n                }\r\n            }\r\n            else {\r\n                step(easingFn(point / duration));\r\n                raf(anim);\r\n            }\r\n        };\r\n        return anim;\r\n    };\r\n    const cancel = () => {\r\n        canceledFlg = true;\r\n    };\r\n    if (typeof Promise !== \"undefined\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const result = new Promise((resolve, reject) => {\r\n            const anim = createAnim(resolve, reject);\r\n            step(0);\r\n            anim();\r\n        });\r\n        result.cancel = cancel;\r\n        return result;\r\n    }\r\n    else {\r\n        const anim = createAnim(() => { }, () => { });\r\n        step(0);\r\n        anim();\r\n        return {\r\n            cancel,\r\n        };\r\n    }\r\n}\r\nexports.animate = animate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toPx = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst TYPE_PAREN = 0;\r\nconst TYPE_UNIT = 1;\r\nconst TYPE_OPERATOR = 2;\r\nconst TYPE_NUMBER = 3;\r\nconst NODE_TYPE_UNIT = 10;\r\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\r\nconst NODE_TYPE_NUMBER = 12;\r\nconst TABULATION = 0x09;\r\nconst CARRIAGE_RETURN = 0x0d;\r\nconst LINE_FEED = 0x0a;\r\nconst FORM_FEED = 0x0c;\r\nconst SPACE = 0x20;\r\nconst PERCENT = 0x25;\r\nconst FULL_STOP = 0x2e;\r\nconst DIGIT_0 = 0x30;\r\nconst DIGIT_9 = 0x39;\r\nconst LATIN_CAPITAL_A = 0x41;\r\nconst LATIN_CAPITAL_Z = 0x5a;\r\nconst LATIN_SMALL_A = 0x61;\r\nconst LATIN_SMALL_Z = 0x7a;\r\nfunction isUpperLetter(cp) {\r\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\r\n}\r\nfunction isLowerLetter(cp) {\r\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\r\n}\r\nfunction isLetter(cp) {\r\n    return isLowerLetter(cp) || isUpperLetter(cp);\r\n}\r\nfunction isWhitespace(cp) {\r\n    return (cp === TABULATION ||\r\n        cp === LINE_FEED ||\r\n        cp === FORM_FEED ||\r\n        cp === CARRIAGE_RETURN ||\r\n        cp === SPACE);\r\n}\r\nfunction isDigit(cp) {\r\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\r\n}\r\nfunction isDot(cp) {\r\n    return cp === FULL_STOP;\r\n}\r\nfunction isUnit(cp) {\r\n    return isLetter(cp) || cp === PERCENT;\r\n}\r\nfunction createError(calc) {\r\n    return new Error(`calc parse error: ${calc}`);\r\n}\r\n/**\r\n * tokenize\r\n * @param {string} calc calc expression\r\n * @returns {Array} tokens\r\n * @private\r\n */\r\nfunction tokenize(calc) {\r\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\r\n    const tokens = [];\r\n    const len = exp.length;\r\n    for (let index = 0; index < len; index++) {\r\n        const c = exp[index];\r\n        const cp = c.charCodeAt(0);\r\n        if (c === \"(\" || c === \")\") {\r\n            tokens.push({ value: c, type: TYPE_PAREN });\r\n        }\r\n        else if (c === \"*\" || c === \"/\") {\r\n            tokens.push({ value: c, type: TYPE_OPERATOR });\r\n        }\r\n        else if (c === \"+\" || c === \"-\") {\r\n            index = parseSign(c, index + 1) - 1;\r\n        }\r\n        else if (isDigit(cp) || isDot(cp)) {\r\n            index = parseNum(c, index + 1) - 1;\r\n        }\r\n        else if (isWhitespace(cp)) {\r\n            // skip\r\n        }\r\n        else {\r\n            throw createError(calc);\r\n        }\r\n    }\r\n    function parseSign(sign, start) {\r\n        if (start < len) {\r\n            const c = exp[start];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp) || isDot(cp)) {\r\n                return parseNum(sign + c, start + 1);\r\n            }\r\n        }\r\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\r\n        return start;\r\n    }\r\n    function parseNum(num, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp)) {\r\n                num += c;\r\n            }\r\n            else if (c === \".\") {\r\n                if (num.indexOf(\".\") >= 0) {\r\n                    throw createError(calc);\r\n                }\r\n                num += c;\r\n            }\r\n            else if (isUnit(cp)) {\r\n                return parseUnit(num, c, index + 1);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (num === \".\") {\r\n            throw createError(calc);\r\n        }\r\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\r\n        return index;\r\n    }\r\n    function parseUnit(num, unit, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isUnit(cp)) {\r\n                unit += c;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\r\n        return index;\r\n    }\r\n    return tokens;\r\n}\r\nconst PRECEDENCE = {\r\n    \"*\": 3,\r\n    \"/\": 3,\r\n    \"+\": 2,\r\n    \"-\": 2,\r\n};\r\nfunction lex(tokens, calc) {\r\n    function buildBinaryExpNode(stack) {\r\n        const right = stack.pop();\r\n        const op = stack.pop();\r\n        const left = stack.pop();\r\n        if (!left ||\r\n            !left.nodeType ||\r\n            !op ||\r\n            op.type !== TYPE_OPERATOR ||\r\n            !right ||\r\n            !right.nodeType) {\r\n            throw createError(calc);\r\n        }\r\n        return {\r\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\r\n            left,\r\n            op,\r\n            right,\r\n        };\r\n    }\r\n    const stack = [];\r\n    while (tokens.length) {\r\n        const token = tokens.shift();\r\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\r\n            let deep = 0;\r\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\r\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\r\n                    deep++;\r\n                }\r\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\r\n                    if (!deep) {\r\n                        return true;\r\n                    }\r\n                    deep--;\r\n                }\r\n                return false;\r\n            });\r\n            if (closeIndex === -1) {\r\n                throw createError(calc);\r\n            }\r\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\r\n            tokens.shift();\r\n        }\r\n        else if (token.type === TYPE_OPERATOR) {\r\n            if (stack.length >= 3) {\r\n                const beforeOp = stack[stack.length - 2].value;\r\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\r\n                    stack.push(buildBinaryExpNode(stack));\r\n                }\r\n            }\r\n            stack.push(token);\r\n        }\r\n        else if (token.type === TYPE_UNIT) {\r\n            const { value: num, unit } = token;\r\n            stack.push({\r\n                nodeType: NODE_TYPE_UNIT,\r\n                value: num,\r\n                unit,\r\n            });\r\n        }\r\n        else if (token.type === TYPE_NUMBER) {\r\n            stack.push({\r\n                nodeType: NODE_TYPE_NUMBER,\r\n                value: token.value,\r\n            });\r\n        }\r\n    }\r\n    while (stack.length > 1) {\r\n        stack.push(buildBinaryExpNode(stack));\r\n    }\r\n    return stack[0];\r\n}\r\nfunction parse(calcStr) {\r\n    const tokens = tokenize(calcStr);\r\n    return lex(tokens, calcStr);\r\n}\r\nfunction calcNode(node, context) {\r\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\r\n        const left = calcNode(node.left, context);\r\n        const right = calcNode(node.right, context);\r\n        switch (node.op.value) {\r\n            case \"+\":\r\n                return left + right;\r\n            case \"-\":\r\n                return left - right;\r\n            case \"*\":\r\n                return left * right;\r\n            case \"/\":\r\n                return left / right;\r\n            default:\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_UNIT) {\r\n        switch (node.unit) {\r\n            case \"%\":\r\n                return (node.value * context.full) / 100;\r\n            case \"em\":\r\n                return node.value * context.em;\r\n            case \"px\":\r\n                return node.value;\r\n            default:\r\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\r\n        return node.value;\r\n    }\r\n    throw new Error(\"calc error.\");\r\n}\r\nfunction toPxInternal(value, context) {\r\n    const ast = parse(value);\r\n    return calcNode(ast, context);\r\n}\r\nfunction toPx(value, context) {\r\n    if (typeof value === \"string\") {\r\n        return toPxInternal(value.trim(), context);\r\n    }\r\n    return value - 0;\r\n}\r\nexports.toPx = toPx;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\r\nconst fontSizeCache = {};\r\nfunction getFontSize(ctx, font) {\r\n    const fontName = font || ctx.font;\r\n    if (fontSizeCache[fontName]) {\r\n        return fontSizeCache[fontName];\r\n    }\r\n    const bk = ctx.font;\r\n    try {\r\n        ctx.font = fontName;\r\n        const em = ctx.measureText(\"\").width;\r\n        return (fontSizeCache[fontName] = {\r\n            width: em,\r\n            height: em,\r\n        });\r\n    }\r\n    finally {\r\n        ctx.font = bk;\r\n    }\r\n}\r\nexports.getFontSize = getFontSize;\r\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    return calcStartPosition(ctx, rect, 0, 0, {\r\n        offset,\r\n        padding: {\r\n            left: paddingLeft,\r\n            right: paddingRight,\r\n            top: paddingTop,\r\n            bottom: paddingBottom,\r\n        },\r\n    });\r\n}\r\nexports.calcBasePosition = calcBasePosition;\r\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    const textAlign = ctx.textAlign || \"left\";\r\n    const textBaseline = ctx.textBaseline || \"middle\";\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    let x = rect.left + offset + paddingLeft;\r\n    if (textAlign === \"right\" || textAlign === \"end\") {\r\n        x = rect.right - width - offset - paddingRight;\r\n    }\r\n    else if (textAlign === \"center\") {\r\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\r\n    }\r\n    let y = rect.top + offset + paddingTop;\r\n    if (textBaseline === \"bottom\" ||\r\n        textBaseline === \"alphabetic\" ||\r\n        textBaseline === \"ideographic\") {\r\n        y = rect.bottom - height - offset - paddingBottom;\r\n    }\r\n    else if (textBaseline === \"middle\") {\r\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\r\n    }\r\n    return { x, y };\r\n}\r\nexports.calcStartPosition = calcStartPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.colorToRGB = void 0;\r\nconst rgbMap = {};\r\nfunction styleColorToRGB(color) {\r\n    const dummy = document.createElement(\"div\");\r\n    const { style } = dummy;\r\n    style.color = color;\r\n    style.position = \"fixed\";\r\n    style.height = \"1px\";\r\n    style.width = \"1px\";\r\n    style.opacity = \"0\";\r\n    document.body.appendChild(dummy);\r\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\r\n    document.body.removeChild(dummy);\r\n    return colorToRGB0(styleColor || \"\");\r\n}\r\nfunction hexToNum(hex) {\r\n    return parseInt(hex, 16);\r\n}\r\nfunction createRGB(r, g, b, a = 1) {\r\n    return { r, g, b, a };\r\n}\r\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\r\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\r\n}\r\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\r\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\r\n}\r\nfunction testRGB({ r, g, b, a }) {\r\n    return (0 <= r &&\r\n        r <= 255 &&\r\n        0 <= g &&\r\n        g <= 255 &&\r\n        0 <= b &&\r\n        b <= 255 &&\r\n        0 <= a &&\r\n        a <= 1);\r\n}\r\nfunction rateToByte(r) {\r\n    return Math.ceil((r * 255) / 100);\r\n}\r\nconst numberPattern = /((?:\\+|-)?(?:\\d+(?:\\.\\d+)?|\\.\\d+))/.source;\r\nconst percentPattern = `${numberPattern}%`;\r\nconst maybePercentPattern = `${numberPattern}(%?)`;\r\nfunction buildRgbWithCommaRegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbLv4RegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaWithCommaRegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaLv4RegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*/\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction colorToRGB0(color) {\r\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\r\n        return tripleHexToRGB(color);\r\n    }\r\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\r\n        return sextupleHexToRGB(color);\r\n    }\r\n    let ret = buildRgbWithCommaRegExp(numberPattern).exec(color) ||\r\n        buildRgbLv4RegExp(numberPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbWithCommaRegExp(percentPattern).exec(color) ||\r\n            buildRgbLv4RegExp(percentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(numberPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(numberPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(percentPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(percentPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction colorToRGB(color) {\r\n    if (typeof color !== \"string\") {\r\n        return createRGB(0, 0, 0, 0);\r\n    }\r\n    color = color.toLowerCase().trim();\r\n    if (rgbMap[color]) {\r\n        return rgbMap[color];\r\n    }\r\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\r\n}\r\nexports.colorToRGB = colorToRGB;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\r\nfunction createElement(tagName, { classList, text, html, } = {}) {\r\n    const element = document.createElement(tagName);\r\n    if (classList) {\r\n        if (Array.isArray(classList)) {\r\n            element.classList.add(...classList);\r\n        }\r\n        else {\r\n            element.classList.add(classList);\r\n        }\r\n    }\r\n    if (text) {\r\n        element.textContent = text;\r\n    }\r\n    else if (html) {\r\n        element.innerHTML = html;\r\n    }\r\n    return element;\r\n}\r\nexports.createElement = createElement;\r\nfunction empty(dom) {\r\n    let c;\r\n    while ((c = dom.firstChild)) {\r\n        dom.removeChild(c);\r\n    }\r\n}\r\nexports.empty = empty;\r\nfunction isNode(arg) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return !!(arg.nodeType && arg.nodeName);\r\n}\r\nfunction toNode(arg) {\r\n    if (isNode(arg)) {\r\n        return arg;\r\n    }\r\n    const dom = createElement(\"div\", { html: arg });\r\n    return Array.prototype.slice.call(dom.childNodes);\r\n}\r\nfunction toNodeList(arg) {\r\n    if (Array.isArray(arg)) {\r\n        const result = [];\r\n        arg.forEach((e) => {\r\n            result.push(...toNodeList(e));\r\n        });\r\n        return result;\r\n    }\r\n    const node = toNode(arg);\r\n    return Array.isArray(node) ? node : [node];\r\n}\r\nexports.toNodeList = toNodeList;\r\nfunction appendHtml(dom, inner) {\r\n    toNodeList(inner).forEach((node) => {\r\n        dom.appendChild(node);\r\n    });\r\n}\r\nexports.appendHtml = appendHtml;\r\nfunction disableFocus(el) {\r\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\r\n    el.tabIndex = -1;\r\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\r\n}\r\nexports.disableFocus = disableFocus;\r\nfunction enableFocus(el) {\r\n    if (\"disableBeforeTabIndex\" in el.dataset) {\r\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\r\n    }\r\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\r\n}\r\nexports.enableFocus = enableFocus;\r\nfunction isFocusable(el) {\r\n    return (el.tabIndex != null && el.tabIndex > -1);\r\n}\r\nexports.isFocusable = isFocusable;\r\nfunction findPrevSiblingFocusable(el) {\r\n    let n = el.previousSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.previousSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\r\nfunction findNextSiblingFocusable(el) {\r\n    let n = el.nextSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.nextSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.load = exports.check = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst loads = {};\r\nlet load;\r\nexports.load = load;\r\nlet check;\r\nexports.check = check;\r\nif (utils_1.isNode) {\r\n    exports.load = load = function (_font, _testStr, callback) {\r\n        callback();\r\n    };\r\n    exports.check = check = function () {\r\n        return false;\r\n    };\r\n}\r\nelse {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const fontFaceSet = document.fonts;\r\n    const legacy = !fontFaceSet;\r\n    exports.load = load = legacy\r\n        ? function (font, testStr, callback) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                callback();\r\n                return;\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            }, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            });\r\n        }\r\n        : function (font, _testStr, callback) {\r\n            if (loads.all || loads[font]) {\r\n                callback();\r\n                return;\r\n            }\r\n            fontFaceSet.ready.then(() => {\r\n                loads.all = true;\r\n            });\r\n            fontFaceSet.load(font).then(() => {\r\n                loads[font] = true;\r\n                callback();\r\n            });\r\n        };\r\n    exports.check = check = legacy\r\n        ? function (font, testStr) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                return true;\r\n            }\r\n            load(font, testStr, () => { });\r\n            return false;\r\n        }\r\n        : function (font, testStr) {\r\n            if (loads.all || loads[font]) {\r\n                return true;\r\n            }\r\n            if (!fontFaceSet.check(font)) {\r\n                load(font, testStr, () => { });\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.transform = void 0;\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst handler = new EventHandler_1.EventHandler();\r\nlet ratio = 1;\r\nfunction setRatio() {\r\n    if (utils_1.isNode) {\r\n        ratio = 1;\r\n    }\r\n    else {\r\n        ratio = Math.ceil(window.devicePixelRatio || 1);\r\n        if (ratio > 1 && ratio % 2 !== 0) {\r\n            ratio += 1;\r\n        }\r\n    }\r\n}\r\nsetRatio();\r\nif (!utils_1.isNode) {\r\n    handler.on(window, \"resize\", setRatio);\r\n}\r\nfunction transform(canvas) {\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const { getAttribute, setAttribute } = canvas;\r\n    canvas.getAttribute = function (name) {\r\n        let result = getAttribute.call(this, name);\r\n        if (name === \"width\" || name === \"height\") {\r\n            result = `${Number(result) / ratio}`;\r\n        }\r\n        return result;\r\n    };\r\n    canvas.setAttribute = function (name, val) {\r\n        const wh = name === \"width\" || name === \"height\";\r\n        if (wh) {\r\n            val = `${Number(val) * ratio}`;\r\n        }\r\n        const result = setAttribute.call(this, name, val);\r\n        if (wh) {\r\n            ctx.scale(ratio, ratio);\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(canvas, \"width\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"width\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(canvas, \"height\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"height\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    const { drawImage } = ctx;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ctx.drawImage = function (img, ...args) {\r\n        if (img !== canvas || ratio === 1) {\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        this.save();\r\n        try {\r\n            this.scale(1 / ratio, 1 / ratio);\r\n            if (args.length > 4) {\r\n                args[4] *= ratio;\r\n                args[5] *= ratio;\r\n            }\r\n            else {\r\n                args[0] *= ratio;\r\n                args[1] *= ratio;\r\n            }\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        finally {\r\n            this.restore();\r\n        }\r\n    };\r\n    return canvas;\r\n}\r\nexports.transform = transform;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.iconPropKeys = exports.toNormalizeArray = exports.getIconProps = void 0;\r\nconst ICON_PROP_KEYS = [\r\n    \"content\",\r\n    \"font\",\r\n    \"color\",\r\n    \"className\",\r\n    \"tagName\",\r\n    \"isLiga\",\r\n    \"width\",\r\n    \"src\",\r\n    \"svg\",\r\n    \"name\",\r\n    \"path\",\r\n    \"offsetTop\",\r\n    \"offsetLeft\",\r\n];\r\nfunction quote(name) {\r\n    const quoted = [];\r\n    const split = name.split(/,\\s*/);\r\n    for (let i = 0; i < split.length; i++) {\r\n        const part = split[i].replace(/['\"]/g, \"\");\r\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\r\n            quoted.push(part);\r\n        }\r\n        else {\r\n            quoted.push(`'${part}'`);\r\n        }\r\n    }\r\n    return quoted.join(\",\");\r\n}\r\nconst doms = {};\r\nconst props = {};\r\nfunction getIconProps(tagName, className) {\r\n    const tagProps = props[tagName] || (props[tagName] = {});\r\n    if (tagProps[className]) {\r\n        return tagProps[className];\r\n    }\r\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\r\n    // `classList.add()` cannot be used because it may be separated by spaces.\r\n    dom.className = className;\r\n    dom.classList.add(\"cheetah-grid-icon\");\r\n    document.body.appendChild(dom);\r\n    try {\r\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\r\n        let content = beforeStyle.getPropertyValue(\"content\");\r\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\r\n            if (content[0] === content[content.length - 1]) {\r\n                content = content.slice(1, -1);\r\n            }\r\n        }\r\n        let font = beforeStyle.getPropertyValue(\"font\");\r\n        if (!font) {\r\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\r\n        }\r\n        const color = beforeStyle.getPropertyValue(\"color\");\r\n        const width = dom.clientWidth;\r\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\r\n        return (tagProps[className] = {\r\n            content,\r\n            font,\r\n            color,\r\n            width,\r\n            isLiga,\r\n        });\r\n    }\r\n    finally {\r\n        document.body.removeChild(dom);\r\n    }\r\n}\r\nexports.getIconProps = getIconProps;\r\nfunction toPropArray(prop, count) {\r\n    const result = [];\r\n    if (Array.isArray(prop)) {\r\n        result.push(...prop);\r\n        for (let i = prop.length; i < count; i++) {\r\n            result.push(null);\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 0; i < count; i++) {\r\n            result.push(prop);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction toSimpleArray(iconProps) {\r\n    if (!iconProps) {\r\n        return iconProps;\r\n    }\r\n    else if (Array.isArray(iconProps)) {\r\n        return iconProps;\r\n    }\r\n    const workData = {};\r\n    let count = 0;\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const prop = iconProps[k];\r\n        if (prop) {\r\n            if (Array.isArray(prop)) {\r\n                count = Math.max(count, prop.length);\r\n            }\r\n            else {\r\n                count = Math.max(count, 1);\r\n            }\r\n        }\r\n    });\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const arr = toPropArray(iconProps[k], count);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        workData[k] = arr;\r\n    });\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const data = {};\r\n        ICON_PROP_KEYS.forEach((k) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const val = workData[k][i];\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = val;\r\n        });\r\n        result.push(data);\r\n    }\r\n    return result;\r\n}\r\nfunction normalize(iconProps) {\r\n    const data = {};\r\n    for (const k in iconProps) {\r\n        if (k === \"className\") {\r\n            continue;\r\n        }\r\n        if (isIconKey(k)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = iconProps[k];\r\n        }\r\n    }\r\n    if (iconProps.className) {\r\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\r\n        for (const k in prop) {\r\n            if (isIconKey(k)) {\r\n                if (iconProps[k] == null) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    data[k] = prop[k];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\nfunction toNormalizeArray(iconProps) {\r\n    const icons = toSimpleArray(iconProps);\r\n    if (!icons) {\r\n        return icons;\r\n    }\r\n    return icons.map((icon) => normalize(icon));\r\n}\r\nexports.toNormalizeArray = toNormalizeArray;\r\nexports.iconPropKeys = ICON_PROP_KEYS;\r\nfunction isIconKey(k) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCacheOrLoad = exports.loadImage = void 0;\r\nconst LRUCache_1 = require(\"./LRUCache\");\r\nconst utils_1 = require(\"./utils\");\r\nconst allCache = {};\r\nfunction loadImage(src) {\r\n    if (typeof Promise === \"undefined\") {\r\n        console.error(\"Promise is not loaded. load Promise before this process.\");\r\n        return {\r\n            then() {\r\n                return this;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n    }\r\n    const img = new Image();\r\n    const result = new Promise((resolve) => {\r\n        img.onload = () => {\r\n            resolve(img);\r\n        };\r\n    });\r\n    img.onerror = () => {\r\n        const url = src.length > 200 ? `${src.slice(0, 200)}...` : src;\r\n        console.warn(`cannot load: ${url}`);\r\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\r\n    };\r\n    img.src = src;\r\n    return result;\r\n}\r\nexports.loadImage = loadImage;\r\nfunction getCacheOrLoad0(cache, src) {\r\n    return (0, utils_1.then)(src, (src) => {\r\n        const c = cache.get(src);\r\n        if (c) {\r\n            return c;\r\n        }\r\n        const result = loadImage(src).then((img) => {\r\n            cache.put(src, img);\r\n            return img;\r\n        });\r\n        cache.put(src, result);\r\n        return result;\r\n    });\r\n}\r\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\r\n    const cache = allCache[cacheName] ||\r\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\r\n    return getCacheOrLoad0(cache, src);\r\n}\r\nexports.getCacheOrLoad = getCacheOrLoad;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Path2DShim = void 0;\r\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\r\nconst parser = new PathCommandsParser_1.PathCommandsParser();\r\nclass Path2DShim {\r\n    arc(...args) {\r\n        this._ops.push({ op: \"arc\", args });\r\n    }\r\n    arcTo(...args) {\r\n        this._ops.push({ op: \"arcTo\", args });\r\n    }\r\n    bezierCurveTo(...args) {\r\n        this._ops.push({ op: \"bezierCurveTo\", args });\r\n    }\r\n    closePath(...args) {\r\n        this._ops.push({ op: \"closePath\", args });\r\n    }\r\n    ellipse(...args) {\r\n        this._ops.push({ op: \"ellipse\", args });\r\n    }\r\n    lineTo(...args) {\r\n        this._ops.push({ op: \"lineTo\", args });\r\n    }\r\n    moveTo(...args) {\r\n        this._ops.push({ op: \"moveTo\", args });\r\n    }\r\n    quadraticCurveTo(...args) {\r\n        this._ops.push({ op: \"quadraticCurveTo\", args });\r\n    }\r\n    rect(...args) {\r\n        this._ops.push({ op: \"rect\", args });\r\n    }\r\n    constructor(arg) {\r\n        this._ops = [];\r\n        if (arg === undefined) {\r\n            return;\r\n        }\r\n        if (typeof arg === \"string\") {\r\n            // try {\r\n            this._ops = parser.parse(arg);\r\n            // } catch (e) {\r\n            // \tthrow e;\r\n            // }\r\n        }\r\n        else if (arg.hasOwnProperty(\"_ops\")) {\r\n            this._ops = [...arg._ops];\r\n        }\r\n        else {\r\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\r\n        }\r\n    }\r\n    roundRect(_x, _y, _w, _h, _radii) {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}\r\nexports.Path2DShim = Path2DShim;\r\nconst { CanvasRenderingContext2D } = window;\r\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nCanvasRenderingContext2D.prototype.fill = function (...args) {\r\n    if (args[0] instanceof Path2DShim) {\r\n        const path = args[0];\r\n        this.beginPath();\r\n        path._ops.forEach((op) => {\r\n            const fn = this[op.op];\r\n            fn.apply(this, op.args);\r\n        });\r\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\r\n    }\r\n    else {\r\n        originalFill.apply(this, args);\r\n    }\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommands = void 0;\r\n/*eslint new-cap: \"off\"*/\r\nfunction mag(v) {\r\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n}\r\nfunction dot(u, v) {\r\n    return u[0] * v[0] + u[1] * v[1];\r\n}\r\nfunction ratio(u, v) {\r\n    return dot(u, v) / (mag(u) * mag(v));\r\n}\r\nfunction clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\nfunction angle(u, v) {\r\n    let sign = 1.0;\r\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\r\n        sign = -1.0;\r\n    }\r\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\r\n}\r\nfunction rotClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\r\n}\r\nfunction rotCounterClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\r\n}\r\nfunction midPoint(u, v) {\r\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\r\n}\r\nfunction meanVec(u, v) {\r\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\r\n}\r\nfunction pointMul(u, v) {\r\n    return [u[0] * v[0], u[1] * v[1]];\r\n}\r\nfunction scale(c, v) {\r\n    return [c * v[0], c * v[1]];\r\n}\r\nfunction sum(u, v) {\r\n    return [u[0] + v[0], u[1] + v[1]];\r\n}\r\n// Convert an SVG elliptical arc to a series of canvas commands.\r\n//\r\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\r\n// rx, ry: radii of the ellipse.\r\n// phi: rotation of the ellipse.\r\n// fA: large arc flag.\r\n// fS: sweep flag.\r\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\r\n    // Convert from endpoint to center parametrization, as detailed in:\r\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n    if (rx === 0 || ry === 0) {\r\n        ctx.lineTo(x2, x1);\r\n        return;\r\n    }\r\n    phi *= Math.PI / 180.0;\r\n    rx = Math.abs(rx);\r\n    ry = Math.abs(ry);\r\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\r\n    const xPrime2 = pointMul(xPrime, xPrime);\r\n    let rx2 = Math.pow(rx, 2);\r\n    let ry2 = Math.pow(ry, 2);\r\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\r\n    if (lambda > 1) {\r\n        rx *= lambda;\r\n        ry *= lambda;\r\n        rx2 = Math.pow(rx, 2);\r\n        ry2 = Math.pow(ry, 2);\r\n    }\r\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\r\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\r\n    if (fA === fS) {\r\n        factor *= -1.0;\r\n    }\r\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\r\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\r\n    const x1UnitVector = [\r\n        (xPrime[0] - cPrime[0]) / rx,\r\n        (xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const x2UnitVector = [\r\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\r\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\r\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\r\n    const start = theta;\r\n    const end = theta + deltaTheta;\r\n    ctx.save();\r\n    ctx.translate(c[0], c[1]);\r\n    ctx.rotate(phi);\r\n    ctx.scale(rx, ry);\r\n    ctx.arc(0, 0, 1, start, end, !fS);\r\n    ctx.restore();\r\n}\r\nclass PathCommands {\r\n    constructor(ctx) {\r\n        let lMx;\r\n        let lMy;\r\n        let lx = 0;\r\n        let ly = 0;\r\n        let reflected;\r\n        let lastCommand = \"\";\r\n        function makeReflected() {\r\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\r\n                return { x: lx, y: ly };\r\n            }\r\n            return reflected;\r\n        }\r\n        this.M = (px, py) => {\r\n            ctx.moveTo(px, py);\r\n            lMx = px;\r\n            lMy = py;\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"M\";\r\n            return this;\r\n        };\r\n        this.m = (px, py) => this.M(px + lx, py + ly);\r\n        this.L = (px, py) => {\r\n            ctx.lineTo(px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"L\";\r\n            return this;\r\n        };\r\n        this.l = (px, py) => this.L(px + lx, py + ly);\r\n        this.H = (px) => this.L(px, ly);\r\n        this.h = (px) => this.H(px + lx);\r\n        this.V = (py) => this.L(lx, py);\r\n        this.v = (py) => this.V(py + ly);\r\n        this.Z = () => {\r\n            ctx.closePath();\r\n            lx = lMx;\r\n            ly = lMy;\r\n            lastCommand = \"Z\";\r\n            return this;\r\n        };\r\n        this.z = () => this.Z();\r\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\r\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\r\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cp2x,\r\n                y: 2 * py - cp2y,\r\n            };\r\n            lastCommand = \"C\";\r\n            return this;\r\n        };\r\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\r\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\r\n        this.S = (cpx, cpy, px, py) => {\r\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\r\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\r\n        };\r\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\r\n        this.Q = (cpx, cpy, px, py) => {\r\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cpx,\r\n                y: 2 * py - cpy,\r\n            };\r\n            lastCommand = \"Q\";\r\n            return this;\r\n        };\r\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //T x y (or t dx dy)\r\n        this.T = (px, py) => {\r\n            const { x: cpx, y: cpy } = makeReflected();\r\n            return this.Q(cpx, cpy, px, py);\r\n        };\r\n        this.t = (px, py) => this.T(px + lx, py + ly);\r\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\r\n            const x1 = lx;\r\n            const y1 = ly;\r\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"A\";\r\n            return this;\r\n        };\r\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\r\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\r\n    }\r\n}\r\nexports.PathCommands = PathCommands;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommandsParser = void 0;\r\nconst PathCommands_1 = require(\"./PathCommands\");\r\nfunction pathTokens(d) {\r\n    let idx = 0;\r\n    return {\r\n        next() {\r\n            let s = \"\";\r\n            while (d.length > idx) {\r\n                const c = d[idx];\r\n                idx++;\r\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\r\n                    if (s) {\r\n                        return s;\r\n                    }\r\n                }\r\n                else {\r\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\r\n                    if (type === \"str\") {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                        return c;\r\n                    }\r\n                    if (\"-+\".indexOf(c) > -1) {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    if (c === \".\") {\r\n                        if (s.indexOf(\".\") > -1) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    s += c;\r\n                }\r\n            }\r\n            return s || null;\r\n        },\r\n    };\r\n}\r\nfunction command(builder, cmd, argsProvider) {\r\n    if (cmd.toUpperCase() === \"M\" ||\r\n        cmd.toUpperCase() === \"L\" ||\r\n        cmd.toUpperCase() === \"T\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\r\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\r\n        builder.command(cmd, argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"Z\") {\r\n        builder.command(cmd);\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"C\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"A\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else {\r\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\r\n        console.warn(`unsupported:${cmd}`);\r\n    }\r\n    return null;\r\n}\r\nclass PathCommandsParser {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._ops = [];\r\n        this._commands = new PathCommands_1.PathCommands(this);\r\n        const buildPush = (op) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (...args) => {\r\n            this._ops.push({\r\n                op,\r\n                args,\r\n            });\r\n        };\r\n        this.moveTo = buildPush(\"moveTo\");\r\n        this.lineTo = buildPush(\"lineTo\");\r\n        this.closePath = buildPush(\"closePath\");\r\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\r\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\r\n        this.save = buildPush(\"save\");\r\n        this.translate = buildPush(\"translate\");\r\n        this.rotate = buildPush(\"rotate\");\r\n        this.scale = buildPush(\"scale\");\r\n        this.arc = buildPush(\"arc\");\r\n        this.restore = buildPush(\"restore\");\r\n        this.arcTo = buildPush(\"arcTo\");\r\n        this.ellipse = buildPush(\"ellipse\");\r\n        this.rect = buildPush(\"rect\");\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    command(name, ...args) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const numArgs = args || [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            numArgs[i] -= 0;\r\n        }\r\n        const command = this._commands[name];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        command.apply(this, numArgs);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    parse(d) {\r\n        const ops = (this._ops = []);\r\n        const tokens = pathTokens(d);\r\n        try {\r\n            let cmd;\r\n            let subsequentCommand = \"Z\";\r\n            while ((cmd = tokens.next())) {\r\n                if (!isNaN(Number(cmd))) {\r\n                    let fst = true;\r\n                    const argsProvider = {\r\n                        next() {\r\n                            if (fst) {\r\n                                fst = false;\r\n                                return cmd;\r\n                            }\r\n                            return tokens.next();\r\n                        },\r\n                    };\r\n                    subsequentCommand =\r\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\r\n                }\r\n                else {\r\n                    subsequentCommand =\r\n                        command(this, cmd, tokens) || \"Z\";\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(`Error: ${d}`);\r\n            throw e;\r\n        }\r\n        return ops;\r\n    }\r\n}\r\nexports.PathCommandsParser = PathCommandsParser;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FontRuler = void 0;\r\nfunction computeStyle(font) {\r\n    return [\r\n        {\r\n            display: \"block\",\r\n            position: \"absolute\",\r\n            top: \"-9999px\",\r\n            left: \"-9999px\",\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            margin: \"0\",\r\n            padding: \"0\",\r\n            \"white-space\": \"nowrap\",\r\n            font,\r\n        },\r\n        {\r\n            \"font-variant\": \"normal\",\r\n            \"font-size\": \"300px\",\r\n            \"font-style\": \"normal\",\r\n            \"font-weight\": \"400\",\r\n            \"line-height\": \"normal\",\r\n        },\r\n    ];\r\n}\r\nclass FontRuler {\r\n    constructor(font, testStr) {\r\n        const e = document.createElement(\"span\");\r\n        e.setAttribute(\"aria-hidden\", \"true\");\r\n        e.textContent = testStr || \"BESbswy\";\r\n        computeStyle(font).forEach((style) => {\r\n            for (const k in style) {\r\n                const key = k;\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                e.style[key] = style[key];\r\n            }\r\n        });\r\n        document.body.appendChild(e);\r\n        this.el_ = e;\r\n    }\r\n    getWidth() {\r\n        return this.el_.offsetWidth;\r\n    }\r\n    remove() {\r\n        document.body.removeChild(this.el_);\r\n    }\r\n}\r\nexports.FontRuler = FontRuler;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\r\nconst FontRuler_1 = require(\"./FontRuler\");\r\nconst LastResortFonts = {\r\n    SERIF: \"serif\",\r\n    SANS_SERIF: \"sans-serif\",\r\n};\r\nconst watchRunners = {};\r\nclass FontWatchRunner {\r\n    static load(font, testStr, activeCallback, inactiveCallback) {\r\n        const c = watchRunners[font] || (watchRunners[font] = {});\r\n        testStr += \"\";\r\n        let runner;\r\n        if (c[testStr]) {\r\n            runner = c[testStr];\r\n        }\r\n        else {\r\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\r\n        }\r\n        runner.then(activeCallback, inactiveCallback);\r\n    }\r\n    constructor(font, testStr) {\r\n        this.activeCallbacks = [];\r\n        this.inactiveCallbacks = [];\r\n        this.status = null;\r\n        this.lastResortWidths_ = {};\r\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\r\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\r\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\r\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\r\n        //start\r\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\r\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] =\r\n            lastResortRulerB.getWidth();\r\n        lastResortRulerA.remove();\r\n        lastResortRulerB.remove();\r\n        this.started_ = Date.now();\r\n        this.check_();\r\n    }\r\n    then(activeCallback, inactiveCallback) {\r\n        if (this.status) {\r\n            if (this.status !== \"ng\") {\r\n                activeCallback();\r\n            }\r\n            else {\r\n                inactiveCallback();\r\n            }\r\n        }\r\n        else {\r\n            this.activeCallbacks.push(activeCallback);\r\n            this.inactiveCallbacks.push(inactiveCallback);\r\n        }\r\n    }\r\n    check_() {\r\n        const widthA = this.fontRulerA_.getWidth();\r\n        const widthB = this.fontRulerB_.getWidth();\r\n        if (this.isFallbackFont_(widthA, widthB) ||\r\n            this.isLastResortFont_(widthA, widthB)) {\r\n            if (Date.now() - this.started_ >= 3000) {\r\n                // timeout\r\n                if (this.isLastResortFont_(widthA, widthB)) {\r\n                    this.finish_(this.activeCallbacks);\r\n                    this.status = \"ok\";\r\n                }\r\n                else {\r\n                    this.finish_(this.inactiveCallbacks);\r\n                    this.status = \"ng\";\r\n                }\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this.check_();\r\n                }, 50);\r\n            }\r\n        }\r\n        else {\r\n            this.finish_(this.activeCallbacks);\r\n            this.status = \"ok\";\r\n        }\r\n    }\r\n    isFallbackFont_(a, b) {\r\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\r\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\r\n    }\r\n    widthsMatchLastResortWidths_(a, b) {\r\n        for (const font in LastResortFonts) {\r\n            if (LastResortFonts.hasOwnProperty(font)) {\r\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\r\n                    this.widthMatches_(b, LastResortFonts[font])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    widthMatches_(width, lastResortFont) {\r\n        return width === this.lastResortWidths_[lastResortFont];\r\n    }\r\n    isLastResortFont_(a, b) {\r\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\r\n    }\r\n    finish_(callbacks) {\r\n        setTimeout(() => {\r\n            this.fontRulerA_.remove();\r\n            this.fontRulerB_.remove();\r\n            callbacks.forEach((cb) => cb());\r\n        }, 0);\r\n    }\r\n}\r\nlet HAS_WEBKIT_FALLBACK_BUG = null;\r\nfunction hasWebKitFallbackBug() {\r\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\r\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\r\n        HAS_WEBKIT_FALLBACK_BUG =\r\n            !!match &&\r\n                (parseInt(match[1], 10) < 536 ||\r\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\r\n    }\r\n    return HAS_WEBKIT_FALLBACK_BUG;\r\n}\r\nmodule.exports = FontWatchRunner;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.normalizeToFn = exports.normalize = void 0;\r\n/** @private */\r\nfunction extend(a, b) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const o = {};\r\n    for (const k in a) {\r\n        o[k] = a[k];\r\n    }\r\n    for (const k in b) {\r\n        o[k] = b[k];\r\n    }\r\n    return o;\r\n}\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalize(options) {\r\n    if (!options) {\r\n        return [];\r\n    }\r\n    if (Array.isArray(options)) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return options.map(\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (e) => extend(e, { label: e.caption || e.label }));\r\n    }\r\n    if (typeof options === \"string\") {\r\n        return normalize(JSON.parse(options));\r\n    }\r\n    const result = [];\r\n    for (const k in options) {\r\n        result.push({\r\n            value: k,\r\n            label: options[k],\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.normalize = normalize;\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalizeToFn(options) {\r\n    if (typeof options === \"function\") {\r\n        return (record) => normalize(options(record));\r\n    }\r\n    return () => normalize(options);\r\n}\r\nexports.normalizeToFn = normalizeToFn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parsePasteRangeBoxValues = exports.normalizePasteValue = void 0;\r\nfunction normalizePasteValue(text) {\r\n    return text[text.length - 1] !== \"\\n\"\r\n        ? text\r\n        : text[text.length - 2] === \"\\r\"\r\n            ? text.slice(0, -2)\r\n            : text.slice(0, -1);\r\n}\r\nexports.normalizePasteValue = normalizePasteValue;\r\nfunction parsePasteRangeBoxValues(value, option) {\r\n    const normalizedValue = normalizePasteValue(value);\r\n    const { values, colCount } = parseValues(normalizedValue, option);\r\n    return {\r\n        colCount,\r\n        rowCount: values.length,\r\n        getCellValue(offsetCol, offsetRow) {\r\n            var _a, _b;\r\n            return (_b = (_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) !== null && _b !== void 0 ? _b : \"\";\r\n        },\r\n    };\r\n}\r\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\r\nfunction parseValues(text, { trimOnPaste }) {\r\n    const len = text.length;\r\n    const adjustCell = trimOnPaste\r\n        ? (cell) => cell.trim()\r\n        : (cell) => cell;\r\n    let colCount = 1;\r\n    let line = [];\r\n    const values = [line];\r\n    let cell = \"\";\r\n    for (let index = 0; index < len; index++) {\r\n        const char = text[index];\r\n        if (char === \"\\t\") {\r\n            line.push(adjustCell(cell));\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === \"\\n\") {\r\n            // End of line\r\n            cell = adjustCell(cell);\r\n            if (cell[cell.length - 1] === \"\\r\") {\r\n                cell = cell.slice(0, -1);\r\n            }\r\n            line.push(cell);\r\n            colCount = Math.max(colCount, line.length);\r\n            line = [];\r\n            values.push(line);\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === '\"' && !cell.trim()) {\r\n            const quoted = processQuotedCell(index + 1);\r\n            if (quoted) {\r\n                ({ cell } = quoted);\r\n                index = quoted.next - 1;\r\n                continue;\r\n            }\r\n        }\r\n        cell += char;\r\n    }\r\n    // End of text\r\n    line.push(adjustCell(cell));\r\n    colCount = Math.max(colCount, line.length);\r\n    return { values, colCount };\r\n    function processQuotedCell(start) {\r\n        let cell = \"\";\r\n        let index = start;\r\n        while (index < len) {\r\n            const char = text[index];\r\n            if (char !== '\"') {\r\n                cell += char;\r\n                index++;\r\n                continue;\r\n            }\r\n            if (text[index + 1] === '\"') {\r\n                // Escape\r\n                cell += '\"';\r\n                index += 2;\r\n                continue;\r\n            }\r\n            // Maybe end quote\r\n            let next = index + 1;\r\n            while (next < len) {\r\n                const c = text[next];\r\n                if (c.trim()) {\r\n                    // Not quoted. e.g. \"A\"B\r\n                    return null;\r\n                }\r\n                if (c === \"\\t\" || c === \"\\n\") {\r\n                    break;\r\n                }\r\n                // Allow spaces\r\n                next++;\r\n            }\r\n            // End quote\r\n            return { cell, next };\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fill = exports.getPath2D = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction getPath2D() {\r\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\r\n        return Path2D;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\r\n}\r\nexports.getPath2D = getPath2D;\r\nfunction fill(pathModule, ctx, x, y, w, h) {\r\n    ctx.save();\r\n    try {\r\n        const { width, height } = pathModule;\r\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\r\n        w = w || width;\r\n        h = h || height;\r\n        const xrate = w / width;\r\n        const yrate = h / (upsideDown ? -height : height);\r\n        x = x || 0;\r\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\r\n        ctx.translate(x, y);\r\n        ctx.scale(xrate, yrate);\r\n        if (offsetX !== 0 || offsetY !== 0) {\r\n            ctx.translate(offsetX, offsetY);\r\n        }\r\n        const Path2D = getPath2D();\r\n        const path2d = (pathModule.path2d =\r\n            pathModule.path2d || new Path2D(pathModule.d));\r\n        ctx.fill(path2d);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fill = fill;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction createArray(get, length) {\r\n    const array = new Array(length);\r\n    for (let i = 0; i < length; i++) {\r\n        array[i] = get(i);\r\n    }\r\n    return array;\r\n}\r\nfunction createArrayPromise(get, getField, length\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) {\r\n    return new Promise((resolve) => {\r\n        const plist = [];\r\n        const array = new Array(length);\r\n        for (let i = 0; i < length; i++) {\r\n            const data = get(i);\r\n            const record = {\r\n                v: data,\r\n                f: data,\r\n            };\r\n            array[i] = record;\r\n            if ((0, utils_1.isPromise)(data)) {\r\n                plist.push(data.then((v) => {\r\n                    record.v = v;\r\n                    record.f = v;\r\n                }));\r\n            }\r\n        }\r\n        Promise.all(plist)\r\n            .then(() => getField == null\r\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                array\r\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                setArrayField(array, getField))\r\n            .then(resolve);\r\n    });\r\n}\r\nfunction setArrayField(array, getField) {\r\n    return new Promise((resolve) => {\r\n        const { length } = array;\r\n        const plist = [];\r\n        for (let i = 0; i < length; i++) {\r\n            const record = array[i];\r\n            const f = getField(record.v);\r\n            if ((0, utils_1.isPromise)(f)) {\r\n                plist.push(f.then((v) => {\r\n                    record.f = v;\r\n                }));\r\n            }\r\n            else {\r\n                record.f = f;\r\n            }\r\n        }\r\n        Promise.all(plist).then(() => resolve(array));\r\n    });\r\n}\r\nfunction sortArray(array, compare) {\r\n    Array.prototype.sort.call(array, compare);\r\n}\r\nexports.sortArray = sortArray;\r\nfunction sort(get, set, length, compare, getField) {\r\n    const old = createArray(get, length);\r\n    if (getField != null) {\r\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\r\n    }\r\n    else {\r\n        old.sort(compare);\r\n    }\r\n    for (let i = 0; i < length; i++) {\r\n        set(i, old[i]);\r\n    }\r\n}\r\nexports.sort = sort;\r\nfunction sortPromise(get, set, length, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ncompare, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngetField) {\r\n    if (typeof Promise !== \"undefined\") {\r\n        return createArrayPromise(get, getField, length).then((array) => {\r\n            array.sort((r1, r2) => compare(r1.f, r2.f));\r\n            for (let i = 0; i < length; i++) {\r\n                set(i, array[i].v);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        sort(get, set, length, compare, getField);\r\n        const dummyPromise = {\r\n            then(fn) {\r\n                fn();\r\n                return dummyPromise;\r\n            },\r\n            catch() {\r\n                return dummyPromise;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n        return dummyPromise;\r\n    }\r\n}\r\nexports.sortPromise = sortPromise;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getScrollBarSize = exports.initDocument = void 0;\r\nfunction getScrollBarWidth() {\r\n    const wrapper = document.createElement(\"div\");\r\n    const inner = document.createElement(\"div\");\r\n    const { style: wrapperStyle } = wrapper;\r\n    wrapperStyle.position = \"fixed\";\r\n    wrapperStyle.height = \"50px\";\r\n    wrapperStyle.width = \"50px\";\r\n    wrapperStyle.overflow = \"scroll\";\r\n    wrapperStyle.opacity = \"0\";\r\n    wrapperStyle.pointerEvents = \"none\";\r\n    const { style } = inner;\r\n    style.height = \"100%\";\r\n    style.width = \"100%\";\r\n    inner.textContent = \"x\";\r\n    wrapper.appendChild(inner);\r\n    document.body.appendChild(wrapper);\r\n    const wrapperWidth = wrapper.getBoundingClientRect().width;\r\n    const innerWidth = inner.getBoundingClientRect().width;\r\n    document.body.removeChild(wrapper);\r\n    return Math.ceil(wrapperWidth - innerWidth);\r\n}\r\nlet SCROLLBAR_SIZE;\r\nfunction initDocumentInternal() {\r\n    require(\"@/internal/style.css\");\r\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\r\n    const style = document.createElement(\"style\");\r\n    style.setAttribute(\"type\", \"text/css\");\r\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\r\n    style.innerHTML = `\r\n.cheetah-grid .grid-scroll-end-point {\r\n\twidth: ${SCROLLBAR_SIZE}px;\r\n\theight: ${SCROLLBAR_SIZE}px;\r\n}\r\n.cheetah-grid > canvas {\r\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\r\n}\r\n\t\t`;\r\n    document.head.appendChild(style);\r\n}\r\nlet initDocumentVar = initDocumentInternal;\r\nfunction initDocument() {\r\n    initDocumentVar();\r\n    initDocumentVar = Function.prototype;\r\n}\r\nexports.initDocument = initDocument;\r\nfunction getScrollBarSize() {\r\n    return SCROLLBAR_SIZE;\r\n}\r\nexports.getScrollBarSize = getScrollBarSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst utils_1 = require(\"./utils\");\r\nconst Symbol = utils_1.isNode\r\n    ? global.Symbol\r\n    : window.Symbol\r\n        ? window.Symbol\r\n        : (() => {\r\n            function random() {\r\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\r\n                const cl = c.length;\r\n                let r = \"\";\r\n                for (let i = 0; i < 10; i++) {\r\n                    r += c[Math.floor(Math.random() * cl)];\r\n                }\r\n                return r;\r\n            }\r\n            return (name) => {\r\n                if (name) {\r\n                    return `#${name}_${random()}`;\r\n                }\r\n                else {\r\n                    return `#_${random()}`;\r\n                }\r\n            };\r\n        })();\r\nconst mem = {};\r\nfunction get(name) {\r\n    if (name) {\r\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\r\n    }\r\n    else {\r\n        return Symbol();\r\n    }\r\n}\r\nexports.get = get;\r\nfunction getProtectedSymbol() {\r\n    return get(\"protected\");\r\n}\r\nexports.getProtectedSymbol = getProtectedSymbol;\r\nfunction getCheckColumnStateId() {\r\n    return get(\"chkcol.stateID\");\r\n}\r\nexports.getCheckColumnStateId = getCheckColumnStateId;\r\nfunction getRadioColumnStateId() {\r\n    return get(\"rdcol.stateID\");\r\n}\r\nexports.getRadioColumnStateId = getRadioColumnStateId;\r\nfunction getButtonColumnStateId() {\r\n    return get(\"btncol.stateID\");\r\n}\r\nexports.getButtonColumnStateId = getButtonColumnStateId;\r\nfunction getColumnFadeinStateId() {\r\n    return get(\"col.fadein_stateID\");\r\n}\r\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\r\nfunction getBranchGraphColumnStateId() {\r\n    return get(\"branch_graph_col.stateID\");\r\n}\r\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\r\nfunction getSmallDialogInputEditorStateId() {\r\n    return get(\"small_dialog_input_editor.stateID\");\r\n}\r\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\r\nfunction getInlineInputEditorStateId() {\r\n    return get(\"inline_input_editor.stateID\");\r\n}\r\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\r\nfunction getInlineMenuEditorStateId() {\r\n    return get(\"inline_menu_editor.stateID\");\r\n}\r\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\r\nfunction getCheckHeaderStateId() {\r\n    return get(\"check_header.stateID\");\r\n}\r\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\r\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\r\nexports.isNode = isNode;\r\nlet arrayFind;\r\nlet arrayFindIndex;\r\nconst array = {\r\n    get find() {\r\n        if (arrayFind) {\r\n            return arrayFind;\r\n        }\r\n        if (Array.prototype.find) {\r\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFind = (arr, predicate) => {\r\n                const index = array.findIndex(arr, predicate);\r\n                return index >= 0 ? arr[index] : undefined;\r\n            };\r\n        }\r\n        return arrayFind;\r\n    },\r\n    get findIndex() {\r\n        if (arrayFindIndex) {\r\n            return arrayFindIndex;\r\n        }\r\n        if (Array.prototype.findIndex) {\r\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFindIndex = (arr, predicate) => {\r\n                const { length } = arr;\r\n                for (let i = 0; i < length; i++) {\r\n                    const value = arr[i];\r\n                    if (predicate(value, i, arr)) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            };\r\n        }\r\n        return arrayFindIndex;\r\n    },\r\n};\r\nexports.array = array;\r\nfunction analyzeUserAgent() {\r\n    if (isNode) {\r\n        return {\r\n            IE: false,\r\n            Edge: false,\r\n            Chrome: false,\r\n            Firefox: false,\r\n            Safari: false,\r\n        };\r\n    }\r\n    else {\r\n        const ua = window.navigator.userAgent.toLowerCase();\r\n        return {\r\n            IE: !!/(msie|trident)/.exec(ua),\r\n            Edge: ua.indexOf(\"edge\") > -1,\r\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\r\n            Firefox: ua.indexOf(\"firefox\") > -1,\r\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\r\n        };\r\n    }\r\n}\r\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\r\nfunction setReadonly(obj, name, value) {\r\n    Object.defineProperty(obj, name, {\r\n        enumerable: false,\r\n        configurable: true,\r\n        value,\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction each(obj, fn) {\r\n    for (const key in obj) {\r\n        fn(obj[key], key, obj);\r\n    }\r\n}\r\nexports.each = each;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction isObject(obj) {\r\n    return obj === Object(obj);\r\n}\r\nfunction omit(source, omits) {\r\n    const result = {};\r\n    for (const key in source) {\r\n        if (omits.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                return source[key];\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.omit = omit;\r\nfunction defaults(source, defs) {\r\n    const keys = [];\r\n    const result = {};\r\n    for (const key in source) {\r\n        keys.push(key);\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    for (const key in defs) {\r\n        if (keys.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.defaults = defaults;\r\nfunction extend(...args) {\r\n    const result = {};\r\n    args.forEach((source) => {\r\n        for (const key in source) {\r\n            Object.defineProperty(result, key, {\r\n                get() {\r\n                    return source[key];\r\n                },\r\n                set(val) {\r\n                    source[key] = val;\r\n                },\r\n                configurable: true,\r\n                enumerable: true,\r\n            });\r\n        }\r\n    });\r\n    return result;\r\n}\r\nexports.extend = extend;\r\nfunction isDescendantElement(root, target) {\r\n    while (target.parentElement) {\r\n        const p = target.parentElement;\r\n        if (root === p) {\r\n            return true;\r\n        }\r\n        target = p;\r\n    }\r\n    return false;\r\n}\r\nexports.isDescendantElement = isDescendantElement;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nfunction applyChainSafe(obj, fn, ...names) {\r\n    let value = obj;\r\n    for (let i = 0; i < names.length && value != null; i++) {\r\n        value = fn(value, names[i]);\r\n    }\r\n    return value;\r\n}\r\nexports.applyChainSafe = applyChainSafe;\r\nfunction getChainSafe(obj, ...names) {\r\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\r\n}\r\nexports.getChainSafe = getChainSafe;\r\nfunction getOrApply(value, ...args) {\r\n    if (typeof value === \"function\") {\r\n        return value(...args);\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nexports.getOrApply = getOrApply;\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\r\nfunction endsWith(str, searchString, position) {\r\n    const subjectString = str.toString();\r\n    if (typeof position !== \"number\" ||\r\n        !isFinite(position) ||\r\n        Math.floor(position) !== position ||\r\n        position > subjectString.length) {\r\n        position = subjectString.length;\r\n    }\r\n    position -= searchString.length;\r\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\r\n    return lastIndex !== -1 && lastIndex === position;\r\n}\r\nfunction genChars(s) {\r\n    // Surrogate Code Point\r\n    // [\\uD800-\\uDBFF]\r\n    // Variation Selectors\r\n    // FVS [\\u180B-\\u180D]\r\n    // VS1VS16 [\\uFE00-\\uFE0F]\r\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\r\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction genWords(s) {\r\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction isPromise(data) {\r\n    return Boolean(data && typeof data.then === \"function\");\r\n}\r\nexports.isPromise = isPromise;\r\nfunction then(result, callback) {\r\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\r\n}\r\nexports.then = then;\r\nfunction getMouseButtons(e) {\r\n    if (e.buttons != null) {\r\n        return e.buttons;\r\n    }\r\n    /*for legacy*/\r\n    if (e.which != null) {\r\n        if (e.which === 3) {\r\n            //right?\r\n            return 4;\r\n        }\r\n        if (e.which === 2) {\r\n            //middle?\r\n            return 4;\r\n        }\r\n        return e.which; //left or no\r\n    }\r\n    if (e.button === 0 || e.button === 1) {\r\n        return 1; //candidate left\r\n    }\r\n    if (e.button === 2) {\r\n        return 2; // right\r\n    }\r\n    return 0; //no or middle?\r\n}\r\nfunction getKeyCode(e) {\r\n    return e.keyCode || e.which;\r\n}\r\nfunction isTouchEvent(e) {\r\n    return !!e.changedTouches;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getIgnoreCase(obj, name) {\r\n    if (obj[name]) {\r\n        return obj[name];\r\n    }\r\n    const l = name.toLowerCase();\r\n    if (obj[l]) {\r\n        return obj[l];\r\n    }\r\n    const u = name.toLowerCase();\r\n    if (obj[u]) {\r\n        return obj[u];\r\n    }\r\n    for (const k in obj) {\r\n        if (k.toLowerCase() === l) {\r\n            return obj[k];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nexports.getIgnoreCase = getIgnoreCase;\r\nfunction cancel(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n}\r\nfunction toBoxArray(obj) {\r\n    if (!Array.isArray(obj)) {\r\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\r\n    }\r\n    if (obj.length === 3) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[2] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 2) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 1) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[0] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[0] /*left*/,\r\n        ];\r\n    }\r\n    return obj;\r\n}\r\nfunction cellEquals(a, b) {\r\n    return a.col === b.col && a.row === b.row;\r\n}\r\nexports.cellEquals = cellEquals;\r\nfunction cellInRange(range, col, row) {\r\n    return (range.start.col <= col &&\r\n        col <= range.end.col &&\r\n        range.start.row <= row &&\r\n        row <= range.end.row);\r\n}\r\nexports.cellInRange = cellInRange;\r\nexports.browser = {\r\n    IE,\r\n    Edge,\r\n    Chrome,\r\n    Firefox,\r\n    Safari,\r\n    // Chrome 16777216 (onl Chrome 33554431)\r\n    // FireFox 17895588\r\n    // IE 10737433\r\n    heightLimit: Chrome ? 16777216 : Firefox ? 17895588 : 10737433, // default IE limit\r\n};\r\nexports.obj = {\r\n    setReadonly,\r\n    isObject,\r\n};\r\nexports.str = {\r\n    endsWith,\r\n    genChars,\r\n    genWords,\r\n};\r\nexports.event = {\r\n    getMouseButtons,\r\n    getKeyCode,\r\n    isTouchEvent,\r\n    cancel,\r\n};\r\nexports.style = {\r\n    toBoxArray,\r\n};\r\nexports.emptyFn = Function.prototype;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LG_EVENT_TYPE = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nexports.LG_EVENT_TYPE = (0, utils_1.extend)(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\r\n    BEFORE_CHANGE_VALUE: \"before_change_value\",\r\n    CHANGED_VALUE: \"changed_value\",\r\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\r\n    REJECTED_PASTE_VALUES: \"rejected_paste_values\",\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = exports.SimpleHeaderLayoutMap = void 0;\r\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\r\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\r\nvar multi_layout_1 = require(\"./internal/multi-layout\");\r\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nfunction normalizeLayout(layout) {\r\n    if (Array.isArray(layout)) {\r\n        return {\r\n            header: layout,\r\n            body: layout,\r\n        };\r\n    }\r\n    return layout;\r\n}\r\nlet seqId = 0;\r\nclass LayoutObjectGrid {\r\n    constructor(layout, transform) {\r\n        this.objects = [];\r\n        this.objectGrid = [];\r\n        this.objectMap = {};\r\n        this.columnCount = 0;\r\n        this.columnWidths = [];\r\n        layout.forEach((rowLayout, row) => {\r\n            let col = 0;\r\n            rowLayout.forEach((cell) => {\r\n                var _a, _b;\r\n                const id = seqId++;\r\n                const obj = transform(cell, id);\r\n                this.objects.push(obj);\r\n                this.objectMap[id] = obj;\r\n                col = this._findStartCell(col, row);\r\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\r\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\r\n                const endRow = row + rowSpan;\r\n                const endCol = col + colSpan;\r\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\r\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\r\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\r\n                        objectGridRow[colIndex] = obj;\r\n                    }\r\n                }\r\n                if (colSpan === 1) {\r\n                    this._setWidthDataIfAbsent(col, cell);\r\n                }\r\n                this._useColumnIndex(endCol - 1);\r\n                col = endCol;\r\n            });\r\n        });\r\n    }\r\n    get rowCount() {\r\n        return this.objectGrid.length;\r\n    }\r\n    _findStartCell(col, row) {\r\n        const objectGridRow = this._getObjectGridRow(row);\r\n        for (let index = col; index < objectGridRow.length; index++) {\r\n            if (!objectGridRow[index]) {\r\n                return index;\r\n            }\r\n        }\r\n        return objectGridRow.length;\r\n    }\r\n    _getObjectGridRow(row) {\r\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\r\n    }\r\n    _useColumnIndex(col) {\r\n        if (this.columnCount > col) {\r\n            return;\r\n        }\r\n        this.columnCount = col + 1;\r\n    }\r\n    _setWidthDataIfAbsent(col, cell) {\r\n        if (!this.columnWidths[col]) {\r\n            if (cell.width != null ||\r\n                cell.maxWidth != null ||\r\n                cell.minWidth != null) {\r\n                this.columnWidths[col] = {\r\n                    width: cell.width,\r\n                    maxWidth: cell.maxWidth,\r\n                    minWidth: cell.minWidth,\r\n                };\r\n            }\r\n        }\r\n    }\r\n}\r\nclass MultiLayoutMap {\r\n    constructor(layout) {\r\n        this._columnWidths = [];\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        const hbLayouut = normalizeLayout(layout);\r\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\r\n            return {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n        }));\r\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\r\n            return {\r\n                id,\r\n                field: colDef.field,\r\n                width: colDef.width,\r\n                minWidth: colDef.minWidth,\r\n                maxWidth: colDef.maxWidth,\r\n                icon: colDef.icon,\r\n                message: colDef.message,\r\n                columnType: columns.type.of(colDef.columnType),\r\n                action: columns.action.of(colDef.action),\r\n                style: colDef.style,\r\n                define: colDef,\r\n            };\r\n        }));\r\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\r\n        for (let col = 0; col < columnCount; col++) {\r\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\r\n            this._columnWidths[col] = widthDef;\r\n        }\r\n    }\r\n    get columnWidths() {\r\n        return this._columnWidths;\r\n    }\r\n    get headerRowCount() {\r\n        return this._header.rowCount;\r\n    }\r\n    get bodyRowCount() {\r\n        return this._body.rowCount;\r\n    }\r\n    get colCount() {\r\n        return this._columnCount;\r\n    }\r\n    get headerObjects() {\r\n        return this._header.objects;\r\n    }\r\n    get columnObjects() {\r\n        return this._body.objects;\r\n    }\r\n    getCellId(col, row) {\r\n        var _a, _b, _c, _d;\r\n        if (this.headerRowCount <= row) {\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        }\r\n        //in header\r\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._header.objectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._body.objectMap[id] ||\r\n            this._emptyDataCache.getBody(col, row));\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        var _a;\r\n        for (let row = 0; row < this.bodyRowCount; row++) {\r\n            const objectGridRow = this._body.objectGrid[row];\r\n            if (!objectGridRow) {\r\n                continue;\r\n            }\r\n            for (let col = 0; col < this.colCount; col++) {\r\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\r\n                    return this._getCellRange(this._body, col, row, 0);\r\n                }\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            const recordIndex = this.getRecordIndexByRow(row);\r\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\r\n        }\r\n        //in header\r\n        return this._getCellRange(this._header, col, row, 0);\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            const bodyRow = row - this.headerRowCount;\r\n            return Math.floor(bodyRow / this.bodyRowCount);\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index * this.bodyRowCount;\r\n    }\r\n    _getCellRange(\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    layout, col, layoutRow, offsetRow) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n        const result = {\r\n            start: { col, row: layoutRow + offsetRow },\r\n            end: { col, row: layoutRow + offsetRow },\r\n        };\r\n        const { objectGrid } = layout;\r\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        if (id == null) {\r\n            return result;\r\n        }\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < layout.columnCount; c++) {\r\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = layoutRow - 1; r >= 0; r--) {\r\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\r\n                break;\r\n            }\r\n            result.start.row = r + offsetRow;\r\n        }\r\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\r\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\r\n                break;\r\n            }\r\n            result.end.row = r + offsetRow;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.MultiLayoutMap = MultiLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SimpleHeaderLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nlet seqId = 0;\r\nclass SimpleHeaderLayoutMap {\r\n    constructor(header) {\r\n        this.bodyRowCount = 1;\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        this._columns = [];\r\n        this._headerCellIds = [];\r\n        this._headerObjects = this._addHeaders(0, header, []);\r\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\r\n            o[e.id] = e;\r\n            return o;\r\n        }, {});\r\n    }\r\n    get columnWidths() {\r\n        return this._columns;\r\n    }\r\n    get headerRowCount() {\r\n        return this._headerCellIds.length;\r\n    }\r\n    get colCount() {\r\n        return this._columns.length;\r\n    }\r\n    get headerObjects() {\r\n        return this._headerObjects;\r\n    }\r\n    get columnObjects() {\r\n        return this._columns;\r\n    }\r\n    getCellId(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            return this._columns[col].id;\r\n        }\r\n        //in header\r\n        return this._headerCellIds[row][col];\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._headerObjectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, _row) {\r\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        for (let col = 0; col < this.colCount; col++) {\r\n            if (id === this._columns[col].id) {\r\n                return {\r\n                    start: { col, row: 0 },\r\n                    end: { col, row: 0 },\r\n                };\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        const result = { start: { col, row }, end: { col, row } };\r\n        if (this.headerRowCount <= row) {\r\n            return result;\r\n        }\r\n        //in header\r\n        const id = this.getCellId(col, row);\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < this.colCount; c++) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = row - 1; r >= 0; r--) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.start.row = r;\r\n        }\r\n        for (let r = row + 1; r < this.headerRowCount; r++) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.end.row = r;\r\n        }\r\n        return result;\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            return row - this.headerRowCount;\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index;\r\n    }\r\n    _addHeaders(row, header, roots) {\r\n        const results = [];\r\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\r\n        header.forEach((hd) => {\r\n            const col = this._columns.length;\r\n            const id = seqId++;\r\n            const cell = {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n            results[id] = cell;\r\n            rowCells[col] = id;\r\n            for (let r = row - 1; r >= 0; r--) {\r\n                this._headerCellIds[r][col] = roots[r];\r\n            }\r\n            if (hd.columns) {\r\n                this._addHeaders(row + 1, hd.columns, [\r\n                    ...roots,\r\n                    id,\r\n                ]).forEach((c) => results.push(c));\r\n            }\r\n            else {\r\n                const colDef = hd;\r\n                this._columns.push({\r\n                    id: seqId++,\r\n                    field: colDef.field,\r\n                    width: colDef.width,\r\n                    minWidth: colDef.minWidth,\r\n                    maxWidth: colDef.maxWidth,\r\n                    icon: colDef.icon,\r\n                    message: colDef.message,\r\n                    columnType: columns.type.of(colDef.columnType),\r\n                    action: columns.action.of(colDef.action),\r\n                    style: colDef.style,\r\n                    define: colDef,\r\n                });\r\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\r\n                    this._headerCellIds[r][col] = id;\r\n                }\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    _newRow(row) {\r\n        const newRow = (this._headerCellIds[row] = []);\r\n        if (!this._columns.length) {\r\n            return newRow;\r\n        }\r\n        const prev = this._headerCellIds[row - 1];\r\n        for (let col = 0; col < prev.length; col++) {\r\n            newRow[col] = prev[col];\r\n        }\r\n        return newRow;\r\n    }\r\n}\r\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nlet seqId = -1;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyHeaderData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        headerType: headerType.of(null), // default\r\n    };\r\n}\r\nexports.newEmptyHeaderData = newEmptyHeaderData;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyColumnData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        columnType: columns.type.of(null),\r\n        style: null,\r\n    };\r\n}\r\nexports.newEmptyColumnData = newEmptyColumnData;\r\nclass EmptyDataCache {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.headers = [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.columns = [];\r\n    }\r\n    getHeader(col, row) {\r\n        const rows = this.headers[row] || (this.headers[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyHeaderData());\r\n    }\r\n    getBody(col, row) {\r\n        const rows = this.columns[row] || (this.columns[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyColumnData());\r\n    }\r\n}\r\nexports.EmptyDataCache = EmptyDataCache;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = exports._getInternal = void 0;\r\nconst columns = __importStar(require(\"./columns\"));\r\nexports.columns = columns;\r\nconst core = __importStar(require(\"./core\"));\r\nexports.core = core;\r\nconst data = __importStar(require(\"./data\"));\r\nexports.data = data;\r\nconst headers = __importStar(require(\"./headers\"));\r\nexports.headers = headers;\r\nconst icons = __importStar(require(\"./icons\"));\r\nconst register = __importStar(require(\"./register\"));\r\nexports.register = register;\r\nconst themes = __importStar(require(\"./themes\"));\r\nexports.themes = themes;\r\nconst tools = __importStar(require(\"./tools\"));\r\nexports.tools = tools;\r\nconst ListGrid_1 = require(\"./ListGrid\");\r\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\r\nvar get_internal_1 = require(\"./get-internal\");\r\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\r\n/** @private */\r\nfunction getIcons() {\r\n    return icons.get();\r\n}\r\nexports.getIcons = getIcons;\r\n// backward compatibility\r\nexports.default = {\r\n    core,\r\n    tools,\r\n    // impl Grids\r\n    ListGrid: ListGrid_1.ListGrid,\r\n    // objects\r\n    columns,\r\n    headers,\r\n    themes,\r\n    data,\r\n    // helper\r\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\r\n    //plugin registers\r\n    register,\r\n    get icons() {\r\n        return getIcons();\r\n    },\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"default\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getDefault();\r\n    },\r\n    set(defaultTheme) {\r\n        themes.setDefault(defaultTheme);\r\n    },\r\n});\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"choices\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getChoices();\r\n    },\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = void 0;\r\nexports.icons = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.themes = void 0;\r\nexports.themes = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = exports.icon = exports.theme = void 0;\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst themes_1 = require(\"./plugins/themes\");\r\nfunction register(obj, name, value) {\r\n    const old = obj[name];\r\n    obj[name] = value;\r\n    return old;\r\n}\r\nfunction registers(obj, values) {\r\n    for (const k in values) {\r\n        obj[k] = values[k];\r\n    }\r\n}\r\nfunction theme(name, theme) {\r\n    if (theme != null) {\r\n        return register(themes_1.themes, name, theme);\r\n    }\r\n    else {\r\n        return themes_1.themes[name];\r\n    }\r\n}\r\nexports.theme = theme;\r\nfunction icon(name, icon) {\r\n    if (icon != null) {\r\n        return register(icons_1.icons, name, icon);\r\n    }\r\n    else {\r\n        return icons_1.icons[name];\r\n    }\r\n}\r\nexports.icon = icon;\r\nfunction icons(icons) {\r\n    return registers(icons_1.icons, icons);\r\n}\r\nexports.icons = icons;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst theme_1 = require(\"./themes/theme\");\r\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\r\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\r\nconst themes_1 = require(\"./plugins/themes\");\r\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\r\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\r\nconst builtin = {\r\n    BASIC: exports.BASIC,\r\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\r\n};\r\nlet defTheme = exports.MATERIAL_DESIGN;\r\nexports.theme = { Theme: theme_1.Theme };\r\nfunction of(value) {\r\n    if (!value) {\r\n        return null;\r\n    }\r\n    if (typeof value === \"string\") {\r\n        const t = (0, utils_1.getIgnoreCase)(getChoices(), value);\r\n        if (t) {\r\n            return t;\r\n        }\r\n        return null;\r\n    }\r\n    if (value instanceof theme_1.Theme) {\r\n        return value;\r\n    }\r\n    return new theme_1.Theme(value);\r\n}\r\nexports.of = of;\r\nfunction getDefault() {\r\n    return defTheme;\r\n}\r\nexports.getDefault = getDefault;\r\nfunction setDefault(defaultTheme) {\r\n    defTheme = of(defaultTheme) || defTheme;\r\n}\r\nexports.setDefault = setDefault;\r\nfunction getChoices() {\r\n    return (0, utils_1.extend)(builtin, themes_1.themes);\r\n}\r\nexports.getChoices = getChoices;\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction DEFAULT_BG_COLOR(args) {\r\n    const { row, grid } = args;\r\n    if (row < grid.frozenRowCount) {\r\n        return \"#FFF\";\r\n    }\r\n    const index = grid.getRecordIndexByRow(row);\r\n    if (!(index & 1)) {\r\n        return \"#FFF\";\r\n    }\r\n    else {\r\n        return \"#F6F6F6\";\r\n    }\r\n}\r\nconst cacheLinearGradient = {};\r\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\r\n    let stop;\r\n    const stopsKey = [];\r\n    for (stop in colorStops) {\r\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\r\n    }\r\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\r\n    const ret = cacheLinearGradient[key];\r\n    if (ret) {\r\n        return ret;\r\n    }\r\n    const grad = context.createLinearGradient(left, top, left, bottom);\r\n    for (stop in colorStops) {\r\n        grad.addColorStop(Number(stop), colorStops[stop]);\r\n    }\r\n    return (cacheLinearGradient[key] = grad);\r\n}\r\nfunction FROZEN_ROWS_BG_COLOR(args) {\r\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\r\n    const { left, top } = grid.getCellRelativeRect(col, 0);\r\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\r\n    return getLinearGradient(context, left, top, left, bottom, {\r\n        0: \"#FFF\",\r\n        1: \"#D3D3D3\",\r\n    });\r\n}\r\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"#000\",\r\n    // frozenRowsColor: '#000',\r\n    defaultBgColor: DEFAULT_BG_COLOR,\r\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: \"#000\",\r\n    // frozenRowsBorderColor: '#000',\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"#000\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"#000\",\r\n        uncheckBorderColor: \"#000\",\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#000\",\r\n    },\r\n    underlayBackgroundColor: \"#F6F6F6\",\r\n};\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\r\n    const { row, grid: { frozenRowCount }, } = args;\r\n    if (frozenRowCount - 1 === row) {\r\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\r\n    }\r\n    else {\r\n        return [\"#f2f2f2\"];\r\n    }\r\n}\r\nfunction BORDER_COLOR(args) {\r\n    const { col, row, grid } = args;\r\n    const { colCount, frozenColCount, recordRowCount } = grid;\r\n    let top = \"#ccc7c7\";\r\n    let bottom = \"#ccc7c7\";\r\n    if (recordRowCount > 1) {\r\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\r\n        const endRow = startRow + recordRowCount - 1;\r\n        if (startRow !== row) {\r\n            top = null;\r\n        }\r\n        if (endRow !== row) {\r\n            bottom = null;\r\n        }\r\n    }\r\n    if (frozenColCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    if (colCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    return [top, null, bottom, null];\r\n}\r\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\r\n    defaultBgColor: \"#FFF\",\r\n    // frozenRowsBgColor: '#FFF',\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: BORDER_COLOR,\r\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        // uncheckBgColor: '#FFF',\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"rgb(76, 73, 72)\",\r\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\r\n        // uncheckBgColor: \"#FFF\",\r\n        // checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#ccc7c7\",\r\n    },\r\n    underlayBackgroundColor: \"#FFF\",\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Theme = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\nconst _ = (0, symbolManager_1.get)();\r\nfunction getProp(obj, superObj, names, defNames, convertForSuper, defaultValue) {\r\n    const value = (0, utils_1.getChainSafe)(obj, ...names) || (0, utils_1.getChainSafe)(superObj, ...names);\r\n    if (value) {\r\n        return value;\r\n    }\r\n    if (!defNames) {\r\n        return value || defaultValue;\r\n    }\r\n    const getChainSafeWithConvert = convertForSuper\r\n        ? (obj, ...names) => {\r\n            const value = (0, utils_1.getChainSafe)(obj, ...names);\r\n            if (!value) {\r\n                return value;\r\n            }\r\n            return convertForSuper(value);\r\n        }\r\n        : utils_1.getChainSafe;\r\n    return (getChainSafeWithConvert(obj, ...defNames) ||\r\n        getChainSafeWithConvert(superObj, ...defNames) ||\r\n        defaultValue);\r\n}\r\nclass Theme {\r\n    constructor(obj, superTheme) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this[_] = {\r\n            obj,\r\n            superTheme: superTheme,\r\n        };\r\n    }\r\n    get font() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"font\"]);\r\n    }\r\n    get underlayBackgroundColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\r\n    }\r\n    // color\r\n    get color() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"color\"]);\r\n    }\r\n    get frozenRowsColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\r\n    }\r\n    get frozenRowsBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get selectionBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get highlightBgColor() {\r\n        if (this.hasProperty([\"highlightBgColor\"])) {\r\n            const { obj, superTheme } = this[_];\r\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return (args) => {\r\n            const color = args.row < args.grid.frozenRowCount\r\n                ? this.frozenRowsBgColor\r\n                : this.defaultBgColor;\r\n            if (typeof color === \"function\") {\r\n                return color(args);\r\n            }\r\n            return color;\r\n        };\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"borderColor\"]);\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get highlightBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get checkbox() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"checkbox\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\", [\"color\"]);\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"radioButton\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get button() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\", [\"color\"]);\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getButtonProp(prop, defNames) {\r\n            return getProp(obj, superTheme, [\"button\", prop], defNames);\r\n        }\r\n    }\r\n    get header() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getProp(obj, superTheme, [\"messages\", prop]);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"indicators\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    hasProperty(names) {\r\n        const { obj, superTheme } = this[_];\r\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\r\n    }\r\n    extends(obj) {\r\n        return new Theme(obj, this);\r\n    }\r\n}\r\nexports.Theme = Theme;\r\nfunction hasThemeProperty(obj, names) {\r\n    if (obj instanceof Theme) {\r\n        return obj.hasProperty(names);\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let o = obj;\r\n        if (!o) {\r\n            return false;\r\n        }\r\n        for (let index = 0; index < names.length; index++) {\r\n            const name = names[index];\r\n            o = o[name];\r\n            if (!o) {\r\n                return false;\r\n            }\r\n        }\r\n        return !!o;\r\n    }\r\n}\r\nfunction colorsToColor(colors) {\r\n    if (typeof colors === \"function\") {\r\n        return (arg) => {\r\n            const val = colors(arg);\r\n            return val ? colorsArrayToColor(val) : val;\r\n        };\r\n    }\r\n    return colorsArrayToColor(colors);\r\n    function colorsArrayToColor(\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    colors) {\r\n        if (!Array.isArray(colors)) {\r\n            return colors;\r\n        }\r\n        return colors.find(Boolean) || undefined;\r\n    }\r\n}\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.canvashelper = void 0;\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nexports.canvashelper = canvashelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nconst { ceil, PI } = Math;\r\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\r\n    function strokeRectLines(positions) {\r\n        for (let i = 0; i < borderColors.length; i++) {\r\n            const color = borderColors[i];\r\n            const preColor = borderColors[i - 1];\r\n            if (color) {\r\n                if (preColor !== color) {\r\n                    if (preColor) {\r\n                        ctx.strokeStyle = preColor;\r\n                        ctx.stroke();\r\n                    }\r\n                    const pos1 = positions[i];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(pos1.x, pos1.y);\r\n                }\r\n                const pos2 = positions[i + 1];\r\n                ctx.lineTo(pos2.x, pos2.y);\r\n            }\r\n            else {\r\n                if (preColor) {\r\n                    ctx.strokeStyle = preColor;\r\n                    ctx.stroke();\r\n                }\r\n            }\r\n        }\r\n        const preColor = borderColors[borderColors.length - 1];\r\n        if (preColor) {\r\n            ctx.strokeStyle = preColor;\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    if (borderColors[0] === borderColors[1] &&\r\n        borderColors[0] === borderColors[2] &&\r\n        borderColors[0] === borderColors[3]) {\r\n        if (borderColors[0]) {\r\n            ctx.strokeStyle = borderColors[0];\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        strokeRectLines([\r\n            { x: left, y: top },\r\n            { x: left + width, y: top },\r\n            { x: left + width, y: top + height },\r\n            { x: left, y: top + height },\r\n            { x: left, y: top },\r\n        ]);\r\n    }\r\n}\r\nexports.strokeColorsRect = strokeColorsRect;\r\nfunction roundRect(ctx, left, top, width, height, radius) {\r\n    ctx.beginPath();\r\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\r\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\r\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\r\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\r\n    ctx.closePath();\r\n}\r\nexports.roundRect = roundRect;\r\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.fill();\r\n}\r\nexports.fillRoundRect = fillRoundRect;\r\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.stroke();\r\n}\r\nexports.strokeRoundRect = strokeRoundRect;\r\nfunction fillCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n}\r\nexports.fillCircle = fillCircle;\r\nfunction strokeCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\nexports.strokeCircle = strokeCircle;\r\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcBasePosition)(ctx, rect, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.fillText(text, pos.x, pos.y);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fillTextRect = fillTextRect;\r\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, destWidth, destHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawInlineImageRect = drawInlineImageRect;\r\n/**\r\n * Returns an object containing the width of the checkbox.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the checkbox\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureCheckbox(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureCheckbox = measureCheckbox;\r\n/**\r\n * Returns an object containing the width of the radio button.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the radio button\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureRadioButton(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureRadioButton = measureRadioButton;\r\n/**\r\n * draw Checkbox\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {boolean|number} check checkbox check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\r\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\r\n        if (check) {\r\n            ctx.lineWidth = ceil(boxSize / 10);\r\n            ctx.strokeStyle = uncheckBgColor;\r\n            let leftWidth = boxSize / 4;\r\n            let rightWidth = (boxSize / 2) * 0.9;\r\n            const leftLeftPos = x + boxSize * 0.2;\r\n            const leftTopPos = y + boxSize / 2;\r\n            if (checkPoint < 0.5) {\r\n                leftWidth *= checkPoint * 2;\r\n            }\r\n            ctx.beginPath();\r\n            ctx.moveTo(leftLeftPos, leftTopPos);\r\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\r\n            if (checkPoint > 0.5) {\r\n                if (checkPoint < 1) {\r\n                    rightWidth *= (checkPoint - 0.5) * 2;\r\n                }\r\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\r\n            }\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawCheckbox = drawCheckbox;\r\n/**\r\n * draw Radio button\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {boolean|number} check radio button check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\r\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\r\n        if (check) {\r\n            const checkSize = (size * ratio) / 2;\r\n            const padding = (size - checkSize) / 2;\r\n            ctx.fillStyle = checkColor;\r\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawRadioButton = drawRadioButton;\r\n/**\r\n * draw Button\r\n */\r\nfunction drawButton(ctx, left, top, width, height, option = {}) {\r\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        if (shadow) {\r\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\r\n            ctx.shadowColor = color;\r\n            ctx.shadowBlur = blur; //\r\n            ctx.shadowOffsetX = ox;\r\n            ctx.shadowOffsetY = oy;\r\n        }\r\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawButton = drawButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseTooltip = void 0;\r\nclass BaseTooltip {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachTooltipElement();\r\n        if (this._tooltipElement) {\r\n            this._tooltipElement.dispose();\r\n        }\r\n        this._tooltipElement = undefined;\r\n    }\r\n    _getTooltipElement() {\r\n        if (this._tooltipElement) {\r\n            return this._tooltipElement;\r\n        }\r\n        return (this._tooltipElement = this.createTooltipElementInternal());\r\n    }\r\n    attachTooltipElement(col, row, content) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.attach(this._grid, col, row, content);\r\n    }\r\n    moveTooltipElement(col, row) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.move(this._grid, col, row);\r\n    }\r\n    detachTooltipElement() {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement._detach();\r\n    }\r\n}\r\nexports.BaseTooltip = BaseTooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Tooltip = void 0;\r\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\r\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\r\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\r\n    createTooltipElementInternal() {\r\n        return new TooltipElement_1.TooltipElement();\r\n    }\r\n}\r\nexports.Tooltip = Tooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipHandler = void 0;\r\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\r\nconst Tooltip_1 = require(\"./Tooltip\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst TOOLTIP_INSTANCE_FACTORY = {\r\n    \"overflow-text\"(grid) {\r\n        return new Tooltip_1.Tooltip(grid);\r\n    },\r\n};\r\nfunction getTooltipInstanceInfo(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngrid, col, row) {\r\n    //\r\n    // overflow text tooltip\r\n    const overflowText = grid.getCellOverflowText(col, row);\r\n    if (overflowText) {\r\n        return {\r\n            type: \"overflow-text\",\r\n            content: overflowText,\r\n        };\r\n    }\r\n    return null;\r\n}\r\nclass TooltipHandler {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._tooltipInstances = {};\r\n        this._bindGridEvent(grid);\r\n    }\r\n    dispose() {\r\n        const tooltipInstances = this._tooltipInstances;\r\n        for (const k in tooltipInstances) {\r\n            tooltipInstances[k].dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._tooltipInstances;\r\n        this._attachInfo = null;\r\n    }\r\n    _attach(col, row) {\r\n        const info = this._attachInfo;\r\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\r\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\r\n            info.instance.detachTooltipElement();\r\n            this._attachInfo = null;\r\n        }\r\n        if (!instanceInfo) {\r\n            return;\r\n        }\r\n        const { instance } = instanceInfo;\r\n        instance.attachTooltipElement(col, row, instanceInfo.content);\r\n        const range = this._grid.getCellRange(col, row);\r\n        this._attachInfo = { range, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || !(0, utils_1.cellInRange)(info.range, col, row)) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveTooltipElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachTooltipElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _isAttachCell(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return false;\r\n        }\r\n        return (0, utils_1.cellInRange)(info.range, col, row);\r\n    }\r\n    _bindGridEvent(grid) {\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.col, e.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._attach(e.col, e.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.related.col, e.related.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._detach();\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const info = this._attachInfo;\r\n            if (!info) {\r\n                return;\r\n            }\r\n            this._move(info.range.start.col, info.range.start.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n                this._attach(e.col, e.row);\r\n            }\r\n        });\r\n    }\r\n    _getTooltipInstanceInfo(col, row) {\r\n        const grid = this._grid;\r\n        const tooltipInstances = this._tooltipInstances;\r\n        const info = getTooltipInstanceInfo(grid, col, row);\r\n        if (!info) {\r\n            return null;\r\n        }\r\n        const { type } = info;\r\n        const instance = tooltipInstances[type] ||\r\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\r\n        return {\r\n            instance,\r\n            type,\r\n            content: info.content,\r\n        };\r\n    }\r\n}\r\nexports.TooltipHandler = TooltipHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipElement = void 0;\r\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\r\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createTooltipDomElement() {\r\n    require(\"@/tooltip/internal/TooltipElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"pre\", {\r\n        classList: [CONTENT_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass TooltipElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createTooltipDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n        }\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, content) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = content;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            // rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { height: offsetHeight, width: offsetWidth, left: elementLeft, right: elementRight, } = element.getBoundingClientRect();\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        const cellCenter = left + width / 2;\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${cellCenter.toFixed()}px`;\r\n        rootElement.style.minWidth = `${width.toFixed()}px`;\r\n        const maxWidthForLeft = (elementLeft + cellCenter) * 2;\r\n        const winWidth = window.innerWidth;\r\n        const maxWidthForRight = (offsetWidth - cellCenter + (winWidth - elementRight)) * 2;\r\n        const maxWidth = Math.min(maxWidthForLeft, maxWidthForRight);\r\n        rootElement.style.maxWidth = `${maxWidth.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.TooltipElement = TooltipElement;\r\n"],"sourceRoot":""}