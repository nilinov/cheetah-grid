{"version":3,"sources":["cheetahGrid/webpack/universalModuleDefinition","cheetahGrid/webpack/bootstrap","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid/../src/js/columns/message/internal/MessageElement.css","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid/../src/js/internal/style.css","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid/node_modules/css-loader/dist/runtime/api.js","cheetahGrid/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid/node_modules/webpack/buildin/global.js","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid/../src/js/internal/style.css*","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid/./GridCanvasHelper.js","cheetahGrid/./ListGrid.js","cheetahGrid/./columns.js","cheetahGrid/./columns/action.js","cheetahGrid/./columns/action/Action.js","cheetahGrid/./columns/action/BaseAction.js","cheetahGrid/./columns/action/BaseInputEditor.js","cheetahGrid/./columns/action/ButtonAction.js","cheetahGrid/./columns/action/CheckEditor.js","cheetahGrid/./columns/action/Editor.js","cheetahGrid/./columns/action/InlineInputEditor.js","cheetahGrid/./columns/action/InlineMenuEditor.js","cheetahGrid/./columns/action/RadioEditor.js","cheetahGrid/./columns/action/SmallDialogInputEditor.js","cheetahGrid/./columns/action/action-utils.js","cheetahGrid/./columns/action/actionBind.js","cheetahGrid/./columns/action/internal/InlineInputElement.js","cheetahGrid/./columns/action/internal/InlineMenuElement.js","cheetahGrid/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid/./columns/action/internal/input-value-handler.js","cheetahGrid/./columns/indicator/handlers.js","cheetahGrid/./columns/indicator/triangle.js","cheetahGrid/./columns/message/BaseMessage.js","cheetahGrid/./columns/message/ErrorMessage.js","cheetahGrid/./columns/message/InfoMessage.js","cheetahGrid/./columns/message/MessageHandler.js","cheetahGrid/./columns/message/WarningMessage.js","cheetahGrid/./columns/message/internal/ErrorMessageElement.js","cheetahGrid/./columns/message/internal/MessageElement.js","cheetahGrid/./columns/message/internal/WarningMessageElement.js","cheetahGrid/./columns/message/messageUtils.js","cheetahGrid/./columns/style.js","cheetahGrid/./columns/style/BaseStyle.js","cheetahGrid/./columns/style/BranchGraphStyle.js","cheetahGrid/./columns/style/ButtonStyle.js","cheetahGrid/./columns/style/CheckStyle.js","cheetahGrid/./columns/style/IconStyle.js","cheetahGrid/./columns/style/ImageStyle.js","cheetahGrid/./columns/style/MenuStyle.js","cheetahGrid/./columns/style/MultilineTextStyle.js","cheetahGrid/./columns/style/NumberStyle.js","cheetahGrid/./columns/style/PercentCompleteBarStyle.js","cheetahGrid/./columns/style/RadioStyle.js","cheetahGrid/./columns/style/StdBaseStyle.js","cheetahGrid/./columns/style/Style.js","cheetahGrid/./columns/type.js","cheetahGrid/./columns/type/BaseColumn.js","cheetahGrid/./columns/type/BranchGraphColumn.js","cheetahGrid/./columns/type/ButtonColumn.js","cheetahGrid/./columns/type/CheckColumn.js","cheetahGrid/./columns/type/Column.js","cheetahGrid/./columns/type/IconColumn.js","cheetahGrid/./columns/type/ImageColumn.js","cheetahGrid/./columns/type/MenuColumn.js","cheetahGrid/./columns/type/MultilineTextColumn.js","cheetahGrid/./columns/type/NumberColumn.js","cheetahGrid/./columns/type/PercentCompleteBarColumn.js","cheetahGrid/./columns/type/RadioColumn.js","cheetahGrid/./columns/type/columnUtils.js","cheetahGrid/./columns/utils/index.js","cheetahGrid/./core.js","cheetahGrid/./core/DG_EVENT_TYPE.js","cheetahGrid/./core/DrawGrid.js","cheetahGrid/./core/EventTarget.js","cheetahGrid/./data.js","cheetahGrid/./data/CachedDataSource.js","cheetahGrid/./data/DataSource.js","cheetahGrid/./data/FilterDataSource.js","cheetahGrid/./element/Inline.js","cheetahGrid/./element/InlineDrawer.js","cheetahGrid/./element/InlineIcon.js","cheetahGrid/./element/InlineImage.js","cheetahGrid/./element/InlinePath2D.js","cheetahGrid/./element/InlineSvg.js","cheetahGrid/./element/inlines.js","cheetahGrid/./get-internal.js","cheetahGrid/./header/action.js","cheetahGrid/./header/action/BaseAction.js","cheetahGrid/./header/action/CheckHeaderAction.js","cheetahGrid/./header/action/SortHeaderAction.js","cheetahGrid/./header/action/actionBind.js","cheetahGrid/./header/style.js","cheetahGrid/./header/style/BaseStyle.js","cheetahGrid/./header/style/CheckHeaderStyle.js","cheetahGrid/./header/style/MultilineTextHeaderStyle.js","cheetahGrid/./header/style/SortHeaderStyle.js","cheetahGrid/./header/style/StdBaseStyle.js","cheetahGrid/./header/style/StdMultilineTextBaseStyle.js","cheetahGrid/./header/style/StdTextBaseStyle.js","cheetahGrid/./header/style/Style.js","cheetahGrid/./header/type.js","cheetahGrid/./header/type/BaseHeader.js","cheetahGrid/./header/type/CheckHeader.js","cheetahGrid/./header/type/Header.js","cheetahGrid/./header/type/MultilineTextHeader.js","cheetahGrid/./header/type/SortHeader.js","cheetahGrid/./headers.js","cheetahGrid/./icons.js","cheetahGrid/./internal/EventHandler.js","cheetahGrid/./internal/LRUCache.js","cheetahGrid/./internal/NumberMap.js","cheetahGrid/./internal/Rect.js","cheetahGrid/./internal/Scrollable.js","cheetahGrid/./internal/animate.js","cheetahGrid/./internal/calc.js","cheetahGrid/./internal/canvases.js","cheetahGrid/./internal/color.js","cheetahGrid/./internal/dom.js","cheetahGrid/./internal/fonts.js","cheetahGrid/./internal/hiDPI.js","cheetahGrid/./internal/icons.js","cheetahGrid/./internal/imgs.js","cheetahGrid/./internal/legacy/canvas/Path2DShim.js","cheetahGrid/./internal/legacy/canvas/PathCommands.js","cheetahGrid/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid/./internal/menu-items.js","cheetahGrid/./internal/paste-utils.js","cheetahGrid/./internal/path2DManager.js","cheetahGrid/./internal/sort.js","cheetahGrid/./internal/style.js","cheetahGrid/./internal/symbolManager.js","cheetahGrid/./internal/utils.js","cheetahGrid/./list-grid/LG_EVENT_TYPE.js","cheetahGrid/./list-grid/layout-map/index.js","cheetahGrid/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid/./list-grid/layout-map/internal/utils.js","cheetahGrid/./main.js","cheetahGrid/./plugins/icons.js","cheetahGrid/./plugins/themes.js","cheetahGrid/./register.js","cheetahGrid/./themes.js","cheetahGrid/./themes/BASIC.js","cheetahGrid/./themes/MATERIAL_DESIGN.js","cheetahGrid/./themes/theme.js","cheetahGrid/./tools.js","cheetahGrid/./tools/canvashelper.js","cheetahGrid/./tooltip/BaseTooltip.js","cheetahGrid/./tooltip/Tooltip.js","cheetahGrid/./tooltip/TooltipHandler.js","cheetahGrid/./tooltip/internal/TooltipElement.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","GridCanvasHelper","calc","require","canvashelper","fonts","inlineUtils","themes","canvases_1","utils_1","InlineDrawer_1","Rect_1","color_1","toBoxArray","style","INLINE_ELLIPSIS","of","TEXT_OFFSET","CHECKBOX_OFFSET","invalidateCell","context","grid","col","row","getColor","color","getOrApply","getFont","font","getThemeColor","names","gridThemeColor","getChainSafe","theme","getDefault","defaultThemeColor","args","testFontLoad","check","load","drawInlines","ctx","inlines","rect","offset","offsetTop","offsetBottom","drawInline","inline","offsetLeft","offsetRight","canDraw","save","fillStyle","draw","restore","onReady","length","inlineWidths","map","width","reduce","a","b","forEach","index","inlineWidth","buildInlines","icons","inlineToString","string","getOverflowInline","textOverflow","isAllowOverflow","trim","Boolean","getOverflowInlinesIndex","maxWidth","lineWidth","i","remWidth","isOverflowInlines","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","slice","canBreak","before","after","breakWord","breakAll","splitIndex","push","truncateInlines","option","overflowInline","ellipsisWidth","_inlineRect","drawRect","textAlign","textBaseline","trailingIcon","trailingIconInline","iconOf","inlineDrawRect","trailingIconWidth","Rect","left","top","height","truncInlines","setCellOverflowText","sumWidth","baseRect","trailingIconRect","copy","right","_multiInlineRect","multiInlines","lineHeight","autoWrapText","lineClamp","rectHeight","Math","max","floor","buildedMultiInlines","procLineClamp","hasNext","Number","join","concat","procLine","lineRow","buildedInline","paddingTop","paddingBottom","em","getFontSize","pad","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","start","end","diff","ceil","drawCheckbox","helper","animElapsedTime","uncheckBgColor","checkbox","checkBgColor","borderColor","positionOpt","boxWidth","measureCheckbox","pos","calcStartPosition","x","y","drawRadioButton","checkColor","radioButton","uncheckBorderColor","checkBorderColor","measureRadioButton","bgColor","ThemeResolver","constructor","_checkbox","_radioButton","_button","_header","_messages","_indicators","_grid","name","underlayBackgroundColor","frozenRowsColor","defaultBgColor","frozenRowsBgColor","selectionBgColor","highlightBgColor","frozenRowsBorderColor","highlightBorderColor","getCheckboxProp","prop","getRadioButtonProp","button","getButtonProp","header","sortArrowColor","messages","infoBgColor","getMessageProp","errorBgColor","warnBgColor","markHeight","indicators","topLeftColor","getIndicatorsProp","topLeftSize","topRightColor","topRightSize","bottomRightColor","bottomRightSize","bottomLeftColor","bottomLeftSize","strokeRect","Array","isArray","strokeStyle","borderColors","strokeColorsRect","_theme","createCalculator","calcWidth","toPx","full","getRect","getContext","calcHeight","obj","toBoxPixelArray","calculator","box","drawWithClip","getDrawRect","beginPath","clip","drawBorderWithClip","clipLeft","clipWidth","clipTop","clipHeight","text","padding","isFrozenCell","paddingNums","multilineText","multilines","fillText","fillCell","fillColor","fill","fillCellWithState","getFillColorState","fillRect","fillRectWithState","sel","getSelection","cellEquals","select","cellInRange","range","border","startOffset","borderWithState","selection","moveTo","lineTo","bottom","stroke","buildCheckBoxInline","self","InlineDrawer","caption","shadow","drawButton","radius","_a","ListGrid","data_1","layout_map_1","MessageHandler_1","style_1","DrawGrid_1","GridCanvasHelper_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","symbolManager_1","paste_utils_1","_","getProtectedSymbol","_getCellRange","layoutMap","getCellRange","_updateRect","setRectFilter","startCol","startRow","endCol","endRow","c","getColWidth","r","getRowHeight","bounds","_getCellValue","headerRowCount","getHeader","field","getBody","_getField","_setCellValue","_getRecordIndexByRow","dataSource","setField","_getCellMessage","message","promises","msg","isPromise","hasMessage","Promise","resolve","reject","p","then","_getCellIcon0","icon","isObject","retIcon","iconOpt","iconPropKeys","f","_hasField","_getCellIcon","headerIcon","getField","hasField","_onDrawValue","cellValue","gridCanvasHelper","drawCellBg","fillOpt","drawCellBorder","frozenColCount","frozenRowCount","_borderWithState","drawCellBase","info","getRecord","getRowRecord","getIcon","getMessage","messageHandler","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","selRecordIndex","getRecordIndexByRow","selId","getCellId","isSelectCell","flagBorder","borderColorCell","records","_refreshHeader","protectedSpace","headerEvents","id","unlisten","layout","MultiLayoutMap","SimpleHeaderLayoutMap","headerObjects","cell","ids","headerType","bindGridEvent","BaseStyle","listen","EVENT_TYPE","CHANGE_STYLE","invalidate","action","columnObjects","columnType","columnWidths","column","minWidth","setColWidth","setMinColWidth","setMaxColWidth","headerRowHeight","setRowHeight","colCount","_refreshRowCount","rowCount","bodyRowCount","_tryWithUpdateDataSource","fn","dataSourceEventIds","handler","off","on","DataSource","UPDATED_LENGTH","UPDATED_ORDER","_setRecords","newDataSource","CachedDataSource","ofArray","addDisposable","_setDataSource","EMPTY","_onRangePaste","test","selectionRange","values","parsePasteRangeBoxValues","trimOnPaste","pasteRowCount","min","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","offsetCol","body","editable","getRecordStartRowByRecordIndex","startRowOffset","rejectedDetail","addRejectedDetail","record","define","pasteValue","timeout","processRejected","clearTimeout","setTimeout","fireListeners","LG_EVENT_TYPE","REJECTED_PASTE_VALUES","detail","duplicate","actionRow","valuesRow","offsetRow","valuesCol","getCellValue","oldValue","onPasteCellRangeBox","newEnd","invalidateCellRange","_onRangeDelete","deleteRowCount","deleteColCount","_record","_oldValue","onDeleteCellRangeBox","DrawGrid","options","omit","disabled","readOnly","allowRangePaste","sortState","order","MessageHandler","tooltipHandler","TooltipHandler","window","updateSize","updateScroll","dispose","recordRowCount","oldState","oldField","getHeaderField","newState","newField","setHeaderValue","headerValues","Map","getColumnDefine","getColumnType","getColumnAction","hd","getHeaderDefine","getColumnIndexByField","getCellRangeByField","colObj","find","layoutRange","getBodyLayoutRangeById","focusGridCell","newFocus","focusCell","invalidateGridRect","makeVisibleGridCell","makeVisibleCell","getGridCanvasHelper","getHeaderCellRange","getCopyCellValue","cellRange","headerData","columnData","onDrawCell","doGetCellValue","valueCallback","doChangeValue","changeValueCallback","BEFORE_CHANGE_VALUE","ret","CHANGED_VALUE","doSetPasteValue","getHeaderValue","newValue","set","CHANGED_HEADER_VALUE","getLayoutCellId","bindEventsInternal","SELECTED_CELL","e","PASTE_CELL","multi","event","cancel","normalizeValue","DELETE_CELL","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveDownRowByKeyDownInternal","getOffsetInvalidateCells","getCopyRangeInternal","type","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action","Editor","BaseAction","ACTIONS","Action_1","BaseAction_1","ButtonAction_1","CheckEditor_1","Editor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","_disabled","_readOnly","ImmutableRadioEditor","ImmutableInputEditor","CHECK","INPUT","RADIO","columnAction","key","toUpperCase","actionBind_1","action_utils_1","_action","clone","getState","cellId","state","isDisabledRecord","extend","bindCellClickAction","mouseOver","mouseActiveCell","mouseOut","bindCellKeyAction","onChangeDisabledInternal","BaseInputEditor","DG_EVENT_TYPE_1","KEY_ENTER","KEY_F2","open","isReadOnlyRecord","onOpenCellInternal","input","onInputCellInternal","isTarget","DG_EVENT_TYPE","INPUT_CELL","DBLCLICK_CELL","DBLTAP_CELL","KEYDOWN","keyCode","stopCellMoving","onChangeSelectCellInternal","selected","SCROLL","onGridScrollInternal","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","getCellRect","rangeRect","getCellRangeRect","parseFloat","toFixed","onSetInputAttrsInternal","isSupportMultilineValue","replace","BUTTON_COLUMN_STATE_ID","getButtonColumnStateId","setReadonly","animate_1","CHECK_COLUMN_STATE_ID","getCheckColumnStateId","_state","block","elapsed","cellKey","toggleValue","onChange","animate","point","selrange","isRejectValue","onChangeReadOnlyInternal","BaseInputEditor_1","InlineInputElement_1","getInlineInputEditorStateId","globalElement","bindGridCount","attachInput","editor","InlineInputElement","element","attach","detachInput","gridFocus","detach","_classList","classList","_type","inputValue","_cell","_selected","setInputAttrs","InlineMenuElement_1","type_1","menu_items_1","getInlineMenuEditorStateId","attachMenu","InlineMenuElement","detachMenu","_options","normalizeToFn","CLICK_CELL","MOUSEOVER_CELL","getElement","cursor","MOUSEMOVE_CELL","MOUSEOUT_CELL","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","hasOptions","normalizePasteValueStr","captionOpt","array","opt","label","MenuColumn","utils_2","RADIO_COLUMN_STATE_ID","getRadioColumnStateId","_group","group","_checkAction","checkAction","toBoolean","targets","actionCell","recordStartRow","girdRecords","getAllRecordsFromGrid","showData","d","targetRow","flag","SmallDialogInputElement_1","getSmallDialogInputEditorStateId","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","getBooleanOptionOfRecord","val","exec","KEY_SPACE","acceptKeys","indexOf","keyboardOptions","moveCellOnEnter","EventHandler_1","dom_1","input_value_handler_1","KEY_TAB","CLASSNAME","createInputElement","createElement","add","_handler","EventHandler","_input","_bindInputEvents","_beforePropEditor","parentElement","removeChild","remove","getAttachCellsArea","appendChild","setInputValue","_activeData","focus","selectionStart","selectionEnd","document","createTextRange","collapse","moveEnd","moveStart","tryWithOffEvents","_attaching","_isActive","stopPropagationOnly","stopPropagation","contains","getKeyCode","_onKeydownEnter","_onKeydownTab","onKeyDownMove","moveCellOnTab","KEY_UP","KEY_DOWN","KEY_ESC","ITEM_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","target","el","createMenuElement","attachElement","menu","optionToLi","html","item","tabIndex","dataset","valueindex","span","appendHtml","openMenu","empty","emptyItemEl","valueItemEl","focusEl","children","focusIndex","allHeight","offsetHeight","transformOrigin","menuClientRect","getBoundingClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","winMargin","closeMenu","_col","_row","disableFocus","_menu","_bindMenuEvents","bodyClickListenerId","deregisterBodyClickListener","_deregisterBodyClickListener","_registerBodyClickListener","_onBodyClick","bind","capture","_doChangeValue","n","findPrevSiblingFocusable","findNextSiblingFocusable","shiftKey","querySelector","isFocusable","items","querySelectorAll","INPUT_CLASSNAME","_focus","createDialogElement","bindProps","dialog","unbindProps","_dialog","_bindDialogEvents","errorMessage","activeData","_onInputValue","browser","IE","_beforeValue","_validate","res","onKeyupAndPress","_onInputValueChange","inputOnly","sign","once","getDrawIndicator","triangle_1","indicatorStyle","drawTriangleIndicator","KIND_PROCESS_MAP","themeColor","themeSize","drawPath","size","baseLeft","baseTop","baseRight","baseBottom","kind","process","closePath","BaseMessage","_messageElement","detachMessageElement","_getMessageElement","createMessageElementInternal","attachMessageElement","messageElement","moveMessageElement","move","_detach","drawCellMessage","drawCellMessageInternal","ErrorMessage","messageUtils","BaseMessage_1","ErrorMessageElement_1","RED_A100","ErrorMessageElement","_message","_info","hasFocusGrid","drawExclamationMarkBox","InfoMessage","MessageElement_1","GREY_L2","MessageElement","drawInformationMarkBox","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","error","warning","WarningMessage","normalizeMessage","original","toLowerCase","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","instance","_getMessageInstanceOfMessage","_attach","_move","onSelectMessage","setMessageData","newSel","FOCUS_GRID","BLUR_GRID","WarningMessageElement_1","DEEP_ORANGE_A100","WarningMessageElement","MESSAGE_CLASSNAME","_rootElement","createMessageDomElement","rootElement","_attachCell","textContent","frozenRect","offsetWidth","boxRect","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","Style","BaseStyle_1","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","Style_1","columnStyle","StyleClassDef","DEFAULT","EventTarget_1","STYLE_EVENT_TYPE","defaultStyle","EventTarget","indicatorTopLeft","indicatorTopRight","indicatorBottomRight","indicatorBottomLeft","_bgColor","_indicatorTopLeft","normalizeIndicator","_indicatorTopRight","_indicatorBottomRight","_indicatorBottomLeft","doChangeStyle","indicator","BranchGraphStyle","DEFAULT_BRANCH_COLORS","_name","_branchColors","branchColors","_margin","margin","_circleSize","circleSize","_branchLineWidth","branchLineWidth","_mergeStyle","mergeStyle","defaults","buttonBgColor","_buttonBgColor","StdBaseStyle_1","StdBaseStyle","_uncheckBgColor","_checkBgColor","_borderColor","_imageSizing","imageSizing","appearance","_appearance","_lineHeight","_autoWrapText","_lineClamp","DEFAULT_BAR_COLOR","num","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_checkColor","_uncheckBorderColor","_checkBorderColor","_textAlign","_textBaseline","_color","_font","_padding","_textOverflow","MultilineTextColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","Column","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","BaseColumn","styleContents","handlers_1","COLUMN_FADEIN_STATE_ID","getColumnFadeinStateId","isFadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","configure","getFadeinState","cells","_generateFadeinPointAction","drawInternal","stateKey","opacity","cellState","globalAlpha","fadeinMgr","activeFadeins","margeAnimate","_fadeinWhenCallbackInPromise","StyleClass","promise","Date","now","all","currentContext","toCurrentContext","time","actStyle","convertInternal","drawMessageInternal","drawIndicatorsInternal","_cellId","BaseColumn_1","BranchGraphStyle_1","getBranchGraphColumnStateId","getAllColumnData","callback","allData","data","dataIndex","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","mergeLines","filter","l","froms","tos","t","splice","merge","joinLine","timeline","branchIndex","reverse","j","tl","branch","branches","from","to","findBranchRootIndex","fromTargetIndex","branchTargetFromIndex","branchPoint","targetLine","commitTag","commitMerge","fromTargetLine","pop","calcCommand","command","timelineData","commands","cmd","calcBranchesInfo","calcBranchXPoints","w","textWidth","measureText","renderMerge","upLineIndex","downLineIndex","branchXPoints","lineCap","upX","upRect","getCellRelativeRect","upY","bezierCurveTo","downX","downRect","downY","_start","_cache","cache","clearCache","has","_value","upLineIndexKey","downLineIndexKey","line","pointIndex","sort","arc","PI","utils","_caption","withCaption","textValue","String","active","loadIcons","blur","offsetY","repeatArray","count","Infinity","_tagName","tagName","_className","className","_content","content","_iconWidth","iconWidth","isNaN","imgs_1","MAX_LRU_CACHE_SIZE","getImage","url","getCacheOrLoad","calcKeepAspectRatioSize","maxHeight","newWidth","newHeight","drawImage","normalize","withOptions","convertedValue","_convertInternal","basePadding","textPadding","iconPadding","path","console","warn","split","defaultFotmat","Intl","NumberFormat","fmt","_format","format","withFormat","MARGIN","_min","_max","_formatter","formatter","str","endsWith","rate","barMaxWidth","barTop","barLeft","barSize","argIcon","iconList","toNormalizeArray","MOUSEDOWN_CELL","MOUSEDOWN_GRID","MOUSEUP_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","TOUCHSTART_CELL","CONTEXTMENU_CELL","RESIZE_COLUMN","hiDPI","NumberMap_1","Scrollable_1","isTouchEvent","getMouseButtons","cancelEvent","createRootElement","KEY_BS","KEY_END","KEY_HOME","KEY_LEFT","KEY_RIGHT","KEY_DEL","KEY_ALPHA_A","KEY_ALPHA_C","KEY_ALPHA_V","_vibrate","navigator","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startBottom","_getRowHeight","findAfter","candidateRow","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_getCellDrawing","drawCells","_putCellDrawing","_removeCellDrawing","keys","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","cellDrawing","dcContext","DrawCellContext","pCol","_delayMode","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","put","_storeAutoColWidthExprs","defaultColPxWidth","each","adj","getRowHeightInternal","rowHeightsMap","_setRowHeight","getRowsHeightInternal","h","_getScrollWidth","_getScrollHeight","getScrollHeightInternal","_onScroll","lastLeft","lastTop","moveX","scrollable","scrollLeft","moveY","scrollTop","setFocusCursor","abs","redrawRect","_onKeyDownMove","ctrlKey","metaKey","hMove","vMove","newCell","_moveFocusCell","selectAllOnCtrlA","vDir","hDir","shiftKeyFlg","extendRange","beforeRange","beforeRect","_setFocusCell","afterRange","afterRect","intersection","invalidateRect","_updatedSelection","focusControl","selCol","selRow","results","editMode","findIndex","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","changedTouches","clientX","pageX","scrollX","clientY","pageY","scrollY","_bindEvents","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","buttons","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","useTouch","useTouchStart","timeoutId","useTouchEnd","defaultPrevented","targetTouches","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","leaveCell","moving","lastMoving","onKeyDown","onScroll","copyRange","copyLines","copyLine","copyCellValue","strCellValue","onCopy","onPaste","normalizedValue","normalizePasteValue","rangeBoxValues","pasteCellEvent","onInput","onDelete","onFocus","focusedGrid","onBlur","abstractX","abstractY","inPoint","cellRect","_getScrollableVisibleRect","frozenColsWidth","frozenRowsHeight","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","_bindMoveAndUp","events","mousemove","_mouseMove","mouseup","_mouseUp","touchmove","passive","touchend","touchcancel","_moveInternal","_upInternal","CellSelector","_getTargetCell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","afterSize","setSafeInputValue","IGNORE_STORE_ATTRS","FocusControl","_scrollable","_isComposition","_compositionEnd","lastInputValue","inputClear","storeLastInputValue","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","Edge","isDescendantElement","dummyInput","pasteText","clipboardData","getData","types","setData","log","_keyDownMoveCallback","setFocusRect","calcTop","getScrollBarSize","resetInputStatus","composition","attrs","attributes","removeNames","attr","_inputStatus","nodeName","removeName","removeAttribute","setAttribute","inputStatus","Selection","_sel","_end","_callBeforeHooks","_wrapFireSelectedEvent","_setSelectCell","keepSelect","ignoreBeforeHook","_isWrapped","_updateGridRange","points","needChange","_layers","addDraw","level","DrawLayer","list","_level","_list","drawing","_rectFilter","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","rectFilter","_getRectInternal","_isOutOfRange","_toRelativeDrawRect","addLayerDraw","fRect","onTerminate","_onTerminate","protectedKey","initDocument","Scrollable","transform","alpha","NumberMap","cellTextOverflows","cfg","config","scrollHeight","scrollWidth","setScrollSize","getMaxColWidth","maxwidth","getMinColWidth","minwidth","getCellsRect","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","getRowAt","frozen","getColAt","oldEditMode","cellsRect","invalidateTarget","visibleRowCount","visibleTop","visibleColCount","visibleLeft","topRow","leftCol","_range","getCellOverflowText","overflowText","disposable","Error","disposables","_absoluteY","_startRow","_endRow","nextId","listeners","listenerData","listener","addEventListener","removeEventListener","FilterDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","_setFieldCache","fCache","recCache","source","_rCache","_fCache","getOriginal","getOriginalField","rowCache","setOriginalField","fieldPromiseCallBackInternal","recordPromiseCallBackInternal","isFieldAssessor","UPDATE_LENGTH","ascOrderFn","v1","v2","descOrderFn","getValue","setPromiseBack","maybePromiseValue","promiseValue","fieldGet","fieldResult","ss","applyChainSafe","emptyFn","fieldSet","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","hasOriginalField","orderFn","sortPromise","rel","_index","_field","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","movePrev","nest","FilterData","dc","_owner","_dataSourceItr","_filter","_filteredList","_queues","filteredList","queues","indexQueue","_findIndex","_findIndexWithTimeout","testTimeout","dataSourceItr","queue","_filterData","Inline","getWidth","breakWidth","itr","candidateIndex","chars","beforeWidth","charWidth","beforeContent","afterContent","_callback","fillTextRect","genChars","allWidth","candidate","genWords","toString","Inline_1","_draw","_width","_arg","InlineIcon","_icon","letterSpacing","InlineImage","src","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_height","_imageLeft","_imageTop","_imageWidth","_imageHeight","_offsetTop","_offsetLeft","_onloaded","s","_loadImage","img","drawInlineImageRect","InlinePath2D","path2DManager","Path2D","getPath2D","_path","translate","InlineSvg","InlineImage_1","buildSvgDataUrl","svg","XMLSerializer","serializeToString","encodeURIComponent","getSvgElement","parser","DOMParser","parseFromString","svgElem","elmWidth","getAttribute","elmHeight","numElmWidth","numElmHeight","InlineIcon_1","InlinePath2D_1","InlineSvg_1","drawRegisteredIcon","drawWidth","drawHeight","isIconConstructorOption","isInlineImageConstructorOption","isInlineSvgConstructorOption","registeredIcons","registeredIcon","il","getInternal","symbolManager","pasteUtils","ofCell","CheckHeaderAction","SortHeaderAction","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","SORT","headerAction","headerCell","sortMethod","CHECK_HEADER_STATE_ID","getCheckHeaderStateId","checked","_sort","_executeSort","hasTrueField","fieldRow","inMouse","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","StdTextBaseStyle_1","StdTextBaseStyle","StdMultilineTextBaseStyle_1","StdMultilineTextBaseStyle","_sortArrowColor","_multiline","multiline","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","inlineCheck","contents","arrowSize","icons_1","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","_listeners","fire","hasListener","clear","LRUCache","cacheSize","_map","_cacheSize","idx","remKey","shift","indexFirst","arr","elm","low","high","_keys","_vals","_sorted","keyFrom","keyTo","_left","_top","rect1","rect2","_right","_bottom","x0","x1","y0","y1","another","MAX_SCROLL","heightLimit","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","cubicBezier","x2","y2","x3","y3","step","err","EASINGS","linear","easeIn","easeOut","easeInOut","raf","isNode","requestAnimationFrame","duration","easing","startedAt","easingFn","canceledFlg","createAnim","anim","TYPE_PAREN","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","TABULATION","CARRIAGE_RETURN","LINE_FEED","FORM_FEED","SPACE","PERCENT","FULL_STOP","DIGIT_0","DIGIT_9","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","LATIN_SMALL_A","LATIN_SMALL_Z","isUpperLetter","cp","isLowerLetter","isLetter","isWhitespace","isDigit","isDot","isUnit","createError","tokenize","exp","tokens","len","charCodeAt","parseSign","parseNum","parseUnit","unit","PRECEDENCE","lex","buildBinaryExpNode","stack","op","nodeType","token","deep","closeIndex","beforeOp","parse","calcStr","calcNode","node","toPxInternal","ast","calcBasePosition","fontSizeCache","fontName","bk","paddingLeft","paddingRight","rgbMap","styleColorToRGB","dummy","position","styleColor","defaultView","getComputedStyle","colorToRGB0","hexToNum","hex","parseInt","createRGB","g","tripleHexToRGB","sextupleHexToRGB","r1","r2","g1","g2","b1","b2","testRGB","rateToByte","numberPattern","percentPattern","maybePercentPattern","buildRgbWithCommaRegExp","bytePattern","RegExp","buildRgbLv4RegExp","buildRgbaWithCommaRegExp","alphaPattern","buildRgbaLv4RegExp","rgb","enableFocus","toNodeList","innerHTML","dom","firstChild","arg","toNode","childNodes","inner","disableBeforeTabIndex","previousSibling","nextSibling","loads","_testStr","fontFaceSet","legacy","testStr","ready","ratio","setRatio","devicePixelRatio","wh","scale","getIconProps","ICON_PROP_KEYS","quote","quoted","part","doms","props","tagProps","beforeStyle","getPropertyValue","clientWidth","isLiga","toPropArray","toSimpleArray","iconProps","workData","isIconKey","loadImage","LRUCache_1","allCache","Image","onload","onerror","getCacheOrLoad0","cacheName","Path2DShim","PathCommandsParser_1","PathCommandsParser","_ops","arcTo","ellipse","quadraticCurveTo","roundRect","_y","_w","_radii","CanvasRenderingContext2D","originalFill","apply","PathCommands","mag","sqrt","pow","dot","u","clamp","angle","acos","rotClockwise","cost","cos","sint","sin","rotCounterClockwise","midPoint","meanVec","pointMul","sum","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","xPrime2","rx2","ry2","lambda","factor","cPrime","x1UnitVector","x2UnitVector","theta","deltaTheta","rotate","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","PathCommands_1","pathTokens","builder","argsProvider","_commands","buildPush","numArgs","ops","subsequentCommand","fst","FontRuler","computeStyle","display","el_","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallback","inactiveCallback","runner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","widthsMatchLastResortWidths_","lastResortFont","hasWebKitFallbackBug","callbacks","cb","HAS_WEBKIT_FALLBACK_BUG","match","userAgent","module","JSON","parseValues","adjustCell","char","processQuotedCell","pathModule","ud","upsideDown","offsetX","xrate","yrate","path2d","sortArray","createArray","createArrayPromise","plist","setArrayField","compare","old","dummyPromise","catch","getScrollBarWidth","wrapper","wrapperStyle","pointerEvents","wrapperWidth","innerWidth","SCROLLBAR_SIZE","initDocumentInternal","head","initDocumentVar","Function","Symbol","global","random","cl","mem","getIgnoreCase","arrayFind","arrayFindIndex","predicate","analyzeUserAgent","Chrome","Firefox","Safari","ua","omits","defs","root","searchString","subjectString","isFinite","lastIndex","lastIndexOf","re","which","preventDefault","simple_header_layout_1","multi_layout_1","columns","normalizeLayout","seqId","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","_emptyDataCache","EmptyDataCache","hbLayouut","headerField","_body","colDef","_columnCount","widthDef","bodyLayoutRow","recordIndex","layoutRow","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","prev","newEmptyColumnData","newEmptyHeaderData","headers","rows","register","getIcons","tools","core","_getInternal","ListGrid_1","get_internal_1","default","defaultTheme","setDefault","getChoices","themes_1","registers","__importDefault","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","Theme","builtin","defTheme","DEFAULT_BG_COLOR","cacheLinearGradient","getLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","FROZEN_ROWS_BG_COLOR","FROZEN_ROWS_BORDER_COLOR","BORDER_COLOR","getProp","superObj","defNames","convertForSuper","defaultValue","getChainSafeWithConvert","superTheme","hasProperty","colorsToColor","hasThemeProperty","extends","colors","colorsArrayToColor","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","strokeRectLines","positions","preColor","pos1","pos2","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","boxSize","checkPoint","leftX","topY","leftWidth","rightWidth","leftLeftPos","leftTopPos","checkSize","backgroundColor","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","BaseTooltip","detachTooltipElement","_tooltipElement","_getTooltipElement","createTooltipElementInternal","attachTooltipElement","tooltipElement","moveTooltipElement","Tooltip","BaseTooltip_1","TooltipElement_1","TooltipElement","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","overflow-text","getTooltipInstanceInfo","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","_isAttachCell","CONTENT_CLASSNAME","createTooltipDomElement","elementLeft","elementRight","cellCenter","maxWidthForLeft","winWidth","maxWidthForRight"],"mappings":"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GD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;A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","file":"cheetahGrid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridCanvasHelper = void 0;\r\nconst calc = __importStar(require(\"./internal/calc\"));\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nconst fonts = __importStar(require(\"./internal/fonts\"));\r\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst canvases_1 = require(\"./internal/canvases\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst color_1 = require(\"./internal/color\");\r\nconst { toBoxArray } = utils_1.style;\r\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\r\nconst TEXT_OFFSET = 2;\r\nconst CHECKBOX_OFFSET = TEXT_OFFSET + 1;\r\nfunction invalidateCell(context, grid) {\r\n    const { col, row } = context;\r\n    grid.invalidateCell(col, row);\r\n}\r\nfunction getColor(color, col, row, grid, context) {\r\n    return (0, utils_1.getOrApply)(color, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getFont(font, col, row, grid, context) {\r\n    if (font == null) {\r\n        return undefined;\r\n    }\r\n    return (0, utils_1.getOrApply)(font, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getThemeColor(grid, ...names) {\r\n    const gridThemeColor = (0, utils_1.getChainSafe)(grid.theme, ...names);\r\n    if (gridThemeColor == null) {\r\n        // use default theme\r\n        return (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n    }\r\n    if (typeof gridThemeColor !== \"function\") {\r\n        return gridThemeColor;\r\n    }\r\n    let defaultThemeColor;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ((args) => {\r\n        const color = gridThemeColor(args);\r\n        if (color != null) {\r\n            // use grid theme\r\n            return color;\r\n        }\r\n        // use default theme\r\n        defaultThemeColor =\r\n            defaultThemeColor || (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n        return (0, utils_1.getOrApply)(defaultThemeColor, args);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    });\r\n}\r\nfunction testFontLoad(font, value, context, grid) {\r\n    if (font) {\r\n        if (!fonts.check(font, value)) {\r\n            fonts.load(font, value, () => invalidateCell(context, grid));\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\r\n    function drawInline(inline, offsetLeft, offsetRight) {\r\n        if (inline.canDraw()) {\r\n            ctx.save();\r\n            try {\r\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\r\n                ctx.font = inline.font() || ctx.font;\r\n                inline.draw({\r\n                    ctx,\r\n                    canvashelper,\r\n                    rect,\r\n                    offset,\r\n                    offsetLeft,\r\n                    offsetRight,\r\n                    offsetTop,\r\n                    offsetBottom,\r\n                });\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        }\r\n        else {\r\n            inline.onReady(() => grid.invalidateCell(col, row));\r\n            //noop\r\n        }\r\n    }\r\n    if (inlines.length === 1) {\r\n        //1\r\n        const inline = inlines[0];\r\n        drawInline(inline, 0, 0);\r\n    }\r\n    else {\r\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\r\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\r\n        let offsetLeft = 0;\r\n        inlines.forEach((inline, index) => {\r\n            const inlineWidth = inlineWidths[index];\r\n            offsetRight -= inlineWidth;\r\n            drawInline(inline, offsetLeft, offsetRight);\r\n            offsetLeft += inlineWidth;\r\n        });\r\n    }\r\n}\r\nfunction buildInlines(icons, inline) {\r\n    return inlineUtils.buildInlines(icons, inline || \"\");\r\n}\r\nfunction inlineToString(inline) {\r\n    return inlineUtils.string(inline);\r\n}\r\nfunction getOverflowInline(textOverflow) {\r\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\r\n        return INLINE_ELLIPSIS;\r\n    }\r\n    textOverflow = textOverflow.trim();\r\n    if (textOverflow.length === 1) {\r\n        return inlineUtils.of(textOverflow[0]);\r\n    }\r\n    return INLINE_ELLIPSIS;\r\n}\r\nfunction isAllowOverflow(textOverflow) {\r\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\r\n}\r\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\r\n    const maxWidth = width - 3; /*buffer*/\r\n    let lineWidth = 0;\r\n    for (let i = 0; i < inlines.length; i++) {\r\n        const inline = inlines[i];\r\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\r\n        if (lineWidth + inlineWidth > maxWidth) {\r\n            return {\r\n                index: i,\r\n                lineWidth,\r\n                remWidth: maxWidth - lineWidth,\r\n            };\r\n        }\r\n        lineWidth += inlineWidth;\r\n    }\r\n    return null;\r\n}\r\nfunction isOverflowInlines(ctx, inlines, width) {\r\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\r\n}\r\nfunction breakWidthInlines(ctx, inlines, width) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            beforeInlines: inlines,\r\n            overflow: false,\r\n            afterInlines: [],\r\n        };\r\n    }\r\n    const { index, remWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const beforeInlines = inlines.slice(0, index);\r\n    const afterInlines = [];\r\n    if (inline.canBreak()) {\r\n        let { before, after } = inline.breakWord(ctx, remWidth);\r\n        if (!before && !beforeInlines.length) {\r\n            ({ before, after } = inline.breakAll(ctx, remWidth));\r\n        }\r\n        if (!before && !beforeInlines.length) {\r\n            // Always return one char\r\n            ({ before, after } = inline.splitIndex(1));\r\n        }\r\n        if (before) {\r\n            beforeInlines.push(before);\r\n        }\r\n        if (after) {\r\n            afterInlines.push(after);\r\n        }\r\n        afterInlines.push(...inlines.slice(index + 1));\r\n    }\r\n    else {\r\n        if (!beforeInlines.length) {\r\n            // Always return one char\r\n            beforeInlines.push(inline);\r\n        }\r\n        afterInlines.push(...inlines.slice(beforeInlines.length));\r\n    }\r\n    return {\r\n        beforeInlines,\r\n        overflow: true,\r\n        afterInlines,\r\n    };\r\n}\r\nfunction truncateInlines(ctx, inlines, width, option) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            inlines,\r\n            overflow: false,\r\n        };\r\n    }\r\n    const { index, lineWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const overflowInline = getOverflowInline(option);\r\n    const ellipsisWidth = overflowInline.width({ ctx });\r\n    const remWidth = width - lineWidth - ellipsisWidth;\r\n    const result = inlines.slice(0, index);\r\n    if (inline.canBreak()) {\r\n        const { before } = inline.breakAll(ctx, remWidth);\r\n        if (before) {\r\n            result.push(before);\r\n        }\r\n    }\r\n    result.push(overflowInline);\r\n    return {\r\n        inlines: result,\r\n        overflow: true,\r\n    };\r\n}\r\nfunction _inlineRect(grid, ctx, inline, drawRect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    let inlines = buildInlines(icons, inline);\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let inlineDrawRect = drawRect;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n        inlineDrawRect = new Rect_1.Rect(drawRect.left, drawRect.top, width, drawRect.height);\r\n    }\r\n    if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, width)) {\r\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n        inlines = truncInlines;\r\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n    }\r\n    drawInlines(ctx, inlines, inlineDrawRect, offset, 0, 0, col, row, grid);\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let sumWidth = 0;\r\n        inlines.forEach((inline) => {\r\n            sumWidth += inline.width({ ctx });\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < sumWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += sumWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\n// eslint-disable-next-line complexity\r\nfunction _multiInlineRect(grid, ctx, multiInlines, drawRect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    if (lineClamp === \"auto\") {\r\n        const rectHeight = drawRect.height - offset * 2 - 2; /*offset added by Inline#draw*/\r\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\r\n    }\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n    }\r\n    let buildedMultiInlines;\r\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\r\n        buildedMultiInlines = [];\r\n        const procLineClamp = lineClamp > 0\r\n            ? (inlines, hasNext) => {\r\n                if (buildedMultiInlines.length + 1 >= Number(lineClamp)) {\r\n                    if (inlines.length === 0 && hasNext) {\r\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    else {\r\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                        buildedMultiInlines.push(hasNext && !overflow\r\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\r\n                            : truncInlines);\r\n                        if (overflow || hasNext) {\r\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n            : () => true;\r\n        const procLine = autoWrapText\r\n            ? (inlines, hasNext) => {\r\n                if (!procLineClamp(inlines, hasNext)) {\r\n                    return false;\r\n                }\r\n                while (inlines.length) {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\r\n                    buildedMultiInlines.push(beforeInlines);\r\n                    inlines = afterInlines;\r\n                }\r\n                return true;\r\n            }\r\n            : isAllowOverflow(textOverflow)\r\n                ? (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                    buildedMultiInlines.push(truncInlines);\r\n                    if (overflow) {\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    return true;\r\n                }\r\n                : (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    buildedMultiInlines.push(inlines);\r\n                    return true;\r\n                };\r\n        grid.setCellOverflowText(col, row, false);\r\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\r\n            const inline = multiInlines[lineRow];\r\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\r\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\r\n    }\r\n    let paddingTop = 0;\r\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\r\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop += pad;\r\n        paddingBottom -= pad;\r\n    }\r\n    else if (ctx.textBaseline === \"bottom\" ||\r\n        ctx.textBaseline === \"alphabetic\" ||\r\n        ctx.textBaseline === \"ideographic\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop -= pad;\r\n        paddingBottom += pad;\r\n    }\r\n    buildedMultiInlines.forEach((buildedInline) => {\r\n        drawInlines(ctx, buildedInline, drawRect, offset, paddingTop, paddingBottom, col, row, grid);\r\n        paddingTop += lineHeight;\r\n        paddingBottom -= lineHeight;\r\n    });\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let maxWidth = 0;\r\n        buildedMultiInlines.forEach((buildedInline) => {\r\n            let sumWidth = 0;\r\n            buildedInline.forEach((inline) => {\r\n                sumWidth += inline.width({ ctx });\r\n            });\r\n            maxWidth = Math.max(maxWidth, sumWidth);\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < maxWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += maxWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\r\n    const startColorRGB = (0, color_1.colorToRGB)(startColor);\r\n    const endColorRGB = (0, color_1.colorToRGB)(endColor);\r\n    const getRGB = (colorName) => {\r\n        const start = startColorRGB[colorName];\r\n        const end = endColorRGB[colorName];\r\n        if (elapsedTime >= 1) {\r\n            return end;\r\n        }\r\n        if (elapsedTime <= 0) {\r\n            return start;\r\n        }\r\n        const diff = start - end;\r\n        return Math.ceil(start - diff * elapsedTime);\r\n    };\r\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\r\n}\r\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    borderColor = helper.getColor(borderColor, col, row, ctx);\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        uncheckBgColor = check\r\n            ? uncheckBgColor\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n        checkBgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : checkBgColor;\r\n    }\r\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\r\n        uncheckBgColor,\r\n        checkBgColor,\r\n        borderColor,\r\n    });\r\n}\r\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    checkColor = helper.getColor(checkColor, col, row, ctx);\r\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\r\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\r\n    let bgColor = check ? checkBgColor : uncheckBgColor;\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        borderColor = check\r\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\r\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\r\n        bgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n    }\r\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\r\n        checkColor,\r\n        borderColor,\r\n        bgColor,\r\n    });\r\n}\r\nclass ThemeResolver {\r\n    constructor(grid) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this._grid = grid;\r\n    }\r\n    getThemeColor(...name) {\r\n        return getThemeColor(this._grid, ...name);\r\n    }\r\n    get font() {\r\n        return getThemeColor(this._grid, \"font\");\r\n    }\r\n    get underlayBackgroundColor() {\r\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\r\n    }\r\n    // color\r\n    get color() {\r\n        return getThemeColor(this._grid, \"color\");\r\n    }\r\n    get frozenRowsColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsColor\");\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        return getThemeColor(this._grid, \"defaultBgColor\");\r\n    }\r\n    get frozenRowsBgColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\r\n    }\r\n    get selectionBgColor() {\r\n        return getThemeColor(this._grid, \"selectionBgColor\");\r\n    }\r\n    get highlightBgColor() {\r\n        return getThemeColor(this._grid, \"highlightBgColor\");\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        return getThemeColor(this._grid, \"borderColor\");\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\r\n    }\r\n    get highlightBorderColor() {\r\n        return getThemeColor(this._grid, \"highlightBorderColor\");\r\n    }\r\n    get checkbox() {\r\n        const grid = this._grid;\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop) {\r\n            return getThemeColor(grid, \"checkbox\", prop);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const grid = this._grid;\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\");\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\");\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop) {\r\n            return getThemeColor(grid, \"radioButton\", prop);\r\n        }\r\n    }\r\n    get button() {\r\n        const grid = this._grid;\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\");\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\");\r\n                },\r\n            }));\r\n        function getButtonProp(prop) {\r\n            return getThemeColor(grid, \"button\", prop);\r\n        }\r\n    }\r\n    get header() {\r\n        const grid = this._grid;\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const grid = this._grid;\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getThemeColor(grid, \"messages\", prop);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const grid = this._grid;\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop) {\r\n            return getThemeColor(grid, \"indicators\", prop);\r\n        }\r\n    }\r\n}\r\nfunction strokeRect(ctx, color, left, top, width, height) {\r\n    if (!Array.isArray(color)) {\r\n        if (color) {\r\n            ctx.strokeStyle = color;\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        const borderColors = toBoxArray(color);\r\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\r\n    }\r\n}\r\nclass GridCanvasHelper {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._theme = new ThemeResolver(grid);\r\n    }\r\n    createCalculator(context, font) {\r\n        return {\r\n            calcWidth(width) {\r\n                return calc.toPx(width, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.width;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).width;\r\n                    },\r\n                });\r\n            },\r\n            calcHeight(height) {\r\n                return calc.toPx(height, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.height;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).height;\r\n                    },\r\n                });\r\n            },\r\n        };\r\n    }\r\n    getColor(color, col, row, ctx) {\r\n        return getColor(color, col, row, this._grid, ctx);\r\n    }\r\n    toBoxArray(obj) {\r\n        return toBoxArray(obj);\r\n    }\r\n    toBoxPixelArray(value, context, font) {\r\n        if (typeof value === \"string\" || Array.isArray(value)) {\r\n            const calculator = this.createCalculator(context, font);\r\n            const box = toBoxArray(value);\r\n            return [\r\n                calculator.calcHeight(box[0]),\r\n                calculator.calcWidth(box[1]),\r\n                calculator.calcHeight(box[2]),\r\n                calculator.calcWidth(box[3]),\r\n            ];\r\n        }\r\n        return toBoxArray(value);\r\n    }\r\n    get theme() {\r\n        return this._theme;\r\n    }\r\n    drawWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n            //clip\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    drawBorderWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const rect = context.getRect();\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            //clip\r\n            ctx.beginPath();\r\n            let clipLeft = drawRect.left;\r\n            let clipWidth = drawRect.width;\r\n            if (drawRect.left === rect.left) {\r\n                clipLeft += -1;\r\n                clipWidth += 1;\r\n            }\r\n            let clipTop = drawRect.top;\r\n            let clipHeight = drawRect.height;\r\n            if (drawRect.top === rect.top) {\r\n                clipTop += -1;\r\n                clipHeight += 1;\r\n            }\r\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    text(text, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, trailingIcon, } = {}) {\r\n        let rect = context.getRect();\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width, height);\r\n            }\r\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    multilineText(multilines, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, trailingIcon, } = {}) {\r\n        let rect = context.getRect();\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width, height);\r\n            }\r\n            const calculator = this.createCalculator(context, font);\r\n            lineHeight = calculator.calcHeight(lineHeight);\r\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\r\n            ctx.textAlign = textAlign;\r\n            ctx.textBaseline = textBaseline;\r\n            ctx.font = font || ctx.font;\r\n            ctx.fillText(text, x, y);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        });\r\n    }\r\n    fillCellWithState(context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillCell(context, option);\r\n    }\r\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillRectWithState(rect, context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillRect(rect, context, option);\r\n    }\r\n    getFillColorState(context, option = {}) {\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        if (!(0, utils_1.cellEquals)(sel.select, context) && (0, utils_1.cellInRange)(sel.range, col, row)) {\r\n            return this.theme.selectionBgColor;\r\n        }\r\n        if (option.fillColor) {\r\n            return option.fillColor;\r\n        }\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            return this.theme.highlightBgColor;\r\n        }\r\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            return this.theme.frozenRowsBgColor;\r\n        }\r\n        return this.theme.defaultBgColor;\r\n    }\r\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawBorderWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\r\n            if (lineWidth === 1) {\r\n                ctx.lineWidth = 1;\r\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\r\n            }\r\n            else if (lineWidth === 2) {\r\n                ctx.lineWidth = 2;\r\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\r\n            }\r\n            else {\r\n                ctx.lineWidth = lineWidth;\r\n                const startOffset = lineWidth / 2 - 1;\r\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\r\n            }\r\n        });\r\n    }\r\n    // Unused in main\r\n    borderWithState(context, option = {}) {\r\n        const rect = context.getRect();\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        //\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            option.borderColor = this.theme.highlightBorderColor;\r\n            option.lineWidth = 2;\r\n            this.border(context, option);\r\n        }\r\n        else {\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n                option.borderColor = this.theme.frozenRowsBorderColor;\r\n            }\r\n            option.lineWidth = 1;\r\n            this.border(context, option);\r\n            //\r\n            const sel = this._grid.selection.select;\r\n            if (sel.col + 1 === col && sel.row === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n            else if (sel.col === col && sel.row + 1 === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n        }\r\n    }\r\n    buildCheckBoxInline(check, context, option = {}) {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const self = this;\r\n        const ctx = context.getContext();\r\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw,\r\n            width: boxWidth + 3,\r\n            height: boxWidth + 1,\r\n            color: undefined,\r\n        });\r\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\r\n                offset: offset + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                padding: {\r\n                    left: offsetLeft + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                    right: offsetRight,\r\n                    top: offsetTop,\r\n                    bottom: offsetBottom,\r\n                },\r\n            });\r\n        }\r\n    }\r\n    checkbox(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, uncheckBgColor, checkBgColor, borderColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                borderColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    radioButton(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                checkColor,\r\n                uncheckBorderColor,\r\n                checkBorderColor,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = TEXT_OFFSET, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            const { col, row } = context;\r\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\r\n            const left = rect.left + paddingNums[3];\r\n            const top = rect.top + paddingNums[0];\r\n            const width = rect.width - paddingNums[1] - paddingNums[3];\r\n            const height = rect.height - paddingNums[0] - paddingNums[2];\r\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\r\n            canvashelper.drawButton(ctx, left, top, width, height, {\r\n                bgColor,\r\n                radius: rect.height / 8,\r\n                // offset,\r\n                shadow,\r\n            });\r\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n    testFontLoad(font, value, context) {\r\n        return testFontLoad(font, value, context, this._grid);\r\n    }\r\n}\r\nexports.GridCanvasHelper = GridCanvasHelper;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ListGrid = void 0;\r\nconst icons = __importStar(require(\"./internal/icons\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst data_1 = require(\"./data\");\r\nconst layout_map_1 = require(\"./list-grid/layout-map\");\r\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst style_1 = require(\"./columns/style\");\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nconst style_2 = require(\"./header/style\");\r\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"./internal/symbolManager\");\r\nconst paste_utils_1 = require(\"./internal/paste-utils\");\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n//private methods\r\n/** @private */\r\nfunction _getCellRange(grid, col, row) {\r\n    return grid[_].layoutMap.getCellRange(col, row);\r\n}\r\n/** @private */\r\nfunction _updateRect(grid, col, row, context) {\r\n    context.setRectFilter((rect) => {\r\n        let { left, right, top, bottom } = rect;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\r\n        for (let c = col - 1; c >= startCol; c--) {\r\n            left -= grid.getColWidth(c);\r\n        }\r\n        for (let c = col + 1; c <= endCol; c++) {\r\n            right += grid.getColWidth(c);\r\n        }\r\n        for (let r = row - 1; r >= startRow; r--) {\r\n            top -= grid.getRowHeight(r);\r\n        }\r\n        for (let r = row + 1; r <= endRow; r++) {\r\n            bottom += grid.getRowHeight(r);\r\n        }\r\n        return Rect_1.Rect.bounds(left, top, right, bottom);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getCellValue(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\r\n        return typeof caption === \"function\" ? caption() : caption;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        return _getField(grid, field, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _setCellValue(grid, col, row, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        // nop\r\n        return false;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.setField(index, field, value);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getCellMessage(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const { message } = grid[_].layoutMap.getBody(col, row);\r\n        if (!message) {\r\n            return null;\r\n        }\r\n        if (!Array.isArray(message)) {\r\n            return _getField(grid, message, row);\r\n        }\r\n        const promises = [];\r\n        for (let index = 0; index < message.length; index++) {\r\n            const msg = _getField(grid, message[index], row);\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promises.push(msg);\r\n            }\r\n            else if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                return msg;\r\n            }\r\n        }\r\n        if (!promises.length) {\r\n            return null;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            promises.forEach((p) => {\r\n                p.then((msg) => {\r\n                    if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                        resolve(msg);\r\n                    }\r\n                }, reject);\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction _getCellIcon0(grid, icon, row) {\r\n    if (Array.isArray(icon)) {\r\n        return icon.map((i) => _getCellIcon0(grid, i, row));\r\n    }\r\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\r\n        return _getField(grid, icon, row);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const retIcon = {};\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const iconOpt = icon;\r\n    icons.iconPropKeys.forEach((k) => {\r\n        if (iconOpt[k]) {\r\n            const f = _getField(grid, iconOpt[k], row);\r\n            if (f != null) {\r\n                retIcon[k] = f;\r\n            }\r\n            else {\r\n                if (!_hasField(grid, iconOpt[k], row)) {\r\n                    retIcon[k] = iconOpt[k];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return retIcon;\r\n}\r\n/** @private */\r\nfunction _getCellIcon(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { headerIcon } = grid[_].layoutMap.getHeader(col, row);\r\n        if (headerIcon == null) {\r\n            return null;\r\n        }\r\n        return headerIcon;\r\n    }\r\n    else {\r\n        const { icon } = grid[_].layoutMap.getBody(col, row);\r\n        if (icon == null) {\r\n            return null;\r\n        }\r\n        return _getCellIcon0(grid, icon, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getField(grid, field, row) {\r\n    if (field == null) {\r\n        return null;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.getField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _hasField(grid, field, row) {\r\n    if (field == null) {\r\n        return false;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return false;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.hasField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\r\n    const helper = grid[_].gridCanvasHelper;\r\n    const drawCellBg = ({ bgColor, } = {}) => {\r\n        const fillOpt = {\r\n            fillColor: bgColor,\r\n        };\r\n        //cell\r\n        helper.fillCellWithState(context, fillOpt);\r\n    };\r\n    const drawCellBorder = () => {\r\n        if (context.col === grid.frozenColCount - 1) {\r\n            //\r\n            const rect = context.getRect();\r\n            helper.drawWithClip(context, (ctx) => {\r\n                const borderColor = context.row >= grid.frozenRowCount\r\n                    ? helper.theme.borderColor\r\n                    : helper.theme.frozenRowsBorderColor;\r\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.right - 2.5, rect.top);\r\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        _borderWithState(grid, helper, context);\r\n    };\r\n    const drawCellBase = ({ bgColor, } = {}) => {\r\n        drawCellBg({ bgColor });\r\n        drawCellBorder();\r\n    };\r\n    const info = {\r\n        getRecord: () => grid.getRowRecord(row),\r\n        getIcon: () => _getCellIcon(grid, col, row),\r\n        getMessage: () => _getCellMessage(grid, col, row),\r\n        messageHandler: grid[_].messageHandler,\r\n        style,\r\n        drawCellBase,\r\n        drawCellBg,\r\n        drawCellBorder,\r\n    };\r\n    return draw(cellValue, info, context, grid);\r\n}\r\n/** @private */\r\nfunction _borderWithState(grid, helper, context) {\r\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\r\n    const { col, row } = context;\r\n    const sel = grid.selection.select;\r\n    const { layoutMap } = grid[_];\r\n    const rect = context.getRect();\r\n    const option = {};\r\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\r\n    const selId = layoutMap.getCellId(sel.col, sel.row);\r\n    function isSelectCell(col, row) {\r\n        if (col === sel.col && row === sel.row) {\r\n            return true;\r\n        }\r\n        return (selId != null &&\r\n            layoutMap.getCellId(col, row) === selId &&\r\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\r\n    }\r\n    //\r\n    if (isSelectCell(col, row) &&\r\n        ((typeof helper.theme.highlightBorderColor == \"string\" &&\r\n            helper.theme.highlightBorderColor) ||\r\n            (typeof helper.theme.highlightBorderColor == \"function\" &&\r\n                helper.theme.highlightBorderColor(row, col)))) {\r\n        option.borderColor = helper.theme.highlightBorderColor;\r\n        option.lineWidth = 2;\r\n        helper.border(context, option);\r\n    }\r\n    else {\r\n        option.lineWidth = 1;\r\n        // header color\r\n        const isFrozenCell = grid.isFrozenCell(col, row);\r\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n            option.borderColor = helper.theme.frozenRowsBorderColor;\r\n        }\r\n        let flagBorder = false;\r\n        if ((_b = layoutMap.getBody(col, row)) === null || _b === void 0 ? void 0 : _b.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_c = layoutMap.getBody(col, row)) === null || _c === void 0 ? void 0 : _c.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_e = (_d = layoutMap.getBody(col, row).style) === null || _d === void 0 ? void 0 : _d.borderColor) !== null && _e !== void 0 ? _e : \"\";\r\n            }\r\n            if (typeof ((_f = layoutMap.getBody(col, row)) === null || _f === void 0 ? void 0 : _f.style) == \"function\" &&\r\n                ((_g = grid[_].records) === null || _g === void 0 ? void 0 : _g.length)) {\r\n                borderColorCell = (_h = layoutMap.getBody(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _h === void 0 ? void 0 : _h.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if ((_j = layoutMap.getHeader(col, row)) === null || _j === void 0 ? void 0 : _j.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_k = layoutMap.getHeader(col, row)) === null || _k === void 0 ? void 0 : _k.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_m = (_l = layoutMap.getHeader(col, row).style) === null || _l === void 0 ? void 0 : _l.borderColor) !== null && _m !== void 0 ? _m : \"\";\r\n            }\r\n            if (typeof ((_o = layoutMap.getHeader(col, row)) === null || _o === void 0 ? void 0 : _o.style) == \"function\" &&\r\n                ((_p = grid[_].records) === null || _p === void 0 ? void 0 : _p.length)) {\r\n                borderColorCell = (_q = layoutMap.getHeader(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _q === void 0 ? void 0 : _q.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if (!flagBorder) {\r\n            helper.border(context, option);\r\n        }\r\n        //\r\n        if (col > 0 && isSelectCell(col - 1, row)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        else if (row > 0 && isSelectCell(col, row - 1)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[0]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshHeader(grid) {\r\n    var _b;\r\n    const protectedSpace = grid[_];\r\n    if (protectedSpace.headerEvents) {\r\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\r\n    }\r\n    const headerEvents = (grid[_].headerEvents = []);\r\n    headerEvents.forEach((id) => grid.unlisten(id));\r\n    let layoutMap;\r\n    if (protectedSpace.layout &&\r\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\r\n    }\r\n    else {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_b = protectedSpace.header) !== null && _b !== void 0 ? _b : []);\r\n    }\r\n    layoutMap.headerObjects.forEach((cell) => {\r\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\r\n        headerEvents.push(...ids);\r\n        if (cell.style) {\r\n            if (cell.style instanceof style_2.BaseStyle) {\r\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n        if (cell.action) {\r\n            const ids = cell.action.bindGridEvent(grid, cell.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n    });\r\n    layoutMap.columnObjects.forEach((col) => {\r\n        if (col.action) {\r\n            const ids = col.action.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.columnType) {\r\n            const ids = col.columnType.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.style) {\r\n            if (col.style instanceof style_1.BaseStyle) {\r\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n    });\r\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\r\n        const column = layoutMap.columnWidths[col];\r\n        const { width, minWidth, maxWidth } = column;\r\n        if (width && (typeof width === \"string\" || width > 0)) {\r\n            grid.setColWidth(col, width);\r\n        }\r\n        else {\r\n            grid.setColWidth(col, null);\r\n        }\r\n        if (minWidth && (typeof minWidth === \"string\" || minWidth > 0)) {\r\n            grid.setMinColWidth(col, minWidth);\r\n        }\r\n        else {\r\n            grid.setMinColWidth(col, null);\r\n        }\r\n        if (maxWidth && (typeof maxWidth === \"string\" || maxWidth > 0)) {\r\n            grid.setMaxColWidth(col, maxWidth);\r\n        }\r\n        else {\r\n            grid.setMaxColWidth(col, null);\r\n        }\r\n    }\r\n    const { headerRowHeight } = grid[_];\r\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\r\n        const height = Array.isArray(headerRowHeight)\r\n            ? headerRowHeight[row]\r\n            : headerRowHeight;\r\n        if (height && height > 0) {\r\n            grid.setRowHeight(row, height);\r\n        }\r\n        else {\r\n            grid.setRowHeight(row, null);\r\n        }\r\n    }\r\n    grid.colCount = layoutMap.colCount;\r\n    _refreshRowCount(grid);\r\n    if (grid.frozenRowCount == 0) {\r\n        grid.frozenRowCount = layoutMap.headerRowCount;\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshRowCount(grid) {\r\n    const { layoutMap } = grid[_];\r\n    grid.rowCount =\r\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\r\n            layoutMap.headerRowCount;\r\n}\r\n/** @private */\r\nfunction _tryWithUpdateDataSource(grid, fn) {\r\n    const { dataSourceEventIds } = grid[_];\r\n    if (dataSourceEventIds) {\r\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\r\n    }\r\n    fn(grid);\r\n    grid[_].dataSourceEventIds = [\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\r\n            _refreshRowCount(grid);\r\n            grid.invalidate();\r\n        }),\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            grid.invalidate();\r\n        }),\r\n    ];\r\n}\r\n/** @private */\r\nfunction _setRecords(grid, records = []) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        grid[_].records = records;\r\n        const newDataSource = (grid[_].dataSource =\r\n            data_1.CachedDataSource.ofArray(records));\r\n        grid.addDisposable(newDataSource);\r\n    });\r\n}\r\n/** @private */\r\nfunction _setDataSource(grid, dataSource) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        if (dataSource) {\r\n            if (dataSource instanceof data_1.DataSource) {\r\n                grid[_].dataSource = dataSource;\r\n            }\r\n            else {\r\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\r\n                grid.addDisposable(newDataSource);\r\n            }\r\n        }\r\n        else {\r\n            grid[_].dataSource = data_1.DataSource.EMPTY;\r\n        }\r\n        grid[_].records = null;\r\n    });\r\n}\r\n/** @private */\r\nfunction _getRecordIndexByRow(grid, row) {\r\n    const { layoutMap } = grid[_];\r\n    return layoutMap.getRecordIndexByRow(row);\r\n}\r\n/** @private */\r\nfunction _onRangePaste(text, test = () => true) {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const values = (0, paste_utils_1.parsePasteRangeBoxValues)(text, {\r\n        trimOnPaste: this.trimOnPaste,\r\n    });\r\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\r\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let rejectedDetail = [];\r\n    const addRejectedDetail = (cell, record, define, pasteValue) => {\r\n        rejectedDetail.push({\r\n            col: cell.col,\r\n            row: cell.row,\r\n            record,\r\n            define,\r\n            pasteValue,\r\n        });\r\n    };\r\n    let timeout = null;\r\n    const processRejected = () => {\r\n        if (timeout)\r\n            clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            if (rejectedDetail.length > 0) {\r\n                this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.REJECTED_PASTE_VALUES, {\r\n                    detail: rejectedDetail,\r\n                });\r\n                rejectedDetail = [];\r\n            }\r\n        }, 100);\r\n    };\r\n    let reject = addRejectedDetail;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    let valuesRow = 0;\r\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\r\n        let valuesCol = 0;\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const { action, id, define } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\r\n                (0, utils_1.then)(this.getRowRecord(row), (record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (oldValue) => {\r\n                        if (test({\r\n                            grid: this,\r\n                            record: record,\r\n                            col,\r\n                            row,\r\n                            value: cellValue,\r\n                            oldValue,\r\n                        })) {\r\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue, {\r\n                                reject() {\r\n                                    reject({ col, row }, record, define, cellValue);\r\n                                },\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            valuesCol++;\r\n            if (valuesCol >= values.colCount) {\r\n                valuesCol = 0;\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n        valuesRow++;\r\n        if (valuesRow >= values.rowCount) {\r\n            valuesRow = 0;\r\n        }\r\n    }\r\n    const newEnd = {\r\n        col: start.col + pasteColCount - 1,\r\n        row: start.row + pasteRowCount - 1,\r\n    };\r\n    this.selection.range = {\r\n        start,\r\n        end: newEnd,\r\n    };\r\n    this.invalidateCellRange(this.selection.range);\r\n    processRejected();\r\n    reject = (cell, record, define, pasteValue) => {\r\n        addRejectedDetail(cell, record, define, pasteValue);\r\n        processRejected();\r\n    };\r\n}\r\n/** @private */\r\nfunction _onRangeDelete() {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\r\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                (0, utils_1.then)(this.getRowRecord(row), (_record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (_oldValue) => {\r\n                        action.onDeleteCellRangeBox(this, { col, row });\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n    }\r\n    this.invalidateCellRange(selectionRange);\r\n}\r\n/**\r\n * ListGrid\r\n * @classdesc cheetahGrid.ListGrid\r\n * @memberof cheetahGrid\r\n */\r\nclass ListGrid extends DrawGrid_1.DrawGrid {\r\n    static get EVENT_TYPE() {\r\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\r\n    }\r\n    /**\r\n     * constructor\r\n     *\r\n     * @constructor\r\n     * @param options Constructor options\r\n     */\r\n    constructor(options = {}) {\r\n        var _b, _c;\r\n        super((0, utils_1.omit)(options, [\"colCount\", \"rowCount\"]));\r\n        this[_a] = this[_];\r\n        this.disabled = false;\r\n        this.readOnly = false;\r\n        const protectedSpace = this[_];\r\n        protectedSpace.header = options.header || [];\r\n        protectedSpace.layout = options.layout || [];\r\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\r\n        protectedSpace.frozenRowCount = (_b = options.frozenRowCount) !== null && _b !== void 0 ? _b : 0;\r\n        if (options.dataSource) {\r\n            _setDataSource(this, options.dataSource);\r\n        }\r\n        else {\r\n            _setRecords(this, options.records);\r\n        }\r\n        protectedSpace.allowRangePaste = (_c = options.allowRangePaste) !== null && _c !== void 0 ? _c : false;\r\n        _refreshHeader(this);\r\n        protectedSpace.sortState = {\r\n            col: -1,\r\n            row: -1,\r\n            order: undefined,\r\n        };\r\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\r\n        protectedSpace.theme = themes.of(options.theme);\r\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\r\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\r\n        this.invalidate();\r\n        protectedSpace.handler.on(window, \"resize\", () => {\r\n            this.updateSize();\r\n            this.updateScroll();\r\n            this.invalidate();\r\n        });\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        const protectedSpace = this[_];\r\n        protectedSpace.messageHandler.dispose();\r\n        protectedSpace.tooltipHandler.dispose();\r\n        super.dispose();\r\n    }\r\n    /**\r\n     * Gets the define of the header.\r\n     */\r\n    get header() {\r\n        return this[_].header;\r\n    }\r\n    /**\r\n     * Sets the define of the header with the given data.\r\n     * <pre>\r\n     * column options\r\n     * -----\r\n     * caption: header caption\r\n     * field: field name\r\n     * width: column width\r\n     * minWidth: column min width\r\n     * maxWidth: column max width\r\n     * icon: icon definition\r\n     * message: message key name\r\n     * columnType: column type\r\n     * action: column action\r\n     * style: column style\r\n     * headerType: header type\r\n     * headerStyle: header style\r\n     * headerAction: header action\r\n     * headerField: header field name\r\n     * headerIcon: header icon definition\r\n     * sort: define sort setting\r\n     * -----\r\n     *\r\n     * multiline header\r\n     * -----\r\n     * caption: header caption\r\n     * columns: columns define\r\n     * -----\r\n     * </pre>\r\n     */\r\n    set header(header) {\r\n        this[_].header = header;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Gets the define of the layout.\r\n     */\r\n    get layout() {\r\n        return this[_].layout;\r\n    }\r\n    /**\r\n     * Sets the define of the layout with the given data.\r\n     */\r\n    set layout(layout) {\r\n        this[_].layout = layout;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Get the row count per record\r\n     */\r\n    get recordRowCount() {\r\n        return this[_].layoutMap.bodyRowCount;\r\n    }\r\n    /**\r\n     * Get the records.\r\n     */\r\n    get records() {\r\n        return this[_].records || null;\r\n    }\r\n    /**\r\n     * Set the records from given\r\n     */\r\n    set records(records) {\r\n        if (records == null) {\r\n            return;\r\n        }\r\n        _setRecords(this, records);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the data source.\r\n     */\r\n    get dataSource() {\r\n        return this[_].dataSource;\r\n    }\r\n    /**\r\n     * Set the data source from given\r\n     */\r\n    set dataSource(dataSource) {\r\n        _setDataSource(this, dataSource);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the theme.\r\n     */\r\n    get theme() {\r\n        return this[_].theme;\r\n    }\r\n    /**\r\n     * Set the theme from given\r\n     */\r\n    set theme(theme) {\r\n        this[_].theme = themes.of(theme);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * If set to true to allow pasting of ranges.\r\n     */\r\n    get allowRangePaste() {\r\n        return this[_].allowRangePaste;\r\n    }\r\n    set allowRangePaste(allowRangePaste) {\r\n        this[_].allowRangePaste = allowRangePaste;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     * @override\r\n     */\r\n    get font() {\r\n        return super.font || this[_].gridCanvasHelper.theme.font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     * @override\r\n     */\r\n    set font(font) {\r\n        super.font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     * @override\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return (super.underlayBackgroundColor ||\r\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     * @override\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        super.underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Get the sort state.\r\n     */\r\n    get sortState() {\r\n        return this[_].sortState;\r\n    }\r\n    /**\r\n     * Sets the sort state.\r\n     * If `null` to set, the sort state is initialized.\r\n     */\r\n    set sortState(sortState) {\r\n        const oldState = this.sortState;\r\n        let oldField;\r\n        if (oldState.col >= 0 && oldState.row >= 0) {\r\n            oldField = this.getHeaderField(oldState.col, oldState.row);\r\n        }\r\n        const newState = (this[_].sortState =\r\n            sortState != null\r\n                ? sortState\r\n                : {\r\n                    col: -1,\r\n                    row: -1,\r\n                    order: undefined,\r\n                });\r\n        let newField;\r\n        if (newState.col >= 0 && newState.row >= 0) {\r\n            newField = this.getHeaderField(newState.col, newState.row);\r\n        }\r\n        // bind header value\r\n        if (oldField != null && oldField !== newField) {\r\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\r\n        }\r\n        if (newField != null) {\r\n            this.setHeaderValue(newState.col, newState.row, newState.order);\r\n        }\r\n    }\r\n    /**\r\n     * Get the header values.\r\n     */\r\n    get headerValues() {\r\n        return this[_].headerValues || (this[_].headerValues = new Map());\r\n    }\r\n    /**\r\n     * Sets the header values.\r\n     */\r\n    set headerValues(headerValues) {\r\n        this[_].headerValues = headerValues || new Map();\r\n    }\r\n    /**\r\n     * Get the field of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The field object.\r\n     */\r\n    getField(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\r\n    }\r\n    /**\r\n     * Get the column define of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The column define object.\r\n     */\r\n    getColumnDefine(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\r\n    }\r\n    getColumnType(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).columnType;\r\n    }\r\n    getColumnAction(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).action;\r\n    }\r\n    /**\r\n     * Get the header field of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The field object.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderField(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.field;\r\n    }\r\n    /**\r\n     * Get the header define of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The header define object.\r\n     */\r\n    getHeaderDefine(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.define;\r\n    }\r\n    /**\r\n     * Get the record of the given row index.\r\n     * @param  {number} row The row index.\r\n     * @return {object} The record.\r\n     */\r\n    getRowRecord(row) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return undefined;\r\n        }\r\n        else {\r\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\r\n        }\r\n    }\r\n    /**\r\n     * Get the record index of the given row index.\r\n     * @param  {number} row The row index.\r\n     */\r\n    getRecordIndexByRow(row) {\r\n        return _getRecordIndexByRow(this, row);\r\n    }\r\n    /**\r\n     * Gets the row index starting at the given record index.\r\n     * @param  {number} index The record index.\r\n     */\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @return {number} The column index.\r\n     * @deprecated use `getCellRangeByField` instead\r\n     */\r\n    getColumnIndexByField(field) {\r\n        var _b;\r\n        const range = this.getCellRangeByField(field, 0);\r\n        return (_b = range === null || range === void 0 ? void 0 : range.start.col) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {number} The column index.\r\n     */\r\n    getCellRangeByField(field, index) {\r\n        const { layoutMap } = this[_];\r\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\r\n        if (colObj) {\r\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\r\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\r\n            return {\r\n                start: {\r\n                    col: layoutRange.start.col,\r\n                    row: startRow + layoutRange.start.row,\r\n                },\r\n                end: {\r\n                    col: layoutRange.end.col,\r\n                    row: startRow + layoutRange.end.row,\r\n                },\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    focusGridCell(field, index) {\r\n        var _b;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\r\n        const newFocus = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        if (newFocus == null) {\r\n            return;\r\n        }\r\n        this.focusCell(newFocus.col, newFocus.row);\r\n        this.selection.select = newFocus;\r\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n        this.invalidateCell(newFocus.col, newFocus.row);\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    makeVisibleGridCell(field, index) {\r\n        var _b, _c, _d;\r\n        const cell = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        this.makeVisibleCell((_c = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _c !== void 0 ? _c : 0, (_d = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _d !== void 0 ? _d : this[_].layoutMap.headerRowCount);\r\n    }\r\n    getGridCanvasHelper() {\r\n        return this[_].gridCanvasHelper;\r\n    }\r\n    /**\r\n     * Get cell range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     */\r\n    getCellRange(col, row) {\r\n        return _getCellRange(this, col, row);\r\n    }\r\n    /**\r\n     * Get header range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     * @deprecated use `getCellRange` instead\r\n     */\r\n    getHeaderCellRange(col, row) {\r\n        return this.getCellRange(col, row);\r\n    }\r\n    getCopyCellValue(col, row, range) {\r\n        const cellRange = _getCellRange(this, col, row);\r\n        const startCol = range\r\n            ? Math.max(range.start.col, cellRange.start.col)\r\n            : cellRange.start.col;\r\n        const startRow = range\r\n            ? Math.max(range.start.row, cellRange.start.row)\r\n            : cellRange.start.row;\r\n        if (startCol !== col || startRow !== row) {\r\n            return \"\";\r\n        }\r\n        const value = _getCellValue(this, col, row);\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            const headerData = this[_].layoutMap.getHeader(col, row);\r\n            return headerData.headerType.getCopyCellValue(value, this, { col, row });\r\n        }\r\n        const columnData = this[_].layoutMap.getBody(col, row);\r\n        return columnData.columnType.getCopyCellValue(value, this, { col, row });\r\n    }\r\n    onDrawCell(col, row, context) {\r\n        const { layoutMap } = this[_];\r\n        let draw;\r\n        let style;\r\n        if (row < layoutMap.headerRowCount) {\r\n            const hd = layoutMap.getHeader(col, row);\r\n            draw = hd.headerType.onDrawCell;\r\n            ({ style } = hd);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        else {\r\n            const column = layoutMap.getBody(col, row);\r\n            draw = column.columnType.onDrawCell;\r\n            ({ style } = column);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        const cellValue = _getCellValue(this, col, row);\r\n        if (this.rowCount <= row) {\r\n            // Depending on the FilterDataSource, the rowCount may be reduced.\r\n            return undefined;\r\n        }\r\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\r\n    }\r\n    doGetCellValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    valueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const value = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(value)) {\r\n                //\r\n                return false;\r\n            }\r\n            valueCallback(value);\r\n        }\r\n        return true;\r\n    }\r\n    doChangeValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    changeValueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const record = this.getRowRecord(row);\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                //\r\n                return false;\r\n            }\r\n            const before = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(before)) {\r\n                //\r\n                return false;\r\n            }\r\n            const after = changeValueCallback(before);\r\n            if (after === undefined) {\r\n                return false;\r\n            }\r\n            const { field } = this[_].layoutMap.getBody(col, row);\r\n            this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BEFORE_CHANGE_VALUE, {\r\n                col,\r\n                row,\r\n                record: record,\r\n                field: field,\r\n                value: after,\r\n                oldValue: before,\r\n            });\r\n            return (0, utils_1.then)(_setCellValue(this, col, row, after), (ret) => {\r\n                if (ret) {\r\n                    const { field } = this[_].layoutMap.getBody(col, row);\r\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\r\n                        col,\r\n                        row,\r\n                        record: record,\r\n                        field: field,\r\n                        value: after,\r\n                        oldValue: before,\r\n                    });\r\n                }\r\n                return ret;\r\n            });\r\n        }\r\n    }\r\n    doSetPasteValue(text, test) {\r\n        _onRangePaste.call(this, text, test);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderValue(col, row) {\r\n        const field = this.getHeaderField(col, row);\r\n        return this.headerValues.get(field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setHeaderValue(col, row, newValue) {\r\n        const field = this.getHeaderField(col, row);\r\n        const oldValue = this.headerValues.get(field);\r\n        this.headerValues.set(field, newValue);\r\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\r\n            col,\r\n            row,\r\n            field,\r\n            value: newValue,\r\n            oldValue,\r\n        });\r\n    }\r\n    getLayoutCellId(col, row) {\r\n        return this[_].layoutMap.getCellId(col, row);\r\n    }\r\n    bindEventsInternal() {\r\n        const grid = this;\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            const range = _getCellRange(this, e.col, e.row);\r\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\r\n            if (startCol !== endCol || startRow !== endRow) {\r\n                this.invalidateCellRange(range);\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n            if (!this[_].allowRangePaste) {\r\n                return;\r\n            }\r\n            const { start, end } = this.selection.range;\r\n            if (!e.multi && (0, utils_1.cellEquals)(start, end)) {\r\n                return;\r\n            }\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangePaste.call(this, e.normalizeValue);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\r\n            const { start } = this.selection.range;\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangeDelete.call(this);\r\n        });\r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col, row }) {\r\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\r\n        col = startCol;\r\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col, row, }) {\r\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\r\n        col = endCol;\r\n        return super.getMoveRightColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ col, row }) {\r\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\r\n        row = startRow;\r\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ col, row }) {\r\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\r\n        row = endRow;\r\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 1;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        const { start } = this.getCellRange(range.start.col, range.start.row);\r\n        const { end } = this.getCellRange(range.end.col, range.end.row);\r\n        return { start, end };\r\n    }\r\n    fireListeners(type, ...event) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.ListGrid = ListGrid;\r\n_a = _;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./columns/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./columns/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./columns/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst Action_1 = require(\"./action/Action\");\r\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\r\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\r\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\r\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\r\nconst Editor_1 = require(\"./action/Editor\");\r\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\r\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\r\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\r\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\r\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\r\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\r\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\r\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\r\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    CHECK: new ImmutableCheckEditor(),\r\n    INPUT: new ImmutableInputEditor(),\r\n    RADIO: new ImmutableRadioEditor(),\r\n};\r\nfunction of(columnAction) {\r\n    if (!columnAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof columnAction === \"string\") {\r\n        const key = columnAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return columnAction;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Action = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nclass Action extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._action = option.action || (() => { });\r\n    }\r\n    get editable() {\r\n        return false;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(action) {\r\n        this._action = action;\r\n    }\r\n    clone() {\r\n        return new Action(this);\r\n    }\r\n    getState(_grid) {\r\n        return {};\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = this.getState(grid);\r\n        const action = (cell) => {\r\n            if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            const record = grid.getRowRecord(cell.row);\r\n            this._action(record, (0, utils_1.extend)(cell, { grid }));\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox() {\r\n        // noop\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.Action = Action;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // abstract\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseInputEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass BaseInputEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        const input = (cell, value) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            this.onInputCellInternal(grid, cell, value);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.value);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.normalizeValue);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n                utils_1.event.cancel(e.event);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                this.onGridScrollInternal(grid);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return false;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return;\r\n                }\r\n                const range = grid.getCellRange(cell.col, cell.row);\r\n                if (range.start.col !== range.end.col ||\r\n                    range.start.row !== range.end.row) {\r\n                    const { input } = cell;\r\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\r\n                    const rangeRect = grid.getCellRangeRect(range);\r\n                    input.style.top = `${(parseFloat(input.style.top) +\r\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\r\n                    input.style.left = `${(parseFloat(input.style.left) +\r\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\r\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\r\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\r\n                }\r\n                this.onSetInputAttrsInternal(grid, {\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                }, cell.input);\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => {\r\n            if (this.isSupportMultilineValue()) {\r\n                return value;\r\n            }\r\n            return value.replace(/\\r?\\n/g, \" \");\r\n        });\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\r\n    }\r\n    isSupportMultilineValue() {\r\n        return false;\r\n    }\r\n}\r\nexports.BaseInputEditor = BaseInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonAction = void 0;\r\nconst Action_1 = require(\"./Action\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonAction extends Action_1.Action {\r\n    getState(grid) {\r\n        let state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (!state) {\r\n            state = {};\r\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\r\n        }\r\n        return state;\r\n    }\r\n}\r\nexports.ButtonAction = ButtonAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckEditor extends Editor_1.Editor {\r\n    clone() {\r\n        return new CheckEditor(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[CHECK_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            if (ret) {\r\n                const onChange = () => {\r\n                    // checkbox animation\r\n                    (0, animate_1.animate)(200, (point) => {\r\n                        if (point === 1) {\r\n                            delete state.elapsed[cellKey];\r\n                        }\r\n                        else {\r\n                            state.elapsed[cellKey] = point;\r\n                        }\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                };\r\n                if ((0, utils_1.isPromise)(ret)) {\r\n                    state.block[cellKey] = true;\r\n                    ret.then(() => {\r\n                        delete state.block[cellKey];\r\n                        onChange();\r\n                    });\r\n                }\r\n                else {\r\n                    onChange();\r\n                }\r\n            }\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action: (_e) => {\r\n                    const selrange = grid.selection.range;\r\n                    const { col } = grid.selection.select;\r\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\r\n                        if (!isTarget(col, row)) {\r\n                            continue;\r\n                        }\r\n                        action({\r\n                            col,\r\n                            row,\r\n                        });\r\n                    }\r\n                },\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                grid.doGetCellValue(e.col, e.row, (value) => {\r\n                    const newValue = (0, action_utils_1.toggleValue)(value);\r\n                    if (`${newValue}`.trim() === pasteValue) {\r\n                        action({\r\n                            col: e.col,\r\n                            row: e.row,\r\n                        });\r\n                    }\r\n                    else if (isRejectValue(value, pasteValue)) {\r\n                        const record = grid.getRowRecord(e.row);\r\n                        if (!(0, utils_1.isPromise)(record)) {\r\n                            grid.fireListeners(\"rejected_paste_values\", {\r\n                                detail: [\r\n                                    {\r\n                                        col: e.col,\r\n                                        row: e.row,\r\n                                        record,\r\n                                        define: grid.getColumnDefine(e.col, e.row),\r\n                                        pasteValue,\r\n                                    },\r\n                                ],\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            const newValue = (0, action_utils_1.toggleValue)(value);\r\n            if (`${newValue}`.trim() === pasteValue) {\r\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            }\r\n            else if (isRejectValue(value, pasteValue)) {\r\n                context.reject();\r\n            }\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.CheckEditor = CheckEditor;\r\nfunction isRejectValue(oldValue, pasteValue) {\r\n    if ((oldValue != null ? `${oldValue}`.trim() : \"\") === pasteValue) {\r\n        return false;\r\n    }\r\n    const newValue = (0, action_utils_1.toggleValue)(oldValue);\r\n    return (`${newValue}`.trim() !== pasteValue &&\r\n        `${(0, action_utils_1.toggleValue)(newValue)}`.trim() !== pasteValue);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Editor = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nclass Editor extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._readOnly = option.readOnly || false;\r\n    }\r\n    get editable() {\r\n        return true;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n    set readOnly(readOnly) {\r\n        this._readOnly = readOnly;\r\n        this.onChangeReadOnlyInternal();\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // abstruct\r\n    }\r\n}\r\nexports.Editor = Editor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputEditor = void 0;\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst _ = (0, symbolManager_1.getInlineInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineInputElement_1.InlineInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nfunction doChangeValue(_grid) {\r\n    if (globalElement) {\r\n        globalElement.doChangeValue();\r\n    }\r\n}\r\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    clone() {\r\n        return new InlineInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(grid, _cell, _selected) {\r\n        doChangeValue(grid);\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(grid) {\r\n        doChangeValue(grid);\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n}\r\nexports.InlineInputEditor = InlineInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\r\nconst type_1 = require(\"../type\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nconst _ = (0, symbolManager_1.getInlineMenuEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachMenu(grid, cell, editor, value, record) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\r\n}\r\nfunction detachMenu(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass InlineMenuEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._options = (0, menu_items_1.normalizeToFn)(option.options);\r\n    }\r\n    dispose() {\r\n        // noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    set options(options) {\r\n        this._options = (0, menu_items_1.normalizeToFn)(options);\r\n    }\r\n    clone() {\r\n        return new InlineMenuEditor(this);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n                const record = grid.getRowRecord(cell.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                attachMenu(grid, cell, this, value, record);\r\n            });\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\r\n                detachMenu();\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                detachMenu(true);\r\n            }),\r\n            // mouse move\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                if (!grid.getElement().style.cursor) {\r\n                    grid.getElement().style.cursor = \"pointer\";\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"\";\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                const record = grid.getRowRecord(e.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\r\n                if (pasteOpt) {\r\n                    utils_1.event.cancel(e.event);\r\n                    (0, utils_1.then)(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\r\n                        const range = grid.getCellRange(e.col, e.row);\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                }\r\n                else {\r\n                    grid.fireListeners(\"rejected_paste_values\", {\r\n                        detail: [\r\n                            {\r\n                                col: e.col,\r\n                                row: e.row,\r\n                                record,\r\n                                define: grid.getColumnDefine(e.col, e.row),\r\n                                pasteValue: e.normalizeValue,\r\n                            },\r\n                        ],\r\n                    });\r\n                }\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n        else {\r\n            // unknown\r\n            context.reject();\r\n        }\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n    }\r\n    _pasteDataToOptionValue(value, grid, cell, record) {\r\n        const options = this._options(record);\r\n        const pasteOpt = _textToOptionValue(value, options);\r\n        if (pasteOpt) {\r\n            return pasteOpt;\r\n        }\r\n        const columnType = grid.getColumnType(cell.col, cell.row);\r\n        if (hasOptions(columnType)) {\r\n            // Find with caption.\r\n            const pasteValue = normalizePasteValueStr(value);\r\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\r\n            if (captionOpt) {\r\n                return _textToOptionValue(captionOpt.value, options);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nexports.InlineMenuEditor = InlineMenuEditor;\r\nfunction _textToOptionValue(value, options) {\r\n    const pasteValue = normalizePasteValueStr(value);\r\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\r\n    if (pasteOpt) {\r\n        return pasteOpt;\r\n    }\r\n    return undefined;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction normalizePasteValueStr(value) {\r\n    if (value == null) {\r\n        return \"\";\r\n    }\r\n    return `${value}`.trim();\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction hasOptions(columnType) {\r\n    if (columnType instanceof type_1.MenuColumn) {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    if (Array.isArray(columnType.options)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_2 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._group = option.group;\r\n        this._checkAction = option.checkAction;\r\n    }\r\n    clone() {\r\n        return new RadioEditor(this);\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    get group() {\r\n        return this._group;\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    set group(group) {\r\n        this._group = group;\r\n    }\r\n    get checkAction() {\r\n        return this._checkAction;\r\n    }\r\n    set checkAction(checkAction) {\r\n        this._checkAction = checkAction;\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[RADIO_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            this._action(grid, cell);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                if (isRejectValue(pasteValue)) {\r\n                    // Not a boolean\r\n                    const record = grid.getRowRecord(e.row);\r\n                    if (!(0, utils_1.isPromise)(record)) {\r\n                        grid.fireListeners(\"rejected_paste_values\", {\r\n                            detail: [\r\n                                {\r\n                                    col: e.col,\r\n                                    row: e.row,\r\n                                    record,\r\n                                    define: grid.getColumnDefine(e.col, e.row),\r\n                                    pasteValue,\r\n                                },\r\n                            ],\r\n                        });\r\n                    }\r\n                    return;\r\n                }\r\n                if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n                    return;\r\n                }\r\n                action({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        if (isRejectValue(pasteValue)) {\r\n            // Not a boolean\r\n            context.reject();\r\n            return;\r\n        }\r\n        if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n            return;\r\n        }\r\n        this._action(grid, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n    _action(grid, cell) {\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(cell.col, cell.row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n            state.block[cellKey]) {\r\n            return;\r\n        }\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            if ((0, utils_2.toBoolean)(value)) {\r\n                return;\r\n            }\r\n            if (this._checkAction) {\r\n                // User behavior\r\n                const record = grid.getRowRecord(cell.row);\r\n                this._checkAction(record, (0, utils_1.extend)(cell, { grid }));\r\n                return;\r\n            }\r\n            if (this._group) {\r\n                // Backward compatibility\r\n                const state = grid[RADIO_COLUMN_STATE_ID];\r\n                const targets = this._group({ grid, col: cell.col, row: cell.row });\r\n                targets.forEach(({ col, row }) => {\r\n                    const range = grid.getCellRange(col, row);\r\n                    const cellKey = `${range.start.col}:${range.start.row}`;\r\n                    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                        (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                        state.block[cellKey]) {\r\n                        return;\r\n                    }\r\n                    actionCell(grid, col, row, col === cell.col && row === cell.row);\r\n                });\r\n                return;\r\n            }\r\n            // default behavior\r\n            const field = grid.getField(cell.col, cell.row);\r\n            const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(cell.row));\r\n            /** Original DataSource */\r\n            const { dataSource } = grid.dataSource;\r\n            const girdRecords = getAllRecordsFromGrid(grid);\r\n            for (let index = 0; index < dataSource.length; index++) {\r\n                const record = dataSource.get(index);\r\n                const showData = girdRecords.find((d) => d.record === record);\r\n                if (showData) {\r\n                    actionCell(grid, cell.col, showData.row, showData.row === recordStartRow);\r\n                }\r\n                else {\r\n                    // Hidden record\r\n                    (0, utils_1.then)(dataSource.getField(index, field), (value) => {\r\n                        if (!(0, utils_2.toBoolean)(value)) {\r\n                            return;\r\n                        }\r\n                        dataSource.setField(index, field, (0, action_utils_1.toggleValue)(value));\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.RadioEditor = RadioEditor;\r\nfunction getAllRecordsFromGrid(grid) {\r\n    const result = [];\r\n    const { rowCount, recordRowCount } = grid;\r\n    for (let targetRow = grid.frozenRowCount; targetRow < rowCount; targetRow += recordRowCount) {\r\n        const record = grid.getRowRecord(targetRow);\r\n        result.push({ row: targetRow, record });\r\n    }\r\n    return result;\r\n}\r\nfunction actionCell(grid, col, row, flag) {\r\n    grid.doGetCellValue(col, row, (value) => {\r\n        if ((0, utils_2.toBoolean)(value) === flag) {\r\n            return;\r\n        }\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\r\n        if (ret) {\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            if ((0, utils_1.isPromise)(ret)) {\r\n                state.block[cellKey] = true;\r\n                ret.then(() => {\r\n                    delete state.block[cellKey];\r\n                    onChange();\r\n                });\r\n            }\r\n            else {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction isRejectValue(pasteValue) {\r\n    return (0, action_utils_1.toggleValue)((0, action_utils_1.toggleValue)(pasteValue)) !== pasteValue;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputEditor = void 0;\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\r\nconst _ = (0, symbolManager_1.getSmallDialogInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._helperText = option.helperText;\r\n        this._inputValidator = option.inputValidator;\r\n        this._validator = option.validator;\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    dispose() {\r\n        //noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    get helperText() {\r\n        return this._helperText;\r\n    }\r\n    get inputValidator() {\r\n        return this._inputValidator;\r\n    }\r\n    get validator() {\r\n        return this._validator;\r\n    }\r\n    clone() {\r\n        return new SmallDialogInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\r\n        // cancel input\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(_grid) {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...super.bindGridEvent(grid, cellId),\r\n            grid.listen('click_cell', (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction isDisabledRecord(option, grid, row) {\r\n    if (grid.disabled) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isDisabledRecord = isDisabledRecord;\r\nfunction isReadOnlyRecord(option, grid, row) {\r\n    if (grid.readOnly) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isReadOnlyRecord = isReadOnlyRecord;\r\nfunction toggleValue(val) {\r\n    if (typeof val === \"number\") {\r\n        if (val === 0) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    else if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return \"true\";\r\n        }\r\n        else if (val === \"off\") {\r\n            return \"on\";\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return val.replace(/^(0*)0$/, \"$11\");\r\n        }\r\n        else if (val === \"true\") {\r\n            return \"false\";\r\n        }\r\n        else if (val === \"on\") {\r\n            return \"off\";\r\n        }\r\n        else if (/^0*1$/.exec(val)) {\r\n            return val.replace(/^(0*)1$/, \"$10\");\r\n        }\r\n    }\r\n    return !val;\r\n}\r\nexports.toggleValue = toggleValue;\r\nfunction getBooleanOptionOfRecord(option, grid, row) {\r\n    if (typeof option === \"function\") {\r\n        const record = grid.getRowRecord(row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return true;\r\n        }\r\n        return !!option(record);\r\n    }\r\n    return !!option;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(sel.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst CLASSNAME = \"cheetah-grid__inline-input\";\r\nfunction createInputElement() {\r\n    require(\"@/columns/action/internal/InlineInputElement.css\");\r\n    return (0, dom_1.createElement)(\"input\", { classList: CLASSNAME });\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { classList, type } = editor;\r\n    if (classList) {\r\n        input.classList.add(...classList);\r\n    }\r\n    input.type = type || \"\";\r\n}\r\nclass InlineInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._input = createInputElement();\r\n        this._bindInputEvents();\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const input = this._input;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const input = this._input;\r\n        const handler = this._handler;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                input.classList.remove(...classList);\r\n            }\r\n        }\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        input.style.top = `${rect.top.toFixed()}px`;\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(input);\r\n        setInputAttrs(editor, grid, input);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        this._activeData = { grid, col, row, editor };\r\n        this._beforePropEditor = editor;\r\n        const focus = () => {\r\n            input.focus();\r\n            const end = input.value.length;\r\n            try {\r\n                if (typeof input.selectionStart !== \"undefined\") {\r\n                    input.selectionStart = end;\r\n                    input.selectionEnd = end;\r\n                    return;\r\n                }\r\n            }\r\n            catch (e) {\r\n                //ignore\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (document.selection) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const range = input.createTextRange();\r\n                range.collapse();\r\n                range.moveEnd(\"character\", end);\r\n                range.moveStart(\"character\", end);\r\n                range.select();\r\n            }\r\n        };\r\n        handler.tryWithOffEvents(input, \"blur\", () => {\r\n            focus();\r\n        });\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const input = this._input;\r\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\r\n                var _a;\r\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n            });\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n    }\r\n    doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        const { grid, col, row } = this._activeData;\r\n        grid.doChangeValue(col, row, () => value);\r\n    }\r\n    _isActive() {\r\n        const input = this._input;\r\n        if (!input || !input.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindInputEvents() {\r\n        const handler = this._handler;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(input, \"click\", stopPropagationOnly);\r\n        handler.on(input, \"mousedown\", stopPropagationOnly);\r\n        handler.on(input, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"dblclick\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(e);\r\n            }\r\n        });\r\n        handler.on(input, \"blur\", (_e) => {\r\n            this.doChangeValue();\r\n            this.detach();\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        var _a;\r\n        if (!this._isActive() || this._attaching) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n            grid.onKeyDownMove(e);\r\n        }\r\n    }\r\n    _onKeydownTab(e) {\r\n        var _a;\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\r\n            return;\r\n        }\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        grid.onKeyDownMove(e);\r\n    }\r\n}\r\nexports.InlineInputElement = InlineInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuElement = void 0;\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_ESC = 27;\r\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\r\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\r\nfunction findItemParents(target) {\r\n    let el = target;\r\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\r\n        el = el.parentElement;\r\n        if (!el || el.classList.contains(CLASSNAME)) {\r\n            return null;\r\n        }\r\n    }\r\n    return el;\r\n}\r\nfunction createMenuElement() {\r\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\r\n    return (0, dom_1.createElement)(\"ul\", { classList: CLASSNAME });\r\n}\r\nfunction attachElement(element, rect, menu) {\r\n    menu.style.top = `${rect.top.toFixed()}px`;\r\n    menu.style.left = `${rect.left.toFixed()}px`;\r\n    menu.style.width = `${rect.width.toFixed()}px`;\r\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\r\n    element.appendChild(menu);\r\n}\r\nfunction optionToLi({ classList, label, value, html }, index) {\r\n    const item = (0, dom_1.createElement)(\"li\", { classList: ITEM_CLASSNAME });\r\n    item.tabIndex = 0;\r\n    item.dataset.valueindex = `${index}`;\r\n    if (classList) {\r\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\r\n    }\r\n    if (label) {\r\n        const span = (0, dom_1.createElement)(\"span\", { text: label });\r\n        item.appendChild(span);\r\n    }\r\n    else if (html) {\r\n        (0, dom_1.appendHtml)(item, html);\r\n    }\r\n    if (value === \"\" || value == null) {\r\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\r\n    }\r\n    return item;\r\n}\r\nfunction openMenu(grid, editor, col, row, value, options, menu) {\r\n    const { classList } = editor;\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.empty)(menu);\r\n    menu.style.font = grid.font || \"16px sans-serif\";\r\n    let emptyItemEl = null;\r\n    let valueItemEl = null;\r\n    options.forEach((option, i) => {\r\n        const item = optionToLi(option, i);\r\n        menu.appendChild(item);\r\n        if (option.value === value) {\r\n            valueItemEl = item;\r\n            item.dataset.select = \"select\";\r\n        }\r\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\r\n            emptyItemEl = item;\r\n        }\r\n    });\r\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\r\n    if (classList) {\r\n        menu.classList.add(...classList);\r\n    }\r\n    const children = Array.prototype.slice.call(menu.children, 0);\r\n    const focusIndex = children.indexOf(focusEl);\r\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n    // Cover the right line\r\n    rect.width++;\r\n    // append for calculation\r\n    attachElement(element, rect, menu);\r\n    // Make the selection item at the middle\r\n    let offset = 0;\r\n    let allHeight = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const { offsetHeight } = children[i];\r\n        if (i < focusIndex) {\r\n            offset += offsetHeight;\r\n        }\r\n        allHeight += offsetHeight;\r\n    }\r\n    rect.offsetTop(-offset);\r\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\r\n    attachElement(element, rect, menu);\r\n    // Control not to overflow the screen range\r\n    const menuClientRect = menu.getBoundingClientRect();\r\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\r\n    const orgMenuTop = menuClientRect.top - scaleDiff;\r\n    let menuTop = orgMenuTop;\r\n    const menuBottom = menuTop + allHeight;\r\n    const winBottom = window.innerHeight;\r\n    const winMargin = 20;\r\n    if (menuBottom > winBottom - winMargin) {\r\n        const diff = menuBottom - winBottom + winMargin;\r\n        menuTop -= diff;\r\n    }\r\n    if (menuTop < 0 /*winTop*/ + winMargin) {\r\n        menuTop = winMargin;\r\n    }\r\n    if (menuTop !== orgMenuTop) {\r\n        rect.offsetTop(-(orgMenuTop - menuTop));\r\n        // re update\r\n        attachElement(element, rect, menu);\r\n    }\r\n    if (focusEl) {\r\n        focusEl.focus();\r\n    }\r\n    menu.classList.remove(HIDDEN_CLASSNAME);\r\n    menu.classList.add(SHOWN_CLASSNAME);\r\n}\r\nfunction closeMenu(_grid, _col, _row, menu) {\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.disableFocus)(menu);\r\n}\r\nclass InlineMenuElement {\r\n    constructor() {\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        this._menu = createMenuElement();\r\n        this._bindMenuEvents();\r\n        let bodyClickListenerId;\r\n        const deregisterBodyClickListener = (this._deregisterBodyClickListener =\r\n            () => handler.off(bodyClickListenerId));\r\n        this._registerBodyClickListener = () => {\r\n            deregisterBodyClickListener();\r\n            bodyClickListenerId = handler.on(document.body, \"click\", this._onBodyClick.bind(this), { capture: true });\r\n        };\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const menu = this._menu;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._menu;\r\n        this._beforePropEditor = null;\r\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\r\n    }\r\n    attach(grid, editor, col, row, value, record) {\r\n        const menu = this._menu;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                menu.classList.remove(...classList);\r\n            }\r\n        }\r\n        const options = editor.options(record);\r\n        openMenu(grid, editor, col, row, value, options, menu);\r\n        this._activeData = { grid, col, row, editor, options };\r\n        this._beforePropEditor = editor;\r\n        this._registerBodyClickListener();\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const menu = this._menu;\r\n            closeMenu(grid, col, row, menu);\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._deregisterBodyClickListener();\r\n    }\r\n    _doChangeValue(valueindex) {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid, col, row, options } = this._activeData;\r\n        const option = options[Number(valueindex)];\r\n        if (option) {\r\n            const { value } = option;\r\n            grid.doChangeValue(col, row, () => value);\r\n        }\r\n    }\r\n    _isActive() {\r\n        const menu = this._menu;\r\n        if (!menu || !menu.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindMenuEvents() {\r\n        const handler = this._handler;\r\n        const menu = this._menu;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\r\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\r\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\r\n        handler.on(menu, \"click\", (e) => {\r\n            e.stopPropagation();\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const { valueindex } = item.dataset;\r\n            this._doChangeValue(valueindex || \"\");\r\n            this.detach(true);\r\n        });\r\n        handler.on(menu, \"keydown\", (e) => {\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(menu, item, e);\r\n            }\r\n            else if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_UP) {\r\n                const n = (0, dom_1.findPrevSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_DOWN) {\r\n                const n = (0, dom_1.findNextSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(menu, item, e);\r\n            }\r\n        });\r\n    }\r\n    _onBodyClick(e) {\r\n        const el = e.target;\r\n        if (!el) {\r\n            return;\r\n        }\r\n        if (this._menu.contains(el)) {\r\n            return;\r\n        }\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if (grid.getElement().contains(el)) {\r\n                return;\r\n            }\r\n        }\r\n        this.detach();\r\n    }\r\n    _onKeydownEnter(_menu, item, e) {\r\n        var _a;\r\n        const grid = this._isActive() ? this._activeData.grid : null;\r\n        const { valueindex } = item.dataset;\r\n        this._doChangeValue(valueindex || \"\");\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if (grid) {\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                grid.onKeyDownMove(e);\r\n            }\r\n        }\r\n    }\r\n    _onKeydownTab(menu, item, e) {\r\n        var _a;\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\r\n                const { valueindex } = item.dataset;\r\n                this._doChangeValue(valueindex || \"\");\r\n                this.detach(true);\r\n                grid.onKeyDownMove(e);\r\n                return;\r\n            }\r\n        }\r\n        if (!e.shiftKey) {\r\n            if (!(0, dom_1.findNextSiblingFocusable)(item)) {\r\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findNextSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (!(0, dom_1.findPrevSiblingFocusable)(item)) {\r\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\r\n                let n = items[items.length - 1];\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findPrevSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.InlineMenuElement = InlineMenuElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputElement = void 0;\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\r\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst KEY_ENTER = 13;\r\nconst KEY_ESC = 27;\r\nfunction _focus(input, handler) {\r\n    const focus = () => {\r\n        input.focus();\r\n        const end = input.value.length;\r\n        try {\r\n            if (typeof input.selectionStart !== \"undefined\") {\r\n                input.selectionStart = end;\r\n                input.selectionEnd = end;\r\n                return;\r\n            }\r\n        }\r\n        catch (e) {\r\n            //ignore\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (document.selection) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const range = input.createTextRange();\r\n            range.collapse();\r\n            range.moveEnd(\"character\", end);\r\n            range.moveStart(\"character\", end);\r\n            range.select();\r\n        }\r\n    };\r\n    handler.tryWithOffEvents(input, \"blur\", () => {\r\n        focus();\r\n    });\r\n}\r\nfunction createDialogElement() {\r\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\r\n    const element = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const input = (0, dom_1.createElement)(\"input\", { classList: INPUT_CLASSNAME });\r\n    input.readOnly = true;\r\n    input.tabIndex = -1;\r\n    element.appendChild(input);\r\n    return element;\r\n}\r\nfunction bindProps(grid, dialog, input, editor) {\r\n    const { classList, helperText } = editor;\r\n    if (classList) {\r\n        dialog.classList.add(...classList);\r\n    }\r\n    if (helperText && typeof helperText !== \"function\") {\r\n        dialog.dataset.helperText = helperText;\r\n    }\r\n    setInputAttrs(editor, grid, input);\r\n}\r\nfunction unbindProps(_grid, dialog, input, editor) {\r\n    const { classList } = editor;\r\n    if (classList) {\r\n        dialog.classList.remove(...classList);\r\n    }\r\n    delete dialog.dataset.helperText;\r\n    input.type = \"\";\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { type } = editor;\r\n    input.type = type || \"\";\r\n}\r\nclass SmallDialogInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._dialog = createDialogElement();\r\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\r\n        this._bindDialogEvents();\r\n    }\r\n    dispose() {\r\n        const dialog = this._dialog;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._dialog;\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        if (dialog.parentElement) {\r\n            dialog.parentElement.removeChild(dialog);\r\n        }\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        if (this._beforePropEditor) {\r\n            unbindProps(grid, dialog, input, this._beforePropEditor);\r\n        }\r\n        delete dialog.dataset.errorMessage;\r\n        dialog.classList.remove(SHOWN_CLASSNAME);\r\n        dialog.classList.add(HIDDEN_CLASSNAME);\r\n        input.readOnly = true;\r\n        input.tabIndex = 0;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        dialog.style.top = `${rect.top.toFixed()}px`;\r\n        dialog.style.left = `${rect.left.toFixed()}px`;\r\n        dialog.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(dialog);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const activeData = { grid, col, row, editor };\r\n        this._onInputValue(input, activeData);\r\n        if (!utils_1.browser.IE) {\r\n            _focus(input, handler);\r\n        }\r\n        else {\r\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\r\n            setTimeout(() => _focus(input, handler));\r\n        }\r\n        dialog.classList.add(SHOWN_CLASSNAME);\r\n        dialog.classList.remove(HIDDEN_CLASSNAME);\r\n        input.readOnly = false;\r\n        bindProps(grid, dialog, input, editor);\r\n        this._activeData = activeData;\r\n        this._beforePropEditor = editor;\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const dialog = this._dialog;\r\n            const input = this._input;\r\n            dialog.classList.remove(SHOWN_CLASSNAME);\r\n            dialog.classList.add(HIDDEN_CLASSNAME);\r\n            input.readOnly = true;\r\n            input.tabIndex = -1;\r\n            const { grid, col, row } = this._activeData;\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._beforeValue = null;\r\n    }\r\n    _doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return false;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        return (0, utils_1.then)(this._validate(value), (res) => {\r\n            if (res && value === input.value) {\r\n                const { grid, col, row } = this._activeData;\r\n                grid.doChangeValue(col, row, () => value);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    _isActive() {\r\n        const dialog = this._dialog;\r\n        if (!dialog || !dialog.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindDialogEvents() {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(dialog, \"click\", stopPropagationOnly);\r\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\r\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\r\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n            this._onInputValue(input);\r\n        });\r\n        const onKeyupAndPress = (_e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            this._onInputValue(input);\r\n        };\r\n        handler.on(input, \"keyup\", onKeyupAndPress);\r\n        handler.on(input, \"keypress\", onKeyupAndPress);\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else {\r\n                this._onInputValue(input);\r\n            }\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        if (this._attaching) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        (0, utils_1.then)(this._doChangeValue(), (r) => {\r\n            var _a;\r\n            if (r && value === input.value) {\r\n                const grid = this._isActive() ? this._activeData.grid : null;\r\n                this.detach(true);\r\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                    grid.onKeyDownMove(e);\r\n                }\r\n            }\r\n        });\r\n        utils_1.event.cancel(e);\r\n    }\r\n    _onInputValue(input, activeData) {\r\n        const before = this._beforeValue;\r\n        const { value } = input;\r\n        if (before !== value) {\r\n            this._onInputValueChange(value, activeData);\r\n        }\r\n        this._beforeValue = value;\r\n    }\r\n    _onInputValueChange(after, activeData) {\r\n        activeData = (activeData || this._activeData);\r\n        const dialog = this._dialog;\r\n        const { grid, col, row, editor } = activeData;\r\n        if (typeof editor.helperText === \"function\") {\r\n            const helperText = editor.helperText(after, { grid, col, row });\r\n            if (helperText) {\r\n                dialog.dataset.helperText = helperText;\r\n            }\r\n            else {\r\n                delete dialog.dataset.helperText;\r\n            }\r\n        }\r\n        if (\"errorMessage\" in dialog.dataset) {\r\n            this._validate(after, true);\r\n        }\r\n    }\r\n    _validate(value, inputOnly) {\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const { grid, col, row, editor } = this._activeData;\r\n        let message = \"\";\r\n        if (editor.inputValidator) {\r\n            message = editor.inputValidator(value, { grid, col, row });\r\n        }\r\n        return (0, utils_1.then)(message, (message) => {\r\n            if (!message && editor.validator && !inputOnly) {\r\n                message = editor.validator(value, { grid, col, row });\r\n            }\r\n            return (0, utils_1.then)(message, (message) => {\r\n                if (message && value === input.value) {\r\n                    dialog.dataset.errorMessage = message;\r\n                }\r\n                else {\r\n                    delete dialog.dataset.errorMessage;\r\n                }\r\n                return !message;\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.SmallDialogInputElement = SmallDialogInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setInputValue = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nfunction setInputValue(input, value) {\r\n    const sign = input.type === \"number\" && value === \"-\";\r\n    if (sign) {\r\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\r\n        input.type = \"\";\r\n        let handler = new EventHandler_1.EventHandler();\r\n        const dispose = () => {\r\n            if (handler) {\r\n                handler.dispose();\r\n                handler = null;\r\n            }\r\n        };\r\n        handler.once(input, \"input\", (_e) => {\r\n            input.type = \"number\";\r\n            dispose();\r\n        });\r\n        handler.once(input, \"blur\", (_e) => {\r\n            dispose();\r\n        });\r\n    }\r\n    input.value = value !== null && value !== void 0 ? value : \"\";\r\n}\r\nexports.setInputValue = setInputValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDrawIndicator = void 0;\r\nconst triangle_1 = require(\"./triangle\");\r\nfunction getDrawIndicator(indicatorStyle) {\r\n    const { style } = indicatorStyle;\r\n    if (style === \"triangle\") {\r\n        return triangle_1.drawTriangleIndicator;\r\n    }\r\n    return null;\r\n}\r\nexports.getDrawIndicator = getDrawIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawTriangleIndicator = void 0;\r\nconst KIND_PROCESS_MAP = {\r\n    [0 /* DrawIndicatorKind.topLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseLeft, baseTop);\r\n            ctx.lineTo(baseLeft + size, baseTop);\r\n            ctx.lineTo(baseLeft, baseTop + size);\r\n        },\r\n    },\r\n    [1 /* DrawIndicatorKind.topRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseRight, baseTop);\r\n            ctx.lineTo(baseRight - size, baseTop);\r\n            ctx.lineTo(baseRight, baseTop + size);\r\n        },\r\n    },\r\n    [2 /* DrawIndicatorKind.bottomRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseRight, baseBottom);\r\n            ctx.lineTo(baseRight - size, baseBottom);\r\n            ctx.lineTo(baseRight, baseBottom - size);\r\n        },\r\n    },\r\n    [3 /* DrawIndicatorKind.bottomLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseLeft, baseBottom);\r\n            ctx.lineTo(baseLeft + size, baseBottom);\r\n            ctx.lineTo(baseLeft, baseBottom - size);\r\n        },\r\n    },\r\n};\r\nfunction drawTriangleIndicator(context, style, kind, helper) {\r\n    const process = KIND_PROCESS_MAP[kind];\r\n    if (!process) {\r\n        return;\r\n    }\r\n    helper.drawBorderWithClip(context, (ctx) => {\r\n        const rect = context.getRect();\r\n        const color = style.color ||\r\n            helper.getColor(process.themeColor(helper), context.col, context.row, ctx);\r\n        const size = (style.size && Number(style.size)) ||\r\n            process.themeSize(helper) ||\r\n            rect.height / 6;\r\n        // draw triangle\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        process.drawPath(ctx, rect, size);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    });\r\n}\r\nexports.drawTriangleIndicator = drawTriangleIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseMessage = void 0;\r\nclass BaseMessage {\r\n    constructor(grid) {\r\n        this._messageElement = null;\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachMessageElement();\r\n        if (this._messageElement) {\r\n            this._messageElement.dispose();\r\n        }\r\n        this._messageElement = null;\r\n    }\r\n    _getMessageElement() {\r\n        return (this._messageElement ||\r\n            (this._messageElement = this.createMessageElementInternal()));\r\n    }\r\n    attachMessageElement(col, row, message) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.attach(this._grid, col, row, message);\r\n    }\r\n    moveMessageElement(col, row) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.move(this._grid, col, row);\r\n    }\r\n    detachMessageElement() {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement._detach();\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.BaseMessage = BaseMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst RED_A100 = \"#ff8a80\";\r\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new ErrorMessageElement_1.ErrorMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.errorBgColor, context.col, context.row, ctx) || RED_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ErrorMessage = ErrorMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InfoMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst MessageElement_1 = require(\"./internal/MessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst GREY_L2 = \"#e0e0e0\";\r\nclass InfoMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new MessageElement_1.MessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawInformationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.infoBgColor, context.col, context.row, ctx) || GREY_L2,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.InfoMessage = InfoMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageHandler = exports.hasMessage = void 0;\r\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\r\nconst InfoMessage_1 = require(\"./InfoMessage\");\r\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\r\nconst WarningMessage_1 = require(\"./WarningMessage\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst EMPTY_MESSAGE = {\r\n    type: \"error\",\r\n    message: null,\r\n};\r\nconst MESSAGE_INSTANCE_FACTORY = {\r\n    error(grid) {\r\n        return new ErrorMessage_1.ErrorMessage(grid);\r\n    },\r\n    info(grid) {\r\n        return new InfoMessage_1.InfoMessage(grid);\r\n    },\r\n    warning(grid) {\r\n        return new WarningMessage_1.WarningMessage(grid);\r\n    },\r\n};\r\nfunction normalizeMessage(message) {\r\n    if (!message || (0, utils_1.isPromise)(message)) {\r\n        return EMPTY_MESSAGE;\r\n    }\r\n    if (typeof message === \"string\") {\r\n        return {\r\n            type: \"error\",\r\n            message,\r\n            original: message,\r\n        };\r\n    }\r\n    const type = message.type || \"error\";\r\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\r\n        return {\r\n            type: type.toLowerCase(),\r\n            message: message.message,\r\n            original: message,\r\n        };\r\n    }\r\n    return {\r\n        type: \"error\",\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        message: `${message}`,\r\n        original: message,\r\n    };\r\n}\r\nfunction hasMessage(message) {\r\n    return !!normalizeMessage(message).message;\r\n}\r\nexports.hasMessage = hasMessage;\r\nclass MessageHandler {\r\n    constructor(grid, getMessage) {\r\n        this._attachInfo = null;\r\n        this._grid = grid;\r\n        this._messageInstances = {};\r\n        this._bindGridEvent(grid, getMessage);\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const messageInstances = this._messageInstances;\r\n        for (const k in messageInstances) {\r\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageInstances;\r\n        // @ts-expect-error -- ignore\r\n        delete this._attachInfo;\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        if (!hasMessage(message)) {\r\n            return;\r\n        }\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\r\n    }\r\n    _attach(col, row, message) {\r\n        const info = this._attachInfo;\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        if (info && info.instance !== instance) {\r\n            info.instance.detachMessageElement();\r\n        }\r\n        instance.attachMessageElement(col, row, normalizeMessage(message));\r\n        this._attachInfo = { col, row, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || info.col !== col || info.row !== row) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveMessageElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachMessageElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _bindGridEvent(grid, getMessage) {\r\n        const onSelectMessage = (sel) => {\r\n            const setMessageData = (msg) => {\r\n                if (!hasMessage(msg)) {\r\n                    this._detach();\r\n                }\r\n                else {\r\n                    this._attach(sel.col, sel.row, msg);\r\n                }\r\n            };\r\n            const message = getMessage(sel.col, sel.row);\r\n            if ((0, utils_1.isPromise)(message)) {\r\n                this._detach();\r\n                message.then((msg) => {\r\n                    const newSel = grid.selection.select;\r\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\r\n                        return;\r\n                    }\r\n                    setMessageData(msg);\r\n                });\r\n                return;\r\n            }\r\n            setMessageData(message);\r\n        };\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (!e.selected) {\r\n                return;\r\n            }\r\n            if (e.before.col === e.col && e.before.row === e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const sel = grid.selection.select;\r\n            this._move(sel.col, sel.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (!grid.hasFocusGrid()) {\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (sel.col !== e.col || sel.row !== e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\r\n            // const sel = grid.selection.select;\r\n            // onSelectMessage(sel);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\r\n            this._detach();\r\n        });\r\n    }\r\n    _getMessageInstanceOfMessage(message) {\r\n        const messageInstances = this._messageInstances;\r\n        const { type } = normalizeMessage(message);\r\n        return (messageInstances[type] ||\r\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\r\n    }\r\n}\r\nexports.MessageHandler = MessageHandler;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\r\nclass WarningMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new WarningMessageElement_1.WarningMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.warnBgColor, context.col, context.row, ctx) || DEEP_ORANGE_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.WarningMessage = WarningMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.ErrorMessageElement = ErrorMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createMessageDomElement() {\r\n    require(\"@/columns/message/internal/MessageElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"span\", {\r\n        classList: [MESSAGE_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass MessageElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createMessageDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, message) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = message.message;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { offsetHeight, offsetWidth } = element;\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${left.toFixed()}px`;\r\n        rootElement.style.width = `${width.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.MessageElement = MessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass WarningMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.WarningMessageElement = WarningMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawInformationMarkBox = exports.drawExclamationMarkBox = void 0;\r\nconst Rect_1 = require(\"../../internal/Rect\");\r\nfunction drawExclamationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw exclamation mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\r\n}\r\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\r\nfunction drawInformationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw i mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\r\n        fillColor,\r\n    });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\r\n}\r\nexports.drawInformationMarkBox = drawInformationMarkBox;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\r\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\r\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\r\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\r\nconst IconStyle_1 = require(\"./style/IconStyle\");\r\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\r\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\r\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\r\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\r\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\r\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\r\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\r\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\r\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\r\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\r\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\r\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\r\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\r\nexports.EVENT_TYPE = EVENT_TYPE;\r\nfunction of(columnStyle, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nrecord, StyleClassDef = Style_1.Style, col, row) {\r\n    if (columnStyle) {\r\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\r\n            return columnStyle;\r\n        }\r\n        else if (typeof columnStyle === \"function\") {\r\n            return of(columnStyle(record, col, row), record, StyleClassDef, col, row);\r\n        }\r\n        else if (record && columnStyle in record) {\r\n            return of(record[columnStyle], record, StyleClassDef, col, row);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return new StyleClassDef(columnStyle);\r\n    }\r\n    else {\r\n        return StyleClassDef.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst STYLE_EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return STYLE_EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor, indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopLeft() {\r\n        return this._indicatorTopLeft;\r\n    }\r\n    set indicatorTopLeft(indicatorTopLeft) {\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopRight() {\r\n        return this._indicatorTopRight;\r\n    }\r\n    set indicatorTopRight(indicatorTopRight) {\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomRight() {\r\n        return this._indicatorBottomRight;\r\n    }\r\n    set indicatorBottomRight(indicatorBottomRight) {\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomLeft() {\r\n        return this._indicatorBottomLeft;\r\n    }\r\n    set indicatorBottomLeft(indicatorBottomLeft) {\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\nfunction normalizeIndicator(indicator) {\r\n    if (typeof indicator === \"string\") {\r\n        return { style: indicator };\r\n    }\r\n    return indicator;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\r\n    switch (index % 3) {\r\n        case 0:\r\n            return \"#979797\";\r\n        case 1:\r\n            return \"#008fb5\";\r\n        case 2:\r\n            return \"#f1c109\";\r\n        default:\r\n    }\r\n    return \"#979797\";\r\n};\r\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new BranchGraphStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\r\n        this._margin = style.margin || 4;\r\n        this._circleSize = style.circleSize || 16;\r\n        this._branchLineWidth = style.branchLineWidth || 4;\r\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\r\n    }\r\n    get branchColors() {\r\n        return this._branchColors;\r\n    }\r\n    set branchColors(branchColors) {\r\n        this._branchColors = branchColors;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    get circleSize() {\r\n        return this._circleSize;\r\n    }\r\n    set circleSize(circleSize) {\r\n        this._circleSize = circleSize;\r\n        this.doChangeStyle();\r\n    }\r\n    get branchLineWidth() {\r\n        return this._branchLineWidth;\r\n    }\r\n    set branchLineWidth(branchLineWidth) {\r\n        this._branchLineWidth = branchLineWidth;\r\n        this.doChangeStyle();\r\n    }\r\n    get mergeStyle() {\r\n        return this._mergeStyle;\r\n    }\r\n    set mergeStyle(mergeStyle) {\r\n        this._mergeStyle = mergeStyle;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new BranchGraphStyle(this);\r\n    }\r\n}\r\nexports.BranchGraphStyle = BranchGraphStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ButtonStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { buttonBgColor } = style;\r\n        this._buttonBgColor = buttonBgColor;\r\n    }\r\n    get buttonBgColor() {\r\n        return this._buttonBgColor;\r\n    }\r\n    set buttonBgColor(buttonBgColor) {\r\n        this._buttonBgColor = buttonBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ButtonStyle(this);\r\n    }\r\n}\r\nexports.ButtonStyle = ButtonStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckStyle(this);\r\n    }\r\n}\r\nexports.CheckStyle = CheckStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass IconStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n    }\r\n    clone() {\r\n        return new IconStyle(this);\r\n    }\r\n}\r\nexports.IconStyle = IconStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        this._imageSizing = style.imageSizing;\r\n        this._margin = style.margin || 4;\r\n    }\r\n    get imageSizing() {\r\n        return this._imageSizing;\r\n    }\r\n    set imageSizing(imageSizing) {\r\n        this._imageSizing = imageSizing;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ImageStyle(this);\r\n    }\r\n}\r\nexports.ImageStyle = ImageStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nclass MenuStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        const { appearance } = style;\r\n        this._appearance = appearance;\r\n    }\r\n    get appearance() {\r\n        return this._appearance || \"menulist-button\";\r\n    }\r\n    set appearance(appearance) {\r\n        this._appearance = appearance;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new MenuStyle(this);\r\n    }\r\n}\r\nexports.MenuStyle = MenuStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass MultilineTextStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textBaseline: \"top\" }));\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new MultilineTextStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.MultilineTextStyle = MultilineTextStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass NumberStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"right\" }));\r\n    }\r\n    clone() {\r\n        return new NumberStyle(this);\r\n    }\r\n}\r\nexports.NumberStyle = NumberStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nconst DEFAULT_BAR_COLOR = (num) => {\r\n    if (num > 80) {\r\n        return \"#20a8d8\";\r\n    }\r\n    if (num > 50) {\r\n        return \"#4dbd74\";\r\n    }\r\n    if (num > 20) {\r\n        return \"#ffc107\";\r\n    }\r\n    return \"#f86c6b\";\r\n};\r\nclass PercentCompleteBarStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new PercentCompleteBarStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\r\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\r\n        this._barHeight = style.barHeight || 3;\r\n    }\r\n    get barColor() {\r\n        return this._barColor;\r\n    }\r\n    set barColor(barColor) {\r\n        this._barColor = barColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barBgColor() {\r\n        return this._barBgColor;\r\n    }\r\n    set barBgColor(barBgColor) {\r\n        this._barBgColor = barBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barHeight() {\r\n        return this._barHeight;\r\n    }\r\n    set barHeight(barHeight) {\r\n        this._barHeight = barHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarStyle(this);\r\n    }\r\n}\r\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\r\n        this._checkColor = checkColor;\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this._checkBorderColor = checkBorderColor;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n    }\r\n    get checkColor() {\r\n        return this._checkColor;\r\n    }\r\n    set checkColor(checkColor) {\r\n        this._checkColor = checkColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBorderColor() {\r\n        return this._uncheckBorderColor;\r\n    }\r\n    set uncheckBorderColor(uncheckBorderColor) {\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBorderColor() {\r\n        return this._checkBorderColor;\r\n    }\r\n    set checkBorderColor(checkBorderColor) {\r\n        this._checkBorderColor = checkBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new RadioStyle(this);\r\n    }\r\n}\r\nexports.RadioStyle = RadioStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"clip\";\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\r\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\r\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\r\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\r\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\r\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\r\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\r\nconst Column_1 = require(\"./type/Column\");\r\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\r\nconst IconColumn_1 = require(\"./type/IconColumn\");\r\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\r\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\r\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\r\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\r\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\r\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\r\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\r\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\r\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\r\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\r\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\r\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\r\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Column_1.Column(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    NUMBER: new NumberColumn_1.NumberColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckColumn_1.CheckColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    RADIO: new RadioColumn_1.RadioColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    IMAGE: new ImageColumn_1.ImageColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\r\n};\r\nfunction of(columnType) {\r\n    if (!columnType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof columnType === \"string\") {\r\n        const key = columnType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return columnType;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseColumn = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst handlers_1 = require(\"../indicator/handlers\");\r\nconst { setReadonly } = utils_1.obj;\r\nconst COLUMN_FADEIN_STATE_ID = (0, symbolManager_1.getColumnFadeinStateId)();\r\nfunction isFadeinWhenCallbackInPromise(column, grid) {\r\n    if (column.fadeinWhenCallbackInPromise != null) {\r\n        return column.fadeinWhenCallbackInPromise;\r\n    }\r\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\r\n}\r\nfunction getFadeinState(grid) {\r\n    let state = grid[COLUMN_FADEIN_STATE_ID];\r\n    if (!state) {\r\n        state = { cells: {} };\r\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\r\n    return (point) => {\r\n        const state = getFadeinState(grid);\r\n        const stateKey = `${row}:${col}`;\r\n        if (point === 1) {\r\n            delete state.cells[stateKey];\r\n        }\r\n        else {\r\n            state.cells[stateKey] = {\r\n                opacity: point,\r\n            };\r\n        }\r\n        drawCellBase();\r\n        drawInternal();\r\n        const cellState = state.cells[stateKey];\r\n        if (cellState) {\r\n            //\r\n            const ctx = context.getContext();\r\n            ctx.globalAlpha = 1 - cellState.opacity;\r\n            try {\r\n                drawCellBase();\r\n            }\r\n            finally {\r\n                ctx.globalAlpha = 1;\r\n            }\r\n        }\r\n    };\r\n}\r\nconst fadeinMgr = {\r\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        // fadein animation\r\n        const state = getFadeinState(grid);\r\n        const activeFadeins = [\r\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\r\n        ];\r\n        state.activeFadeins = activeFadeins;\r\n        (0, animate_1.animate)(500, (point) => {\r\n            activeFadeins.forEach((f) => f(point));\r\n            if (point === 1) {\r\n                delete state.activeFadeins;\r\n            }\r\n        });\r\n    },\r\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        const state = getFadeinState(grid);\r\n        if (state.activeFadeins) {\r\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\r\n        }\r\n        else {\r\n            drawInternal();\r\n        }\r\n    },\r\n};\r\nclass BaseColumn {\r\n    constructor(option) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n        //Promisecallback\r\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\r\n    }\r\n    get fadeinWhenCallbackInPromise() {\r\n        return this._fadeinWhenCallbackInPromise;\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        var _a;\r\n        const { style, getRecord, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        const record = getRecord();\r\n        let promise;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            promise = record;\r\n        }\r\n        else if ((0, utils_1.isPromise)(cellValue)) {\r\n            promise = cellValue;\r\n        }\r\n        else {\r\n            const msg = info.getMessage();\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promise = msg;\r\n            }\r\n        }\r\n        //\r\n        if (promise) {\r\n            const start = Date.now();\r\n            return Promise.all([\r\n                record,\r\n                cellValue,\r\n                promise.then(() => cellValue).then(() => info.getMessage()),\r\n            ]).then(({ 0: record, 1: val, 2: message }) => {\r\n                const currentContext = context.toCurrentContext();\r\n                const drawRect = currentContext.getDrawRect();\r\n                if (!drawRect) {\r\n                    return;\r\n                }\r\n                const time = Date.now() - start;\r\n                const drawInternal = () => {\r\n                    const currentContext = context.toCurrentContext();\r\n                    const drawRect = currentContext.getDrawRect();\r\n                    if (!drawRect) {\r\n                        return;\r\n                    }\r\n                    const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\r\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\r\n                    this.drawIndicatorsInternal(currentContext, actStyle, helper, grid, info);\r\n                };\r\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\r\n                    drawInternal(); //\r\n                }\r\n                else {\r\n                    const { col, row } = context;\r\n                    if (time < 80) {\r\n                        //80msPromiseCallback\r\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                    else {\r\n                        //\r\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\r\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\r\n            this.drawIndicatorsInternal(context, actStyle, helper, grid, info);\r\n            //\r\n            const { col, row } = context;\r\n            const stateKey = `${col}:${row}`;\r\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\r\n            if (cellState) {\r\n                const ctx = context.getContext();\r\n                ctx.globalAlpha = 1 - cellState.opacity;\r\n                try {\r\n                    drawCellBase();\r\n                }\r\n                finally {\r\n                    ctx.globalAlpha = 1;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n    }\r\n    convertInternal(value) {\r\n        return value != null ? value : \"\";\r\n    }\r\n    drawMessageInternal(message, context, style, helper, grid, info) {\r\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\r\n    }\r\n    drawIndicatorsInternal(context, style, helper, grid, info) {\r\n        var _a;\r\n        const { indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = style;\r\n        for (const [indicatorStyle, kind] of [\r\n            [indicatorTopLeft, 0 /* DrawIndicatorKind.topLeft */],\r\n            [indicatorTopRight, 1 /* DrawIndicatorKind.topRight */],\r\n            [indicatorBottomRight, 2 /* DrawIndicatorKind.bottomRight */],\r\n            [indicatorBottomLeft, 3 /* DrawIndicatorKind.bottomLeft */],\r\n        ]) {\r\n            if (indicatorStyle) {\r\n                (_a = (0, handlers_1.getDrawIndicator)(indicatorStyle)) === null || _a === void 0 ? void 0 : _a(context, indicatorStyle, kind, helper, grid, info);\r\n            }\r\n        }\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        return value;\r\n    }\r\n}\r\nexports.BaseColumn = BaseColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst _ = (0, symbolManager_1.getBranchGraphColumnStateId)();\r\nfunction getAllColumnData(grid, field, callback) {\r\n    const { dataSource } = grid;\r\n    const allData = [];\r\n    let promise;\r\n    for (let index = 0; index < dataSource.length; index++) {\r\n        const data = dataSource.getField(index, field);\r\n        if ((0, utils_1.isPromise)(data)) {\r\n            const dataIndex = allData.length;\r\n            allData.push(undefined);\r\n            if (!promise) {\r\n                promise = data.then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n            else {\r\n                promise = promise\r\n                    .then(() => data)\r\n                    .then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            allData.push(data);\r\n        }\r\n    }\r\n    if (promise) {\r\n        promise.then(() => callback(allData));\r\n    }\r\n    else {\r\n        callback(allData);\r\n    }\r\n}\r\nclass BranchLine {\r\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\r\n        this.fromIndex = fromIndex;\r\n        this.toIndex = toIndex;\r\n        this.colorIndex = colorIndex;\r\n        this.point = point;\r\n    }\r\n}\r\nclass BranchPoint {\r\n    constructor({ index, commit = false, lines = [], tag, }) {\r\n        this.index = index;\r\n        this.commit = commit;\r\n        this.lines = lines;\r\n        this.tag = tag;\r\n    }\r\n    static mergeLines(lines) {\r\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\r\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\r\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\r\n        froms.forEach((f) => {\r\n            for (let i = 0; i < tos.length; i++) {\r\n                const t = tos[i];\r\n                if (t.point) {\r\n                    continue;\r\n                }\r\n                if (f.colorIndex === t.colorIndex) {\r\n                    f.toIndex = t.toIndex;\r\n                    tos.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            result.push(f);\r\n        });\r\n        return result.concat(tos);\r\n    }\r\n    static merge(a, b) {\r\n        if (!a) {\r\n            return b;\r\n        }\r\n        return new BranchPoint({\r\n            index: a.index,\r\n            commit: a.commit || b.commit,\r\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\r\n            tag: a.tag || b.tag,\r\n        });\r\n    }\r\n}\r\nfunction joinLine(timeline, branchIndex) {\r\n    const reverse = [...timeline].reverse();\r\n    for (let i = 0; i < reverse.length; i++) {\r\n        const f = reverse[i][branchIndex];\r\n        if (f) {\r\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\r\n                new BranchLine({\r\n                    toIndex: branchIndex,\r\n                    colorIndex: branchIndex,\r\n                }),\r\n            ]));\r\n            for (let j = 0; j < i; j++) {\r\n                const tl = reverse[j];\r\n                tl[branchIndex] = new BranchPoint({\r\n                    index: branchIndex,\r\n                    lines: [\r\n                        new BranchLine({\r\n                            fromIndex: branchIndex,\r\n                            toIndex: branchIndex,\r\n                            colorIndex: branchIndex,\r\n                        }),\r\n                    ],\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction branch({ timeline, branches }, from, to) {\r\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\r\n    let toIndex = branches.indexOf(to);\r\n    if (toIndex < 0) {\r\n        toIndex = branches.length;\r\n        branches.push(to);\r\n    }\r\n    function findBranchRootIndex() {\r\n        for (let index = timeline.length - 1; index >= 0; index--) {\r\n            const tl = timeline[index];\r\n            const from = tl[fromIndex];\r\n            if (from && from.commit) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    if (fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n        });\r\n    }\r\n    else {\r\n        const fromTargetIndex = findBranchRootIndex();\r\n        if (fromTargetIndex === -1) {\r\n            return null;\r\n        }\r\n        const branchTargetFromIndex = fromTargetIndex + 1;\r\n        const branchPoint = new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    fromIndex,\r\n                    colorIndex: toIndex,\r\n                }),\r\n            ],\r\n        });\r\n        let point;\r\n        let result = null;\r\n        if (branchTargetFromIndex < timeline.length) {\r\n            const targetLine = timeline[branchTargetFromIndex];\r\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\r\n        }\r\n        else {\r\n            point = branchPoint;\r\n            result = branchPoint;\r\n        }\r\n        const from = timeline[fromTargetIndex][fromIndex];\r\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\r\n            new BranchLine({\r\n                toIndex,\r\n                colorIndex: toIndex,\r\n                point,\r\n            }),\r\n        ]));\r\n        return result;\r\n    }\r\n}\r\nfunction commit({ timeline, branches }, name) {\r\n    const index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        return null;\r\n    }\r\n    const result = new BranchPoint({\r\n        index,\r\n        commit: true,\r\n    });\r\n    if (joinLine(timeline, index)) {\r\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\r\n            new BranchLine({\r\n                fromIndex: index,\r\n                colorIndex: index,\r\n            }),\r\n        ]));\r\n    }\r\n    return result;\r\n}\r\nfunction commitTag({ branches }, name, tag) {\r\n    let index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        index = branches.length;\r\n        branches.push(name);\r\n    }\r\n    return new BranchPoint({\r\n        index,\r\n        tag,\r\n    });\r\n}\r\nfunction commitMerge({ timeline, branches }, from, to) {\r\n    const fromIndex = branches.indexOf(from);\r\n    const toIndex = branches.indexOf(to);\r\n    if (toIndex < 0 || fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n            commit: true,\r\n        });\r\n    }\r\n    const result = new BranchPoint({\r\n        index: toIndex,\r\n        commit: true,\r\n        lines: [\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n            new BranchLine({\r\n                fromIndex: toIndex,\r\n                colorIndex: toIndex,\r\n            }),\r\n        ],\r\n    });\r\n    const froms = [...timeline];\r\n    const fromTargetLine = froms.pop();\r\n    if (fromTargetLine) {\r\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    toIndex,\r\n                    colorIndex: fromIndex,\r\n                }),\r\n            ],\r\n        }));\r\n    }\r\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\r\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n        ]));\r\n    }\r\n    joinLine(timeline, toIndex);\r\n    return result;\r\n}\r\nfunction calcCommand(info, command) {\r\n    const { timeline } = info;\r\n    const timelineData = [];\r\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\r\n    const commands = Array.isArray(command) ? command : [command];\r\n    commands.forEach((cmd) => {\r\n        if (!cmd) {\r\n            return;\r\n        }\r\n        let point;\r\n        if (cmd.command === \"branch\") {\r\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\r\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\r\n            point = branch(info, from, to);\r\n        }\r\n        else if (cmd.command === \"commit\") {\r\n            const { branch } = cmd;\r\n            point = commit(info, branch);\r\n        }\r\n        else if (cmd.command === \"merge\") {\r\n            const { from, to } = cmd.branch;\r\n            point = commitMerge(info, from, to);\r\n        }\r\n        else if (cmd.command === \"tag\") {\r\n            const { branch, tag } = cmd;\r\n            point = commitTag(info, branch, tag);\r\n        }\r\n        if (point && point.index > -1) {\r\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\r\n        }\r\n    });\r\n    timeline.push(timelineData);\r\n}\r\nfunction calcBranchesInfo(start, grid, field) {\r\n    const result = {\r\n        branches: [],\r\n        timeline: [],\r\n    };\r\n    getAllColumnData(grid, field, (data) => {\r\n        if (start !== \"top\") {\r\n            data = [...data].reverse();\r\n        }\r\n        data.forEach((command) => {\r\n            calcCommand(result, command);\r\n        });\r\n    });\r\n    return result;\r\n}\r\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\r\n    let w = Math.max(width / branches.length + 1, 5);\r\n    timeline.forEach((tl) => {\r\n        tl.forEach((p, index) => {\r\n            if (index <= 0) {\r\n                // \r\n                return;\r\n            }\r\n            if (p.tag) {\r\n                const textWidth = ctx.measureText(p.tag).width;\r\n                if (w * index + radius * 2 + 4 + textWidth > width) {\r\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    const result = [];\r\n    let x = left;\r\n    branches.forEach(() => {\r\n        result.push(Math.ceil(x + radius));\r\n        x += w;\r\n    });\r\n    return result;\r\n}\r\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \r\n// margin,\r\nbranchColors, branchLineWidth, mergeStyle, }, { \r\n// width,\r\ncol, row, branches, }) {\r\n    if (upLineIndex != null || downLineIndex != null) {\r\n        ctx.strokeStyle = (0, utils_1.getOrApply)(branchColors, branches[colorIndex], colorIndex);\r\n        ctx.lineWidth = branchLineWidth;\r\n        ctx.lineCap = \"round\";\r\n        ctx.beginPath();\r\n        if (upLineIndex != null) {\r\n            const upX = branchXPoints[upLineIndex];\r\n            const upRect = grid.getCellRelativeRect(col, row - 1);\r\n            const upY = upRect.top + upRect.height / 2;\r\n            ctx.moveTo(upX, upY);\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\r\n            }\r\n            else {\r\n                ctx.lineTo(x, y);\r\n            }\r\n        }\r\n        else {\r\n            ctx.moveTo(x, y);\r\n        }\r\n        if (downLineIndex != null) {\r\n            const downX = branchXPoints[downLineIndex];\r\n            const downRect = grid.getCellRelativeRect(col, row + 1);\r\n            const downY = downRect.top + downRect.height / 2;\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\r\n            }\r\n            else {\r\n                ctx.lineTo(downX, downY);\r\n            }\r\n        }\r\n        ctx.stroke();\r\n    }\r\n}\r\n/**\r\n * BranchGraphColumn\r\n *\r\n * Data commands\r\n * - mastar branch or orphan branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * ```\r\n *\r\n * - commit\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * ```\r\n *\r\n * - branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - merge\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - tag\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * ```\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\r\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._start = option.start || \"bottom\";\r\n        this._cache = option.cache != null ? option.cache : false;\r\n    }\r\n    get StyleClass() {\r\n        return BranchGraphStyle_1.BranchGraphStyle;\r\n    }\r\n    clearCache(grid) {\r\n        delete grid[_];\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        if (this._cache) {\r\n            const state = grid[_] || (grid[_] = new Map());\r\n            const { col, row } = context;\r\n            const field = grid.getField(col, row);\r\n            if (!state.has(field)) {\r\n                state.set(field, calcBranchesInfo(this._start, grid, field));\r\n            }\r\n        }\r\n        return super.onDrawCell(cellValue, info, context, grid);\r\n    }\r\n    clone() {\r\n        return new BranchGraphColumn(this);\r\n    }\r\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a, _b;\r\n        const { col, row } = context;\r\n        const field = grid.getField(col, row);\r\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\r\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\r\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\r\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\r\n        const data = this._start !== \"top\"\r\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\r\n            : timeline[row - grid.frozenRowCount];\r\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const rect = context.getRect();\r\n        const radius = circleSize / 2;\r\n        const width = rect.width - margin * 2;\r\n        helper.drawWithClip(context, (ctx) => {\r\n            ctx.textAlign = \"left\";\r\n            ctx.textBaseline = \"middle\";\r\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\r\n            const y = rect.top + rect.height / 2;\r\n            // draw join lines\r\n            data\r\n                .map((point, index) => point\r\n                ? point.lines.map((line) => ({\r\n                    colorIndex: line.colorIndex,\r\n                    upLineIndex: line[upLineIndexKey],\r\n                    downLineIndex: line[downLineIndexKey],\r\n                    pointIndex: index,\r\n                }))\r\n                : [])\r\n                .reduce((p, c) => p.concat(c), []) // flatMap\r\n                // order of overlap\r\n                .sort((a, b) => b.colorIndex - a.colorIndex)\r\n                .forEach((line) => {\r\n                const x = branchXPoints[line.pointIndex];\r\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\r\n                    margin,\r\n                    branchXPoints,\r\n                    branchLineWidth,\r\n                    branchColors,\r\n                    mergeStyle,\r\n                }, {\r\n                    width,\r\n                    col,\r\n                    row,\r\n                    branches,\r\n                });\r\n            });\r\n            // draw commit points\r\n            data.forEach((p, index) => {\r\n                if (p && p.commit) {\r\n                    const x = branchXPoints[index];\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.beginPath();\r\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\r\n                    ctx.fill();\r\n                    ctx.closePath();\r\n                }\r\n            });\r\n            // draw tags\r\n            data.forEach((p, index) => {\r\n                if (p && p.tag) {\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.BranchGraphColumn = BranchGraphColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\r\nconst Column_1 = require(\"./Column\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._caption = option.caption;\r\n    }\r\n    get StyleClass() {\r\n        return ButtonStyle_1.ButtonStyle;\r\n    }\r\n    get caption() {\r\n        return this._caption;\r\n    }\r\n    withCaption(caption) {\r\n        const c = this.clone();\r\n        c._caption = caption;\r\n        return c;\r\n    }\r\n    clone() {\r\n        return new ButtonColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return this._caption || super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._caption || value;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        let active = false;\r\n        const state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (state) {\r\n            if (state.mouseActiveCell &&\r\n                (0, utils_1.cellInRange)(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\r\n                active = true;\r\n            }\r\n            else {\r\n                const { select } = context.getSelection();\r\n                if ((0, utils_1.cellInRange)(range, select.col, select.row)) {\r\n                    active = true;\r\n                }\r\n            }\r\n        }\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.button(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                bgColor: buttonBgColor,\r\n                color,\r\n                font,\r\n                padding,\r\n                shadow: active\r\n                    ? {\r\n                        color: \"rgba(0, 0, 0, 0.48)\",\r\n                        blur: 6,\r\n                        offsetY: 3,\r\n                    }\r\n                    : {},\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.ButtonColumn = ButtonColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return CheckStyle_1.CheckStyle;\r\n    }\r\n    clone() {\r\n        return new CheckColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.checkbox(value, context, opt);\r\n    }\r\n}\r\nexports.CheckColumn = CheckColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Column = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Column extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    clone() {\r\n        return new Column(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.text(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Column = Column;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconColumn = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst Column_1 = require(\"./Column\");\r\nconst IconStyle_1 = require(\"../style/IconStyle\");\r\nfunction repeatArray(val, count) {\r\n    if (count === Infinity) {\r\n        count = 0;\r\n    }\r\n    const a = [];\r\n    for (let i = 0; i < count; i++) {\r\n        a.push(val);\r\n    }\r\n    return a;\r\n}\r\nclass IconColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._tagName = option.tagName || \"i\";\r\n        this._className = option.className;\r\n        this._content = option.content;\r\n        this._name = option.name;\r\n        this._iconWidth = option.iconWidth;\r\n    }\r\n    get StyleClass() {\r\n        return IconStyle_1.IconStyle;\r\n    }\r\n    clone() {\r\n        return new IconColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        const num = Number(value);\r\n        if (!isNaN(num)) {\r\n            const icon = {};\r\n            icons.iconPropKeys.forEach((k) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                icon[k] = style[k];\r\n            });\r\n            icon.className = this._className;\r\n            icon.tagName = this._tagName;\r\n            if (this._content) {\r\n                icon.content = this._content;\r\n            }\r\n            icon.name = this._name;\r\n            if (this._iconWidth) {\r\n                icon.width = this._iconWidth;\r\n            }\r\n            info.getIcon = () => repeatArray(icon, num);\r\n        }\r\n        else {\r\n            info.getIcon = () => null;\r\n        }\r\n        super.drawInternal(\"\", context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.IconColumn = IconColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nconst imgs_1 = require(\"../../internal/imgs\");\r\nconst MAX_LRU_CACHE_SIZE = 50;\r\nfunction getImage(url) {\r\n    return (0, imgs_1.getCacheOrLoad)(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\r\n}\r\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\r\n    let newWidth = width;\r\n    let newHeight = height;\r\n    if (newWidth > maxWidth) {\r\n        newWidth = maxWidth;\r\n        newHeight = (newWidth * height) / width;\r\n    }\r\n    if (newHeight > maxHeight) {\r\n        newHeight = maxHeight;\r\n        newWidth = (newHeight * width) / height;\r\n    }\r\n    return {\r\n        width: newWidth,\r\n        height: newHeight,\r\n    };\r\n}\r\nclass ImageColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return ImageStyle_1.ImageStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\r\n    }\r\n    clone() {\r\n        return new ImageColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\r\n        if (value) {\r\n            const { textAlign, textBaseline, margin, bgColor } = style;\r\n            if (bgColor) {\r\n                drawCellBase({\r\n                    bgColor,\r\n                });\r\n            }\r\n            helper.drawWithClip(context, (ctx) => {\r\n                ctx.textAlign = textAlign;\r\n                ctx.textBaseline = textBaseline;\r\n                const rect = context.getRect();\r\n                if (style.imageSizing === \"keep-aspect-ratio\") {\r\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\r\n                    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, width, height, {\r\n                        offset: margin,\r\n                    });\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\r\n                }\r\n                else {\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ImageColumn = ImageColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nclass MenuColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._options = (0, menu_items_1.normalize)(option.options);\r\n    }\r\n    get StyleClass() {\r\n        return MenuStyle_1.MenuStyle;\r\n    }\r\n    clone() {\r\n        return new MenuColumn(this);\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    withOptions(options) {\r\n        const c = this.clone();\r\n        c._options = (0, menu_items_1.normalize)(options);\r\n        return c;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\r\n        let { color } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const convertedValue = this._convertInternal(value);\r\n        const text = convertedValue != null ? String(convertedValue) : \"\";\r\n        helper.testFontLoad(font, text, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\r\n            const textPadding = basePadding.slice(0);\r\n            textPadding[1] += 26; // icon padding\r\n            const iconPadding = basePadding.slice(0);\r\n            iconPadding[1] += 8;\r\n            if (color == null && (value == null || value === \"\")) {\r\n                color = \"rgba(0, 0, 0, .38)\";\r\n            }\r\n            helper.text(text, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding: textPadding,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n            if (appearance === \"menulist-button\") {\r\n                // draw dropdown arrow icon\r\n                helper.text(\"\", context, {\r\n                    textAlign: \"right\",\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    icons: [\r\n                        {\r\n                            path: \"M0 2 5 7 10 2z\",\r\n                            width: 10,\r\n                            color: \"rgba(0, 0, 0, .54)\",\r\n                        },\r\n                    ],\r\n                    padding: iconPadding,\r\n                });\r\n            }\r\n            else if (appearance !== \"none\") {\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                console.warn(`unsupported appearance:${appearance}`);\r\n            }\r\n        });\r\n    }\r\n    convertInternal(value) {\r\n        return value;\r\n    }\r\n    _convertInternal(value) {\r\n        const options = this._options;\r\n        for (let i = 0; i < options.length; i++) {\r\n            const option = options[i];\r\n            if (option.value === value) {\r\n                value = option.label;\r\n                break;\r\n            }\r\n        }\r\n        return super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._convertInternal(value);\r\n    }\r\n}\r\nexports.MenuColumn = MenuColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\r\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    get StyleClass() {\r\n        return MultilineTextStyle_1.MultilineTextStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextColumn = MultilineTextColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberColumn = void 0;\r\nconst Column_1 = require(\"./Column\");\r\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\r\nlet defaultFotmat;\r\nclass NumberColumn extends Column_1.Column {\r\n    static get defaultFotmat() {\r\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\r\n    }\r\n    static set defaultFotmat(fmt) {\r\n        defaultFotmat = fmt;\r\n    }\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._format = option.format;\r\n    }\r\n    get StyleClass() {\r\n        return NumberStyle_1.NumberStyle;\r\n    }\r\n    clone() {\r\n        return new NumberColumn(this);\r\n    }\r\n    get format() {\r\n        return this._format;\r\n    }\r\n    withFormat(format) {\r\n        const c = this.clone();\r\n        c._format = format;\r\n        return c;\r\n    }\r\n    convertInternal(value) {\r\n        const num = Number(value);\r\n        if (isNaN(num)) {\r\n            const convertedValue = super.convertInternal(value);\r\n            return convertedValue != null ? String(convertedValue) : \"\";\r\n        }\r\n        const format = this._format || NumberColumn.defaultFotmat;\r\n        return format.format(num);\r\n    }\r\n}\r\nexports.NumberColumn = NumberColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst Column_1 = require(\"./Column\");\r\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\r\nconst MARGIN = 2;\r\nclass PercentCompleteBarColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._min = option.min || 0;\r\n        this._max = option.max || this._min + 100;\r\n        this._formatter = option.formatter || ((v) => v);\r\n    }\r\n    get StyleClass() {\r\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\r\n        const { barColor, barBgColor, barHeight } = style;\r\n        let textValue = value != null ? String(value) : \"\";\r\n        if (utils_1.str.endsWith(textValue, \"%\")) {\r\n            textValue = textValue.slice(0, -1);\r\n        }\r\n        const num = Number(textValue);\r\n        if (isNaN(num)) {\r\n            return;\r\n        }\r\n        const rate = num < this._min\r\n            ? 0\r\n            : num > this._max\r\n                ? 1\r\n                : (num - this._min) / (this._max - this._min);\r\n        helper.drawWithClip(context, (ctx) => {\r\n            const rect = context.getRect();\r\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\r\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\r\n            const barLeft = rect.left + MARGIN;\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barBgColor, rate * 100) || \"#f0f3f5\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\r\n            ctx.fill();\r\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barColor, rate * 100) || \"#20a8d8\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barSize, barHeight);\r\n            ctx.fill();\r\n        });\r\n    }\r\n}\r\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return RadioStyle_1.RadioStyle;\r\n    }\r\n    clone() {\r\n        return new RadioColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            checkColor,\r\n            uncheckBorderColor,\r\n            checkBorderColor,\r\n            uncheckBgColor,\r\n            checkBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.radioButton(value, context, opt);\r\n    }\r\n}\r\nexports.RadioColumn = RadioColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadIcons = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction loadIcons(icon, context, helper, callback) {\r\n    let argIcon = undefined;\r\n    if (icon) {\r\n        if ((0, utils_1.isPromise)(icon)) {\r\n            icon.then((i) => {\r\n                loadIcons(i, context.toCurrentContext(), helper, callback);\r\n            });\r\n        }\r\n        else {\r\n            const iconList = icons.toNormalizeArray(icon);\r\n            iconList.forEach((i) => {\r\n                if (i.font && i.content) {\r\n                    helper.testFontLoad(i.font, i.content, context);\r\n                }\r\n            });\r\n            argIcon = iconList;\r\n        }\r\n    }\r\n    callback(argIcon, context);\r\n}\r\nexports.loadIcons = loadIcons;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toBoolean = void 0;\r\nfunction toBoolean(val) {\r\n    if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return false;\r\n        }\r\n        else if (val === \"off\") {\r\n            return false;\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return false;\r\n        }\r\n    }\r\n    return Boolean(val);\r\n}\r\nexports.toBoolean = toBoolean;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\r\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\r\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DG_EVENT_TYPE = void 0;\r\n/**\r\n * DrawGrid event types\r\n * @classdesc cheetahGrid.core.EVENT_TYPE\r\n * @memberof cheetahGrid.core\r\n */\r\nexports.DG_EVENT_TYPE = {\r\n    CLICK_CELL: \"click_cell\",\r\n    DBLCLICK_CELL: \"dblclick_cell\",\r\n    DBLTAP_CELL: \"dbltap_cell\",\r\n    MOUSEDOWN_CELL: \"mousedown_cell\",\r\n    MOUSEDOWN_GRID: 'mousedown_grid',\r\n    MOUSEUP_CELL: \"mouseup_cell\",\r\n    SELECTED_CELL: \"selected_cell\",\r\n    KEYDOWN: \"keydown\",\r\n    MOUSEMOVE_CELL: \"mousemove_cell\",\r\n    MOUSEENTER_CELL: \"mouseenter_cell\",\r\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\r\n    MOUSEOVER_CELL: \"mouseover_cell\",\r\n    MOUSEOUT_CELL: \"mouseout_cell\",\r\n    TOUCHSTART_CELL: \"touchstart_cell\",\r\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\r\n    INPUT_CELL: \"input_cell\",\r\n    PASTE_CELL: \"paste_cell\",\r\n    DELETE_CELL: \"delete_cell\",\r\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\r\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\r\n    RESIZE_COLUMN: \"resize_column\",\r\n    SCROLL: \"scroll\",\r\n    FOCUS_GRID: \"focus_grid\",\r\n    BLUR_GRID: \"blur_grid\",\r\n};\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DrawGrid = void 0;\r\nconst calc = __importStar(require(\"../internal/calc\"));\r\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\r\nconst style = __importStar(require(\"../internal/style\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst paste_utils_1 = require(\"../internal/paste-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\nconst EventTarget_1 = require(\"./EventTarget\");\r\nconst NumberMap_1 = require(\"../internal/NumberMap\");\r\nconst Rect_1 = require(\"../internal/Rect\");\r\nconst Scrollable_1 = require(\"../internal/Scrollable\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\nconst { \r\n/** @private */\r\nisTouchEvent, \r\n/** @private */\r\ngetMouseButtons, \r\n/** @private */\r\ngetKeyCode, \r\n/** @private */\r\ncancel: cancelEvent, } = utils_1.event;\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n/** @private */\r\nfunction createRootElement() {\r\n    const element = document.createElement(\"div\");\r\n    element.classList.add(\"cheetah-grid\");\r\n    return element;\r\n}\r\n/** @private */\r\nconst KEY_BS = 8;\r\n/** @private */\r\nconst KEY_TAB = 9;\r\n/** @private */\r\nconst KEY_ENTER = 13;\r\n/** @private */\r\nconst KEY_END = 35;\r\n/** @private */\r\nconst KEY_HOME = 36;\r\n/** @private */\r\nconst KEY_LEFT = 37;\r\n/** @private */\r\nconst KEY_UP = 38;\r\n/** @private */\r\nconst KEY_RIGHT = 39;\r\n/** @private */\r\nconst KEY_DOWN = 40;\r\n/** @private */\r\nconst KEY_DEL = 46;\r\n/** @private */\r\nconst KEY_ALPHA_A = 65;\r\n/** @private */\r\nconst KEY_ALPHA_C = 67;\r\n/** @private */\r\nconst KEY_ALPHA_V = 86;\r\n//private methods\r\n/** @private */\r\nfunction _vibrate(e) {\r\n    if (navigator.vibrate && isTouchEvent(e)) {\r\n        navigator.vibrate(50);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetRowAt(absoluteY) {\r\n    const internal = this.getTargetRowAtInternal(absoluteY);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const findBefore = (startRow, startBottom) => {\r\n        let bottom = startBottom;\r\n        for (let row = startRow; row >= 0; row--) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const top = bottom - height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            bottom = top;\r\n        }\r\n        return null;\r\n    };\r\n    const findAfter = (startRow, startBottom) => {\r\n        let top = startBottom - _getRowHeight.call(this, startRow);\r\n        const { rowCount } = this[_];\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = top + height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            top = bottom;\r\n        }\r\n        return null;\r\n    };\r\n    const candidateRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\r\n    const bottom = _getRowsHeight.call(this, 0, candidateRow);\r\n    if (absoluteY >= bottom) {\r\n        return findAfter(candidateRow, bottom);\r\n    }\r\n    else {\r\n        return findBefore(candidateRow, bottom);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetColAt(grid, absoluteX) {\r\n    let left = 0;\r\n    const { colCount } = grid[_];\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    let { top } = grid[_].scroll;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        const bottom = top + height;\r\n        if (bottom > absoluteY) {\r\n            return {\r\n                top,\r\n                row,\r\n            };\r\n        }\r\n        top = bottom;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenColAt(grid, absoluteX) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    let { left } = grid[_].scroll;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getFrozenRowsRect(grid) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    const { top } = grid[_].scroll;\r\n    let height = 0;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        height += _getRowHeight.call(grid, row);\r\n    }\r\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\r\n}\r\n/** @private */\r\nfunction _getFrozenColsRect(grid) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    const { left } = grid[_].scroll;\r\n    let width = 0;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        width += _getColWidth(grid, col);\r\n    }\r\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\r\n}\r\n/** @private */\r\nfunction _getCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return null;\r\n    }\r\n    return grid[_].drawCells[row][col];\r\n}\r\n/** @private */\r\nfunction _putCellDrawing(grid, col, row, context) {\r\n    if (!grid[_].drawCells[row]) {\r\n        grid[_].drawCells[row] = {};\r\n    }\r\n    grid[_].drawCells[row][col] = context;\r\n}\r\n/** @private */\r\nfunction _removeCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return;\r\n    }\r\n    delete grid[_].drawCells[row][col];\r\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\r\n        delete grid[_].drawCells[row];\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\r\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\r\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\r\n    if (drawRect.height > 0 && drawRect.width > 0) {\r\n        ctx.save();\r\n        try {\r\n            const cellDrawing = _getCellDrawing(this, col, row);\r\n            if (cellDrawing) {\r\n                cellDrawing.cancel();\r\n            }\r\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\r\n            const p = this.onDrawCell(col, row, dcContext);\r\n            if ((0, utils_1.isPromise)(p)) {\r\n                //\r\n                _putCellDrawing(this, col, row, dcContext);\r\n                const pCol = col;\r\n                dcContext._delayMode(this, () => {\r\n                    _removeCellDrawing(this, pCol, row);\r\n                });\r\n                p.then(() => {\r\n                    dcContext.terminate();\r\n                });\r\n            }\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\r\n    const { colCount } = grid[_];\r\n    const drawOuter = (col, absoluteLeft) => {\r\n        //\r\n        if (col >= colCount - 1 &&\r\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\r\n            const outerLeft = absoluteLeft - visibleRect.left;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteLeft = 0;\r\n    if (initFrozenCol) {\r\n        let absoluteLeft = initFrozenCol.left;\r\n        const count = grid[_].frozenColCount;\r\n        for (let { col } = initFrozenCol; col < count; col++) {\r\n            const width = _getColWidth(grid, col);\r\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\r\n            absoluteLeft += width;\r\n            if (drawRight <= absoluteLeft) {\r\n                //\r\n                drawOuter(col, absoluteLeft);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteLeft = absoluteLeft;\r\n    }\r\n    let absoluteLeft = initCol.left;\r\n    for (let { col } = initCol; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\r\n        absoluteLeft += width;\r\n        if (drawRight <= absoluteLeft) {\r\n            //\r\n            drawOuter(col, absoluteLeft);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(colCount - 1, absoluteLeft);\r\n}\r\n/** @private */\r\nfunction _getInitContext() {\r\n    return this._getInitContext();\r\n}\r\n/** @private */\r\nfunction _invalidateRect(grid, drawRect) {\r\n    const visibleRect = _getVisibleRect(grid);\r\n    const { rowCount } = grid[_];\r\n    const ctx = _getInitContext.call(grid);\r\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\r\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\r\n        row: rowCount,\r\n    };\r\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\r\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\r\n        col: grid[_].colCount,\r\n    };\r\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\r\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\r\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\r\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\r\n    const drawLayers = new DrawLayers();\r\n    const drawOuter = (row, absoluteTop) => {\r\n        //\r\n        if (row >= rowCount - 1 &&\r\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\r\n            const outerTop = absoluteTop - visibleRect.top;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteTop = 0;\r\n    if (initFrozenRow) {\r\n        let absoluteTop = initFrozenRow.top;\r\n        const count = grid[_].frozenRowCount;\r\n        for (let { row } = initFrozenRow; row < count; row++) {\r\n            const height = _getRowHeight.call(grid, row);\r\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\r\n            absoluteTop += height;\r\n            if (drawBottom <= absoluteTop) {\r\n                //\r\n                drawOuter(row, absoluteTop);\r\n                drawLayers.draw(ctx);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteTop = absoluteTop;\r\n    }\r\n    let absoluteTop = initRow.top;\r\n    for (let { row } = initRow; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        //\r\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\r\n        absoluteTop += height;\r\n        if (drawBottom <= absoluteTop) {\r\n            //\r\n            drawOuter(row, absoluteTop);\r\n            drawLayers.draw(ctx);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(rowCount - 1, absoluteTop);\r\n    drawLayers.draw(ctx);\r\n}\r\n/** @private */\r\nfunction _toPxWidth(grid, width) {\r\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\r\n}\r\n/** @private */\r\nfunction _adjustColWidth(grid, col, orgWidth) {\r\n    const limits = _getColWidthLimits(grid, col);\r\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\r\n}\r\n/** @private */\r\nfunction _applyColWidthLimits(limits, orgWidth) {\r\n    if (!limits) {\r\n        return orgWidth;\r\n    }\r\n    if (limits.min) {\r\n        if (limits.min > orgWidth) {\r\n            return limits.min;\r\n        }\r\n    }\r\n    if (limits.max) {\r\n        if (limits.max < orgWidth) {\r\n            return limits.max;\r\n        }\r\n    }\r\n    return orgWidth;\r\n}\r\n/**\r\n * Gets the definition of the column width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {string|number} width definition\r\n * @private\r\n */\r\nfunction _getColWidthDefine(grid, col) {\r\n    const width = grid[_].colWidthsMap.get(col);\r\n    if (width) {\r\n        return width;\r\n    }\r\n    return grid.defaultColWidth;\r\n}\r\n/**\r\n * Gets the column width limits.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {object|null} the column width limits\r\n * @private\r\n */\r\nfunction _getColWidthLimits(grid, col) {\r\n    const limit = grid[_].colWidthsLimit[col];\r\n    if (!limit) {\r\n        return null;\r\n    }\r\n    const result = {};\r\n    if (limit.min) {\r\n        result.min = _toPxWidth(grid, limit.min);\r\n        result.minDef = limit.min;\r\n    }\r\n    if (limit.max) {\r\n        result.max = _toPxWidth(grid, limit.max);\r\n        result.maxDef = limit.max;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Checks if the given width definition is `auto`.\r\n * @param {string|number} width width definition to check\r\n * @returns {boolean} `true ` if the given width definition is `auto`\r\n * @private\r\n */\r\nfunction isAutoDefine(width) {\r\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\r\n}\r\n/**\r\n * Creates a formula to calculate the auto width.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {string} formula\r\n * @private\r\n */\r\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\r\n    const fullWidth = grid[_].calcWidthContext.full;\r\n    let sumMin = 0;\r\n    const others = [];\r\n    let autoCount = 0;\r\n    const hasLimitsOnAuto = [];\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        const limits = _getColWidthLimits(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            if (limits) {\r\n                hasLimitsOnAuto.push(limits);\r\n                if (limits.min) {\r\n                    sumMin += limits.min;\r\n                }\r\n            }\r\n            autoCount++;\r\n        }\r\n        else {\r\n            let expr = def;\r\n            if (limits) {\r\n                const orgWidth = _toPxWidth(grid, expr);\r\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\r\n                if (orgWidth !== newWidth) {\r\n                    expr = `${newWidth}px`;\r\n                }\r\n                sumMin += newWidth;\r\n            }\r\n            others.push(expr);\r\n        }\r\n        if (shortCircuit && sumMin > fullWidth) {\r\n            // Returns 0px because it has consumed the full width.\r\n            return \"0px\";\r\n        }\r\n    }\r\n    if (hasLimitsOnAuto.length && others.length) {\r\n        const autoPx = (fullWidth -\r\n            _toPxWidth(grid, `calc(${others\r\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\r\n                .join(\" + \")})`)) /\r\n            autoCount;\r\n        hasLimitsOnAuto.forEach((limits) => {\r\n            if (limits.min && autoPx < limits.min) {\r\n                others.push(limits.minDef);\r\n                autoCount--;\r\n            }\r\n            else if (limits.max && limits.max < autoPx) {\r\n                others.push(limits.maxDef);\r\n                autoCount--;\r\n            }\r\n        });\r\n        if (shortCircuit && autoCount <= 0) {\r\n            return `${autoPx}px`;\r\n        }\r\n    }\r\n    if (others.length) {\r\n        const strDefs = [];\r\n        let num = 0;\r\n        others.forEach((c) => {\r\n            if (typeof c === \"number\") {\r\n                num += c;\r\n            }\r\n            else {\r\n                strDefs.push(c);\r\n            }\r\n        });\r\n        strDefs.push(`${num}px`);\r\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\r\n    }\r\n    else {\r\n        return `${100 / autoCount}%`;\r\n    }\r\n}\r\n/**\r\n * Calculate the pixels of width from the definition of width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {string|number} width width definition\r\n * @returns {number} the pixels of width\r\n * @private\r\n */\r\nfunction _colWidthDefineToPxWidth(grid, width) {\r\n    if (isAutoDefine(width)) {\r\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\r\n    }\r\n    return _toPxWidth(grid, width);\r\n}\r\n/** @private */\r\nfunction _getColWidth(grid, col) {\r\n    const width = _getColWidthDefine(grid, col);\r\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\r\n}\r\n/** @private */\r\nfunction _setColWidth(grid, col, width) {\r\n    if (width != null) {\r\n        grid[_].colWidthsMap.put(col, width);\r\n    }\r\n    else {\r\n        grid[_].colWidthsMap.remove(col);\r\n    }\r\n}\r\n/**\r\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {void}\r\n * @private\r\n */\r\nfunction _storeAutoColWidthExprs(grid) {\r\n    let expr = null;\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _getColsWidth(grid, startCol, endCol) {\r\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\r\n    const colCount = endCol - startCol + 1;\r\n    let w = defaultColPxWidth * colCount;\r\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\r\n        w +=\r\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\r\n                defaultColPxWidth;\r\n    });\r\n    for (let col = startCol; col <= endCol; col++) {\r\n        if (grid[_].colWidthsMap.has(col)) {\r\n            continue;\r\n        }\r\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\r\n        if (adj !== defaultColPxWidth) {\r\n            w += adj - defaultColPxWidth;\r\n        }\r\n    }\r\n    return w;\r\n}\r\n/** @private */\r\nfunction _getRowHeight(row) {\r\n    const internal = this.getRowHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const height = this[_].rowHeightsMap.get(row);\r\n    if (height) {\r\n        return height;\r\n    }\r\n    return this[_].defaultRowHeight;\r\n}\r\n/** @private */\r\nfunction _setRowHeight(grid, row, height) {\r\n    if (height != null) {\r\n        grid[_].rowHeightsMap.put(row, height);\r\n    }\r\n    else {\r\n        grid[_].rowHeightsMap.remove(row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getRowsHeight(startRow, endRow) {\r\n    const internal = this.getRowsHeightInternal(startRow, endRow);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const rowCount = endRow - startRow + 1;\r\n    let h = this[_].defaultRowHeight * rowCount;\r\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _getScrollWidth(grid) {\r\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\r\n}\r\n/** @private */\r\nfunction _getScrollHeight(row) {\r\n    const internal = this.getScrollHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    let h = this[_].defaultRowHeight * this[_].rowCount;\r\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _onScroll(grid, _e) {\r\n    const lastLeft = grid[_].scroll.left;\r\n    const lastTop = grid[_].scroll.top;\r\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\r\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\r\n    //\r\n    grid[_].scroll = {\r\n        left: grid[_].scrollable.scrollLeft,\r\n        top: grid[_].scrollable.scrollTop,\r\n    };\r\n    // If the focus is on the header, recalculate and move the focus position.\r\n    const { focus } = grid[_].selection;\r\n    const isFrozenCell = grid.isFrozenCell(focus.col, focus.row);\r\n    if (isFrozenCell &&\r\n        (((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.col) && moveX) || ((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) && moveY))) {\r\n        grid.setFocusCursor(focus.col, focus.row);\r\n    }\r\n    const visibleRect = _getVisibleRect(grid);\r\n    if (Math.abs(moveX) >= visibleRect.width ||\r\n        Math.abs(moveY) >= visibleRect.height) {\r\n        //\r\n        _invalidateRect(grid, visibleRect);\r\n    }\r\n    else {\r\n        //\r\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\r\n        if (moveX !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveX < 0) {\r\n                redrawRect.width = -moveX;\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenColsRect(grid);\r\n                    redrawRect.width += frozenRect.width;\r\n                }\r\n            }\r\n            else if (moveX > 0) {\r\n                redrawRect.left = redrawRect.right - moveX;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveX > 0) {\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\r\n                }\r\n            }\r\n        }\r\n        if (moveY !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveY < 0) {\r\n                redrawRect.height = -moveY;\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenRowsRect(grid);\r\n                    redrawRect.height += frozenRect.height;\r\n                }\r\n            }\r\n            else if (moveY > 0) {\r\n                redrawRect.top = redrawRect.bottom - moveY;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveY > 0) {\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\n// eslint-disable-next-line complexity\r\nfunction _onKeyDownMove(e) {\r\n    var _a, _b, _c;\r\n    const { shiftKey } = e;\r\n    const keyCode = getKeyCode(e);\r\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\r\n    if (keyCode === KEY_LEFT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"W\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"W\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_UP) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"N\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_RIGHT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"E\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_DOWN) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_HOME) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", \"W\");\r\n        }\r\n        else {\r\n            move(this, null, \"W\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_END) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", \"E\");\r\n        }\r\n        else {\r\n            move(this, null, \"E\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnTab === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnTab({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!hMove.call(this, \"W\", false)) {\r\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n                if (0 > row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\", false)) {\r\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n                if (this.rowCount <= row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, 0, row, false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnEnter === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnEnter({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!vMove.call(this, \"N\", false)) {\r\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n                if (0 > col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\", false)) {\r\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n                if (this.colCount <= col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n        keyCode === KEY_ALPHA_A &&\r\n        (e.ctrlKey || e.metaKey)) {\r\n        this.selection.range = {\r\n            start: { col: 0, row: 0 },\r\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\r\n        };\r\n        this.invalidate();\r\n        cancelEvent(e);\r\n    }\r\n    function move(grid, vDir, hDir) {\r\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\r\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\r\n        _moveFocusCell.call(grid, col, row, shiftKey);\r\n    }\r\n    function vMove(vDir, shiftKeyFlg = shiftKey) {\r\n        const { col } = focusCell;\r\n        let row;\r\n        if (vDir === \"S\") {\r\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n            if (this.rowCount <= row) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, this.rowCount - 1);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n            if (row < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, 0);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n    function hMove(hDir, shiftKeyFlg = shiftKey) {\r\n        const { row } = focusCell;\r\n        let col;\r\n        if (hDir === \"E\") {\r\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n            if (this.colCount <= col) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(this.colCount - 1, row);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n            if (col < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(0, row);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n}\r\n/** @private */\r\nfunction _moveFocusCell(col, row, shiftKey) {\r\n    const offset = this.getOffsetInvalidateCells();\r\n    function extendRange(range) {\r\n        if (offset > 0) {\r\n            range.start.col -= offset;\r\n            range.start.row -= offset;\r\n            range.end.col += offset;\r\n            range.end.row += offset;\r\n        }\r\n        return range;\r\n    }\r\n    const beforeRange = extendRange(this.selection.range);\r\n    const beforeRect = this.getCellRangeRect(beforeRange);\r\n    this.selection._setFocusCell(col, row, shiftKey);\r\n    this.makeVisibleCell(col, row);\r\n    this.focusCell(col, row);\r\n    const afterRange = extendRange(this.selection.range);\r\n    const afterRect = this.getCellRangeRect(afterRange);\r\n    if (afterRect.intersection(beforeRect)) {\r\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\r\n        _invalidateRect(this, invalidateRect);\r\n    }\r\n    else {\r\n        _invalidateRect(this, beforeRect);\r\n        _invalidateRect(this, afterRect);\r\n    }\r\n}\r\n/** @private */\r\nfunction _updatedSelection() {\r\n    const { focusControl } = this[_];\r\n    const { col: selCol, row: selRow } = this[_].selection.select;\r\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\r\n        col: selCol,\r\n        row: selRow,\r\n    });\r\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\r\n    focusControl.editMode = editMode;\r\n    if (editMode) {\r\n        focusControl.storeInputStatus();\r\n        focusControl.setDefaultInputStatus();\r\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\r\n            col: selCol,\r\n            row: selRow,\r\n            input: focusControl.input,\r\n        });\r\n    }\r\n}\r\n/** @private */\r\nfunction _getMouseAbstractPoint(grid, evt) {\r\n    let e;\r\n    if (isTouchEvent(evt)) {\r\n        e = evt.changedTouches[0];\r\n    }\r\n    else {\r\n        e = evt;\r\n    }\r\n    const clientX = e.clientX || e.pageX + window.scrollX;\r\n    const clientY = e.clientY || e.pageY + window.scrollY;\r\n    const rect = grid[_].canvas.getBoundingClientRect();\r\n    if (rect.right <= clientX) {\r\n        return null;\r\n    }\r\n    if (rect.bottom <= clientY) {\r\n        return null;\r\n    }\r\n    const x = clientX - rect.left + grid[_].scroll.left;\r\n    const y = clientY - rect.top + grid[_].scroll.top;\r\n    return { x, y };\r\n}\r\n/** @private */\r\nfunction _bindEvents() {\r\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\r\n    const grid = this;\r\n    const { handler, element, scrollable } = grid[_];\r\n    const getCellEventArgsSet = (e) => {\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return {};\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return {\r\n                abstractPos,\r\n                cell,\r\n            };\r\n        }\r\n        const eventArgs = {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            event: e,\r\n        };\r\n        return {\r\n            abstractPos,\r\n            cell,\r\n            eventArgs,\r\n        };\r\n    };\r\n    const canResizeColumn = (col) => {\r\n        if (grid[_].disableColumnResize) {\r\n            return false;\r\n        }\r\n        const limit = grid[_].colWidthsLimit[col];\r\n        if (!limit || !limit.min || !limit.max) {\r\n            return true;\r\n        }\r\n        return limit.max !== limit.min;\r\n    };\r\n    handler.on(element, \"mousedown\", (e) => {\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs, cell } = eventArgsSet;\r\n        if (!abstractPos) {\r\n            return;\r\n        }\r\n        if (cell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_GRID, cell);\r\n        }\r\n        if (eventArgs) {\r\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\r\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n                return;\r\n            }\r\n        }\r\n        if (getMouseButtons(e) !== 1 &&\r\n            // For mobile safari. If we do not post-process here, the keyboard will not start in Mobile Safari.\r\n            e.buttons !== 0) {\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            //\r\n            grid[_].columnResizer.start(resizeCol, e);\r\n        }\r\n        else {\r\n            //\r\n            grid[_].cellSelector.start(e);\r\n        }\r\n    });\r\n    handler.on(element, \"mouseup\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\r\n        }\r\n    });\r\n    let doubleTapBefore = null;\r\n    let longTouchId = null;\r\n    let useTouch = null;\r\n    function useTouchStart() {\r\n        if ((useTouch === null || useTouch === void 0 ? void 0 : useTouch.timeoutId) != null)\r\n            clearTimeout(useTouch.timeoutId);\r\n        useTouch = {};\r\n    }\r\n    function useTouchEnd() {\r\n        if (useTouch) {\r\n            if (useTouch.timeoutId != null)\r\n                clearTimeout(useTouch.timeoutId);\r\n            useTouch.timeoutId = setTimeout(() => {\r\n                useTouch = null;\r\n            }, 350);\r\n        }\r\n    }\r\n    handler.on(element, \"touchstart\", (e) => {\r\n        // Since it is an environment where touch start can be used, it blocks mousemove that occurs after this.\r\n        useTouchStart();\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.TOUCHSTART_CELL, eventArgs);\r\n        }\r\n        if (!doubleTapBefore) {\r\n            doubleTapBefore = eventArgs;\r\n            setTimeout(() => {\r\n                doubleTapBefore = null;\r\n            }, 350);\r\n        }\r\n        else {\r\n            if (eventArgs &&\r\n                eventArgs.col === doubleTapBefore.col &&\r\n                eventArgs.row === doubleTapBefore.row) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\r\n            }\r\n            doubleTapBefore = null;\r\n            if (e.defaultPrevented) {\r\n                return;\r\n            }\r\n        }\r\n        if (e.targetTouches.length > 1) {\r\n            // If touchstart with multiple fingers,\r\n            // it is not considered as an operation event.\r\n            return;\r\n        }\r\n        longTouchId = setTimeout(() => {\r\n            //\r\n            longTouchId = null;\r\n            const abstractPos = _getMouseAbstractPoint(grid, e);\r\n            if (!abstractPos) {\r\n                return;\r\n            }\r\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\r\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n                //\r\n                grid[_].columnResizer.start(resizeCol, e);\r\n            }\r\n            else {\r\n                //\r\n                grid[_].cellSelector.start(e);\r\n            }\r\n        }, 500);\r\n    });\r\n    function cancel(_e) {\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            longTouchId = null;\r\n        }\r\n    }\r\n    handler.on(element, \"touchcancel\", (e) => {\r\n        cancel(e);\r\n        useTouchEnd();\r\n    });\r\n    handler.on(element, \"touchmove\", cancel);\r\n    handler.on(element, \"touchend\", (e) => {\r\n        useTouchEnd();\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            grid[_].cellSelector.select(e);\r\n            longTouchId = null;\r\n        }\r\n    });\r\n    let isMouseover = false;\r\n    let mouseEnterCell = null;\r\n    let mouseOverCell = null;\r\n    function onMouseenterCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseEnterCell = cell;\r\n    }\r\n    function onMouseleaveCell(related) {\r\n        const beforeMouseCell = mouseEnterCell;\r\n        mouseEnterCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    function onMouseoverCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseOverCell = cell;\r\n    }\r\n    function onMouseoutCell(related) {\r\n        const beforeMouseCell = mouseOverCell;\r\n        mouseOverCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    const scrollElement = scrollable.getElement();\r\n    handler.on(scrollElement, \"mouseover\", (_e) => {\r\n        isMouseover = true;\r\n    });\r\n    handler.on(scrollElement, \"mouseout\", (_e) => {\r\n        isMouseover = false;\r\n        onMouseoutCell();\r\n    });\r\n    handler.on(element, \"mouseleave\", (_e) => {\r\n        onMouseleaveCell();\r\n    });\r\n    handler.on(element, \"mousemove\", (e) => {\r\n        if (useTouch) {\r\n            // Probably a mousemove event triggered by a touchstart. Therefore, this event is blocked.\r\n            return;\r\n        }\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs } = eventArgsSet;\r\n        if (eventArgs) {\r\n            const beforeMouseCell = mouseEnterCell;\r\n            if (beforeMouseCell) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n                if (beforeMouseCell.col !== eventArgs.col ||\r\n                    beforeMouseCell.row !== eventArgs.row) {\r\n                    const enterCell = {\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    };\r\n                    const outCell = onMouseoutCell(enterCell);\r\n                    const leaveCell = onMouseleaveCell(enterCell);\r\n                    onMouseenterCell(enterCell, leaveCell);\r\n                    if (isMouseover) {\r\n                        onMouseoverCell(enterCell, outCell);\r\n                    }\r\n                }\r\n                else if (isMouseover && !mouseOverCell) {\r\n                    onMouseoverCell({\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                const enterCell = {\r\n                    col: eventArgs.col,\r\n                    row: eventArgs.row,\r\n                };\r\n                onMouseenterCell(enterCell);\r\n                if (isMouseover) {\r\n                    onMouseoverCell(enterCell);\r\n                }\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n            }\r\n        }\r\n        else {\r\n            onMouseoutCell();\r\n            onMouseleaveCell();\r\n        }\r\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\r\n            return;\r\n        }\r\n        const { style } = element;\r\n        if (!abstractPos) {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            style.cursor = \"col-resize\";\r\n        }\r\n        else {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n        }\r\n    });\r\n    handler.on(element, \"click\", (e) => {\r\n        if (grid[_].columnResizer.lastMoving(e) ||\r\n            grid[_].cellSelector.lastMoving(e)) {\r\n            return;\r\n        }\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"contextmenu\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"dblclick\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\r\n    });\r\n    grid[_].focusControl.onKeyDown((evt) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\r\n    });\r\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\r\n    });\r\n    scrollable.onScroll((e) => {\r\n        _onScroll(grid, e);\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\r\n    });\r\n    grid[_].focusControl.onKeyDownMove((e) => {\r\n        _onKeyDownMove.call(grid, e);\r\n    });\r\n    grid.listen(\"copydata\", (range) => {\r\n        const copyRange = grid.getCopyRangeInternal(range);\r\n        const copyLines = [];\r\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\r\n            let copyLine = \"\";\r\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\r\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\r\n                let strCellValue;\r\n                if (typeof copyCellValue === \"string\") {\r\n                    strCellValue = copyCellValue;\r\n                }\r\n                else if (copyCellValue == null ||\r\n                    // Asynchronous data is treated as empty.\r\n                    (typeof Promise !== \"undefined\" && copyCellValue instanceof Promise)) {\r\n                    strCellValue = \"\";\r\n                }\r\n                else {\r\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                    strCellValue = `${copyCellValue}`;\r\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\r\n                        // Ignore maybe object\r\n                        strCellValue = \"\";\r\n                    }\r\n                }\r\n                copyLine += /[\\t\\n]/.test(strCellValue)\r\n                    ? // Need quote\r\n                        `\"${strCellValue.replace(/\"/g, '\"\"')}\"`\r\n                    : strCellValue;\r\n                if (col < copyRange.end.col) {\r\n                    copyLine += \"\\t\";\r\n                }\r\n            }\r\n            copyLines.push(copyLine);\r\n        }\r\n        return copyLines.join(\"\\n\");\r\n    });\r\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\r\n    grid[_].focusControl.onPaste(({ value, event }) => {\r\n        const { trimOnPaste } = grid;\r\n        const normalizedValue = (0, paste_utils_1.normalizePasteValue)(value);\r\n        const { col, row } = grid[_].selection.select;\r\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizedValue); // is multi cell values\r\n        let rangeBoxValues = null;\r\n        const pasteCellEvent = {\r\n            col,\r\n            row,\r\n            value,\r\n            normalizeValue: trimOnPaste ? normalizedValue.trim() : normalizedValue,\r\n            multi,\r\n            get rangeBoxValues() {\r\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = (0, paste_utils_1.parsePasteRangeBoxValues)(normalizedValue, {\r\n                    trimOnPaste,\r\n                })));\r\n            },\r\n            event,\r\n        };\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\r\n    });\r\n    grid[_].focusControl.onInput((value) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\r\n    });\r\n    grid[_].focusControl.onDelete((event) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\r\n    });\r\n    grid[_].focusControl.onFocus((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\r\n        grid[_].focusedGrid = true;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n    grid[_].focusControl.onBlur((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\r\n        grid[_].focusedGrid = false;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\r\n    if (grid[_].frozenRowCount <= 0) {\r\n        return -1;\r\n    }\r\n    const frozenRect = _getFrozenRowsRect(grid);\r\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\r\n        return -1;\r\n    }\r\n    const cell = grid.getCellAt(abstractX, abstractY);\r\n    const cellRect = grid.getCellRect(cell.col, cell.row);\r\n    if (abstractX < cellRect.left + offset) {\r\n        return cell.col - 1;\r\n    }\r\n    if (cellRect.right - offset < abstractX) {\r\n        return cell.col;\r\n    }\r\n    return -1;\r\n}\r\n/** @private */\r\nfunction _getVisibleRect(grid) {\r\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\r\n    return new Rect_1.Rect(left, top, width, height);\r\n}\r\n/** @private */\r\nfunction _getScrollableVisibleRect(grid) {\r\n    let frozenColsWidth = 0;\r\n    if (grid[_].frozenColCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenColsRect(grid);\r\n        frozenColsWidth = frozenRect.width;\r\n    }\r\n    let frozenRowsHeight = 0;\r\n    if (grid[_].frozenRowCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenRowsRect(grid);\r\n        frozenRowsHeight = frozenRect.height;\r\n    }\r\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\r\n}\r\n/** @private */\r\nfunction _toRelativeRect(grid, absoluteRect) {\r\n    const rect = absoluteRect.copy();\r\n    const visibleRect = _getVisibleRect(grid);\r\n    rect.offsetLeft(-visibleRect.left);\r\n    rect.offsetTop(-visibleRect.top);\r\n    return rect;\r\n}\r\n//end private methods\r\n//\r\n//\r\n//\r\n//\r\n/**\r\n * managing mouse down moving\r\n * @private\r\n */\r\nclass BaseMouseDownMover {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._events = {};\r\n        this._started = false;\r\n        this._moved = false;\r\n    }\r\n    moving(_e) {\r\n        return !!this._started;\r\n    }\r\n    lastMoving(e) {\r\n        // mouseupclick\r\n        if (this.moving(e)) {\r\n            return true;\r\n        }\r\n        const last = this._mouseEndPoint;\r\n        if (!last) {\r\n            return false;\r\n        }\r\n        const pt = _getMouseAbstractPoint(this._grid, e);\r\n        return pt != null && pt.x === last.x && pt.y === last.y;\r\n    }\r\n    _bindMoveAndUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        if (!isTouchEvent(e)) {\r\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\r\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\r\n        }\r\n        else {\r\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\r\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\r\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\r\n        }\r\n        this._started = true;\r\n        this._moved = false;\r\n    }\r\n    _mouseMove(e) {\r\n        if (!isTouchEvent(e)) {\r\n            if (getMouseButtons(e) !== 1) {\r\n                this._mouseUp(e);\r\n                return;\r\n            }\r\n        }\r\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\r\n        cancelEvent(e);\r\n    }\r\n    _moveInternal(_e) {\r\n        //protected\r\n        return false;\r\n    }\r\n    _mouseUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        handler.off(events.mousemove);\r\n        handler.off(events.touchmove);\r\n        handler.off(events.mouseup);\r\n        handler.off(events.touchend);\r\n        // handler.off(this._events.mouseleave);\r\n        handler.off(events.touchcancel);\r\n        this._started = false;\r\n        this._upInternal(e);\r\n        // mouseupclick\r\n        if (this._moved) {\r\n            //\r\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\r\n            setTimeout(() => {\r\n                this._mouseEndPoint = null;\r\n            }, 10);\r\n        }\r\n    }\r\n    _upInternal(_e) {\r\n        //protected\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * managing cell selection operation with mouse\r\n * @private\r\n */\r\nclass CellSelector extends BaseMouseDownMover {\r\n    start(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._bindMoveAndUp(e);\r\n        this._cell = cell;\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    select(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._cell = cell;\r\n    }\r\n    _moveInternal(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return false;\r\n        }\r\n        const { col: oldCol, row: oldRow } = this._cell;\r\n        const { col: newCol, row: newRow } = cell;\r\n        if (oldCol === newCol && oldRow === newRow) {\r\n            return false;\r\n        }\r\n        const grid = this._grid;\r\n        _moveFocusCell.call(grid, newCol, newRow, true);\r\n        //make visible\r\n        const makeVisibleCol = (() => {\r\n            if (newCol < oldCol && 0 < newCol) {\r\n                // move left\r\n                return newCol - 1;\r\n            }\r\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\r\n                // move right\r\n                return newCol + 1;\r\n            }\r\n            return newCol;\r\n        })();\r\n        const makeVisibleRow = (() => {\r\n            if (newRow < oldRow && 0 < newRow) {\r\n                // move up\r\n                return newRow - 1;\r\n            }\r\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\r\n                // move down\r\n                return newRow + 1;\r\n            }\r\n            return newRow;\r\n        })();\r\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\r\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\r\n        }\r\n        this._cell = cell;\r\n        return true;\r\n    }\r\n    _getTargetCell(e) {\r\n        const grid = this._grid;\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return null;\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return null;\r\n        }\r\n        return cell;\r\n    }\r\n}\r\n/**\r\n * managing row width changing operation with mouse\r\n * @private\r\n */\r\nclass ColumnResizer extends BaseMouseDownMover {\r\n    constructor(grid) {\r\n        super(grid);\r\n        this._x = -1;\r\n        this._preX = -1;\r\n        this._invalidateAbsoluteLeft = -1;\r\n        this._targetCol = -1;\r\n    }\r\n    start(col, e) {\r\n        let pageX;\r\n        if (!isTouchEvent(e)) {\r\n            ({ pageX } = e);\r\n        }\r\n        else {\r\n            ({ pageX } = e.changedTouches[0]);\r\n        }\r\n        this._x = pageX;\r\n        this._preX = 0;\r\n        this._bindMoveAndUp(e);\r\n        this._targetCol = col;\r\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    _moveInternal(e) {\r\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\r\n        const x = pageX - this._x;\r\n        const moveX = x - this._preX;\r\n        this._preX = x;\r\n        const pre = this._grid.getColWidth(this._targetCol);\r\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\r\n        if (afterSize < 10 && moveX < 0) {\r\n            afterSize = 10;\r\n        }\r\n        _storeAutoColWidthExprs(this._grid);\r\n        _setColWidth(this._grid, this._targetCol, afterSize);\r\n        const rect = _getVisibleRect(this._grid);\r\n        rect.left = this._invalidateAbsoluteLeft;\r\n        _invalidateRect(this._grid, rect);\r\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\r\n            col: this._targetCol,\r\n        });\r\n        return true;\r\n    }\r\n    _upInternal(_e) {\r\n        const grid = this._grid;\r\n        if (grid.updateScroll()) {\r\n            grid.invalidate();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction setSafeInputValue(input, value) {\r\n    const { type } = input;\r\n    input.type = \"\";\r\n    input.value = value;\r\n    if (type) {\r\n        input.type = type;\r\n    }\r\n}\r\nconst IGNORE_STORE_ATTRS = [\"style\", \"readonly\"];\r\n/**\r\n * Manage focus\r\n * @private\r\n */\r\nclass FocusControl extends EventTarget_1.EventTarget {\r\n    constructor(grid, parentElement, scrollable, selection) {\r\n        super();\r\n        this._grid = grid;\r\n        this._scrollable = scrollable;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        const input = (this._input = document.createElement(\"input\"));\r\n        input.classList.add(\"grid-focus-control\");\r\n        input.readOnly = true;\r\n        parentElement.appendChild(input);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n            input.style.font = grid.font || \"16px sans-serif\";\r\n            this._isComposition = true;\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n            grid.focus();\r\n        });\r\n        let lastInputValue;\r\n        const inputClear = (storeLastInputValue) => {\r\n            lastInputValue = input.value;\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (lastInputValue !== \"\") {\r\n                setSafeInputValue(input, \"\");\r\n            }\r\n            if (!storeLastInputValue) {\r\n                lastInputValue = \"\";\r\n            }\r\n        };\r\n        const handleCompositionEnd = () => {\r\n            this._isComposition = false;\r\n            input.classList.remove(\"composition\");\r\n            input.style.font = \"\";\r\n            const { value } = input;\r\n            inputClear(false);\r\n            if (!input.readOnly) {\r\n                this.fireListeners(\"input\", value);\r\n            }\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n        };\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\r\n        });\r\n        selection.listen(\"before_hook\", () => {\r\n            if (this._compositionEnd) {\r\n                handleCompositionEnd();\r\n            }\r\n        });\r\n        handler.on(input, \"keypress\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!input.readOnly && e.key && e.key.length === 1) {\r\n                if (e.ctrlKey || e.metaKey) {\r\n                    if (e.key === \"c\") {\r\n                        //copy! for Firefox & Safari\r\n                    }\r\n                    else if (e.key === \"v\") {\r\n                        //paste! for Firefox & Safari\r\n                    }\r\n                }\r\n                else {\r\n                    if (e.key === \" \") {\r\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\r\n                        return;\r\n                    }\r\n                    this.fireListeners(\"input\", e.key);\r\n                    cancelEvent(e);\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            var _a;\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                    cancelEvent(e);\r\n                }\r\n                return;\r\n            }\r\n            const keyCode = getKeyCode(e);\r\n            let stopCellMove = false;\r\n            const evt = {\r\n                keyCode,\r\n                event: e,\r\n                stopCellMoving() {\r\n                    stopCellMove = true;\r\n                },\r\n            };\r\n            this.fireListeners(\"keydown\", evt);\r\n            if (!input.readOnly && lastInputValue) {\r\n                // for Safari\r\n                this.fireListeners(\"input\", lastInputValue);\r\n            }\r\n            if (!stopCellMove)\r\n                this.fireKeyDownMove(keyCode, e);\r\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\r\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\r\n                this.fireListeners(\"delete\", e);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keyup\", (_e) => {\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"input\", (e) => {\r\n            if (e.data === \" \" || e.data === \"\") {\r\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\r\n                this.fireListeners(\"input\", e.data);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        if (utils_1.browser.IE) {\r\n            handler.on(document, \"keydown\", (e) => {\r\n                if (e.target !== input) {\r\n                    return;\r\n                }\r\n                const keyCode = getKeyCode(e);\r\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\r\n                    // When text is not selected copy-event is not emit, on IE.\r\n                    setSafeInputValue(input, \"dummy\");\r\n                    input.select();\r\n                    setTimeout(() => {\r\n                        setSafeInputValue(input, \"\");\r\n                    }, 100);\r\n                }\r\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\r\n                    // When input is read-only paste-event is not emit, on IE.\r\n                    if (input.readOnly) {\r\n                        input.readOnly = false;\r\n                        setTimeout(() => {\r\n                            input.readOnly = true;\r\n                            setSafeInputValue(input, \"\");\r\n                        }, 10);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (utils_1.browser.Edge) {\r\n            handler.once(document, \"keydown\", (e) => {\r\n                var _a;\r\n                if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                    return;\r\n                }\r\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\r\n                const dummyInput = document.createElement(\"input\");\r\n                grid.getElement().appendChild(dummyInput);\r\n                dummyInput.focus();\r\n                input.focus();\r\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\r\n            });\r\n        }\r\n        handler.on(document, \"paste\", (e) => {\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            let pasteText = undefined;\r\n            if (utils_1.browser.IE) {\r\n                // IE\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                pasteText = window.clipboardData.getData(\"Text\");\r\n            }\r\n            else {\r\n                const clipboardData = e.clipboardData;\r\n                if (clipboardData.items) {\r\n                    // Chrome & Firefox & Edge\r\n                    pasteText = clipboardData.getData(\"text/plain\");\r\n                }\r\n                else {\r\n                    // Safari\r\n                    if (-1 !==\r\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\r\n                        pasteText = clipboardData.getData(\"Text\");\r\n                    }\r\n                }\r\n            }\r\n            if (pasteText != null && pasteText.length) {\r\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\r\n            }\r\n        });\r\n        handler.on(document, \"copy\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            setSafeInputValue(input, \"\");\r\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\r\n            if (data != null) {\r\n                cancelEvent(e);\r\n                if (utils_1.browser.IE) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    window.clipboardData.setData(\"Text\", data); // IE\r\n                }\r\n                else {\r\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\r\n                }\r\n            }\r\n        });\r\n        handler.on(input, \"focus\", (e) => {\r\n            console.log(e);\r\n            console.log('3333333333333333333');\r\n            // this.fireListeners(\"focus\", e);\r\n        });\r\n        handler.on(input, \"blur\", (e) => {\r\n            this.fireListeners(\"blur\", e);\r\n        });\r\n    }\r\n    fireKeyDownMove(keyCode, e) {\r\n        var _a, _b, _c;\r\n        const fn = this._keyDownMoveCallback;\r\n        if (!fn) {\r\n            return;\r\n        }\r\n        if (this._isComposition) {\r\n            return;\r\n        }\r\n        if (keyCode === KEY_LEFT ||\r\n            keyCode === KEY_UP ||\r\n            keyCode === KEY_RIGHT ||\r\n            keyCode === KEY_DOWN ||\r\n            keyCode === KEY_HOME ||\r\n            keyCode === KEY_END) {\r\n            fn(e);\r\n        }\r\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\r\n            keyCode === KEY_TAB) {\r\n            fn(e);\r\n        }\r\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\r\n            keyCode === KEY_ENTER) {\r\n            fn(e);\r\n        }\r\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n            keyCode === KEY_ALPHA_A &&\r\n            (e.ctrlKey || e.metaKey)) {\r\n            fn(e);\r\n        }\r\n    }\r\n    onKeyDownMove(fn) {\r\n        this._keyDownMoveCallback = fn;\r\n    }\r\n    onKeyDown(fn) {\r\n        return this.listen(\"keydown\", fn);\r\n    }\r\n    onInput(fn) {\r\n        return this.listen(\"input\", fn);\r\n    }\r\n    onDelete(fn) {\r\n        return this.listen(\"delete\", fn);\r\n    }\r\n    onCopy(fn) {\r\n        return this.listen(\"copy\", fn);\r\n    }\r\n    onPaste(fn) {\r\n        return this.listen(\"paste\", fn);\r\n    }\r\n    onFocus(fn) {\r\n        return this.listen(\"focus\", fn);\r\n    }\r\n    onBlur(fn) {\r\n        return this.listen(\"blur\", fn);\r\n    }\r\n    focus() {\r\n        // this._input.value = '';\r\n        this._input.focus();\r\n    }\r\n    setFocusRect(rect) {\r\n        const input = this._input;\r\n        const top = this._scrollable.calcTop(rect.top);\r\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n    }\r\n    get editMode() {\r\n        return !this._input.readOnly;\r\n    }\r\n    set editMode(editMode) {\r\n        this._input.readOnly = !editMode;\r\n    }\r\n    resetInputStatus() {\r\n        var _a;\r\n        const el = this._input;\r\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const composition = el.classList.contains(\"composition\");\r\n        const attrs = el.attributes;\r\n        const removeNames = [];\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(attr.nodeName))) {\r\n                removeNames.push(attr.name);\r\n            }\r\n        }\r\n        removeNames.forEach((removeName) => {\r\n            el.removeAttribute(removeName);\r\n        });\r\n        for (const name in this._inputStatus) {\r\n            el.setAttribute(name, this._inputStatus[name]);\r\n        }\r\n        if (composition) {\r\n            el.classList.add(\"composition\");\r\n            el.style.font = this._grid.font || \"16px sans-serif\";\r\n        }\r\n        else {\r\n            el.classList.remove(\"composition\");\r\n        }\r\n        el.classList.remove(\"grid-focus-control--stored-status\");\r\n    }\r\n    storeInputStatus() {\r\n        const el = this._input;\r\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const inputStatus = (this._inputStatus = {});\r\n        const attrs = el.attributes;\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            inputStatus[attr.name] = attr.value;\r\n        }\r\n        el.classList.add(\"grid-focus-control--stored-status\");\r\n    }\r\n    setDefaultInputStatus() {\r\n        // \r\n        // this._input.style.font = this._grid.font || '16px sans-serif';\r\n    }\r\n    get input() {\r\n        return this._input;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * Selected area management\r\n */\r\nclass Selection extends EventTarget_1.EventTarget {\r\n    constructor(grid) {\r\n        super();\r\n        this._grid = grid;\r\n        this._sel = { col: 0, row: 0 };\r\n        this._focus = { col: 0, row: 0 };\r\n        this._start = { col: 0, row: 0 };\r\n        this._end = { col: 0, row: 0 };\r\n    }\r\n    get range() {\r\n        const start = this._start;\r\n        const end = this._end;\r\n        const startCol = Math.min(start.col, end.col);\r\n        const startRow = Math.min(start.row, end.row);\r\n        const endCol = Math.max(start.col, end.col);\r\n        const endRow = Math.max(start.row, end.row);\r\n        return {\r\n            start: {\r\n                col: startCol,\r\n                row: startRow,\r\n            },\r\n            end: {\r\n                col: endCol,\r\n                row: endRow,\r\n            },\r\n        };\r\n    }\r\n    set range(range) {\r\n        this._callBeforeHooks();\r\n        const startCol = Math.min(range.start.col, range.end.col);\r\n        const startRow = Math.min(range.start.row, range.end.row);\r\n        const endCol = Math.max(range.start.col, range.end.col);\r\n        const endRow = Math.max(range.start.row, range.end.row);\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._focus = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._start = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._end = {\r\n                col: endCol,\r\n                row: endRow,\r\n            };\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    get focus() {\r\n        const { col, row } = this._focus;\r\n        return { col, row };\r\n    }\r\n    get select() {\r\n        const { col, row } = this._sel;\r\n        return { col, row };\r\n    }\r\n    set select(cell) {\r\n        this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            const { col = 0, row = 0 } = cell;\r\n            this._setSelectCell(col, row);\r\n            this._setFocusCell(col, row, true, true);\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    _setSelectCell(col, row) {\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = { col, row };\r\n            this._start = { col, row };\r\n        });\r\n    }\r\n    _setFocusCell(col, row, keepSelect, ignoreBeforeHook) {\r\n        if (!ignoreBeforeHook)\r\n            this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            if (!keepSelect) {\r\n                this._setSelectCell(col, row);\r\n            }\r\n            this._focus = { col, row };\r\n            this._end = { col, row };\r\n        });\r\n    }\r\n    _wrapFireSelectedEvent(callback) {\r\n        if (this._isWrapped) {\r\n            callback();\r\n        }\r\n        else {\r\n            this._isWrapped = true;\r\n            try {\r\n                const before = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: false,\r\n                    after: null,\r\n                };\r\n                callback();\r\n                const after = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: true,\r\n                    before: {\r\n                        col: before.col,\r\n                        row: before.row,\r\n                    },\r\n                };\r\n                before.after = {\r\n                    col: after.col,\r\n                    row: after.row,\r\n                };\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\r\n            }\r\n            finally {\r\n                this._isWrapped = false;\r\n            }\r\n        }\r\n    }\r\n    _updateGridRange() {\r\n        const { rowCount, colCount } = this._grid;\r\n        const points = [this._sel, this._focus, this._start, this._end];\r\n        let needChange = false;\r\n        for (let i = 0; i < points.length; i++) {\r\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\r\n                needChange = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!needChange) {\r\n            return false;\r\n        }\r\n        this._wrapFireSelectedEvent(() => {\r\n            points.forEach((p) => {\r\n                p.col = Math.min(colCount - 1, p.col);\r\n                p.row = Math.min(rowCount - 1, p.row);\r\n            });\r\n        });\r\n        return true;\r\n    }\r\n    _callBeforeHooks() {\r\n        this.fireListeners(\"before_hook\");\r\n    }\r\n}\r\n/**\r\n * This class manages the drawing process for each layer\r\n */\r\n/** @private */\r\nclass DrawLayers {\r\n    constructor() {\r\n        this._layers = {};\r\n    }\r\n    addDraw(level, fn) {\r\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\r\n        l.addDraw(fn);\r\n    }\r\n    draw(ctx) {\r\n        const list = [];\r\n        for (const k in this._layers) {\r\n            list.push(this._layers[k]);\r\n        }\r\n        list.sort((a, b) => a.level - b.level);\r\n        list.forEach((l) => l.draw(ctx));\r\n    }\r\n}\r\n/** @private */\r\nclass DrawLayer {\r\n    constructor(level) {\r\n        this._level = level;\r\n        this._list = [];\r\n    }\r\n    get level() {\r\n        return this._level;\r\n    }\r\n    addDraw(fn) {\r\n        this._list.push(fn);\r\n    }\r\n    draw(ctx) {\r\n        this._list.forEach((fn) => {\r\n            ctx.save();\r\n            try {\r\n                fn(ctx);\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Context of cell drawing\r\n * @private\r\n */\r\nclass DrawCellContext {\r\n    //  private _grid: any;\r\n    //  private _onTerminate: any;\r\n    /**\r\n     * constructor\r\n     * @param {number} col index of column\r\n     * @param {number} row index of row\r\n     * @param {CanvasRenderingContext2D} ctx context\r\n     * @param {Rect} rect rect of cell area\r\n     * @param {Rect} drawRect rect of drawing area\r\n     * @param {boolean} drawing `true` if drawing is in progress\r\n     * @param {object} selection the selection\r\n     * @param {Array} drawLayers array of draw layers\r\n     * @private\r\n     */\r\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\r\n        this._rectFilter = null;\r\n        this._col = col;\r\n        this._row = row;\r\n        this._mode = 0;\r\n        this._ctx = ctx;\r\n        this._rect = rect;\r\n        this._drawRect = drawRect;\r\n        this._drawing = drawing;\r\n        this._selection = selection;\r\n        this._drawLayers = drawLayers;\r\n        this._childContexts = [];\r\n    }\r\n    get drawing() {\r\n        if (this._mode === 0) {\r\n            return this._drawing;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    get row() {\r\n        return this._row;\r\n    }\r\n    get col() {\r\n        return this._col;\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n        this._childContexts.forEach((ctx) => {\r\n            ctx.cancel();\r\n        });\r\n    }\r\n    /**\r\n     * select status.\r\n     * @return {object} select status\r\n     */\r\n    getSelection() {\r\n        return {\r\n            select: this._selection.select,\r\n            range: this._selection.range,\r\n        };\r\n    }\r\n    /**\r\n     * Canvas context.\r\n     * @return {CanvasRenderingContext2D} Canvas context.\r\n     */\r\n    getContext() {\r\n        if (this._mode === 0) {\r\n            return this._ctx;\r\n        }\r\n        else {\r\n            return _getInitContext.call(this._grid);\r\n        }\r\n    }\r\n    /**\r\n     * Rectangle of cell.\r\n     * @return {Rect} rect Rectangle of cell.\r\n     */\r\n    getRect() {\r\n        const rectFilter = this._rectFilter;\r\n        return rectFilter\r\n            ? rectFilter(this._getRectInternal())\r\n            : this._getRectInternal();\r\n    }\r\n    setRectFilter(rectFilter) {\r\n        this._rectFilter = rectFilter;\r\n    }\r\n    /**\r\n     * Rectangle of Drawing range.\r\n     * @return {Rect} Rectangle of Drawing range.\r\n     */\r\n    getDrawRect() {\r\n        if (this._cancel) {\r\n            return null;\r\n        }\r\n        if (this._mode === 0) {\r\n            return this._drawRect;\r\n        }\r\n        else {\r\n            if (this._isOutOfRange()) {\r\n                return null;\r\n            }\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            return this._toRelativeDrawRect(absoluteRect);\r\n        }\r\n    }\r\n    _isOutOfRange() {\r\n        const { colCount, rowCount } = this._grid;\r\n        return colCount <= this._col || rowCount <= this._row;\r\n    }\r\n    /**\r\n     * get Context of current state\r\n     * @return {DrawCellContext} current DrawCellContext.\r\n     */\r\n    toCurrentContext() {\r\n        if (this._mode === 0) {\r\n            return this;\r\n        }\r\n        else {\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            const rect = _toRelativeRect(this._grid, absoluteRect);\r\n            const drawRect = this._isOutOfRange()\r\n                ? null\r\n                : this._toRelativeDrawRect(absoluteRect);\r\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\r\n            // toCurrentContext  toCurrentContext\r\n            context.toCurrentContext = this.toCurrentContext.bind(this);\r\n            this._childContexts.push(context);\r\n            if (this._cancel) {\r\n                context.cancel();\r\n            }\r\n            context._rectFilter = this._rectFilter;\r\n            return context;\r\n        }\r\n    }\r\n    addLayerDraw(level, fn) {\r\n        this._drawLayers.addDraw(level, fn);\r\n    }\r\n    _toRelativeDrawRect(absoluteRect) {\r\n        const visibleRect = _getVisibleRect(this._grid);\r\n        let rect = absoluteRect.copy();\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        const grid = this._grid;\r\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\r\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\r\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\r\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\r\n        }\r\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\r\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\r\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\r\n        }\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        rect.offsetLeft(-visibleRect.left);\r\n        rect.offsetTop(-visibleRect.top);\r\n        return rect;\r\n    }\r\n    _delayMode(grid, onTerminate) {\r\n        this._mode = 1;\r\n        this._ctx = null;\r\n        this._rect = null;\r\n        this._drawRect = null;\r\n        this._grid = grid;\r\n        this._onTerminate = onTerminate;\r\n    }\r\n    /**\r\n     * terminate\r\n     * @return {void}\r\n     */\r\n    terminate() {\r\n        var _a;\r\n        if (this._mode !== 0) {\r\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\r\n        }\r\n    }\r\n    _getRectInternal() {\r\n        if (this._mode === 0) {\r\n            return this._rect;\r\n        }\r\n        else {\r\n            if (this._rect) {\r\n                return this._rect;\r\n            }\r\n            return this._grid.getCellRelativeRect(this._col, this._row);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nconst protectedKey = _;\r\n/**\r\n * DrawGrid\r\n * @classdesc cheetahGrid.core.DrawGrid\r\n * @memberof cheetahGrid.core\r\n */\r\nclass DrawGrid extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\r\n    }\r\n    constructor(options = {}) {\r\n        super();\r\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, trimOnPaste, } = options;\r\n        const protectedSpace = (this[_] = {});\r\n        style.initDocument();\r\n        protectedSpace.element = createRootElement();\r\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\r\n        protectedSpace.handler = new EventHandler_1.EventHandler();\r\n        protectedSpace.selection = new Selection(this);\r\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable, protectedSpace.selection);\r\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\r\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\r\n            alpha: false,\r\n        });\r\n        protectedSpace.rowCount = rowCount;\r\n        protectedSpace.colCount = colCount;\r\n        protectedSpace.frozenColCount = frozenColCount;\r\n        protectedSpace.frozenRowCount = frozenRowCount;\r\n        protectedSpace.defaultRowHeight = defaultRowHeight;\r\n        protectedSpace.defaultColWidth = defaultColWidth;\r\n        protectedSpace.font = font;\r\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\r\n        protectedSpace.keyboardOptions = keyboardOptions;\r\n        protectedSpace.disableColumnResize = disableColumnResize;\r\n        protectedSpace.trimOnPaste = trimOnPaste !== null && trimOnPaste !== void 0 ? trimOnPaste : false;\r\n        /////\r\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsLimit = {};\r\n        protectedSpace.calcWidthContext = {\r\n            _: protectedSpace,\r\n            get full() {\r\n                return this._.canvas.width;\r\n            },\r\n            get em() {\r\n                return (0, canvases_1.getFontSize)(this._.context, this._.font).width;\r\n            },\r\n        };\r\n        protectedSpace.columnResizer = new ColumnResizer(this);\r\n        protectedSpace.cellSelector = new CellSelector(this);\r\n        protectedSpace.drawCells = {};\r\n        protectedSpace.cellTextOverflows = {};\r\n        protectedSpace.focusedGrid = false;\r\n        protectedSpace.element.appendChild(protectedSpace.canvas);\r\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\r\n        protectedSpace.scroll = {\r\n            left: 0,\r\n            top: 0,\r\n        };\r\n        this.updateScroll();\r\n        if (parentElement) {\r\n            parentElement.appendChild(protectedSpace.element);\r\n            this.updateSize();\r\n        }\r\n        else {\r\n            this.updateSize();\r\n        }\r\n        _bindEvents.call(this);\r\n        this.bindEventsInternal();\r\n    }\r\n    /**\r\n     * Get root element.\r\n     * @returns {HTMLElement} root element\r\n     */\r\n    getElement() {\r\n        return this[_].element;\r\n    }\r\n    /**\r\n     * Get canvas element.\r\n     */\r\n    get canvas() {\r\n        return this[_].canvas;\r\n    }\r\n    /**\r\n     * Focus the grid.\r\n     * @return {void}\r\n     */\r\n    focus() {\r\n        const { col, row } = this[_].selection.select;\r\n        this.focusCell(col, row);\r\n    }\r\n    hasFocusGrid() {\r\n        return this[_].focusedGrid;\r\n    }\r\n    /**\r\n     * Get the selection instance.\r\n     */\r\n    get selection() {\r\n        return this[_].selection;\r\n    }\r\n    /**\r\n     * Get the number of rows.\r\n     */\r\n    get rowCount() {\r\n        return this[_].rowCount;\r\n    }\r\n    /**\r\n     * Set the number of rows.\r\n     */\r\n    set rowCount(rowCount) {\r\n        this[_].rowCount = rowCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of columns.\r\n     */\r\n    get colCount() {\r\n        return this[_].colCount;\r\n    }\r\n    /**\r\n     * Set the number of columns.\r\n     */\r\n    set colCount(colCount) {\r\n        this[_].colCount = colCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of frozen columns.\r\n     */\r\n    get frozenColCount() {\r\n        return this[_].frozenColCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen columns.\r\n     */\r\n    set frozenColCount(frozenColCount) {\r\n        this[_].frozenColCount = frozenColCount;\r\n    }\r\n    /**\r\n     * Get the number of frozen rows.\r\n     */\r\n    get frozenRowCount() {\r\n        return this[_].frozenRowCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen rows.\r\n     */\r\n    set frozenRowCount(frozenRowCount) {\r\n        this[_].frozenRowCount = frozenRowCount;\r\n    }\r\n    /**\r\n     * Get the default row height.\r\n     *\r\n     */\r\n    get defaultRowHeight() {\r\n        return this[_].defaultRowHeight;\r\n    }\r\n    /**\r\n     * Set the default row height.\r\n     */\r\n    set defaultRowHeight(defaultRowHeight) {\r\n        this[_].defaultRowHeight = defaultRowHeight;\r\n    }\r\n    /**\r\n     * Get the default column width.\r\n     */\r\n    get defaultColWidth() {\r\n        return this[_].defaultColWidth;\r\n    }\r\n    /**\r\n     * Set the default column width.\r\n     */\r\n    set defaultColWidth(defaultColWidth) {\r\n        this[_].defaultColWidth = defaultColWidth;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     */\r\n    get font() {\r\n        return this[_].font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     */\r\n    set font(font) {\r\n        this[_].font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return this[_].underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * If set to true, trim the pasted text on pasting.\r\n     */\r\n    get trimOnPaste() {\r\n        return this[_].trimOnPaste;\r\n    }\r\n    set trimOnPaste(trimOnPaste) {\r\n        this[_].trimOnPaste = trimOnPaste;\r\n    }\r\n    get keyboardOptions() {\r\n        var _a;\r\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    set keyboardOptions(keyboardOptions) {\r\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    configure(name, value) {\r\n        const cfg = this[_].config || (this[_].config = {});\r\n        if (value != null) {\r\n            cfg[name] = value;\r\n        }\r\n        return cfg[name];\r\n    }\r\n    /**\r\n     * Apply the changed size.\r\n     * @return {void}\r\n     */\r\n    updateSize() {\r\n        //\r\n        const { canvas } = this[_];\r\n        canvas.style.width = \"\";\r\n        canvas.style.height = \"\";\r\n        const width = Math.floor(canvas.offsetWidth ||\r\n            canvas.parentElement.offsetWidth -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        const height = Math.floor(canvas.offsetHeight ||\r\n            canvas.parentElement.offsetHeight -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        //style\r\n        canvas.style.width = `${width}px`;\r\n        canvas.style.height = `${height}px`;\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n    }\r\n    /**\r\n     * Apply the changed scroll size.\r\n     * @return {boolean} `true` if there was a change in the scroll size\r\n     */\r\n    updateScroll() {\r\n        const { scrollable } = this[_];\r\n        const newHeight = _getScrollHeight.call(this);\r\n        const newWidth = _getScrollWidth(this);\r\n        if (newHeight === scrollable.scrollHeight &&\r\n            newWidth === scrollable.scrollWidth) {\r\n            return false;\r\n        }\r\n        scrollable.setScrollSize(newWidth, newHeight);\r\n        this[_].scroll = {\r\n            left: scrollable.scrollLeft,\r\n            top: scrollable.scrollTop,\r\n        };\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n        return true;\r\n    }\r\n    /**\r\n     * Get the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @return {number} The row height\r\n     */\r\n    getRowHeight(row) {\r\n        return _getRowHeight.call(this, row);\r\n    }\r\n    /**\r\n     * Set the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @param  {number} height The row height\r\n     * @return {void}\r\n     */\r\n    setRowHeight(row, height) {\r\n        _setRowHeight(this, row, height);\r\n    }\r\n    /**\r\n     * Get the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column width\r\n     */\r\n    getColWidth(col) {\r\n        return _getColWidth(this, col);\r\n    }\r\n    /**\r\n     * Set the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} width The column width\r\n     * @return {void}\r\n     */\r\n    setColWidth(col, width) {\r\n        _setColWidth(this, col, width);\r\n    }\r\n    /**\r\n     * Get the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column max width\r\n     */\r\n    getMaxColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.max) || undefined;\r\n    }\r\n    /**\r\n     * Set the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} maxwidth The column max width\r\n     * @return {void}\r\n     */\r\n    setMaxColWidth(col, maxwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (maxwidth != null) {\r\n            obj.max = maxwidth;\r\n        }\r\n        else {\r\n            delete obj.max;\r\n        }\r\n    }\r\n    /**\r\n     * Get the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column min width\r\n     */\r\n    getMinColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.min) || undefined;\r\n    }\r\n    /**\r\n     * Set the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} minwidth The column min width\r\n     * @return {void}\r\n     */\r\n    setMinColWidth(col, minwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (minwidth != null) {\r\n            obj.min = minwidth;\r\n        }\r\n        else {\r\n            delete obj.min;\r\n        }\r\n    }\r\n    /**\r\n     * Get the rect of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRect(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\r\n        const width = _getColWidth(this, col);\r\n        if (isFrozenCell && isFrozenCell.col) {\r\n            absoluteLeft += this[_].scroll.left;\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\r\n        const height = _getRowHeight.call(this, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            absoluteTop += this[_].scroll.top;\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    /**\r\n     * Get the relative rectangle of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRelativeRect(col, row) {\r\n        return _toRelativeRect(this, this.getCellRect(col, row));\r\n    }\r\n    /**\r\n     * Get the rectangle of the cells area.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @returns {Rect} the rect of the cells.\r\n     */\r\n    getCellsRect(startCol, startRow, endCol, endRow) {\r\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\r\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let width = _getColsWidth(this, startCol, endCol);\r\n        if (isFrozenStartCell && isFrozenStartCell.col) {\r\n            const scrollLeft = this[_].scroll.left;\r\n            absoluteLeft += scrollLeft;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\r\n                width -= scrollLeft;\r\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\r\n            }\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let height = _getRowsHeight.call(this, startRow, endRow);\r\n        if (isFrozenStartCell && isFrozenStartCell.row) {\r\n            const scrollTop = this[_].scroll.top;\r\n            absoluteTop += scrollTop;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\r\n                height -= scrollTop;\r\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\r\n            }\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    getCellRangeRect(range) {\r\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    isFrozenCell(col, row) {\r\n        const { frozenRowCount, frozenColCount } = this[_];\r\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\r\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\r\n        if (isFrozenRow || isFrozenCol) {\r\n            return {\r\n                row: isFrozenRow,\r\n                col: isFrozenCol,\r\n            };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    getRowAt(absoluteY) {\r\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\r\n        if (frozen) {\r\n            return frozen.row;\r\n        }\r\n        const row = _getTargetRowAt.call(this, absoluteY);\r\n        return row ? row.row : -1;\r\n    }\r\n    getColAt(absoluteX) {\r\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\r\n        if (frozen) {\r\n            return frozen.col;\r\n        }\r\n        const col = _getTargetColAt(this, absoluteX);\r\n        return col ? col.col : -1;\r\n    }\r\n    getCellAt(absoluteX, absoluteY) {\r\n        return {\r\n            row: this.getRowAt(absoluteY),\r\n            col: this.getColAt(absoluteX),\r\n        };\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    makeVisibleCell(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\r\n            return;\r\n        }\r\n        const rect = this.getCellRect(col, row);\r\n        const visibleRect = _getScrollableVisibleRect(this);\r\n        if (visibleRect.contains(rect)) {\r\n            return;\r\n        }\r\n        const { scrollable } = this[_];\r\n        if (!isFrozenCell || !isFrozenCell.col) {\r\n            if (rect.left < visibleRect.left) {\r\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\r\n            }\r\n            else if (visibleRect.right < rect.right) {\r\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\r\n            }\r\n        }\r\n        if (!isFrozenCell || !isFrozenCell.row) {\r\n            if (rect.top < visibleRect.top) {\r\n                scrollable.scrollTop -= visibleRect.top - rect.top;\r\n            }\r\n            else if (visibleRect.bottom < rect.bottom) {\r\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Moves the focus cursor to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    setFocusCursor(col, row) {\r\n        const { focusControl } = this[_];\r\n        const oldEditMode = focusControl.editMode;\r\n        focusControl.setFocusRect(this.getCellRect(col, row));\r\n        _updatedSelection.call(this);\r\n        if (oldEditMode && !focusControl.editMode) {\r\n            focusControl.resetInputStatus();\r\n        }\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    focusCell(col, row) {\r\n        this.setFocusCursor(col, row);\r\n        // Failure occurs in IE if focus is not last\r\n        this[_].focusControl.focus();\r\n    }\r\n    /**\r\n     * Redraws the range of the given cell.\r\n     * @param  {number} col The column index of cell.\r\n     * @param  {number} row The row index of cell.\r\n     * @return {void}\r\n     */\r\n    invalidateCell(col, row) {\r\n        this.invalidateGridRect(col, row);\r\n    }\r\n    /**\r\n     * Redraws the range of the given cells.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @return {void}\r\n     */\r\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\r\n        const offset = this.getOffsetInvalidateCells();\r\n        if (offset > 0) {\r\n            startCol -= offset;\r\n            startRow -= offset;\r\n            endCol += offset;\r\n            endRow += offset;\r\n        }\r\n        const visibleRect = _getVisibleRect(this);\r\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\r\n        const invalidateTarget = visibleRect.intersection(cellsRect);\r\n        if (invalidateTarget) {\r\n            const { frozenColCount, frozenRowCount } = this[_];\r\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\r\n                const frozenRect = _getFrozenColsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\r\n                }\r\n            }\r\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\r\n                const frozenRect = _getFrozenRowsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\r\n                }\r\n            }\r\n            _invalidateRect(this, invalidateTarget);\r\n        }\r\n    }\r\n    invalidateCellRange(range) {\r\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    /**\r\n     * Redraws the whole grid.\r\n     * @return {void}\r\n     */\r\n    invalidate() {\r\n        const visibleRect = _getVisibleRect(this);\r\n        _invalidateRect(this, visibleRect);\r\n    }\r\n    /**\r\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleRowCount() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let count = 0;\r\n        const { rowCount } = this;\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = absoluteTop + height;\r\n            if (visibleRect.bottom < bottom) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteTop = bottom;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleColCount() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let count = 0;\r\n        const { colCount } = this;\r\n        for (let col = startCol; col < colCount; col++) {\r\n            const width = _getColWidth(this, col);\r\n            const right = absoluteLeft + width;\r\n            if (visibleRect.right < right) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteLeft = right;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the index of the first row in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get topRow() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n    }\r\n    /**\r\n     * Get the index of the first column in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get leftCol() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled vertically\r\n     */\r\n    get scrollTop() {\r\n        return this[_].scrollable.scrollTop;\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this[_].scrollable.scrollTop = scrollTop;\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\r\n     */\r\n    get scrollLeft() {\r\n        return this[_].scrollable.scrollLeft;\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this[_].scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    /**\r\n     * Get the value of cell with the copy action.\r\n     * <p>\r\n     * Please implement\r\n     * </p>\r\n     *\r\n     * @protected\r\n     * @param col Column index of cell.\r\n     * @param row Row index of cell.\r\n     * @param range Copy range.\r\n     * @return {string} the value of cell\r\n     */\r\n    getCopyCellValue(_col, _row, _range) {\r\n        //Please implement get cell value!!\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Get the overflowed text in the cell rectangle, from the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {string | null} The text overflowing the cell rect.\r\n     */\r\n    getCellOverflowText(col, row) {\r\n        const key = `${col}:${row}`;\r\n        return this[_].cellTextOverflows[key] || null;\r\n    }\r\n    /**\r\n     * Set the overflowed text in the cell rectangle, to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\r\n     * @return {void}\r\n     */\r\n    setCellOverflowText(col, row, overflowText) {\r\n        const key = `${col}:${row}`;\r\n        if (overflowText) {\r\n            this[_].cellTextOverflows[key] =\r\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\r\n        }\r\n        else {\r\n            delete this[_].cellTextOverflows[key];\r\n        }\r\n    }\r\n    addDisposable(disposable) {\r\n        if (!disposable ||\r\n            !disposable.dispose ||\r\n            typeof disposable.dispose !== \"function\") {\r\n            throw new Error(\"not disposable!\");\r\n        }\r\n        const disposables = (this[_].disposables = this[_].disposables || []);\r\n        disposables.push(disposable);\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        const protectedSpace = this[_];\r\n        protectedSpace.handler.dispose();\r\n        protectedSpace.scrollable.dispose();\r\n        protectedSpace.focusControl.dispose();\r\n        protectedSpace.columnResizer.dispose();\r\n        protectedSpace.cellSelector.dispose();\r\n        if (protectedSpace.disposables) {\r\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\r\n            protectedSpace.disposables = null;\r\n        }\r\n        const { parentElement } = protectedSpace.element;\r\n        if (parentElement) {\r\n            parentElement.removeChild(protectedSpace.element);\r\n        }\r\n    }\r\n    getAttachCellsArea(range) {\r\n        return {\r\n            element: this.getElement(),\r\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\r\n        };\r\n    }\r\n    onKeyDownMove(evt) {\r\n        _onKeyDownMove.call(this, evt);\r\n    }\r\n    bindEventsInternal() {\r\n        //nop\r\n    }\r\n    getTargetRowAtInternal(_absoluteY) {\r\n        // \r\n    }\r\n    getRowsHeightInternal(_startRow, _endRow) {\r\n        // \r\n    }\r\n    getRowHeightInternal(_row) {\r\n        // \r\n    }\r\n    getScrollHeightInternal(_row) {\r\n        // \r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col }) {\r\n        return col - 1;\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col }) {\r\n        return col + 1;\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ row }) {\r\n        return row - 1;\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ row }) {\r\n        return row + 1;\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 0;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        return range;\r\n    }\r\n    _getInitContext() {\r\n        const ctx = this[_].context;\r\n        //\r\n        ctx.fillStyle = \"white\";\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.textAlign = \"left\";\r\n        ctx.textBaseline = \"top\";\r\n        ctx.lineWidth = 1;\r\n        ctx.font = this.font || \"16px sans-serif\";\r\n        return ctx;\r\n    }\r\n    fireListeners(type, ...event) {\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.DrawGrid = DrawGrid;\r\n","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventTarget = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\n/** @private */\r\nconst _ = (0, symbolManager_1.get)();\r\n/** @private */\r\nlet nextId = 1;\r\n/**\r\n * event target.\r\n */\r\nclass EventTarget {\r\n    constructor() {\r\n        this[_a] = {\r\n            listeners: {},\r\n            listenerData: {},\r\n        };\r\n    }\r\n    /**\r\n     * Adds an event listener.\r\n     * @param  {string} type The event type id.\r\n     * @param  {function} listener Callback method.\r\n     * @return {number} unique id for the listener.\r\n     */\r\n    listen(type, listener) {\r\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\r\n        list.push(listener);\r\n        const id = nextId++;\r\n        this[_].listenerData[id] = {\r\n            type,\r\n            listener,\r\n            remove: () => {\r\n                delete this[_].listenerData[id];\r\n                const index = list.indexOf(listener);\r\n                list.splice(index, 1);\r\n                if (!this[_].listeners[type].length) {\r\n                    delete this[_].listeners[type];\r\n                }\r\n            },\r\n        };\r\n        return id;\r\n    }\r\n    /**\r\n     * Removes an event listener which was added with listen() by the id returned by listen().\r\n     * @param  {number} id the id returned by listen().\r\n     * @return {void}\r\n     */\r\n    unlisten(id) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        this[_].listenerData[id].remove();\r\n    }\r\n    addEventListener(type, listener) {\r\n        this.listen(type, listener);\r\n    }\r\n    removeEventListener(type, listener) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        (0, utils_1.each)(this[_].listenerData, (obj, id) => {\r\n            if (obj.type === type && obj.listener === listener) {\r\n                this.unlisten(id);\r\n            }\r\n        });\r\n    }\r\n    hasListeners(type) {\r\n        if (!this[_]) {\r\n            return false;\r\n        }\r\n        return !!this[_].listeners[type];\r\n    }\r\n    /**\r\n     * Fires all registered listeners\r\n     * @param  {string}    type The type of the listeners to fire.\r\n     * @param  {...*} args fire arguments\r\n     * @return {*} the result of the last listener\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fireListeners(type, ...args) {\r\n        if (!this[_]) {\r\n            return [];\r\n        }\r\n        const list = this[_].listeners[type];\r\n        if (!list) {\r\n            return [];\r\n        }\r\n        return list\r\n            .map((listener) => listener.call(this, ...args))\r\n            .filter((r) => r != null);\r\n    }\r\n    dispose() {\r\n        // @ts-expect-error -- ignore\r\n        delete this[_];\r\n    }\r\n}\r\nexports.EventTarget = EventTarget;\r\n_a = _;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\r\nconst DataSource_1 = require(\"./data/DataSource\");\r\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\r\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\r\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\r\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\r\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CachedDataSource = void 0;\r\nconst DataSource_1 = require(\"./DataSource\");\r\n/** @private */\r\nfunction _setFieldCache(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfCache, index, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    const recCache = fCache[index] || (fCache[index] = new Map());\r\n    recCache.set(field, value);\r\n}\r\n/**\r\n * grid data source for caching Promise data\r\n *\r\n * @classdesc cheetahGrid.data.CachedDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass CachedDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new CachedDataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(opt) {\r\n        super(opt);\r\n        this._rCache = {};\r\n        this._fCache = {};\r\n    }\r\n    getOriginal(index) {\r\n        if (this._rCache && this._rCache[index]) {\r\n            return this._rCache[index];\r\n        }\r\n        return super.getOriginal(index);\r\n    }\r\n    getOriginalField(index, field) {\r\n        const rowCache = this._fCache && this._fCache[index];\r\n        if (rowCache) {\r\n            const cache = rowCache.get(field);\r\n            if (cache) {\r\n                return cache;\r\n            }\r\n        }\r\n        return super.getOriginalField(index, field);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        const fCache = this._fCache;\r\n        if (fCache && fCache[index]) {\r\n            delete fCache[index]; // clear row cache\r\n        }\r\n        return super.setOriginalField(index, field, value);\r\n    }\r\n    clearCache() {\r\n        if (this._rCache) {\r\n            this._rCache = {};\r\n        }\r\n        if (this._fCache) {\r\n            this._fCache = {};\r\n        }\r\n    }\r\n    fieldPromiseCallBackInternal(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        _setFieldCache(this._fCache, index, field, value);\r\n    }\r\n    recordPromiseCallBackInternal(index, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    record) {\r\n        this._rCache[index] = record;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n}\r\nexports.CachedDataSource = CachedDataSource;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataSource = void 0;\r\nconst sort = __importStar(require(\"../internal/sort\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst EventTarget_1 = require(\"../core/EventTarget\");\r\n/** @private */\r\nfunction isFieldAssessor(field) {\r\n    if (utils_1.obj.isObject(field)) {\r\n        if (field.get && field.set) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/** @private */\r\nconst EVENT_TYPE = {\r\n    UPDATE_LENGTH: \"update_length\",\r\n    UPDATED_LENGTH: \"updated_length\",\r\n    UPDATED_ORDER: \"updated_order\",\r\n};\r\n/** @private */\r\nfunction ascOrderFn(v1, v2) {\r\n    if (v1 === v2) {\r\n        return 0;\r\n    }\r\n    if (v1 == null) {\r\n        return v2 == null\r\n            ? // If both are nullish, consider a match.\r\n                0\r\n            : // Nulls first\r\n                -1;\r\n    }\r\n    if (v2 == null) {\r\n        // Nulls first\r\n        return 1;\r\n    }\r\n    return v1 > v2 ? 1 : -1;\r\n}\r\nfunction descOrderFn(v1, v2) {\r\n    return (ascOrderFn(v1, v2) * -1);\r\n}\r\n/** @private */\r\nfunction getValue(value, setPromiseBack) {\r\n    const maybePromiseValue = (0, utils_1.getOrApply)(value);\r\n    if ((0, utils_1.isPromise)(maybePromiseValue)) {\r\n        const promiseValue = maybePromiseValue.then((r) => {\r\n            setPromiseBack(r);\r\n            return r;\r\n        });\r\n        //\r\n        setPromiseBack(promiseValue);\r\n        return promiseValue;\r\n    }\r\n    else {\r\n        return maybePromiseValue;\r\n    }\r\n}\r\n/** @private */\r\nfunction getField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nsetPromiseBack) {\r\n    if (record == null) {\r\n        return undefined;\r\n    }\r\n    if ((0, utils_1.isPromise)(record)) {\r\n        return record.then((r) => getField(r, field, setPromiseBack));\r\n    }\r\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\r\n    if (fieldGet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    if (typeof fieldGet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = fieldGet(record);\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n    const ss = String(fieldGet).split(\".\");\r\n    if (ss.length <= 1) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    const fieldResult = (0, utils_1.applyChainSafe)(record, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\r\n    return getValue(fieldResult, setPromiseBack);\r\n}\r\n/** @private */\r\nfunction setField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (record == null) {\r\n        return false;\r\n    }\r\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\r\n    if (fieldSet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    else if (typeof fieldSet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return fieldSet(record, value);\r\n    }\r\n    else if (typeof fieldSet === \"string\") {\r\n        const ss = `${fieldSet}`.split(\".\");\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let obj = record;\r\n        const { length } = ss;\r\n        for (let i = 0; i < length; i++) {\r\n            const f = ss[i];\r\n            if (i === length - 1) {\r\n                obj[f] = value;\r\n            }\r\n            else {\r\n                obj = obj[f] || (obj[f] = {});\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    return true;\r\n}\r\n/** @private */\r\nfunction _getIndex(sortedIndexMap, index) {\r\n    if (!sortedIndexMap) {\r\n        return index;\r\n    }\r\n    const mapIndex = sortedIndexMap[index];\r\n    return mapIndex != null ? mapIndex : index;\r\n}\r\n/**\r\n * grid data source\r\n *\r\n * @classdesc cheetahGrid.data.DataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass DataSource extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new DataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(obj) {\r\n        var _a;\r\n        super();\r\n        this._sortedIndexMap = null;\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\r\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\r\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    get(index) {\r\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\r\n    }\r\n    getField(index, field) {\r\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    hasField(index, field) {\r\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    setField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\r\n    }\r\n    sort(field, order) {\r\n        const sortedIndexMap = new Array(this._length);\r\n        const orderFn = order !== \"desc\" ? ascOrderFn : descOrderFn;\r\n        return sort\r\n            .sortPromise((index) => sortedIndexMap[index] != null\r\n            ? sortedIndexMap[index]\r\n            : (sortedIndexMap[index] = index), (index, rel) => {\r\n            sortedIndexMap[index] = rel;\r\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\r\n            .then(() => {\r\n            this._sortedIndexMap = sortedIndexMap;\r\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\r\n        });\r\n    }\r\n    get length() {\r\n        return this._length;\r\n    }\r\n    set length(length) {\r\n        if (this._length === length) {\r\n            return;\r\n        }\r\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\r\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n            return;\r\n        }\r\n        this._length = length;\r\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\r\n    }\r\n    get dataSource() {\r\n        return this;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n    getOriginal(index) {\r\n        return getValue(this._get(index), (val) => {\r\n            this.recordPromiseCallBackInternal(index, val);\r\n        });\r\n    }\r\n    getOriginalField(index, field) {\r\n        if (field == null) {\r\n            return undefined;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return getField(record, field, (val) => {\r\n            this.fieldPromiseCallBackInternal(index, field, val);\r\n        });\r\n    }\r\n    hasOriginalField(index, field) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        if (typeof field === \"function\") {\r\n            return true;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return Boolean(record && field in record);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return record.then((r) => setField(r, field, value));\r\n        }\r\n        return setField(record, field, value);\r\n    }\r\n    fieldPromiseCallBackInternal(_index, _field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    _value) {\r\n        //\r\n    }\r\n    recordPromiseCallBackInternal(_index, _record) {\r\n        //\r\n    }\r\n}\r\nexports.DataSource = DataSource;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nDataSource.EMPTY = new DataSource({\r\n    get() {\r\n        /*noop */\r\n    },\r\n    length: 0,\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst DataSource_1 = require(\"./DataSource\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\n/** @private */\r\nclass DataSourceIterator {\r\n    constructor(dataSource) {\r\n        this._dataSource = dataSource;\r\n        this._curIndex = -1;\r\n        this._data = [];\r\n    }\r\n    hasNext() {\r\n        const next = this._curIndex + 1;\r\n        return this._dataSource.length > next;\r\n    }\r\n    next() {\r\n        const next = this._curIndex + 1;\r\n        const data = this._getIndexData(next);\r\n        this._curIndex = next;\r\n        return data;\r\n    }\r\n    movePrev() {\r\n        this._curIndex--;\r\n    }\r\n    _getIndexData(index, nest) {\r\n        const dataSource = this._dataSource;\r\n        const data = this._data;\r\n        if (index < data.length) {\r\n            return data[index];\r\n        }\r\n        if (dataSource.length <= index) {\r\n            return undefined;\r\n        }\r\n        const record = this._dataSource.get(index);\r\n        data[index] = record;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            record.then((val) => {\r\n                data[index] = val;\r\n            });\r\n            if (!nest) {\r\n                for (let i = 1; i <= 100; i++) {\r\n                    this._getIndexData(index + i, true);\r\n                }\r\n            }\r\n        }\r\n        return record;\r\n    }\r\n}\r\n/** @private */\r\nclass FilterData {\r\n    constructor(dc, original, filter) {\r\n        this._cancel = false;\r\n        this._owner = dc;\r\n        this._dataSourceItr = new DataSourceIterator(original);\r\n        this._filter = filter;\r\n        this._filteredList = [];\r\n        this._queues = [];\r\n    }\r\n    get(index) {\r\n        if (this._cancel) {\r\n            return undefined;\r\n        }\r\n        const filteredList = this._filteredList;\r\n        if (index < filteredList.length) {\r\n            return filteredList[index];\r\n        }\r\n        const queues = this._queues;\r\n        const indexQueue = queues[index];\r\n        if (indexQueue) {\r\n            return indexQueue;\r\n        }\r\n        return queues[index] || this._findIndex(index);\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n    }\r\n    _findIndex(index) {\r\n        if (window.Promise) {\r\n            const timeout = Date.now() + 100;\r\n            let count = 0;\r\n            return this._findIndexWithTimeout(index, () => {\r\n                count++;\r\n                if (count >= 100) {\r\n                    count = 0;\r\n                    return timeout < Date.now();\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        return this._findIndexWithTimeout(index, () => false);\r\n    }\r\n    _findIndexWithTimeout(index, testTimeout) {\r\n        const filteredList = this._filteredList;\r\n        const filter = this._filter;\r\n        const dataSourceItr = this._dataSourceItr;\r\n        const queues = this._queues;\r\n        while (dataSourceItr.hasNext()) {\r\n            if (this._cancel) {\r\n                return undefined;\r\n            }\r\n            const record = dataSourceItr.next();\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                dataSourceItr.movePrev();\r\n                const queue = record.then((_value) => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n            if (filter(record)) {\r\n                filteredList.push(record);\r\n                if (index < filteredList.length) {\r\n                    return filteredList[index];\r\n                }\r\n            }\r\n            if (testTimeout()) {\r\n                const promise = new Promise((resolve) => {\r\n                    setTimeout(() => {\r\n                        resolve();\r\n                    }, 300);\r\n                });\r\n                const queue = promise.then(() => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n        }\r\n        const dc = this._owner;\r\n        dc.length = filteredList.length;\r\n        return undefined;\r\n    }\r\n}\r\n/**\r\n * grid data source for filter\r\n *\r\n * @classdesc cheetahGrid.data.FilterDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass FilterDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    constructor(dataSource, filter) {\r\n        super(dataSource);\r\n        this._filterData = null;\r\n        this._dataSource = dataSource;\r\n        this.filter = filter;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            // reset\r\n            // eslint-disable-next-line no-self-assign\r\n            this.filter = this.filter;\r\n        });\r\n        (0, utils_1.each)(DataSource_1.DataSource.EVENT_TYPE, (type) => {\r\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\r\n        });\r\n    }\r\n    get filter() {\r\n        var _a;\r\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\r\n    }\r\n    set filter(filter) {\r\n        if (this._filterData) {\r\n            this._filterData.cancel();\r\n        }\r\n        this._filterData = filter\r\n            ? new FilterData(this, this._dataSource, filter)\r\n            : null;\r\n        this.length = this._dataSource.length;\r\n    }\r\n    getOriginal(index) {\r\n        if (!this._filterData) {\r\n            return super.getOriginal(index);\r\n        }\r\n        return this._filterData.get(index);\r\n    }\r\n    sort(field, order) {\r\n        return this._dataSource.sort(field, order);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._dataSource.source;\r\n    }\r\n    get dataSource() {\r\n        return this._dataSource;\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n        super.dispose();\r\n    }\r\n}\r\nexports.FilterDataSource = FilterDataSource;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Inline = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nfunction getWidth(ctx, content) {\r\n    return ctx.measureText(content).width;\r\n}\r\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\r\n    const chars = [];\r\n    let ret = itr.next();\r\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\r\n        chars.push(ret);\r\n    }\r\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\r\n    if (beforeWidth > width) {\r\n        while (chars.length) {\r\n            const c = chars.pop();\r\n            beforeWidth -= getWidth(ctx, c || \"\");\r\n            if (beforeWidth <= width) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else if (beforeWidth < width) {\r\n        while (ret !== null) {\r\n            const charWidth = getWidth(ctx, ret);\r\n            if (beforeWidth + charWidth > width) {\r\n                break;\r\n            }\r\n            chars.push(ret);\r\n            beforeWidth += charWidth;\r\n            ret = itr.next();\r\n        }\r\n    }\r\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\r\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\r\n    return {\r\n        before: beforeContent ? new Inline(beforeContent) : null,\r\n        after: afterContent ? new Inline(afterContent) : null,\r\n    };\r\n}\r\nclass Inline {\r\n    constructor(content) {\r\n        this._content = content != null ? content : \"\";\r\n    }\r\n    width({ ctx }) {\r\n        return getWidth(ctx, this._content);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft,\r\n                right: offsetRight,\r\n                top: offsetTop,\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return !!this._content;\r\n    }\r\n    splitIndex(index) {\r\n        const content = this._content;\r\n        const itr = utils_1.str.genChars(content);\r\n        const chars = [];\r\n        let ret = itr.next();\r\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\r\n            chars.push(ret);\r\n        }\r\n        const beforeContent = chars.join(\"\");\r\n        const afterContent = content.slice(beforeContent.length);\r\n        return {\r\n            before: beforeContent ? new Inline(beforeContent) : null,\r\n            after: afterContent ? new Inline(afterContent) : null,\r\n        };\r\n    }\r\n    breakWord(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genWords(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    breakAll(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genChars(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    toString() {\r\n        return this._content;\r\n    }\r\n}\r\nexports.Inline = Inline;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineDrawer = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineDrawer extends Inline_1.Inline {\r\n    constructor({ draw, width, \r\n    // height,\r\n    color, }) {\r\n        super();\r\n        this._draw = draw;\r\n        this._width = width;\r\n        // this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        this._draw({\r\n            ctx,\r\n            canvashelper,\r\n            rect,\r\n            offset,\r\n            offsetLeft,\r\n            offsetRight,\r\n            offsetTop,\r\n            offsetBottom,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineDrawer = InlineDrawer;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineIcon = void 0;\r\nconst fonts = __importStar(require(\"../internal/fonts\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineIcon extends Inline_1.Inline {\r\n    constructor(icon) {\r\n        super();\r\n        this._icon = icon || {};\r\n    }\r\n    width({ ctx }) {\r\n        const icon = this._icon;\r\n        if (icon.width) {\r\n            return icon.width;\r\n        }\r\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\r\n            ctx.save();\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                ctx.font = icon.font || ctx.font;\r\n                return ctx.measureText(icon.content || \"\").width;\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n                ctx.restore();\r\n            }\r\n        }\r\n        return 0; //unknown\r\n    }\r\n    font() {\r\n        var _a;\r\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        const icon = this._icon;\r\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\r\n    }\r\n    onReady(callback) {\r\n        const icon = this._icon;\r\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\r\n            fonts.load(icon.font, icon.content || \"\", callback);\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        const icon = this._icon;\r\n        if (icon.content) {\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                // eslint-disable-next-line no-self-assign\r\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\r\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft + (this._icon.offsetLeft || 0),\r\n                        right: offsetRight,\r\n                        top: offsetTop + (this._icon.offsetTop || 0),\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n            }\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineIcon = InlineIcon;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineImage = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nconst imgs_1 = require(\"../internal/imgs\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nclass InlineImage extends Inline_1.Inline {\r\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, offsetTop, offsetLeft, }) {\r\n        super();\r\n        this._inlineImgPromise = null;\r\n        this._inlineImg = null;\r\n        this._src = src;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._imageLeft = imageLeft;\r\n        this._imageTop = imageTop;\r\n        this._imageWidth = imageWidth;\r\n        this._imageHeight = imageHeight;\r\n        this._offsetTop = offsetTop;\r\n        this._offsetLeft = offsetLeft;\r\n        this._onloaded = [];\r\n        if ((0, utils_1.isPromise)(src)) {\r\n            src.then((s) => {\r\n                this._src = s;\r\n                this._loadImage(s);\r\n            });\r\n        }\r\n        else {\r\n            this._loadImage(src);\r\n        }\r\n    }\r\n    _loadImage(src) {\r\n        const img = (this._inlineImgPromise = (0, imgs_1.getCacheOrLoad)(\"InlineImage\", 50, src));\r\n        if ((0, utils_1.isPromise)(img)) {\r\n            img.then((i) => {\r\n                this._inlineImg = i;\r\n                this._onloaded.forEach((fn) => fn());\r\n            });\r\n        }\r\n        else {\r\n            this._inlineImg = img;\r\n        }\r\n    }\r\n    width(_arg) {\r\n        var _a, _b;\r\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return !!this._inlineImg;\r\n    }\r\n    onReady(callback) {\r\n        if ((0, utils_1.isPromise)(this._src) || (0, utils_1.isPromise)(this._inlineImgPromise)) {\r\n            this._onloaded.push(() => callback());\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        var _a, _b;\r\n        const img = this._inlineImg;\r\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft + ((_a = this._offsetLeft) !== null && _a !== void 0 ? _a : 0),\r\n                right: offsetRight,\r\n                top: offsetTop + ((_b = this._offsetTop) !== null && _b !== void 0 ? _b : 0),\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineImage = InlineImage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlinePath2D = void 0;\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nclass InlinePath2D extends Inline_1.Inline {\r\n    constructor({ path, width, height, color }) {\r\n        super();\r\n        // IEPath2Dpolyfill\r\n        const Path2D = path2DManager.getPath2D();\r\n        this._path = new Path2D(path);\r\n        this._width = width;\r\n        this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        offset++;\r\n        const padding = {\r\n            left: offsetLeft,\r\n            right: offsetRight,\r\n            top: offsetTop,\r\n            bottom: offsetBottom,\r\n        };\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            //clip\r\n            ctx.clip();\r\n            //\r\n            const pos = (0, canvases_1.calcStartPosition)(ctx, rect, this._width, this._height, {\r\n                offset,\r\n                padding,\r\n            });\r\n            ctx.translate(pos.x, pos.y);\r\n            ctx.fill(this._path);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlinePath2D = InlinePath2D;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineSvg = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nfunction buildSvgDataUrl(svg) {\r\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\r\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\r\n    return url;\r\n}\r\nfunction getSvgElement(svg) {\r\n    if (typeof svg === \"string\") {\r\n        const parser = new DOMParser();\r\n        return parser.parseFromString(svg, \"image/svg+xml\")\r\n            .children[0];\r\n    }\r\n    else {\r\n        return svg;\r\n    }\r\n}\r\nclass InlineSvg extends InlineImage_1.InlineImage {\r\n    constructor({ svg, width, height }) {\r\n        var _a, _b;\r\n        const svgElem = (0, utils_1.then)(svg, getSvgElement);\r\n        const elmWidth = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined\r\n            : undefined;\r\n        const elmHeight = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined\r\n            : undefined;\r\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\r\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\r\n        super({\r\n            src: (0, utils_1.then)(svg, buildSvgDataUrl),\r\n            width: width || numElmWidth,\r\n            height: height || numElmHeight,\r\n            imageWidth: numElmWidth,\r\n            imageHeight: numElmHeight,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineSvg = InlineSvg;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\r\nconst icons = __importStar(require(\"../icons\"));\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\r\nconst InlineIcon_1 = require(\"./InlineIcon\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\r\nconst InlineSvg_1 = require(\"./InlineSvg\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, drawWidth, drawHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nfunction isIconConstructorOption(icon) {\r\n    if (icon.font && icon.content) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineImageConstructorOption(icon) {\r\n    if (icon.src) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineSvgConstructorOption(icon) {\r\n    if (icon.path) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction iconOf(icon) {\r\n    if (icon instanceof Inline_1.Inline) {\r\n        return icon;\r\n    }\r\n    if (!icon) {\r\n        return null;\r\n    }\r\n    if (isIconConstructorOption(icon)) {\r\n        return new InlineIcon_1.InlineIcon(icon);\r\n    }\r\n    if (isInlineImageConstructorOption(icon)) {\r\n        return new InlineImage_1.InlineImage({\r\n            src: icon.src,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            offsetTop: icon.offsetTop,\r\n            offsetLeft: icon.offsetLeft,\r\n        });\r\n    }\r\n    if (icon.svg) {\r\n        return new InlineSvg_1.InlineSvg({\r\n            svg: icon.svg,\r\n            width: icon.width,\r\n            height: icon.width,\r\n        });\r\n    }\r\n    if (isInlineSvgConstructorOption(icon)) {\r\n        return new InlinePath2D_1.InlinePath2D({\r\n            path: icon.path,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    const registeredIcons = icons.get();\r\n    if (icon.name && registeredIcons[icon.name]) {\r\n        const registeredIcon = registeredIcons[icon.name];\r\n        const width = icon.width || Math.max(registeredIcon.width, registeredIcon.height);\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n                drawRegisteredIcon(ctx, registeredIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft,\r\n                        right: offsetRight,\r\n                        top: offsetTop,\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            },\r\n            width,\r\n            height: width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    return new InlineIcon_1.InlineIcon(icon);\r\n}\r\nexports.iconOf = iconOf;\r\nfunction of(content) {\r\n    if (content == null) {\r\n        return null;\r\n    }\r\n    if (content instanceof Inline_1.Inline) {\r\n        return content;\r\n    }\r\n    return new Inline_1.Inline(content);\r\n}\r\nexports.of = of;\r\nfunction buildInlines(icons, inline) {\r\n    const result = [];\r\n    if (icons) {\r\n        result.push(...icons\r\n            .map((icon) => iconOf(icon))\r\n            .filter((i) => i != null));\r\n    }\r\n    if (Array.isArray(inline)\r\n    // && inline.filter(il => il instanceof Inline).length <- ?\r\n    ) {\r\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\r\n    }\r\n    else {\r\n        const il = of(inline);\r\n        if (il) {\r\n            result.push(il);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.buildInlines = buildInlines;\r\nfunction string(inline) {\r\n    return buildInlines(undefined, inline).join(\"\");\r\n}\r\nexports.string = string;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getInternal = void 0;\r\nfunction getInternal() {\r\n    console.warn(\"use internal!!\");\r\n    return {\r\n        color: require(\"./internal/color\"),\r\n        sort: require(\"./internal/sort\"),\r\n        calc: require(\"./internal/calc\"),\r\n        symbolManager: require(\"./internal/symbolManager\"),\r\n        path2DManager: require(\"./internal/path2DManager\"),\r\n        pasteUtils: require(\"./internal/paste-utils\"),\r\n    };\r\n}\r\nexports.getInternal = getInternal;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\r\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\r\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\r\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\r\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new ImmutableSortHeaderAction(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new ImmutableCheckHeaderAction(),\r\n};\r\nfunction of(headerAction) {\r\n    if (!headerAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof headerAction === \"string\") {\r\n        const key = headerAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return headerAction;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        if (typeof headerCell.sort === \"function\") {\r\n            const sortMethod = headerCell.sort;\r\n            // 0.9.0 Backward compatibility\r\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\r\n            return new ImmutableSortHeaderAction({ sort });\r\n        }\r\n        if (typeof headerCell.sort === \"string\") {\r\n            return new ImmutableSortHeaderAction({ sort: headerCell.sort });\r\n        }\r\n        return exports.ACTIONS.SORT;\r\n    }\r\n    return of(headerCell.headerAction);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = !!option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new BaseAction(this);\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // impl\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderAction = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\r\n    clone() {\r\n        return new CheckHeaderAction(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = getState(grid);\r\n        const action = ({ col, row }) => {\r\n            const range = grid.getCellRange(col, row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if (this.disabled || state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            onChange();\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.CheckHeaderAction = CheckHeaderAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderAction = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst actionBind_1 = require(\"./actionBind\");\r\nclass SortHeaderAction extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        var _a;\r\n        super(option);\r\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\r\n    }\r\n    get sort() {\r\n        return this._sort;\r\n    }\r\n    set sort(sort) {\r\n        this._sort = sort;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new SortHeaderAction(this);\r\n    }\r\n    _executeSort(newState, grid) {\r\n        if (typeof this._sort === \"function\") {\r\n            this._sort({\r\n                order: newState.order || \"asc\",\r\n                col: newState.col,\r\n                row: newState.row,\r\n                grid,\r\n            });\r\n        }\r\n        else if (typeof this._sort === \"string\" &&\r\n            // v1.6.3 Backward compatibility\r\n            (this._sort !== \"true\" || hasTrueField(grid))) {\r\n            const field = this._sort;\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n        else {\r\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\r\n            const field = grid.getField(newState.col, fieldRow);\r\n            if (field == null) {\r\n                return;\r\n            }\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        const action = (cell) => {\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n            const state = grid.sortState;\r\n            let newState;\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            if (isTarget(state.col, cell.row)) {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\r\n                };\r\n            }\r\n            else {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: \"asc\",\r\n                };\r\n            }\r\n            grid.sortState = newState;\r\n            this._executeSort(newState, grid);\r\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (_e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                },\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SortHeaderAction = SortHeaderAction;\r\nfunction hasTrueField(grid) {\r\n    if (grid.dataSource.length > 0) {\r\n        const record = grid.dataSource.get(0);\r\n        return record != null && \"true\" in record;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    let inMouse;\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n            inMouse = true;\r\n        }),\r\n        //MOUSEENTER'col-resize'move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (inMouse && !grid.getElement().style.cursor) {\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n            inMouse = false;\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\r\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\r\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\r\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\r\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\r\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nfunction of(headerStyle, StyleClass) {\r\n    if (headerStyle) {\r\n        if (headerStyle instanceof Style_1.Style) {\r\n            return headerStyle;\r\n        }\r\n        else if (typeof headerStyle === \"function\") {\r\n            return of(headerStyle(), StyleClass);\r\n        }\r\n        return new StyleClass(headerStyle);\r\n    }\r\n    else {\r\n        return StyleClass.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckHeaderStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new CheckHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckHeaderStyle(this);\r\n    }\r\n}\r\nexports.CheckHeaderStyle = CheckHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass MultilineTextHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeaderStyle(this);\r\n    }\r\n}\r\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass SortHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._sortArrowColor = style.sortArrowColor;\r\n        this._multiline = style.multiline;\r\n    }\r\n    get sortArrowColor() {\r\n        return this._sortArrowColor;\r\n    }\r\n    set sortArrowColor(sortArrowColor) {\r\n        this._sortArrowColor = sortArrowColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new SortHeaderStyle(this);\r\n    }\r\n}\r\nexports.SortHeaderStyle = SortHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdMultilineTextBaseStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nlet defaultStyle;\r\nclass StdMultilineTextBaseStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdMultilineTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new StdMultilineTextBaseStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.StdMultilineTextBaseStyle = StdMultilineTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdTextBaseStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass StdTextBaseStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"ellipsis\";\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdTextBaseStyle(this);\r\n    }\r\n}\r\nexports.StdTextBaseStyle = StdTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._multiline = style.multiline;\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\r\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\r\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\r\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\r\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\r\nconst Header_1 = require(\"./type/Header\");\r\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\r\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\r\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\r\nconst SortHeader_1 = require(\"./type/SortHeader\");\r\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Header_1.Header(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new SortHeader_1.SortHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckHeader_1.CheckHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\r\n};\r\nfunction of(headerType) {\r\n    if (!headerType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof headerType === \"string\") {\r\n        const key = headerType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return headerType;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        return TYPES.SORT;\r\n    }\r\n    return of(headerCell.headerType);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseHeader = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nclass BaseHeader {\r\n    constructor(_options = {}) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        const { style, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        //\r\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\r\n    }\r\n    convertInternal(value) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        return value != null ? `${value}` : \"\";\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        return value != null ? value : \"\";\r\n    }\r\n}\r\nexports.BaseHeader = BaseHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeader = void 0;\r\nconst inlineUtils = __importStar(require(\"../../element/inlines\"));\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return CheckHeaderStyle_1.CheckHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new CheckHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, padding, color, font, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\r\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            let contents = [inlineCheck];\r\n            contents = contents.concat(inlineUtils.buildInlines(icons, value != null ? String(value) : \"\"));\r\n            helper.text(contents, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.CheckHeader = CheckHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Header = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Header extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, lineHeight, autoWrapText, lineClamp, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Header = Header;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\r\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextHeader = MultilineTextHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nclass SortHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return SortHeaderStyle_1.SortHeaderStyle;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, padding, textOverflow, lineHeight, autoWrapText, lineClamp, sortArrowColor, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const state = grid.sortState;\r\n            let order = undefined;\r\n            const { col, row } = context;\r\n            const range = grid.getCellRange(col, row);\r\n            if ((0, utils_1.cellInRange)(range, state.col, state.row)) {\r\n                ({ order } = state);\r\n            }\r\n            const ctx = context.getContext();\r\n            const arrowSize = (0, canvases_1.getFontSize)(ctx, font).width * 1.2;\r\n            const trailingIcon = {\r\n                name: order != null\r\n                    ? order === \"asc\"\r\n                        ? \"arrow_downward\"\r\n                        : \"arrow_upward\"\r\n                    : undefined,\r\n                width: arrowSize,\r\n                color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\r\n            };\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.SortHeader = SortHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./header/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./header/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./header/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\n/*eslint-disable camelcase*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.get = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst builtins = {\r\n    get arrow_upward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\r\n        return {\r\n            d: \"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get arrow_downward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\r\n        return {\r\n            d: \"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get edit() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\r\n        return {\r\n            d: \"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get add() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\r\n        return {\r\n            d: \"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get star() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\r\n        return {\r\n            d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_border() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_half() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n};\r\nfunction get() {\r\n    return (0, utils_1.extend)(builtins, icons_1.icons);\r\n}\r\nexports.get = get;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventHandler = void 0;\r\nconst utils_1 = require(\"./utils\");\r\n/** @private */\r\nlet nextId = 1;\r\nclass EventHandler {\r\n    constructor() {\r\n        this._listeners = {};\r\n    }\r\n    on(target, type, listener, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ...options) {\r\n        if (target.addEventListener) {\r\n            target.addEventListener(type, listener, ...options);\r\n        }\r\n        const obj = {\r\n            target,\r\n            type,\r\n            listener,\r\n            options,\r\n        };\r\n        const id = nextId++;\r\n        this._listeners[id] = obj;\r\n        return id;\r\n    }\r\n    once(target, type, listener, ...options) {\r\n        const id = this.on(target, type, (...args) => {\r\n            this.off(id);\r\n            listener(...args);\r\n        }, ...options);\r\n        return id;\r\n    }\r\n    tryWithOffEvents(target, type, call) {\r\n        const list = [];\r\n        try {\r\n            (0, utils_1.each)(this._listeners, (obj) => {\r\n                if (obj.target === target && obj.type === type) {\r\n                    if (obj.target.removeEventListener) {\r\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n                    }\r\n                    list.push(obj);\r\n                }\r\n            });\r\n            call();\r\n        }\r\n        finally {\r\n            list.forEach((obj) => {\r\n                if (obj.target.addEventListener) {\r\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    off(id) {\r\n        if (id == null) {\r\n            return;\r\n        }\r\n        const obj = this._listeners[id];\r\n        if (!obj) {\r\n            return;\r\n        }\r\n        delete this._listeners[id];\r\n        if (obj.target.removeEventListener) {\r\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fire(target, type, ...args) {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                obj.listener.call(obj.target, ...args);\r\n            }\r\n        });\r\n    }\r\n    hasListener(target, type) {\r\n        let result = false;\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    clear() {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target.removeEventListener) {\r\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n            }\r\n        });\r\n        this._listeners = {};\r\n    }\r\n    dispose() {\r\n        this.clear();\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._listeners = null;\r\n    }\r\n}\r\nexports.EventHandler = EventHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LRUCache = void 0;\r\nclass LRUCache {\r\n    constructor(cacheSize) {\r\n        this._list = [];\r\n        this._map = {};\r\n        this._cacheSize = cacheSize || 50;\r\n    }\r\n    get(key) {\r\n        const val = this._map[key];\r\n        if (val) {\r\n            const list = this._list;\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n            list.push(key);\r\n        }\r\n        return val;\r\n    }\r\n    put(key, value) {\r\n        const list = this._list;\r\n        const map = this._map;\r\n        if (map[key]) {\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n        }\r\n        map[key] = value;\r\n        list.push(key);\r\n        if (list.length > this._cacheSize) {\r\n            const remKey = list.shift() || \"\";\r\n            delete map[remKey];\r\n        }\r\n    }\r\n}\r\nexports.LRUCache = LRUCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberMap = void 0;\r\nconst indexFirst = (arr, elm) => {\r\n    let low = 0;\r\n    let high = arr.length - 1;\r\n    while (low <= high) {\r\n        const i = Math.floor((low + high) / 2);\r\n        if (arr[i] === elm) {\r\n            return i;\r\n        }\r\n        else if (arr[i] > elm) {\r\n            high = i - 1;\r\n        }\r\n        else {\r\n            low = i + 1;\r\n        }\r\n    }\r\n    return high < 0 ? 0 : high;\r\n};\r\nclass NumberMap {\r\n    constructor() {\r\n        this._keys = [];\r\n        this._vals = {};\r\n        this._sorted = false;\r\n    }\r\n    put(key, value) {\r\n        if (!(key in this._vals)) {\r\n            this._keys.push(key);\r\n            this._sorted = false;\r\n        }\r\n        this._vals[key] = value;\r\n    }\r\n    remove(key) {\r\n        delete this._vals[key];\r\n        const index = this._keys.indexOf(key);\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this._keys.splice(index, 1);\r\n        this._sorted = false;\r\n    }\r\n    get(key) {\r\n        return this._vals[key];\r\n    }\r\n    has(key) {\r\n        return this._vals[key] != null;\r\n    }\r\n    each(keyFrom, keyTo, fn) {\r\n        const { _keys: keys } = this;\r\n        const { length } = keys;\r\n        if (!this._sorted) {\r\n            keys.sort((a, b) => {\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n            this._sorted = true;\r\n        }\r\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\r\n            const key = keys[i];\r\n            if (keyFrom <= key && key <= keyTo) {\r\n                fn(this.get(key), key);\r\n            }\r\n            else if (keyTo < key) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.NumberMap = NumberMap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rect = void 0;\r\nclass Rect {\r\n    constructor(left, top, width, height) {\r\n        this._left = left;\r\n        this._top = top;\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n    static bounds(left, top, right, bottom) {\r\n        return new Rect(left, top, right - left, bottom - top);\r\n    }\r\n    static max(rect1, rect2) {\r\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\r\n    }\r\n    get left() {\r\n        return this._left;\r\n    }\r\n    set left(left) {\r\n        const { right } = this;\r\n        this._left = left;\r\n        this.right = right;\r\n    }\r\n    get top() {\r\n        return this._top;\r\n    }\r\n    set top(top) {\r\n        const { bottom } = this;\r\n        this._top = top;\r\n        this.bottom = bottom;\r\n    }\r\n    get width() {\r\n        return this._width;\r\n    }\r\n    set width(width) {\r\n        this._width = width;\r\n        this._right = undefined;\r\n    }\r\n    get height() {\r\n        return this._height;\r\n    }\r\n    set height(height) {\r\n        this._height = height;\r\n        this._bottom = undefined;\r\n    }\r\n    get right() {\r\n        return this._right !== undefined\r\n            ? this._right\r\n            : (this._right = this.left + this.width);\r\n    }\r\n    set right(right) {\r\n        this._right = right;\r\n        this.width = right - this.left;\r\n    }\r\n    get bottom() {\r\n        return this._bottom !== undefined\r\n            ? this._bottom\r\n            : (this._bottom = this.top + this.height);\r\n    }\r\n    set bottom(bottom) {\r\n        this._bottom = bottom;\r\n        this.height = bottom - this.top;\r\n    }\r\n    offsetLeft(offset) {\r\n        this._left += offset;\r\n        this._right = undefined;\r\n    }\r\n    offsetTop(offset) {\r\n        this._top += offset;\r\n        this._bottom = undefined;\r\n    }\r\n    copy() {\r\n        return new Rect(this.left, this.top, this.width, this.height);\r\n    }\r\n    intersection(rect) {\r\n        const x0 = Math.max(this.left, rect.left);\r\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\r\n        if (x0 <= x1) {\r\n            const y0 = Math.max(this.top, rect.top);\r\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\r\n            if (y0 <= y1) {\r\n                return Rect.bounds(x0, y0, x1, y1);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    contains(another) {\r\n        return (this.left <= another.left &&\r\n            this.left + this.width >= another.left + another.width &&\r\n            this.top <= another.top &&\r\n            this.top + this.height >= another.top + another.height);\r\n    }\r\n    inPoint(x, y) {\r\n        return (this.left <= x &&\r\n            this.left + this.width >= x &&\r\n            this.top <= y &&\r\n            this.top + this.height >= y);\r\n    }\r\n}\r\nexports.Rect = Rect;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scrollable = void 0;\r\nconst style = __importStar(require(\"./style\"));\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\r\nclass Scrollable {\r\n    constructor() {\r\n        this._p = 1;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._scrollable = document.createElement(\"div\");\r\n        this._scrollable.classList.add(\"grid-scrollable\");\r\n        this._height = 0;\r\n        this._width = 0;\r\n        this._endPointElement = document.createElement(\"div\");\r\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\r\n        this._update();\r\n        this._scrollable.appendChild(this._endPointElement);\r\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\r\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\r\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\r\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\r\n        // this.scrollTop += delta < 0 ? point : -point;\r\n        // });\r\n    }\r\n    calcTop(top) {\r\n        const relativeTop = top - this.scrollTop;\r\n        return this._scrollable.scrollTop + relativeTop;\r\n    }\r\n    getElement() {\r\n        return this._scrollable;\r\n    }\r\n    setScrollSize(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollWidth() {\r\n        return this._width;\r\n    }\r\n    set scrollWidth(width) {\r\n        this._width = width;\r\n        this._update();\r\n    }\r\n    get scrollHeight() {\r\n        return this._height;\r\n    }\r\n    set scrollHeight(height) {\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollLeft() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this._scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    get scrollTop() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this._scrollable.scrollTop = scrollTop * this._p;\r\n    }\r\n    onScroll(fn) {\r\n        this._handler.on(this._scrollable, \"scroll\", fn);\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n    _update() {\r\n        let domHeight;\r\n        const { offsetHeight, offsetWidth } = this._scrollable;\r\n        if (this._height > MAX_SCROLL) {\r\n            const sbSize = style.getScrollBarSize();\r\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\r\n            const rScrollRange = this._height - offsetHeight + sbSize;\r\n            this._p = vScrollRange / rScrollRange;\r\n            domHeight = MAX_SCROLL;\r\n        }\r\n        else {\r\n            this._p = 1;\r\n            domHeight = this._height;\r\n        }\r\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\r\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\r\n        // Sets the maximum value to the scroll position\r\n        // if the current scroll position exceeds the maximum value.\r\n        if (this.scrollTop > this.scrollHeight - offsetHeight) {\r\n            this.scrollTop = this.scrollHeight - offsetHeight;\r\n        }\r\n        if (this.scrollLeft > this.scrollWidth - offsetWidth) {\r\n            this.scrollLeft = this.scrollWidth - offsetWidth;\r\n        }\r\n    }\r\n}\r\nexports.Scrollable = Scrollable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.animate = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction cubicBezier(x2, y2, x3, y3) {\r\n    let step;\r\n    const err = 0.0001;\r\n    x2 *= 3;\r\n    y2 *= 3;\r\n    x3 *= 3;\r\n    y3 *= 3;\r\n    return function (t) {\r\n        let p, a, b, c, d, x, s;\r\n        if (t < 0 || 1 < t) {\r\n            throw new Error(`${t}`);\r\n        }\r\n        p = step || t;\r\n        do {\r\n            a = 1 - p;\r\n            b = a * a;\r\n            c = p * p;\r\n            d = c * p;\r\n            x = x2 * b * p + x3 * a * c + d;\r\n            s = t - x;\r\n            p += s * 0.5;\r\n        } while (err < Math.abs(s));\r\n        step = p;\r\n        return y2 * b * p + y3 * a * c + d;\r\n    };\r\n}\r\nconst EASINGS = {\r\n    linear(p) {\r\n        return p;\r\n    },\r\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\r\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\r\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\r\n};\r\nconst raf = (utils_1.isNode\r\n    ? () => { }\r\n    : window.requestAnimationFrame ||\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        ((fn) => setTimeout(fn, 1)));\r\nfunction now() {\r\n    return Date.now();\r\n}\r\n/**\r\n * <pre>\r\n * Animates.\r\n * </pre>\r\n * @function\r\n * @param {number} duration animation time.\r\n * @param {function} step step\r\n * @param {function|string} easing easing\r\n * @returns {object} Deferred object.\r\n */\r\nfunction animate(duration, step, easing) {\r\n    const startedAt = now();\r\n    const easingFn = easing == null\r\n        ? EASINGS.easeInOut\r\n        : typeof easing === \"string\"\r\n            ? EASINGS[easing]\r\n            : easing;\r\n    let canceledFlg = false;\r\n    const createAnim = (resolve, reject) => {\r\n        const anim = () => {\r\n            const point = now() - startedAt;\r\n            if (canceledFlg) {\r\n                //cancel\r\n                if (reject) {\r\n                    reject();\r\n                }\r\n            }\r\n            else if (point >= duration) {\r\n                //end\r\n                step(1);\r\n                if (resolve) {\r\n                    resolve();\r\n                }\r\n            }\r\n            else {\r\n                step(easingFn(point / duration));\r\n                raf(anim);\r\n            }\r\n        };\r\n        return anim;\r\n    };\r\n    const cancel = () => {\r\n        canceledFlg = true;\r\n    };\r\n    if (typeof Promise !== \"undefined\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const result = new Promise((resolve, reject) => {\r\n            const anim = createAnim(resolve, reject);\r\n            step(0);\r\n            anim();\r\n        });\r\n        result.cancel = cancel;\r\n        return result;\r\n    }\r\n    else {\r\n        const anim = createAnim(() => { }, () => { });\r\n        step(0);\r\n        anim();\r\n        return {\r\n            cancel,\r\n        };\r\n    }\r\n}\r\nexports.animate = animate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toPx = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst TYPE_PAREN = 0;\r\nconst TYPE_UNIT = 1;\r\nconst TYPE_OPERATOR = 2;\r\nconst TYPE_NUMBER = 3;\r\nconst NODE_TYPE_UNIT = 10;\r\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\r\nconst NODE_TYPE_NUMBER = 12;\r\nconst TABULATION = 0x09;\r\nconst CARRIAGE_RETURN = 0x0d;\r\nconst LINE_FEED = 0x0a;\r\nconst FORM_FEED = 0x0c;\r\nconst SPACE = 0x20;\r\nconst PERCENT = 0x25;\r\nconst FULL_STOP = 0x2e;\r\nconst DIGIT_0 = 0x30;\r\nconst DIGIT_9 = 0x39;\r\nconst LATIN_CAPITAL_A = 0x41;\r\nconst LATIN_CAPITAL_Z = 0x5a;\r\nconst LATIN_SMALL_A = 0x61;\r\nconst LATIN_SMALL_Z = 0x7a;\r\nfunction isUpperLetter(cp) {\r\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\r\n}\r\nfunction isLowerLetter(cp) {\r\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\r\n}\r\nfunction isLetter(cp) {\r\n    return isLowerLetter(cp) || isUpperLetter(cp);\r\n}\r\nfunction isWhitespace(cp) {\r\n    return (cp === TABULATION ||\r\n        cp === LINE_FEED ||\r\n        cp === FORM_FEED ||\r\n        cp === CARRIAGE_RETURN ||\r\n        cp === SPACE);\r\n}\r\nfunction isDigit(cp) {\r\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\r\n}\r\nfunction isDot(cp) {\r\n    return cp === FULL_STOP;\r\n}\r\nfunction isUnit(cp) {\r\n    return isLetter(cp) || cp === PERCENT;\r\n}\r\nfunction createError(calc) {\r\n    return new Error(`calc parse error: ${calc}`);\r\n}\r\n/**\r\n * tokenize\r\n * @param {string} calc calc expression\r\n * @returns {Array} tokens\r\n * @private\r\n */\r\nfunction tokenize(calc) {\r\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\r\n    const tokens = [];\r\n    const len = exp.length;\r\n    for (let index = 0; index < len; index++) {\r\n        const c = exp[index];\r\n        const cp = c.charCodeAt(0);\r\n        if (c === \"(\" || c === \")\") {\r\n            tokens.push({ value: c, type: TYPE_PAREN });\r\n        }\r\n        else if (c === \"*\" || c === \"/\") {\r\n            tokens.push({ value: c, type: TYPE_OPERATOR });\r\n        }\r\n        else if (c === \"+\" || c === \"-\") {\r\n            index = parseSign(c, index + 1) - 1;\r\n        }\r\n        else if (isDigit(cp) || isDot(cp)) {\r\n            index = parseNum(c, index + 1) - 1;\r\n        }\r\n        else if (isWhitespace(cp)) {\r\n            // skip\r\n        }\r\n        else {\r\n            throw createError(calc);\r\n        }\r\n    }\r\n    function parseSign(sign, start) {\r\n        if (start < len) {\r\n            const c = exp[start];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp) || isDot(cp)) {\r\n                return parseNum(sign + c, start + 1);\r\n            }\r\n        }\r\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\r\n        return start;\r\n    }\r\n    function parseNum(num, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp)) {\r\n                num += c;\r\n            }\r\n            else if (c === \".\") {\r\n                if (num.indexOf(\".\") >= 0) {\r\n                    throw createError(calc);\r\n                }\r\n                num += c;\r\n            }\r\n            else if (isUnit(cp)) {\r\n                return parseUnit(num, c, index + 1);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (num === \".\") {\r\n            throw createError(calc);\r\n        }\r\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\r\n        return index;\r\n    }\r\n    function parseUnit(num, unit, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isUnit(cp)) {\r\n                unit += c;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\r\n        return index;\r\n    }\r\n    return tokens;\r\n}\r\nconst PRECEDENCE = {\r\n    \"*\": 3,\r\n    \"/\": 3,\r\n    \"+\": 2,\r\n    \"-\": 2,\r\n};\r\nfunction lex(tokens, calc) {\r\n    function buildBinaryExpNode(stack) {\r\n        const right = stack.pop();\r\n        const op = stack.pop();\r\n        const left = stack.pop();\r\n        if (!left ||\r\n            !left.nodeType ||\r\n            !op ||\r\n            op.type !== TYPE_OPERATOR ||\r\n            !right ||\r\n            !right.nodeType) {\r\n            throw createError(calc);\r\n        }\r\n        return {\r\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\r\n            left,\r\n            op,\r\n            right,\r\n        };\r\n    }\r\n    const stack = [];\r\n    while (tokens.length) {\r\n        const token = tokens.shift();\r\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\r\n            let deep = 0;\r\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\r\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\r\n                    deep++;\r\n                }\r\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\r\n                    if (!deep) {\r\n                        return true;\r\n                    }\r\n                    deep--;\r\n                }\r\n                return false;\r\n            });\r\n            if (closeIndex === -1) {\r\n                throw createError(calc);\r\n            }\r\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\r\n            tokens.shift();\r\n        }\r\n        else if (token.type === TYPE_OPERATOR) {\r\n            if (stack.length >= 3) {\r\n                const beforeOp = stack[stack.length - 2].value;\r\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\r\n                    stack.push(buildBinaryExpNode(stack));\r\n                }\r\n            }\r\n            stack.push(token);\r\n        }\r\n        else if (token.type === TYPE_UNIT) {\r\n            const { value: num, unit } = token;\r\n            stack.push({\r\n                nodeType: NODE_TYPE_UNIT,\r\n                value: num,\r\n                unit,\r\n            });\r\n        }\r\n        else if (token.type === TYPE_NUMBER) {\r\n            stack.push({\r\n                nodeType: NODE_TYPE_NUMBER,\r\n                value: token.value,\r\n            });\r\n        }\r\n    }\r\n    while (stack.length > 1) {\r\n        stack.push(buildBinaryExpNode(stack));\r\n    }\r\n    return stack[0];\r\n}\r\nfunction parse(calcStr) {\r\n    const tokens = tokenize(calcStr);\r\n    return lex(tokens, calcStr);\r\n}\r\nfunction calcNode(node, context) {\r\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\r\n        const left = calcNode(node.left, context);\r\n        const right = calcNode(node.right, context);\r\n        switch (node.op.value) {\r\n            case \"+\":\r\n                return left + right;\r\n            case \"-\":\r\n                return left - right;\r\n            case \"*\":\r\n                return left * right;\r\n            case \"/\":\r\n                return left / right;\r\n            default:\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_UNIT) {\r\n        switch (node.unit) {\r\n            case \"%\":\r\n                return (node.value * context.full) / 100;\r\n            case \"em\":\r\n                return node.value * context.em;\r\n            case \"px\":\r\n                return node.value;\r\n            default:\r\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\r\n        return node.value;\r\n    }\r\n    throw new Error(\"calc error.\");\r\n}\r\nfunction toPxInternal(value, context) {\r\n    const ast = parse(value);\r\n    return calcNode(ast, context);\r\n}\r\nfunction toPx(value, context) {\r\n    if (typeof value === \"string\") {\r\n        return toPxInternal(value.trim(), context);\r\n    }\r\n    return value - 0;\r\n}\r\nexports.toPx = toPx;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\r\nconst fontSizeCache = {};\r\nfunction getFontSize(ctx, font) {\r\n    const fontName = font || ctx.font;\r\n    if (fontSizeCache[fontName]) {\r\n        return fontSizeCache[fontName];\r\n    }\r\n    const bk = ctx.font;\r\n    try {\r\n        ctx.font = fontName;\r\n        const em = ctx.measureText(\"\").width;\r\n        return (fontSizeCache[fontName] = {\r\n            width: em,\r\n            height: em,\r\n        });\r\n    }\r\n    finally {\r\n        ctx.font = bk;\r\n    }\r\n}\r\nexports.getFontSize = getFontSize;\r\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    return calcStartPosition(ctx, rect, 0, 0, {\r\n        offset,\r\n        padding: {\r\n            left: paddingLeft,\r\n            right: paddingRight,\r\n            top: paddingTop,\r\n            bottom: paddingBottom,\r\n        },\r\n    });\r\n}\r\nexports.calcBasePosition = calcBasePosition;\r\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    const textAlign = ctx.textAlign || \"left\";\r\n    const textBaseline = ctx.textBaseline || \"middle\";\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    let x = rect.left + offset + paddingLeft;\r\n    if (textAlign === \"right\" || textAlign === \"end\") {\r\n        x = rect.right - width - offset - paddingRight;\r\n    }\r\n    else if (textAlign === \"center\") {\r\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\r\n    }\r\n    let y = rect.top + offset + paddingTop;\r\n    if (textBaseline === \"bottom\" ||\r\n        textBaseline === \"alphabetic\" ||\r\n        textBaseline === \"ideographic\") {\r\n        y = rect.bottom - height - offset - paddingBottom;\r\n    }\r\n    else if (textBaseline === \"middle\") {\r\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\r\n    }\r\n    return { x, y };\r\n}\r\nexports.calcStartPosition = calcStartPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.colorToRGB = void 0;\r\nconst rgbMap = {};\r\nfunction styleColorToRGB(color) {\r\n    const dummy = document.createElement(\"div\");\r\n    const { style } = dummy;\r\n    style.color = color;\r\n    style.position = \"fixed\";\r\n    style.height = \"1px\";\r\n    style.width = \"1px\";\r\n    style.opacity = \"0\";\r\n    document.body.appendChild(dummy);\r\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\r\n    document.body.removeChild(dummy);\r\n    return colorToRGB0(styleColor || \"\");\r\n}\r\nfunction hexToNum(hex) {\r\n    return parseInt(hex, 16);\r\n}\r\nfunction createRGB(r, g, b, a = 1) {\r\n    return { r, g, b, a };\r\n}\r\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\r\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\r\n}\r\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\r\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\r\n}\r\nfunction testRGB({ r, g, b, a }) {\r\n    return (0 <= r &&\r\n        r <= 255 &&\r\n        0 <= g &&\r\n        g <= 255 &&\r\n        0 <= b &&\r\n        b <= 255 &&\r\n        0 <= a &&\r\n        a <= 1);\r\n}\r\nfunction rateToByte(r) {\r\n    return Math.ceil((r * 255) / 100);\r\n}\r\nconst numberPattern = /((?:\\+|-)?(?:\\d+(?:\\.\\d+)?|\\.\\d+))/.source;\r\nconst percentPattern = `${numberPattern}%`;\r\nconst maybePercentPattern = `${numberPattern}(%?)`;\r\nfunction buildRgbWithCommaRegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbLv4RegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaWithCommaRegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaLv4RegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*/\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction colorToRGB0(color) {\r\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\r\n        return tripleHexToRGB(color);\r\n    }\r\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\r\n        return sextupleHexToRGB(color);\r\n    }\r\n    let ret = buildRgbWithCommaRegExp(numberPattern).exec(color) ||\r\n        buildRgbLv4RegExp(numberPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbWithCommaRegExp(percentPattern).exec(color) ||\r\n            buildRgbLv4RegExp(percentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(numberPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(numberPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(percentPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(percentPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction colorToRGB(color) {\r\n    if (typeof color !== \"string\") {\r\n        return createRGB(0, 0, 0, 0);\r\n    }\r\n    color = color.toLowerCase().trim();\r\n    if (rgbMap[color]) {\r\n        return rgbMap[color];\r\n    }\r\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\r\n}\r\nexports.colorToRGB = colorToRGB;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\r\nfunction createElement(tagName, { classList, text, html, } = {}) {\r\n    const element = document.createElement(tagName);\r\n    if (classList) {\r\n        if (Array.isArray(classList)) {\r\n            element.classList.add(...classList);\r\n        }\r\n        else {\r\n            element.classList.add(classList);\r\n        }\r\n    }\r\n    if (text) {\r\n        element.textContent = text;\r\n    }\r\n    else if (html) {\r\n        element.innerHTML = html;\r\n    }\r\n    return element;\r\n}\r\nexports.createElement = createElement;\r\nfunction empty(dom) {\r\n    let c;\r\n    while ((c = dom.firstChild)) {\r\n        dom.removeChild(c);\r\n    }\r\n}\r\nexports.empty = empty;\r\nfunction isNode(arg) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return !!(arg.nodeType && arg.nodeName);\r\n}\r\nfunction toNode(arg) {\r\n    if (isNode(arg)) {\r\n        return arg;\r\n    }\r\n    const dom = createElement(\"div\", { html: arg });\r\n    return Array.prototype.slice.call(dom.childNodes);\r\n}\r\nfunction toNodeList(arg) {\r\n    if (Array.isArray(arg)) {\r\n        const result = [];\r\n        arg.forEach((e) => {\r\n            result.push(...toNodeList(e));\r\n        });\r\n        return result;\r\n    }\r\n    const node = toNode(arg);\r\n    return Array.isArray(node) ? node : [node];\r\n}\r\nexports.toNodeList = toNodeList;\r\nfunction appendHtml(dom, inner) {\r\n    toNodeList(inner).forEach((node) => {\r\n        dom.appendChild(node);\r\n    });\r\n}\r\nexports.appendHtml = appendHtml;\r\nfunction disableFocus(el) {\r\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\r\n    el.tabIndex = -1;\r\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\r\n}\r\nexports.disableFocus = disableFocus;\r\nfunction enableFocus(el) {\r\n    if (\"disableBeforeTabIndex\" in el.dataset) {\r\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\r\n    }\r\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\r\n}\r\nexports.enableFocus = enableFocus;\r\nfunction isFocusable(el) {\r\n    return (el.tabIndex != null && el.tabIndex > -1);\r\n}\r\nexports.isFocusable = isFocusable;\r\nfunction findPrevSiblingFocusable(el) {\r\n    let n = el.previousSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.previousSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\r\nfunction findNextSiblingFocusable(el) {\r\n    let n = el.nextSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.nextSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.load = exports.check = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst loads = {};\r\nlet load;\r\nexports.load = load;\r\nlet check;\r\nexports.check = check;\r\nif (utils_1.isNode) {\r\n    exports.load = load = function (_font, _testStr, callback) {\r\n        callback();\r\n    };\r\n    exports.check = check = function () {\r\n        return false;\r\n    };\r\n}\r\nelse {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const fontFaceSet = document.fonts;\r\n    const legacy = !fontFaceSet;\r\n    exports.load = load = legacy\r\n        ? function (font, testStr, callback) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                callback();\r\n                return;\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            }, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            });\r\n        }\r\n        : function (font, _testStr, callback) {\r\n            if (loads.all || loads[font]) {\r\n                callback();\r\n                return;\r\n            }\r\n            fontFaceSet.ready.then(() => {\r\n                loads.all = true;\r\n            });\r\n            fontFaceSet.load(font).then(() => {\r\n                loads[font] = true;\r\n                callback();\r\n            });\r\n        };\r\n    exports.check = check = legacy\r\n        ? function (font, testStr) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                return true;\r\n            }\r\n            load(font, testStr, () => { });\r\n            return false;\r\n        }\r\n        : function (font, testStr) {\r\n            if (loads.all || loads[font]) {\r\n                return true;\r\n            }\r\n            if (!fontFaceSet.check(font)) {\r\n                load(font, testStr, () => { });\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.transform = void 0;\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst handler = new EventHandler_1.EventHandler();\r\nlet ratio = 1;\r\nfunction setRatio() {\r\n    if (utils_1.isNode) {\r\n        ratio = 1;\r\n    }\r\n    else {\r\n        ratio = Math.ceil(window.devicePixelRatio || 1);\r\n        if (ratio > 1 && ratio % 2 !== 0) {\r\n            ratio += 1;\r\n        }\r\n    }\r\n}\r\nsetRatio();\r\nif (!utils_1.isNode) {\r\n    handler.on(window, \"resize\", setRatio);\r\n}\r\nfunction transform(canvas) {\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const { getAttribute, setAttribute } = canvas;\r\n    canvas.getAttribute = function (name) {\r\n        let result = getAttribute.call(this, name);\r\n        if (name === \"width\" || name === \"height\") {\r\n            result = `${Number(result) / ratio}`;\r\n        }\r\n        return result;\r\n    };\r\n    canvas.setAttribute = function (name, val) {\r\n        const wh = name === \"width\" || name === \"height\";\r\n        if (wh) {\r\n            val = `${Number(val) * ratio}`;\r\n        }\r\n        const result = setAttribute.call(this, name, val);\r\n        if (wh) {\r\n            ctx.scale(ratio, ratio);\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(canvas, \"width\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"width\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(canvas, \"height\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"height\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    const { drawImage } = ctx;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ctx.drawImage = function (img, ...args) {\r\n        if (img !== canvas || ratio === 1) {\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        this.save();\r\n        try {\r\n            this.scale(1 / ratio, 1 / ratio);\r\n            if (args.length > 4) {\r\n                args[4] *= ratio;\r\n                args[5] *= ratio;\r\n            }\r\n            else {\r\n                args[0] *= ratio;\r\n                args[1] *= ratio;\r\n            }\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        finally {\r\n            this.restore();\r\n        }\r\n    };\r\n    return canvas;\r\n}\r\nexports.transform = transform;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.iconPropKeys = exports.toNormalizeArray = exports.getIconProps = void 0;\r\nconst ICON_PROP_KEYS = [\r\n    \"content\",\r\n    \"font\",\r\n    \"color\",\r\n    \"className\",\r\n    \"tagName\",\r\n    \"isLiga\",\r\n    \"width\",\r\n    \"src\",\r\n    \"svg\",\r\n    \"name\",\r\n    \"path\",\r\n    \"offsetTop\",\r\n    \"offsetLeft\",\r\n];\r\nfunction quote(name) {\r\n    const quoted = [];\r\n    const split = name.split(/,\\s*/);\r\n    for (let i = 0; i < split.length; i++) {\r\n        const part = split[i].replace(/['\"]/g, \"\");\r\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\r\n            quoted.push(part);\r\n        }\r\n        else {\r\n            quoted.push(`'${part}'`);\r\n        }\r\n    }\r\n    return quoted.join(\",\");\r\n}\r\nconst doms = {};\r\nconst props = {};\r\nfunction getIconProps(tagName, className) {\r\n    const tagProps = props[tagName] || (props[tagName] = {});\r\n    if (tagProps[className]) {\r\n        return tagProps[className];\r\n    }\r\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\r\n    // `classList.add()` cannot be used because it may be separated by spaces.\r\n    dom.className = className;\r\n    dom.classList.add(\"cheetah-grid-icon\");\r\n    document.body.appendChild(dom);\r\n    try {\r\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\r\n        let content = beforeStyle.getPropertyValue(\"content\");\r\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\r\n            if (content[0] === content[content.length - 1]) {\r\n                content = content.slice(1, -1);\r\n            }\r\n        }\r\n        let font = beforeStyle.getPropertyValue(\"font\");\r\n        if (!font) {\r\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\r\n        }\r\n        const color = beforeStyle.getPropertyValue(\"color\");\r\n        const width = dom.clientWidth;\r\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\r\n        return (tagProps[className] = {\r\n            content,\r\n            font,\r\n            color,\r\n            width,\r\n            isLiga,\r\n        });\r\n    }\r\n    finally {\r\n        document.body.removeChild(dom);\r\n    }\r\n}\r\nexports.getIconProps = getIconProps;\r\nfunction toPropArray(prop, count) {\r\n    const result = [];\r\n    if (Array.isArray(prop)) {\r\n        result.push(...prop);\r\n        for (let i = prop.length; i < count; i++) {\r\n            result.push(null);\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 0; i < count; i++) {\r\n            result.push(prop);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction toSimpleArray(iconProps) {\r\n    if (!iconProps) {\r\n        return iconProps;\r\n    }\r\n    else if (Array.isArray(iconProps)) {\r\n        return iconProps;\r\n    }\r\n    const workData = {};\r\n    let count = 0;\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const prop = iconProps[k];\r\n        if (prop) {\r\n            if (Array.isArray(prop)) {\r\n                count = Math.max(count, prop.length);\r\n            }\r\n            else {\r\n                count = Math.max(count, 1);\r\n            }\r\n        }\r\n    });\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const arr = toPropArray(iconProps[k], count);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        workData[k] = arr;\r\n    });\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const data = {};\r\n        ICON_PROP_KEYS.forEach((k) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const val = workData[k][i];\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = val;\r\n        });\r\n        result.push(data);\r\n    }\r\n    return result;\r\n}\r\nfunction normalize(iconProps) {\r\n    const data = {};\r\n    for (const k in iconProps) {\r\n        if (k === \"className\") {\r\n            continue;\r\n        }\r\n        if (isIconKey(k)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = iconProps[k];\r\n        }\r\n    }\r\n    if (iconProps.className) {\r\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\r\n        for (const k in prop) {\r\n            if (isIconKey(k)) {\r\n                if (iconProps[k] == null) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    data[k] = prop[k];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\nfunction toNormalizeArray(iconProps) {\r\n    const icons = toSimpleArray(iconProps);\r\n    if (!icons) {\r\n        return icons;\r\n    }\r\n    return icons.map((icon) => normalize(icon));\r\n}\r\nexports.toNormalizeArray = toNormalizeArray;\r\nexports.iconPropKeys = ICON_PROP_KEYS;\r\nfunction isIconKey(k) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCacheOrLoad = exports.loadImage = void 0;\r\nconst LRUCache_1 = require(\"./LRUCache\");\r\nconst utils_1 = require(\"./utils\");\r\nconst allCache = {};\r\nfunction loadImage(src) {\r\n    if (typeof Promise === \"undefined\") {\r\n        console.error(\"Promise is not loaded. load Promise before this process.\");\r\n        return {\r\n            then() {\r\n                return this;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n    }\r\n    const img = new Image();\r\n    const result = new Promise((resolve) => {\r\n        img.onload = () => {\r\n            resolve(img);\r\n        };\r\n    });\r\n    img.onerror = () => {\r\n        const url = src.length > 200 ? `${src.slice(0, 200)}...` : src;\r\n        console.warn(`cannot load: ${url}`);\r\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\r\n    };\r\n    img.src = src;\r\n    return result;\r\n}\r\nexports.loadImage = loadImage;\r\nfunction getCacheOrLoad0(cache, src) {\r\n    return (0, utils_1.then)(src, (src) => {\r\n        const c = cache.get(src);\r\n        if (c) {\r\n            return c;\r\n        }\r\n        const result = loadImage(src).then((img) => {\r\n            cache.put(src, img);\r\n            return img;\r\n        });\r\n        cache.put(src, result);\r\n        return result;\r\n    });\r\n}\r\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\r\n    const cache = allCache[cacheName] ||\r\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\r\n    return getCacheOrLoad0(cache, src);\r\n}\r\nexports.getCacheOrLoad = getCacheOrLoad;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Path2DShim = void 0;\r\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\r\nconst parser = new PathCommandsParser_1.PathCommandsParser();\r\nclass Path2DShim {\r\n    arc(...args) {\r\n        this._ops.push({ op: \"arc\", args });\r\n    }\r\n    arcTo(...args) {\r\n        this._ops.push({ op: \"arcTo\", args });\r\n    }\r\n    bezierCurveTo(...args) {\r\n        this._ops.push({ op: \"bezierCurveTo\", args });\r\n    }\r\n    closePath(...args) {\r\n        this._ops.push({ op: \"closePath\", args });\r\n    }\r\n    ellipse(...args) {\r\n        this._ops.push({ op: \"ellipse\", args });\r\n    }\r\n    lineTo(...args) {\r\n        this._ops.push({ op: \"lineTo\", args });\r\n    }\r\n    moveTo(...args) {\r\n        this._ops.push({ op: \"moveTo\", args });\r\n    }\r\n    quadraticCurveTo(...args) {\r\n        this._ops.push({ op: \"quadraticCurveTo\", args });\r\n    }\r\n    rect(...args) {\r\n        this._ops.push({ op: \"rect\", args });\r\n    }\r\n    constructor(arg) {\r\n        this._ops = [];\r\n        if (arg === undefined) {\r\n            return;\r\n        }\r\n        if (typeof arg === \"string\") {\r\n            // try {\r\n            this._ops = parser.parse(arg);\r\n            // } catch (e) {\r\n            // \tthrow e;\r\n            // }\r\n        }\r\n        else if (arg.hasOwnProperty(\"_ops\")) {\r\n            this._ops = [...arg._ops];\r\n        }\r\n        else {\r\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\r\n        }\r\n    }\r\n    roundRect(_x, _y, _w, _h, _radii) {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}\r\nexports.Path2DShim = Path2DShim;\r\nconst { CanvasRenderingContext2D } = window;\r\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nCanvasRenderingContext2D.prototype.fill = function (...args) {\r\n    if (args[0] instanceof Path2DShim) {\r\n        const path = args[0];\r\n        this.beginPath();\r\n        path._ops.forEach((op) => {\r\n            const fn = this[op.op];\r\n            fn.apply(this, op.args);\r\n        });\r\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\r\n    }\r\n    else {\r\n        originalFill.apply(this, args);\r\n    }\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommands = void 0;\r\n/*eslint new-cap: \"off\"*/\r\nfunction mag(v) {\r\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n}\r\nfunction dot(u, v) {\r\n    return u[0] * v[0] + u[1] * v[1];\r\n}\r\nfunction ratio(u, v) {\r\n    return dot(u, v) / (mag(u) * mag(v));\r\n}\r\nfunction clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\nfunction angle(u, v) {\r\n    let sign = 1.0;\r\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\r\n        sign = -1.0;\r\n    }\r\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\r\n}\r\nfunction rotClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\r\n}\r\nfunction rotCounterClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\r\n}\r\nfunction midPoint(u, v) {\r\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\r\n}\r\nfunction meanVec(u, v) {\r\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\r\n}\r\nfunction pointMul(u, v) {\r\n    return [u[0] * v[0], u[1] * v[1]];\r\n}\r\nfunction scale(c, v) {\r\n    return [c * v[0], c * v[1]];\r\n}\r\nfunction sum(u, v) {\r\n    return [u[0] + v[0], u[1] + v[1]];\r\n}\r\n// Convert an SVG elliptical arc to a series of canvas commands.\r\n//\r\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\r\n// rx, ry: radii of the ellipse.\r\n// phi: rotation of the ellipse.\r\n// fA: large arc flag.\r\n// fS: sweep flag.\r\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\r\n    // Convert from endpoint to center parametrization, as detailed in:\r\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n    if (rx === 0 || ry === 0) {\r\n        ctx.lineTo(x2, x1);\r\n        return;\r\n    }\r\n    phi *= Math.PI / 180.0;\r\n    rx = Math.abs(rx);\r\n    ry = Math.abs(ry);\r\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\r\n    const xPrime2 = pointMul(xPrime, xPrime);\r\n    let rx2 = Math.pow(rx, 2);\r\n    let ry2 = Math.pow(ry, 2);\r\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\r\n    if (lambda > 1) {\r\n        rx *= lambda;\r\n        ry *= lambda;\r\n        rx2 = Math.pow(rx, 2);\r\n        ry2 = Math.pow(ry, 2);\r\n    }\r\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\r\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\r\n    if (fA === fS) {\r\n        factor *= -1.0;\r\n    }\r\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\r\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\r\n    const x1UnitVector = [\r\n        (xPrime[0] - cPrime[0]) / rx,\r\n        (xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const x2UnitVector = [\r\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\r\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\r\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\r\n    const start = theta;\r\n    const end = theta + deltaTheta;\r\n    ctx.save();\r\n    ctx.translate(c[0], c[1]);\r\n    ctx.rotate(phi);\r\n    ctx.scale(rx, ry);\r\n    ctx.arc(0, 0, 1, start, end, !fS);\r\n    ctx.restore();\r\n}\r\nclass PathCommands {\r\n    constructor(ctx) {\r\n        let lMx;\r\n        let lMy;\r\n        let lx = 0;\r\n        let ly = 0;\r\n        let reflected;\r\n        let lastCommand = \"\";\r\n        function makeReflected() {\r\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\r\n                return { x: lx, y: ly };\r\n            }\r\n            return reflected;\r\n        }\r\n        this.M = (px, py) => {\r\n            ctx.moveTo(px, py);\r\n            lMx = px;\r\n            lMy = py;\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"M\";\r\n            return this;\r\n        };\r\n        this.m = (px, py) => this.M(px + lx, py + ly);\r\n        this.L = (px, py) => {\r\n            ctx.lineTo(px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"L\";\r\n            return this;\r\n        };\r\n        this.l = (px, py) => this.L(px + lx, py + ly);\r\n        this.H = (px) => this.L(px, ly);\r\n        this.h = (px) => this.H(px + lx);\r\n        this.V = (py) => this.L(lx, py);\r\n        this.v = (py) => this.V(py + ly);\r\n        this.Z = () => {\r\n            ctx.closePath();\r\n            lx = lMx;\r\n            ly = lMy;\r\n            lastCommand = \"Z\";\r\n            return this;\r\n        };\r\n        this.z = () => this.Z();\r\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\r\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\r\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cp2x,\r\n                y: 2 * py - cp2y,\r\n            };\r\n            lastCommand = \"C\";\r\n            return this;\r\n        };\r\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\r\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\r\n        this.S = (cpx, cpy, px, py) => {\r\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\r\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\r\n        };\r\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\r\n        this.Q = (cpx, cpy, px, py) => {\r\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cpx,\r\n                y: 2 * py - cpy,\r\n            };\r\n            lastCommand = \"Q\";\r\n            return this;\r\n        };\r\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //T x y (or t dx dy)\r\n        this.T = (px, py) => {\r\n            const { x: cpx, y: cpy } = makeReflected();\r\n            return this.Q(cpx, cpy, px, py);\r\n        };\r\n        this.t = (px, py) => this.T(px + lx, py + ly);\r\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\r\n            const x1 = lx;\r\n            const y1 = ly;\r\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"A\";\r\n            return this;\r\n        };\r\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\r\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\r\n    }\r\n}\r\nexports.PathCommands = PathCommands;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommandsParser = void 0;\r\nconst PathCommands_1 = require(\"./PathCommands\");\r\nfunction pathTokens(d) {\r\n    let idx = 0;\r\n    return {\r\n        next() {\r\n            let s = \"\";\r\n            while (d.length > idx) {\r\n                const c = d[idx];\r\n                idx++;\r\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\r\n                    if (s) {\r\n                        return s;\r\n                    }\r\n                }\r\n                else {\r\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\r\n                    if (type === \"str\") {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                        return c;\r\n                    }\r\n                    if (\"-+\".indexOf(c) > -1) {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    if (c === \".\") {\r\n                        if (s.indexOf(\".\") > -1) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    s += c;\r\n                }\r\n            }\r\n            return s || null;\r\n        },\r\n    };\r\n}\r\nfunction command(builder, cmd, argsProvider) {\r\n    if (cmd.toUpperCase() === \"M\" ||\r\n        cmd.toUpperCase() === \"L\" ||\r\n        cmd.toUpperCase() === \"T\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\r\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\r\n        builder.command(cmd, argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"Z\") {\r\n        builder.command(cmd);\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"C\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"A\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else {\r\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\r\n        console.warn(`unsupported:${cmd}`);\r\n    }\r\n    return null;\r\n}\r\nclass PathCommandsParser {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._ops = [];\r\n        this._commands = new PathCommands_1.PathCommands(this);\r\n        const buildPush = (op) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (...args) => {\r\n            this._ops.push({\r\n                op,\r\n                args,\r\n            });\r\n        };\r\n        this.moveTo = buildPush(\"moveTo\");\r\n        this.lineTo = buildPush(\"lineTo\");\r\n        this.closePath = buildPush(\"closePath\");\r\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\r\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\r\n        this.save = buildPush(\"save\");\r\n        this.translate = buildPush(\"translate\");\r\n        this.rotate = buildPush(\"rotate\");\r\n        this.scale = buildPush(\"scale\");\r\n        this.arc = buildPush(\"arc\");\r\n        this.restore = buildPush(\"restore\");\r\n        this.arcTo = buildPush(\"arcTo\");\r\n        this.ellipse = buildPush(\"ellipse\");\r\n        this.rect = buildPush(\"rect\");\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    command(name, ...args) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const numArgs = args || [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            numArgs[i] -= 0;\r\n        }\r\n        const command = this._commands[name];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        command.apply(this, numArgs);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    parse(d) {\r\n        const ops = (this._ops = []);\r\n        const tokens = pathTokens(d);\r\n        try {\r\n            let cmd;\r\n            let subsequentCommand = \"Z\";\r\n            while ((cmd = tokens.next())) {\r\n                if (!isNaN(Number(cmd))) {\r\n                    let fst = true;\r\n                    const argsProvider = {\r\n                        next() {\r\n                            if (fst) {\r\n                                fst = false;\r\n                                return cmd;\r\n                            }\r\n                            return tokens.next();\r\n                        },\r\n                    };\r\n                    subsequentCommand =\r\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\r\n                }\r\n                else {\r\n                    subsequentCommand =\r\n                        command(this, cmd, tokens) || \"Z\";\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(`Error: ${d}`);\r\n            throw e;\r\n        }\r\n        return ops;\r\n    }\r\n}\r\nexports.PathCommandsParser = PathCommandsParser;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FontRuler = void 0;\r\nfunction computeStyle(font) {\r\n    return [\r\n        {\r\n            display: \"block\",\r\n            position: \"absolute\",\r\n            top: \"-9999px\",\r\n            left: \"-9999px\",\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            margin: \"0\",\r\n            padding: \"0\",\r\n            \"white-space\": \"nowrap\",\r\n            font,\r\n        },\r\n        {\r\n            \"font-variant\": \"normal\",\r\n            \"font-size\": \"300px\",\r\n            \"font-style\": \"normal\",\r\n            \"font-weight\": \"400\",\r\n            \"line-height\": \"normal\",\r\n        },\r\n    ];\r\n}\r\nclass FontRuler {\r\n    constructor(font, testStr) {\r\n        const e = document.createElement(\"span\");\r\n        e.setAttribute(\"aria-hidden\", \"true\");\r\n        e.textContent = testStr || \"BESbswy\";\r\n        computeStyle(font).forEach((style) => {\r\n            for (const k in style) {\r\n                const key = k;\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                e.style[key] = style[key];\r\n            }\r\n        });\r\n        document.body.appendChild(e);\r\n        this.el_ = e;\r\n    }\r\n    getWidth() {\r\n        return this.el_.offsetWidth;\r\n    }\r\n    remove() {\r\n        document.body.removeChild(this.el_);\r\n    }\r\n}\r\nexports.FontRuler = FontRuler;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\r\nconst FontRuler_1 = require(\"./FontRuler\");\r\nconst LastResortFonts = {\r\n    SERIF: \"serif\",\r\n    SANS_SERIF: \"sans-serif\",\r\n};\r\nconst watchRunners = {};\r\nclass FontWatchRunner {\r\n    static load(font, testStr, activeCallback, inactiveCallback) {\r\n        const c = watchRunners[font] || (watchRunners[font] = {});\r\n        testStr += \"\";\r\n        let runner;\r\n        if (c[testStr]) {\r\n            runner = c[testStr];\r\n        }\r\n        else {\r\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\r\n        }\r\n        runner.then(activeCallback, inactiveCallback);\r\n    }\r\n    constructor(font, testStr) {\r\n        this.activeCallbacks = [];\r\n        this.inactiveCallbacks = [];\r\n        this.status = null;\r\n        this.lastResortWidths_ = {};\r\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\r\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\r\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\r\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\r\n        //start\r\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\r\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] =\r\n            lastResortRulerB.getWidth();\r\n        lastResortRulerA.remove();\r\n        lastResortRulerB.remove();\r\n        this.started_ = Date.now();\r\n        this.check_();\r\n    }\r\n    then(activeCallback, inactiveCallback) {\r\n        if (this.status) {\r\n            if (this.status !== \"ng\") {\r\n                activeCallback();\r\n            }\r\n            else {\r\n                inactiveCallback();\r\n            }\r\n        }\r\n        else {\r\n            this.activeCallbacks.push(activeCallback);\r\n            this.inactiveCallbacks.push(inactiveCallback);\r\n        }\r\n    }\r\n    check_() {\r\n        const widthA = this.fontRulerA_.getWidth();\r\n        const widthB = this.fontRulerB_.getWidth();\r\n        if (this.isFallbackFont_(widthA, widthB) ||\r\n            this.isLastResortFont_(widthA, widthB)) {\r\n            if (Date.now() - this.started_ >= 3000) {\r\n                // timeout\r\n                if (this.isLastResortFont_(widthA, widthB)) {\r\n                    this.finish_(this.activeCallbacks);\r\n                    this.status = \"ok\";\r\n                }\r\n                else {\r\n                    this.finish_(this.inactiveCallbacks);\r\n                    this.status = \"ng\";\r\n                }\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this.check_();\r\n                }, 50);\r\n            }\r\n        }\r\n        else {\r\n            this.finish_(this.activeCallbacks);\r\n            this.status = \"ok\";\r\n        }\r\n    }\r\n    isFallbackFont_(a, b) {\r\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\r\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\r\n    }\r\n    widthsMatchLastResortWidths_(a, b) {\r\n        for (const font in LastResortFonts) {\r\n            if (LastResortFonts.hasOwnProperty(font)) {\r\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\r\n                    this.widthMatches_(b, LastResortFonts[font])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    widthMatches_(width, lastResortFont) {\r\n        return width === this.lastResortWidths_[lastResortFont];\r\n    }\r\n    isLastResortFont_(a, b) {\r\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\r\n    }\r\n    finish_(callbacks) {\r\n        setTimeout(() => {\r\n            this.fontRulerA_.remove();\r\n            this.fontRulerB_.remove();\r\n            callbacks.forEach((cb) => cb());\r\n        }, 0);\r\n    }\r\n}\r\nlet HAS_WEBKIT_FALLBACK_BUG = null;\r\nfunction hasWebKitFallbackBug() {\r\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\r\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\r\n        HAS_WEBKIT_FALLBACK_BUG =\r\n            !!match &&\r\n                (parseInt(match[1], 10) < 536 ||\r\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\r\n    }\r\n    return HAS_WEBKIT_FALLBACK_BUG;\r\n}\r\nmodule.exports = FontWatchRunner;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.normalizeToFn = exports.normalize = void 0;\r\n/** @private */\r\nfunction extend(a, b) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const o = {};\r\n    for (const k in a) {\r\n        o[k] = a[k];\r\n    }\r\n    for (const k in b) {\r\n        o[k] = b[k];\r\n    }\r\n    return o;\r\n}\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalize(options) {\r\n    if (!options) {\r\n        return [];\r\n    }\r\n    if (Array.isArray(options)) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return options.map(\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (e) => extend(e, { label: e.caption || e.label }));\r\n    }\r\n    if (typeof options === \"string\") {\r\n        return normalize(JSON.parse(options));\r\n    }\r\n    const result = [];\r\n    for (const k in options) {\r\n        result.push({\r\n            value: k,\r\n            label: options[k],\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.normalize = normalize;\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalizeToFn(options) {\r\n    if (typeof options === \"function\") {\r\n        return (record) => normalize(options(record));\r\n    }\r\n    return () => normalize(options);\r\n}\r\nexports.normalizeToFn = normalizeToFn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parsePasteRangeBoxValues = exports.normalizePasteValue = void 0;\r\nfunction normalizePasteValue(text) {\r\n    return text[text.length - 1] !== \"\\n\"\r\n        ? text\r\n        : text[text.length - 2] === \"\\r\"\r\n            ? text.slice(0, -2)\r\n            : text.slice(0, -1);\r\n}\r\nexports.normalizePasteValue = normalizePasteValue;\r\nfunction parsePasteRangeBoxValues(value, option) {\r\n    const normalizedValue = normalizePasteValue(value);\r\n    const { values, colCount } = parseValues(normalizedValue, option);\r\n    return {\r\n        colCount,\r\n        rowCount: values.length,\r\n        getCellValue(offsetCol, offsetRow) {\r\n            var _a, _b;\r\n            return (_b = (_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) !== null && _b !== void 0 ? _b : \"\";\r\n        },\r\n    };\r\n}\r\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\r\nfunction parseValues(text, { trimOnPaste }) {\r\n    const len = text.length;\r\n    const adjustCell = trimOnPaste\r\n        ? (cell) => cell.trim()\r\n        : (cell) => cell;\r\n    let colCount = 1;\r\n    let line = [];\r\n    const values = [line];\r\n    let cell = \"\";\r\n    for (let index = 0; index < len; index++) {\r\n        const char = text[index];\r\n        if (char === \"\\t\") {\r\n            line.push(adjustCell(cell));\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === \"\\n\") {\r\n            // End of line\r\n            cell = adjustCell(cell);\r\n            if (cell[cell.length - 1] === \"\\r\") {\r\n                cell = cell.slice(0, -1);\r\n            }\r\n            line.push(cell);\r\n            colCount = Math.max(colCount, line.length);\r\n            line = [];\r\n            values.push(line);\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === '\"' && !cell.trim()) {\r\n            const quoted = processQuotedCell(index + 1);\r\n            if (quoted) {\r\n                ({ cell } = quoted);\r\n                index = quoted.next - 1;\r\n                continue;\r\n            }\r\n        }\r\n        cell += char;\r\n    }\r\n    // End of text\r\n    line.push(adjustCell(cell));\r\n    colCount = Math.max(colCount, line.length);\r\n    return { values, colCount };\r\n    function processQuotedCell(start) {\r\n        let cell = \"\";\r\n        let index = start;\r\n        while (index < len) {\r\n            const char = text[index];\r\n            if (char !== '\"') {\r\n                cell += char;\r\n                index++;\r\n                continue;\r\n            }\r\n            if (text[index + 1] === '\"') {\r\n                // Escape\r\n                cell += '\"';\r\n                index += 2;\r\n                continue;\r\n            }\r\n            // Maybe end quote\r\n            let next = index + 1;\r\n            while (next < len) {\r\n                const c = text[next];\r\n                if (c.trim()) {\r\n                    // Not quoted. e.g. \"A\"B\r\n                    return null;\r\n                }\r\n                if (c === \"\\t\" || c === \"\\n\") {\r\n                    break;\r\n                }\r\n                // Allow spaces\r\n                next++;\r\n            }\r\n            // End quote\r\n            return { cell, next };\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fill = exports.getPath2D = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction getPath2D() {\r\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\r\n        return Path2D;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\r\n}\r\nexports.getPath2D = getPath2D;\r\nfunction fill(pathModule, ctx, x, y, w, h) {\r\n    ctx.save();\r\n    try {\r\n        const { width, height } = pathModule;\r\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\r\n        w = w || width;\r\n        h = h || height;\r\n        const xrate = w / width;\r\n        const yrate = h / (upsideDown ? -height : height);\r\n        x = x || 0;\r\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\r\n        ctx.translate(x, y);\r\n        ctx.scale(xrate, yrate);\r\n        if (offsetX !== 0 || offsetY !== 0) {\r\n            ctx.translate(offsetX, offsetY);\r\n        }\r\n        const Path2D = getPath2D();\r\n        const path2d = (pathModule.path2d =\r\n            pathModule.path2d || new Path2D(pathModule.d));\r\n        ctx.fill(path2d);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fill = fill;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction createArray(get, length) {\r\n    const array = new Array(length);\r\n    for (let i = 0; i < length; i++) {\r\n        array[i] = get(i);\r\n    }\r\n    return array;\r\n}\r\nfunction createArrayPromise(get, getField, length\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) {\r\n    return new Promise((resolve) => {\r\n        const plist = [];\r\n        const array = new Array(length);\r\n        for (let i = 0; i < length; i++) {\r\n            const data = get(i);\r\n            const record = {\r\n                v: data,\r\n                f: data,\r\n            };\r\n            array[i] = record;\r\n            if ((0, utils_1.isPromise)(data)) {\r\n                plist.push(data.then((v) => {\r\n                    record.v = v;\r\n                    record.f = v;\r\n                }));\r\n            }\r\n        }\r\n        Promise.all(plist)\r\n            .then(() => getField == null\r\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                array\r\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                setArrayField(array, getField))\r\n            .then(resolve);\r\n    });\r\n}\r\nfunction setArrayField(array, getField) {\r\n    return new Promise((resolve) => {\r\n        const { length } = array;\r\n        const plist = [];\r\n        for (let i = 0; i < length; i++) {\r\n            const record = array[i];\r\n            const f = getField(record.v);\r\n            if ((0, utils_1.isPromise)(f)) {\r\n                plist.push(f.then((v) => {\r\n                    record.f = v;\r\n                }));\r\n            }\r\n            else {\r\n                record.f = f;\r\n            }\r\n        }\r\n        Promise.all(plist).then(() => resolve(array));\r\n    });\r\n}\r\nfunction sortArray(array, compare) {\r\n    Array.prototype.sort.call(array, compare);\r\n}\r\nexports.sortArray = sortArray;\r\nfunction sort(get, set, length, compare, getField) {\r\n    const old = createArray(get, length);\r\n    if (getField != null) {\r\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\r\n    }\r\n    else {\r\n        old.sort(compare);\r\n    }\r\n    for (let i = 0; i < length; i++) {\r\n        set(i, old[i]);\r\n    }\r\n}\r\nexports.sort = sort;\r\nfunction sortPromise(get, set, length, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ncompare, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngetField) {\r\n    if (typeof Promise !== \"undefined\") {\r\n        return createArrayPromise(get, getField, length).then((array) => {\r\n            array.sort((r1, r2) => compare(r1.f, r2.f));\r\n            for (let i = 0; i < length; i++) {\r\n                set(i, array[i].v);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        sort(get, set, length, compare, getField);\r\n        const dummyPromise = {\r\n            then(fn) {\r\n                fn();\r\n                return dummyPromise;\r\n            },\r\n            catch() {\r\n                return dummyPromise;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n        return dummyPromise;\r\n    }\r\n}\r\nexports.sortPromise = sortPromise;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getScrollBarSize = exports.initDocument = void 0;\r\nfunction getScrollBarWidth() {\r\n    const wrapper = document.createElement(\"div\");\r\n    const inner = document.createElement(\"div\");\r\n    const { style: wrapperStyle } = wrapper;\r\n    wrapperStyle.position = \"fixed\";\r\n    wrapperStyle.height = \"50px\";\r\n    wrapperStyle.width = \"50px\";\r\n    wrapperStyle.overflow = \"scroll\";\r\n    wrapperStyle.opacity = \"0\";\r\n    wrapperStyle.pointerEvents = \"none\";\r\n    const { style } = inner;\r\n    style.height = \"100%\";\r\n    style.width = \"100%\";\r\n    inner.textContent = \"x\";\r\n    wrapper.appendChild(inner);\r\n    document.body.appendChild(wrapper);\r\n    const wrapperWidth = wrapper.getBoundingClientRect().width;\r\n    const innerWidth = inner.getBoundingClientRect().width;\r\n    document.body.removeChild(wrapper);\r\n    return Math.ceil(wrapperWidth - innerWidth);\r\n}\r\nlet SCROLLBAR_SIZE;\r\nfunction initDocumentInternal() {\r\n    require(\"@/internal/style.css\");\r\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\r\n    const style = document.createElement(\"style\");\r\n    style.setAttribute(\"type\", \"text/css\");\r\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\r\n    style.innerHTML = `\r\n.cheetah-grid .grid-scroll-end-point {\r\n\twidth: ${SCROLLBAR_SIZE}px;\r\n\theight: ${SCROLLBAR_SIZE}px;\r\n}\r\n.cheetah-grid > canvas {\r\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\r\n}\r\n\t\t`;\r\n    document.head.appendChild(style);\r\n}\r\nlet initDocumentVar = initDocumentInternal;\r\nfunction initDocument() {\r\n    initDocumentVar();\r\n    initDocumentVar = Function.prototype;\r\n}\r\nexports.initDocument = initDocument;\r\nfunction getScrollBarSize() {\r\n    return SCROLLBAR_SIZE;\r\n}\r\nexports.getScrollBarSize = getScrollBarSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst utils_1 = require(\"./utils\");\r\nconst Symbol = utils_1.isNode\r\n    ? global.Symbol\r\n    : window.Symbol\r\n        ? window.Symbol\r\n        : (() => {\r\n            function random() {\r\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\r\n                const cl = c.length;\r\n                let r = \"\";\r\n                for (let i = 0; i < 10; i++) {\r\n                    r += c[Math.floor(Math.random() * cl)];\r\n                }\r\n                return r;\r\n            }\r\n            return (name) => {\r\n                if (name) {\r\n                    return `#${name}_${random()}`;\r\n                }\r\n                else {\r\n                    return `#_${random()}`;\r\n                }\r\n            };\r\n        })();\r\nconst mem = {};\r\nfunction get(name) {\r\n    if (name) {\r\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\r\n    }\r\n    else {\r\n        return Symbol();\r\n    }\r\n}\r\nexports.get = get;\r\nfunction getProtectedSymbol() {\r\n    return get(\"protected\");\r\n}\r\nexports.getProtectedSymbol = getProtectedSymbol;\r\nfunction getCheckColumnStateId() {\r\n    return get(\"chkcol.stateID\");\r\n}\r\nexports.getCheckColumnStateId = getCheckColumnStateId;\r\nfunction getRadioColumnStateId() {\r\n    return get(\"rdcol.stateID\");\r\n}\r\nexports.getRadioColumnStateId = getRadioColumnStateId;\r\nfunction getButtonColumnStateId() {\r\n    return get(\"btncol.stateID\");\r\n}\r\nexports.getButtonColumnStateId = getButtonColumnStateId;\r\nfunction getColumnFadeinStateId() {\r\n    return get(\"col.fadein_stateID\");\r\n}\r\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\r\nfunction getBranchGraphColumnStateId() {\r\n    return get(\"branch_graph_col.stateID\");\r\n}\r\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\r\nfunction getSmallDialogInputEditorStateId() {\r\n    return get(\"small_dialog_input_editor.stateID\");\r\n}\r\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\r\nfunction getInlineInputEditorStateId() {\r\n    return get(\"inline_input_editor.stateID\");\r\n}\r\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\r\nfunction getInlineMenuEditorStateId() {\r\n    return get(\"inline_menu_editor.stateID\");\r\n}\r\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\r\nfunction getCheckHeaderStateId() {\r\n    return get(\"check_header.stateID\");\r\n}\r\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\r\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\r\nexports.isNode = isNode;\r\nlet arrayFind;\r\nlet arrayFindIndex;\r\nconst array = {\r\n    get find() {\r\n        if (arrayFind) {\r\n            return arrayFind;\r\n        }\r\n        if (Array.prototype.find) {\r\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFind = (arr, predicate) => {\r\n                const index = array.findIndex(arr, predicate);\r\n                return index >= 0 ? arr[index] : undefined;\r\n            };\r\n        }\r\n        return arrayFind;\r\n    },\r\n    get findIndex() {\r\n        if (arrayFindIndex) {\r\n            return arrayFindIndex;\r\n        }\r\n        if (Array.prototype.findIndex) {\r\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFindIndex = (arr, predicate) => {\r\n                const { length } = arr;\r\n                for (let i = 0; i < length; i++) {\r\n                    const value = arr[i];\r\n                    if (predicate(value, i, arr)) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            };\r\n        }\r\n        return arrayFindIndex;\r\n    },\r\n};\r\nexports.array = array;\r\nfunction analyzeUserAgent() {\r\n    if (isNode) {\r\n        return {\r\n            IE: false,\r\n            Edge: false,\r\n            Chrome: false,\r\n            Firefox: false,\r\n            Safari: false,\r\n        };\r\n    }\r\n    else {\r\n        const ua = window.navigator.userAgent.toLowerCase();\r\n        return {\r\n            IE: !!/(msie|trident)/.exec(ua),\r\n            Edge: ua.indexOf(\"edge\") > -1,\r\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\r\n            Firefox: ua.indexOf(\"firefox\") > -1,\r\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\r\n        };\r\n    }\r\n}\r\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\r\nfunction setReadonly(obj, name, value) {\r\n    Object.defineProperty(obj, name, {\r\n        enumerable: false,\r\n        configurable: true,\r\n        value,\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction each(obj, fn) {\r\n    for (const key in obj) {\r\n        fn(obj[key], key, obj);\r\n    }\r\n}\r\nexports.each = each;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction isObject(obj) {\r\n    return obj === Object(obj);\r\n}\r\nfunction omit(source, omits) {\r\n    const result = {};\r\n    for (const key in source) {\r\n        if (omits.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                return source[key];\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.omit = omit;\r\nfunction defaults(source, defs) {\r\n    const keys = [];\r\n    const result = {};\r\n    for (const key in source) {\r\n        keys.push(key);\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    for (const key in defs) {\r\n        if (keys.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.defaults = defaults;\r\nfunction extend(...args) {\r\n    const result = {};\r\n    args.forEach((source) => {\r\n        for (const key in source) {\r\n            Object.defineProperty(result, key, {\r\n                get() {\r\n                    return source[key];\r\n                },\r\n                set(val) {\r\n                    source[key] = val;\r\n                },\r\n                configurable: true,\r\n                enumerable: true,\r\n            });\r\n        }\r\n    });\r\n    return result;\r\n}\r\nexports.extend = extend;\r\nfunction isDescendantElement(root, target) {\r\n    while (target.parentElement) {\r\n        const p = target.parentElement;\r\n        if (root === p) {\r\n            return true;\r\n        }\r\n        target = p;\r\n    }\r\n    return false;\r\n}\r\nexports.isDescendantElement = isDescendantElement;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nfunction applyChainSafe(obj, fn, ...names) {\r\n    let value = obj;\r\n    for (let i = 0; i < names.length && value != null; i++) {\r\n        value = fn(value, names[i]);\r\n    }\r\n    return value;\r\n}\r\nexports.applyChainSafe = applyChainSafe;\r\nfunction getChainSafe(obj, ...names) {\r\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\r\n}\r\nexports.getChainSafe = getChainSafe;\r\nfunction getOrApply(value, ...args) {\r\n    if (typeof value === \"function\") {\r\n        return value(...args);\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nexports.getOrApply = getOrApply;\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\r\nfunction endsWith(str, searchString, position) {\r\n    const subjectString = str.toString();\r\n    if (typeof position !== \"number\" ||\r\n        !isFinite(position) ||\r\n        Math.floor(position) !== position ||\r\n        position > subjectString.length) {\r\n        position = subjectString.length;\r\n    }\r\n    position -= searchString.length;\r\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\r\n    return lastIndex !== -1 && lastIndex === position;\r\n}\r\nfunction genChars(s) {\r\n    // Surrogate Code Point\r\n    // [\\uD800-\\uDBFF]\r\n    // Variation Selectors\r\n    // FVS [\\u180B-\\u180D]\r\n    // VS1VS16 [\\uFE00-\\uFE0F]\r\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\r\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction genWords(s) {\r\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction isPromise(data) {\r\n    return Boolean(data && typeof data.then === \"function\");\r\n}\r\nexports.isPromise = isPromise;\r\nfunction then(result, callback) {\r\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\r\n}\r\nexports.then = then;\r\nfunction getMouseButtons(e) {\r\n    if (e.buttons != null) {\r\n        return e.buttons;\r\n    }\r\n    /*for legacy*/\r\n    if (e.which != null) {\r\n        if (e.which === 3) {\r\n            //right?\r\n            return 4;\r\n        }\r\n        if (e.which === 2) {\r\n            //middle?\r\n            return 4;\r\n        }\r\n        return e.which; //left or no\r\n    }\r\n    if (e.button === 0 || e.button === 1) {\r\n        return 1; //candidate left\r\n    }\r\n    if (e.button === 2) {\r\n        return 2; // right\r\n    }\r\n    return 0; //no or middle?\r\n}\r\nfunction getKeyCode(e) {\r\n    return e.keyCode || e.which;\r\n}\r\nfunction isTouchEvent(e) {\r\n    return !!e.changedTouches;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getIgnoreCase(obj, name) {\r\n    if (obj[name]) {\r\n        return obj[name];\r\n    }\r\n    const l = name.toLowerCase();\r\n    if (obj[l]) {\r\n        return obj[l];\r\n    }\r\n    const u = name.toLowerCase();\r\n    if (obj[u]) {\r\n        return obj[u];\r\n    }\r\n    for (const k in obj) {\r\n        if (k.toLowerCase() === l) {\r\n            return obj[k];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nexports.getIgnoreCase = getIgnoreCase;\r\nfunction cancel(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n}\r\nfunction toBoxArray(obj) {\r\n    if (!Array.isArray(obj)) {\r\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\r\n    }\r\n    if (obj.length === 3) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[2] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 2) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 1) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[0] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[0] /*left*/,\r\n        ];\r\n    }\r\n    return obj;\r\n}\r\nfunction cellEquals(a, b) {\r\n    return a.col === b.col && a.row === b.row;\r\n}\r\nexports.cellEquals = cellEquals;\r\nfunction cellInRange(range, col, row) {\r\n    return (range.start.col <= col &&\r\n        col <= range.end.col &&\r\n        range.start.row <= row &&\r\n        row <= range.end.row);\r\n}\r\nexports.cellInRange = cellInRange;\r\nexports.browser = {\r\n    IE,\r\n    Edge,\r\n    Chrome,\r\n    Firefox,\r\n    Safari,\r\n    // Chrome 16777216 (onl Chrome 33554431)\r\n    // FireFox 17895588\r\n    // IE 10737433\r\n    heightLimit: Chrome ? 16777216 : Firefox ? 17895588 : 10737433, // default IE limit\r\n};\r\nexports.obj = {\r\n    setReadonly,\r\n    isObject,\r\n};\r\nexports.str = {\r\n    endsWith,\r\n    genChars,\r\n    genWords,\r\n};\r\nexports.event = {\r\n    getMouseButtons,\r\n    getKeyCode,\r\n    isTouchEvent,\r\n    cancel,\r\n};\r\nexports.style = {\r\n    toBoxArray,\r\n};\r\nexports.emptyFn = Function.prototype;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LG_EVENT_TYPE = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nexports.LG_EVENT_TYPE = (0, utils_1.extend)(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\r\n    BEFORE_CHANGE_VALUE: \"before_change_value\",\r\n    CHANGED_VALUE: \"changed_value\",\r\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\r\n    REJECTED_PASTE_VALUES: \"rejected_paste_values\",\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = exports.SimpleHeaderLayoutMap = void 0;\r\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\r\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\r\nvar multi_layout_1 = require(\"./internal/multi-layout\");\r\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nfunction normalizeLayout(layout) {\r\n    if (Array.isArray(layout)) {\r\n        return {\r\n            header: layout,\r\n            body: layout,\r\n        };\r\n    }\r\n    return layout;\r\n}\r\nlet seqId = 0;\r\nclass LayoutObjectGrid {\r\n    constructor(layout, transform) {\r\n        this.objects = [];\r\n        this.objectGrid = [];\r\n        this.objectMap = {};\r\n        this.columnCount = 0;\r\n        this.columnWidths = [];\r\n        layout.forEach((rowLayout, row) => {\r\n            let col = 0;\r\n            rowLayout.forEach((cell) => {\r\n                var _a, _b;\r\n                const id = seqId++;\r\n                const obj = transform(cell, id);\r\n                this.objects.push(obj);\r\n                this.objectMap[id] = obj;\r\n                col = this._findStartCell(col, row);\r\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\r\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\r\n                const endRow = row + rowSpan;\r\n                const endCol = col + colSpan;\r\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\r\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\r\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\r\n                        objectGridRow[colIndex] = obj;\r\n                    }\r\n                }\r\n                if (colSpan === 1) {\r\n                    this._setWidthDataIfAbsent(col, cell);\r\n                }\r\n                this._useColumnIndex(endCol - 1);\r\n                col = endCol;\r\n            });\r\n        });\r\n    }\r\n    get rowCount() {\r\n        return this.objectGrid.length;\r\n    }\r\n    _findStartCell(col, row) {\r\n        const objectGridRow = this._getObjectGridRow(row);\r\n        for (let index = col; index < objectGridRow.length; index++) {\r\n            if (!objectGridRow[index]) {\r\n                return index;\r\n            }\r\n        }\r\n        return objectGridRow.length;\r\n    }\r\n    _getObjectGridRow(row) {\r\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\r\n    }\r\n    _useColumnIndex(col) {\r\n        if (this.columnCount > col) {\r\n            return;\r\n        }\r\n        this.columnCount = col + 1;\r\n    }\r\n    _setWidthDataIfAbsent(col, cell) {\r\n        if (!this.columnWidths[col]) {\r\n            if (cell.width != null ||\r\n                cell.maxWidth != null ||\r\n                cell.minWidth != null) {\r\n                this.columnWidths[col] = {\r\n                    width: cell.width,\r\n                    maxWidth: cell.maxWidth,\r\n                    minWidth: cell.minWidth,\r\n                };\r\n            }\r\n        }\r\n    }\r\n}\r\nclass MultiLayoutMap {\r\n    constructor(layout) {\r\n        this._columnWidths = [];\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        const hbLayouut = normalizeLayout(layout);\r\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\r\n            return {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n        }));\r\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\r\n            return {\r\n                id,\r\n                field: colDef.field,\r\n                width: colDef.width,\r\n                minWidth: colDef.minWidth,\r\n                maxWidth: colDef.maxWidth,\r\n                icon: colDef.icon,\r\n                message: colDef.message,\r\n                columnType: columns.type.of(colDef.columnType),\r\n                action: columns.action.of(colDef.action),\r\n                style: colDef.style,\r\n                define: colDef,\r\n            };\r\n        }));\r\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\r\n        for (let col = 0; col < columnCount; col++) {\r\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\r\n            this._columnWidths[col] = widthDef;\r\n        }\r\n    }\r\n    get columnWidths() {\r\n        return this._columnWidths;\r\n    }\r\n    get headerRowCount() {\r\n        return this._header.rowCount;\r\n    }\r\n    get bodyRowCount() {\r\n        return this._body.rowCount;\r\n    }\r\n    get colCount() {\r\n        return this._columnCount;\r\n    }\r\n    get headerObjects() {\r\n        return this._header.objects;\r\n    }\r\n    get columnObjects() {\r\n        return this._body.objects;\r\n    }\r\n    getCellId(col, row) {\r\n        var _a, _b, _c, _d;\r\n        if (this.headerRowCount <= row) {\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        }\r\n        //in header\r\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._header.objectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._body.objectMap[id] ||\r\n            this._emptyDataCache.getBody(col, row));\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        var _a;\r\n        for (let row = 0; row < this.bodyRowCount; row++) {\r\n            const objectGridRow = this._body.objectGrid[row];\r\n            if (!objectGridRow) {\r\n                continue;\r\n            }\r\n            for (let col = 0; col < this.colCount; col++) {\r\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\r\n                    return this._getCellRange(this._body, col, row, 0);\r\n                }\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            const recordIndex = this.getRecordIndexByRow(row);\r\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\r\n        }\r\n        //in header\r\n        return this._getCellRange(this._header, col, row, 0);\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            const bodyRow = row - this.headerRowCount;\r\n            return Math.floor(bodyRow / this.bodyRowCount);\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index * this.bodyRowCount;\r\n    }\r\n    _getCellRange(\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    layout, col, layoutRow, offsetRow) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n        const result = {\r\n            start: { col, row: layoutRow + offsetRow },\r\n            end: { col, row: layoutRow + offsetRow },\r\n        };\r\n        const { objectGrid } = layout;\r\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        if (id == null) {\r\n            return result;\r\n        }\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < layout.columnCount; c++) {\r\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = layoutRow - 1; r >= 0; r--) {\r\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\r\n                break;\r\n            }\r\n            result.start.row = r + offsetRow;\r\n        }\r\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\r\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\r\n                break;\r\n            }\r\n            result.end.row = r + offsetRow;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.MultiLayoutMap = MultiLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SimpleHeaderLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nlet seqId = 0;\r\nclass SimpleHeaderLayoutMap {\r\n    constructor(header) {\r\n        this.bodyRowCount = 1;\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        this._columns = [];\r\n        this._headerCellIds = [];\r\n        this._headerObjects = this._addHeaders(0, header, []);\r\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\r\n            o[e.id] = e;\r\n            return o;\r\n        }, {});\r\n    }\r\n    get columnWidths() {\r\n        return this._columns;\r\n    }\r\n    get headerRowCount() {\r\n        return this._headerCellIds.length;\r\n    }\r\n    get colCount() {\r\n        return this._columns.length;\r\n    }\r\n    get headerObjects() {\r\n        return this._headerObjects;\r\n    }\r\n    get columnObjects() {\r\n        return this._columns;\r\n    }\r\n    getCellId(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            return this._columns[col].id;\r\n        }\r\n        //in header\r\n        return this._headerCellIds[row][col];\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._headerObjectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, _row) {\r\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        for (let col = 0; col < this.colCount; col++) {\r\n            if (id === this._columns[col].id) {\r\n                return {\r\n                    start: { col, row: 0 },\r\n                    end: { col, row: 0 },\r\n                };\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        const result = { start: { col, row }, end: { col, row } };\r\n        if (this.headerRowCount <= row) {\r\n            return result;\r\n        }\r\n        //in header\r\n        const id = this.getCellId(col, row);\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < this.colCount; c++) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = row - 1; r >= 0; r--) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.start.row = r;\r\n        }\r\n        for (let r = row + 1; r < this.headerRowCount; r++) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.end.row = r;\r\n        }\r\n        return result;\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            return row - this.headerRowCount;\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index;\r\n    }\r\n    _addHeaders(row, header, roots) {\r\n        const results = [];\r\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\r\n        header.forEach((hd) => {\r\n            const col = this._columns.length;\r\n            const id = seqId++;\r\n            const cell = {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n            results[id] = cell;\r\n            rowCells[col] = id;\r\n            for (let r = row - 1; r >= 0; r--) {\r\n                this._headerCellIds[r][col] = roots[r];\r\n            }\r\n            if (hd.columns) {\r\n                this._addHeaders(row + 1, hd.columns, [\r\n                    ...roots,\r\n                    id,\r\n                ]).forEach((c) => results.push(c));\r\n            }\r\n            else {\r\n                const colDef = hd;\r\n                this._columns.push({\r\n                    id: seqId++,\r\n                    field: colDef.field,\r\n                    width: colDef.width,\r\n                    minWidth: colDef.minWidth,\r\n                    maxWidth: colDef.maxWidth,\r\n                    icon: colDef.icon,\r\n                    message: colDef.message,\r\n                    columnType: columns.type.of(colDef.columnType),\r\n                    action: columns.action.of(colDef.action),\r\n                    style: colDef.style,\r\n                    define: colDef,\r\n                });\r\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\r\n                    this._headerCellIds[r][col] = id;\r\n                }\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    _newRow(row) {\r\n        const newRow = (this._headerCellIds[row] = []);\r\n        if (!this._columns.length) {\r\n            return newRow;\r\n        }\r\n        const prev = this._headerCellIds[row - 1];\r\n        for (let col = 0; col < prev.length; col++) {\r\n            newRow[col] = prev[col];\r\n        }\r\n        return newRow;\r\n    }\r\n}\r\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nlet seqId = -1;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyHeaderData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        headerType: headerType.of(null), // default\r\n    };\r\n}\r\nexports.newEmptyHeaderData = newEmptyHeaderData;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyColumnData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        columnType: columns.type.of(null),\r\n        style: null,\r\n    };\r\n}\r\nexports.newEmptyColumnData = newEmptyColumnData;\r\nclass EmptyDataCache {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.headers = [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.columns = [];\r\n    }\r\n    getHeader(col, row) {\r\n        const rows = this.headers[row] || (this.headers[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyHeaderData());\r\n    }\r\n    getBody(col, row) {\r\n        const rows = this.columns[row] || (this.columns[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyColumnData());\r\n    }\r\n}\r\nexports.EmptyDataCache = EmptyDataCache;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = exports._getInternal = void 0;\r\nconst columns = __importStar(require(\"./columns\"));\r\nexports.columns = columns;\r\nconst core = __importStar(require(\"./core\"));\r\nexports.core = core;\r\nconst data = __importStar(require(\"./data\"));\r\nexports.data = data;\r\nconst headers = __importStar(require(\"./headers\"));\r\nexports.headers = headers;\r\nconst icons = __importStar(require(\"./icons\"));\r\nconst register = __importStar(require(\"./register\"));\r\nexports.register = register;\r\nconst themes = __importStar(require(\"./themes\"));\r\nexports.themes = themes;\r\nconst tools = __importStar(require(\"./tools\"));\r\nexports.tools = tools;\r\nconst ListGrid_1 = require(\"./ListGrid\");\r\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\r\nvar get_internal_1 = require(\"./get-internal\");\r\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\r\n/** @private */\r\nfunction getIcons() {\r\n    return icons.get();\r\n}\r\nexports.getIcons = getIcons;\r\n// backward compatibility\r\nexports.default = {\r\n    core,\r\n    tools,\r\n    // impl Grids\r\n    ListGrid: ListGrid_1.ListGrid,\r\n    // objects\r\n    columns,\r\n    headers,\r\n    themes,\r\n    data,\r\n    // helper\r\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\r\n    //plugin registers\r\n    register,\r\n    get icons() {\r\n        return getIcons();\r\n    },\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"default\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getDefault();\r\n    },\r\n    set(defaultTheme) {\r\n        themes.setDefault(defaultTheme);\r\n    },\r\n});\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"choices\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getChoices();\r\n    },\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = void 0;\r\nexports.icons = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.themes = void 0;\r\nexports.themes = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = exports.icon = exports.theme = void 0;\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst themes_1 = require(\"./plugins/themes\");\r\nfunction register(obj, name, value) {\r\n    const old = obj[name];\r\n    obj[name] = value;\r\n    return old;\r\n}\r\nfunction registers(obj, values) {\r\n    for (const k in values) {\r\n        obj[k] = values[k];\r\n    }\r\n}\r\nfunction theme(name, theme) {\r\n    if (theme != null) {\r\n        return register(themes_1.themes, name, theme);\r\n    }\r\n    else {\r\n        return themes_1.themes[name];\r\n    }\r\n}\r\nexports.theme = theme;\r\nfunction icon(name, icon) {\r\n    if (icon != null) {\r\n        return register(icons_1.icons, name, icon);\r\n    }\r\n    else {\r\n        return icons_1.icons[name];\r\n    }\r\n}\r\nexports.icon = icon;\r\nfunction icons(icons) {\r\n    return registers(icons_1.icons, icons);\r\n}\r\nexports.icons = icons;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst theme_1 = require(\"./themes/theme\");\r\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\r\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\r\nconst themes_1 = require(\"./plugins/themes\");\r\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\r\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\r\nconst builtin = {\r\n    BASIC: exports.BASIC,\r\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\r\n};\r\nlet defTheme = exports.MATERIAL_DESIGN;\r\nexports.theme = { Theme: theme_1.Theme };\r\nfunction of(value) {\r\n    if (!value) {\r\n        return null;\r\n    }\r\n    if (typeof value === \"string\") {\r\n        const t = (0, utils_1.getIgnoreCase)(getChoices(), value);\r\n        if (t) {\r\n            return t;\r\n        }\r\n        return null;\r\n    }\r\n    if (value instanceof theme_1.Theme) {\r\n        return value;\r\n    }\r\n    return new theme_1.Theme(value);\r\n}\r\nexports.of = of;\r\nfunction getDefault() {\r\n    return defTheme;\r\n}\r\nexports.getDefault = getDefault;\r\nfunction setDefault(defaultTheme) {\r\n    defTheme = of(defaultTheme) || defTheme;\r\n}\r\nexports.setDefault = setDefault;\r\nfunction getChoices() {\r\n    return (0, utils_1.extend)(builtin, themes_1.themes);\r\n}\r\nexports.getChoices = getChoices;\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction DEFAULT_BG_COLOR(args) {\r\n    const { row, grid } = args;\r\n    if (row < grid.frozenRowCount) {\r\n        return \"#FFF\";\r\n    }\r\n    const index = grid.getRecordIndexByRow(row);\r\n    if (!(index & 1)) {\r\n        return \"#FFF\";\r\n    }\r\n    else {\r\n        return \"#F6F6F6\";\r\n    }\r\n}\r\nconst cacheLinearGradient = {};\r\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\r\n    let stop;\r\n    const stopsKey = [];\r\n    for (stop in colorStops) {\r\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\r\n    }\r\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\r\n    const ret = cacheLinearGradient[key];\r\n    if (ret) {\r\n        return ret;\r\n    }\r\n    const grad = context.createLinearGradient(left, top, left, bottom);\r\n    for (stop in colorStops) {\r\n        grad.addColorStop(Number(stop), colorStops[stop]);\r\n    }\r\n    return (cacheLinearGradient[key] = grad);\r\n}\r\nfunction FROZEN_ROWS_BG_COLOR(args) {\r\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\r\n    const { left, top } = grid.getCellRelativeRect(col, 0);\r\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\r\n    return getLinearGradient(context, left, top, left, bottom, {\r\n        0: \"#FFF\",\r\n        1: \"#D3D3D3\",\r\n    });\r\n}\r\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"#000\",\r\n    // frozenRowsColor: '#000',\r\n    defaultBgColor: DEFAULT_BG_COLOR,\r\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: \"#000\",\r\n    // frozenRowsBorderColor: '#000',\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"#000\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"#000\",\r\n        uncheckBorderColor: \"#000\",\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#000\",\r\n    },\r\n    underlayBackgroundColor: \"#F6F6F6\",\r\n};\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\r\n    const { row, grid: { frozenRowCount }, } = args;\r\n    if (frozenRowCount - 1 === row) {\r\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\r\n    }\r\n    else {\r\n        return [\"#f2f2f2\"];\r\n    }\r\n}\r\nfunction BORDER_COLOR(args) {\r\n    const { col, row, grid } = args;\r\n    const { colCount, frozenColCount, recordRowCount } = grid;\r\n    let top = \"#ccc7c7\";\r\n    let bottom = \"#ccc7c7\";\r\n    if (recordRowCount > 1) {\r\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\r\n        const endRow = startRow + recordRowCount - 1;\r\n        if (startRow !== row) {\r\n            top = null;\r\n        }\r\n        if (endRow !== row) {\r\n            bottom = null;\r\n        }\r\n    }\r\n    if (frozenColCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    if (colCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    return [top, null, bottom, null];\r\n}\r\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\r\n    defaultBgColor: \"#FFF\",\r\n    // frozenRowsBgColor: '#FFF',\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: BORDER_COLOR,\r\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        // uncheckBgColor: '#FFF',\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"rgb(76, 73, 72)\",\r\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\r\n        // uncheckBgColor: \"#FFF\",\r\n        // checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#ccc7c7\",\r\n    },\r\n    underlayBackgroundColor: \"#FFF\",\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Theme = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\nconst _ = (0, symbolManager_1.get)();\r\nfunction getProp(obj, superObj, names, defNames, convertForSuper, defaultValue) {\r\n    const value = (0, utils_1.getChainSafe)(obj, ...names) || (0, utils_1.getChainSafe)(superObj, ...names);\r\n    if (value) {\r\n        return value;\r\n    }\r\n    if (!defNames) {\r\n        return value || defaultValue;\r\n    }\r\n    const getChainSafeWithConvert = convertForSuper\r\n        ? (obj, ...names) => {\r\n            const value = (0, utils_1.getChainSafe)(obj, ...names);\r\n            if (!value) {\r\n                return value;\r\n            }\r\n            return convertForSuper(value);\r\n        }\r\n        : utils_1.getChainSafe;\r\n    return (getChainSafeWithConvert(obj, ...defNames) ||\r\n        getChainSafeWithConvert(superObj, ...defNames) ||\r\n        defaultValue);\r\n}\r\nclass Theme {\r\n    constructor(obj, superTheme) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this[_] = {\r\n            obj,\r\n            superTheme: superTheme,\r\n        };\r\n    }\r\n    get font() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"font\"]);\r\n    }\r\n    get underlayBackgroundColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\r\n    }\r\n    // color\r\n    get color() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"color\"]);\r\n    }\r\n    get frozenRowsColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\r\n    }\r\n    get frozenRowsBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get selectionBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get highlightBgColor() {\r\n        if (this.hasProperty([\"highlightBgColor\"])) {\r\n            const { obj, superTheme } = this[_];\r\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return (args) => {\r\n            const color = args.row < args.grid.frozenRowCount\r\n                ? this.frozenRowsBgColor\r\n                : this.defaultBgColor;\r\n            if (typeof color === \"function\") {\r\n                return color(args);\r\n            }\r\n            return color;\r\n        };\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"borderColor\"]);\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get highlightBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get checkbox() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"checkbox\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\", [\"color\"]);\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"radioButton\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get button() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\", [\"color\"]);\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getButtonProp(prop, defNames) {\r\n            return getProp(obj, superTheme, [\"button\", prop], defNames);\r\n        }\r\n    }\r\n    get header() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getProp(obj, superTheme, [\"messages\", prop]);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"indicators\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    hasProperty(names) {\r\n        const { obj, superTheme } = this[_];\r\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\r\n    }\r\n    extends(obj) {\r\n        return new Theme(obj, this);\r\n    }\r\n}\r\nexports.Theme = Theme;\r\nfunction hasThemeProperty(obj, names) {\r\n    if (obj instanceof Theme) {\r\n        return obj.hasProperty(names);\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let o = obj;\r\n        if (!o) {\r\n            return false;\r\n        }\r\n        for (let index = 0; index < names.length; index++) {\r\n            const name = names[index];\r\n            o = o[name];\r\n            if (!o) {\r\n                return false;\r\n            }\r\n        }\r\n        return !!o;\r\n    }\r\n}\r\nfunction colorsToColor(colors) {\r\n    if (typeof colors === \"function\") {\r\n        return (arg) => {\r\n            const val = colors(arg);\r\n            return val ? colorsArrayToColor(val) : val;\r\n        };\r\n    }\r\n    return colorsArrayToColor(colors);\r\n    function colorsArrayToColor(\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    colors) {\r\n        if (!Array.isArray(colors)) {\r\n            return colors;\r\n        }\r\n        return colors.find(Boolean) || undefined;\r\n    }\r\n}\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.canvashelper = void 0;\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nexports.canvashelper = canvashelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nconst { ceil, PI } = Math;\r\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\r\n    function strokeRectLines(positions) {\r\n        for (let i = 0; i < borderColors.length; i++) {\r\n            const color = borderColors[i];\r\n            const preColor = borderColors[i - 1];\r\n            if (color) {\r\n                if (preColor !== color) {\r\n                    if (preColor) {\r\n                        ctx.strokeStyle = preColor;\r\n                        ctx.stroke();\r\n                    }\r\n                    const pos1 = positions[i];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(pos1.x, pos1.y);\r\n                }\r\n                const pos2 = positions[i + 1];\r\n                ctx.lineTo(pos2.x, pos2.y);\r\n            }\r\n            else {\r\n                if (preColor) {\r\n                    ctx.strokeStyle = preColor;\r\n                    ctx.stroke();\r\n                }\r\n            }\r\n        }\r\n        const preColor = borderColors[borderColors.length - 1];\r\n        if (preColor) {\r\n            ctx.strokeStyle = preColor;\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    if (borderColors[0] === borderColors[1] &&\r\n        borderColors[0] === borderColors[2] &&\r\n        borderColors[0] === borderColors[3]) {\r\n        if (borderColors[0]) {\r\n            ctx.strokeStyle = borderColors[0];\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        strokeRectLines([\r\n            { x: left, y: top },\r\n            { x: left + width, y: top },\r\n            { x: left + width, y: top + height },\r\n            { x: left, y: top + height },\r\n            { x: left, y: top },\r\n        ]);\r\n    }\r\n}\r\nexports.strokeColorsRect = strokeColorsRect;\r\nfunction roundRect(ctx, left, top, width, height, radius) {\r\n    ctx.beginPath();\r\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\r\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\r\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\r\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\r\n    ctx.closePath();\r\n}\r\nexports.roundRect = roundRect;\r\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.fill();\r\n}\r\nexports.fillRoundRect = fillRoundRect;\r\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.stroke();\r\n}\r\nexports.strokeRoundRect = strokeRoundRect;\r\nfunction fillCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n}\r\nexports.fillCircle = fillCircle;\r\nfunction strokeCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\nexports.strokeCircle = strokeCircle;\r\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcBasePosition)(ctx, rect, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.fillText(text, pos.x, pos.y);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fillTextRect = fillTextRect;\r\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, destWidth, destHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawInlineImageRect = drawInlineImageRect;\r\n/**\r\n * Returns an object containing the width of the checkbox.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the checkbox\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureCheckbox(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureCheckbox = measureCheckbox;\r\n/**\r\n * Returns an object containing the width of the radio button.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the radio button\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureRadioButton(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureRadioButton = measureRadioButton;\r\n/**\r\n * draw Checkbox\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {boolean|number} check checkbox check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\r\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\r\n        if (check) {\r\n            ctx.lineWidth = ceil(boxSize / 10);\r\n            ctx.strokeStyle = uncheckBgColor;\r\n            let leftWidth = boxSize / 4;\r\n            let rightWidth = (boxSize / 2) * 0.9;\r\n            const leftLeftPos = x + boxSize * 0.2;\r\n            const leftTopPos = y + boxSize / 2;\r\n            if (checkPoint < 0.5) {\r\n                leftWidth *= checkPoint * 2;\r\n            }\r\n            ctx.beginPath();\r\n            ctx.moveTo(leftLeftPos, leftTopPos);\r\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\r\n            if (checkPoint > 0.5) {\r\n                if (checkPoint < 1) {\r\n                    rightWidth *= (checkPoint - 0.5) * 2;\r\n                }\r\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\r\n            }\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawCheckbox = drawCheckbox;\r\n/**\r\n * draw Radio button\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {boolean|number} check radio button check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\r\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\r\n        if (check) {\r\n            const checkSize = (size * ratio) / 2;\r\n            const padding = (size - checkSize) / 2;\r\n            ctx.fillStyle = checkColor;\r\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawRadioButton = drawRadioButton;\r\n/**\r\n * draw Button\r\n */\r\nfunction drawButton(ctx, left, top, width, height, option = {}) {\r\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        if (shadow) {\r\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\r\n            ctx.shadowColor = color;\r\n            ctx.shadowBlur = blur; //\r\n            ctx.shadowOffsetX = ox;\r\n            ctx.shadowOffsetY = oy;\r\n        }\r\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawButton = drawButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseTooltip = void 0;\r\nclass BaseTooltip {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachTooltipElement();\r\n        if (this._tooltipElement) {\r\n            this._tooltipElement.dispose();\r\n        }\r\n        this._tooltipElement = undefined;\r\n    }\r\n    _getTooltipElement() {\r\n        if (this._tooltipElement) {\r\n            return this._tooltipElement;\r\n        }\r\n        return (this._tooltipElement = this.createTooltipElementInternal());\r\n    }\r\n    attachTooltipElement(col, row, content) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.attach(this._grid, col, row, content);\r\n    }\r\n    moveTooltipElement(col, row) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.move(this._grid, col, row);\r\n    }\r\n    detachTooltipElement() {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement._detach();\r\n    }\r\n}\r\nexports.BaseTooltip = BaseTooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Tooltip = void 0;\r\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\r\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\r\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\r\n    createTooltipElementInternal() {\r\n        return new TooltipElement_1.TooltipElement();\r\n    }\r\n}\r\nexports.Tooltip = Tooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipHandler = void 0;\r\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\r\nconst Tooltip_1 = require(\"./Tooltip\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst TOOLTIP_INSTANCE_FACTORY = {\r\n    \"overflow-text\"(grid) {\r\n        return new Tooltip_1.Tooltip(grid);\r\n    },\r\n};\r\nfunction getTooltipInstanceInfo(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngrid, col, row) {\r\n    //\r\n    // overflow text tooltip\r\n    const overflowText = grid.getCellOverflowText(col, row);\r\n    if (overflowText) {\r\n        return {\r\n            type: \"overflow-text\",\r\n            content: overflowText,\r\n        };\r\n    }\r\n    return null;\r\n}\r\nclass TooltipHandler {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._tooltipInstances = {};\r\n        this._bindGridEvent(grid);\r\n    }\r\n    dispose() {\r\n        const tooltipInstances = this._tooltipInstances;\r\n        for (const k in tooltipInstances) {\r\n            tooltipInstances[k].dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._tooltipInstances;\r\n        this._attachInfo = null;\r\n    }\r\n    _attach(col, row) {\r\n        const info = this._attachInfo;\r\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\r\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\r\n            info.instance.detachTooltipElement();\r\n            this._attachInfo = null;\r\n        }\r\n        if (!instanceInfo) {\r\n            return;\r\n        }\r\n        const { instance } = instanceInfo;\r\n        instance.attachTooltipElement(col, row, instanceInfo.content);\r\n        const range = this._grid.getCellRange(col, row);\r\n        this._attachInfo = { range, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || !(0, utils_1.cellInRange)(info.range, col, row)) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveTooltipElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachTooltipElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _isAttachCell(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return false;\r\n        }\r\n        return (0, utils_1.cellInRange)(info.range, col, row);\r\n    }\r\n    _bindGridEvent(grid) {\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.col, e.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._attach(e.col, e.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.related.col, e.related.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._detach();\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const info = this._attachInfo;\r\n            if (!info) {\r\n                return;\r\n            }\r\n            this._move(info.range.start.col, info.range.start.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n                this._attach(e.col, e.row);\r\n            }\r\n        });\r\n    }\r\n    _getTooltipInstanceInfo(col, row) {\r\n        const grid = this._grid;\r\n        const tooltipInstances = this._tooltipInstances;\r\n        const info = getTooltipInstanceInfo(grid, col, row);\r\n        if (!info) {\r\n            return null;\r\n        }\r\n        const { type } = info;\r\n        const instance = tooltipInstances[type] ||\r\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\r\n        return {\r\n            instance,\r\n            type,\r\n            content: info.content,\r\n        };\r\n    }\r\n}\r\nexports.TooltipHandler = TooltipHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipElement = void 0;\r\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\r\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createTooltipDomElement() {\r\n    require(\"@/tooltip/internal/TooltipElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"pre\", {\r\n        classList: [CONTENT_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass TooltipElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createTooltipDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n        }\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, content) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = content;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            // rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { height: offsetHeight, width: offsetWidth, left: elementLeft, right: elementRight, } = element.getBoundingClientRect();\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        const cellCenter = left + width / 2;\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${cellCenter.toFixed()}px`;\r\n        rootElement.style.minWidth = `${width.toFixed()}px`;\r\n        const maxWidthForLeft = (elementLeft + cellCenter) * 2;\r\n        const winWidth = window.innerWidth;\r\n        const maxWidthForRight = (offsetWidth - cellCenter + (winWidth - elementRight)) * 2;\r\n        const maxWidth = Math.min(maxWidthForLeft, maxWidthForRight);\r\n        rootElement.style.maxWidth = `${maxWidth.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.TooltipElement = TooltipElement;\r\n"],"sourceRoot":""}