{"version":3,"sources":["cheetahGrid/webpack/universalModuleDefinition","cheetahGrid/webpack/bootstrap","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid/../src/js/columns/message/internal/MessageElement.css","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid/../src/js/internal/style.css","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid/node_modules/css-loader/dist/runtime/api.js","cheetahGrid/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid/node_modules/webpack/buildin/global.js","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid/../src/js/internal/style.css*","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid/./GridCanvasHelper.js","cheetahGrid/./ListGrid.js","cheetahGrid/./columns.js","cheetahGrid/./columns/action.js","cheetahGrid/./columns/action/Action.js","cheetahGrid/./columns/action/BaseAction.js","cheetahGrid/./columns/action/BaseInputEditor.js","cheetahGrid/./columns/action/ButtonAction.js","cheetahGrid/./columns/action/CheckEditor.js","cheetahGrid/./columns/action/Editor.js","cheetahGrid/./columns/action/InlineInputEditor.js","cheetahGrid/./columns/action/InlineMenuEditor.js","cheetahGrid/./columns/action/RadioEditor.js","cheetahGrid/./columns/action/SmallDialogInputEditor.js","cheetahGrid/./columns/action/action-utils.js","cheetahGrid/./columns/action/actionBind.js","cheetahGrid/./columns/action/internal/InlineInputElement.js","cheetahGrid/./columns/action/internal/InlineMenuElement.js","cheetahGrid/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid/./columns/action/internal/input-value-handler.js","cheetahGrid/./columns/indicator/handlers.js","cheetahGrid/./columns/indicator/triangle.js","cheetahGrid/./columns/message/BaseMessage.js","cheetahGrid/./columns/message/ErrorMessage.js","cheetahGrid/./columns/message/InfoMessage.js","cheetahGrid/./columns/message/MessageHandler.js","cheetahGrid/./columns/message/WarningMessage.js","cheetahGrid/./columns/message/internal/ErrorMessageElement.js","cheetahGrid/./columns/message/internal/MessageElement.js","cheetahGrid/./columns/message/internal/WarningMessageElement.js","cheetahGrid/./columns/message/messageUtils.js","cheetahGrid/./columns/style.js","cheetahGrid/./columns/style/BaseStyle.js","cheetahGrid/./columns/style/BranchGraphStyle.js","cheetahGrid/./columns/style/ButtonStyle.js","cheetahGrid/./columns/style/CheckStyle.js","cheetahGrid/./columns/style/IconStyle.js","cheetahGrid/./columns/style/ImageStyle.js","cheetahGrid/./columns/style/MenuStyle.js","cheetahGrid/./columns/style/MultilineTextStyle.js","cheetahGrid/./columns/style/NumberStyle.js","cheetahGrid/./columns/style/PercentCompleteBarStyle.js","cheetahGrid/./columns/style/RadioStyle.js","cheetahGrid/./columns/style/StdBaseStyle.js","cheetahGrid/./columns/style/Style.js","cheetahGrid/./columns/type.js","cheetahGrid/./columns/type/BaseColumn.js","cheetahGrid/./columns/type/BranchGraphColumn.js","cheetahGrid/./columns/type/ButtonColumn.js","cheetahGrid/./columns/type/CheckColumn.js","cheetahGrid/./columns/type/Column.js","cheetahGrid/./columns/type/IconColumn.js","cheetahGrid/./columns/type/ImageColumn.js","cheetahGrid/./columns/type/MenuColumn.js","cheetahGrid/./columns/type/MultilineTextColumn.js","cheetahGrid/./columns/type/NumberColumn.js","cheetahGrid/./columns/type/PercentCompleteBarColumn.js","cheetahGrid/./columns/type/RadioColumn.js","cheetahGrid/./columns/type/columnUtils.js","cheetahGrid/./columns/utils/index.js","cheetahGrid/./core.js","cheetahGrid/./core/DG_EVENT_TYPE.js","cheetahGrid/./core/DrawGrid.js","cheetahGrid/./core/EventTarget.js","cheetahGrid/./data.js","cheetahGrid/./data/CachedDataSource.js","cheetahGrid/./data/DataSource.js","cheetahGrid/./data/FilterDataSource.js","cheetahGrid/./element/Inline.js","cheetahGrid/./element/InlineDrawer.js","cheetahGrid/./element/InlineIcon.js","cheetahGrid/./element/InlineImage.js","cheetahGrid/./element/InlinePath2D.js","cheetahGrid/./element/InlineSvg.js","cheetahGrid/./element/inlines.js","cheetahGrid/./get-internal.js","cheetahGrid/./header/action.js","cheetahGrid/./header/action/BaseAction.js","cheetahGrid/./header/action/CheckHeaderAction.js","cheetahGrid/./header/action/SortHeaderAction.js","cheetahGrid/./header/action/actionBind.js","cheetahGrid/./header/style.js","cheetahGrid/./header/style/BaseStyle.js","cheetahGrid/./header/style/CheckHeaderStyle.js","cheetahGrid/./header/style/MultilineTextHeaderStyle.js","cheetahGrid/./header/style/SortHeaderStyle.js","cheetahGrid/./header/style/StdBaseStyle.js","cheetahGrid/./header/style/StdMultilineTextBaseStyle.js","cheetahGrid/./header/style/StdTextBaseStyle.js","cheetahGrid/./header/style/Style.js","cheetahGrid/./header/type.js","cheetahGrid/./header/type/BaseHeader.js","cheetahGrid/./header/type/CheckHeader.js","cheetahGrid/./header/type/Header.js","cheetahGrid/./header/type/MultilineTextHeader.js","cheetahGrid/./header/type/SortHeader.js","cheetahGrid/./headers.js","cheetahGrid/./icons.js","cheetahGrid/./internal/EventHandler.js","cheetahGrid/./internal/LRUCache.js","cheetahGrid/./internal/NumberMap.js","cheetahGrid/./internal/Rect.js","cheetahGrid/./internal/Scrollable.js","cheetahGrid/./internal/animate.js","cheetahGrid/./internal/calc.js","cheetahGrid/./internal/canvases.js","cheetahGrid/./internal/color.js","cheetahGrid/./internal/dom.js","cheetahGrid/./internal/fonts.js","cheetahGrid/./internal/hiDPI.js","cheetahGrid/./internal/icons.js","cheetahGrid/./internal/imgs.js","cheetahGrid/./internal/legacy/canvas/Path2DShim.js","cheetahGrid/./internal/legacy/canvas/PathCommands.js","cheetahGrid/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid/./internal/menu-items.js","cheetahGrid/./internal/paste-utils.js","cheetahGrid/./internal/path2DManager.js","cheetahGrid/./internal/sort.js","cheetahGrid/./internal/style.js","cheetahGrid/./internal/symbolManager.js","cheetahGrid/./internal/utils.js","cheetahGrid/./list-grid/LG_EVENT_TYPE.js","cheetahGrid/./list-grid/layout-map/index.js","cheetahGrid/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid/./list-grid/layout-map/internal/utils.js","cheetahGrid/./main.js","cheetahGrid/./plugins/icons.js","cheetahGrid/./plugins/themes.js","cheetahGrid/./register.js","cheetahGrid/./themes.js","cheetahGrid/./themes/BASIC.js","cheetahGrid/./themes/MATERIAL_DESIGN.js","cheetahGrid/./themes/theme.js","cheetahGrid/./tools.js","cheetahGrid/./tools/canvashelper.js","cheetahGrid/./tooltip/BaseTooltip.js","cheetahGrid/./tooltip/Tooltip.js","cheetahGrid/./tooltip/TooltipHandler.js","cheetahGrid/./tooltip/internal/TooltipElement.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","GridCanvasHelper","calc","require","canvashelper","fonts","inlineUtils","themes","canvases_1","utils_1","InlineDrawer_1","Rect_1","color_1","toBoxArray","style","INLINE_ELLIPSIS","of","TEXT_OFFSET","CHECKBOX_OFFSET","invalidateCell","context","grid","col","row","getColor","color","getOrApply","getFont","font","getThemeColor","names","gridThemeColor","getChainSafe","theme","getDefault","defaultThemeColor","args","testFontLoad","check","load","drawInlines","ctx","inlines","rect","offset","offsetTop","offsetBottom","drawInline","inline","offsetLeft","offsetRight","canDraw","save","fillStyle","draw","restore","onReady","length","inlineWidths","map","width","reduce","a","b","forEach","index","inlineWidth","buildInlines","icons","inlineToString","string","getOverflowInline","textOverflow","isAllowOverflow","trim","Boolean","getOverflowInlinesIndex","maxWidth","lineWidth","i","remWidth","isOverflowInlines","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","slice","canBreak","before","after","breakWord","breakAll","splitIndex","push","truncateInlines","option","overflowInline","ellipsisWidth","_inlineRect","drawRect","textAlign","textBaseline","trailingIcon","trailingIconInline","iconOf","inlineDrawRect","trailingIconWidth","Rect","left","top","height","truncInlines","setCellOverflowText","sumWidth","baseRect","trailingIconRect","copy","right","_multiInlineRect","multiInlines","lineHeight","autoWrapText","lineClamp","rectHeight","Math","max","floor","buildedMultiInlines","procLineClamp","hasNext","Number","join","concat","procLine","lineRow","buildedInline","paddingTop","paddingBottom","em","getFontSize","pad","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","start","end","diff","ceil","drawCheckbox","helper","animElapsedTime","uncheckBgColor","checkbox","checkBgColor","borderColor","positionOpt","boxWidth","measureCheckbox","pos","calcStartPosition","x","y","drawRadioButton","checkColor","radioButton","uncheckBorderColor","checkBorderColor","measureRadioButton","bgColor","ThemeResolver","constructor","_checkbox","_radioButton","_button","_header","_messages","_indicators","_grid","name","underlayBackgroundColor","frozenRowsColor","defaultBgColor","frozenRowsBgColor","selectionBgColor","highlightBgColor","frozenRowsBorderColor","highlightBorderColor","getCheckboxProp","prop","getRadioButtonProp","button","getButtonProp","header","sortArrowColor","messages","infoBgColor","getMessageProp","errorBgColor","warnBgColor","markHeight","indicators","topLeftColor","getIndicatorsProp","topLeftSize","topRightColor","topRightSize","bottomRightColor","bottomRightSize","bottomLeftColor","bottomLeftSize","strokeRect","Array","isArray","strokeStyle","borderColors","strokeColorsRect","_theme","createCalculator","calcWidth","toPx","full","getRect","getContext","calcHeight","obj","toBoxPixelArray","calculator","box","drawWithClip","getDrawRect","beginPath","clip","drawBorderWithClip","clipLeft","clipWidth","clipTop","clipHeight","text","padding","appendRightPx","isFrozenCell","paddingNums","multilineText","multilines","fillText","fillCell","fillColor","fill","fillCellWithState","getFillColorState","fillRect","fillRectWithState","sel","getSelection","cellEquals","select","cellInRange","range","border","startOffset","borderWithState","selection","moveTo","lineTo","bottom","stroke","buildCheckBoxInline","self","InlineDrawer","caption","shadow","drawButton","radius","_a","ListGrid","data_1","layout_map_1","MessageHandler_1","style_1","DrawGrid_1","GridCanvasHelper_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","symbolManager_1","paste_utils_1","_","getProtectedSymbol","_getCellRange","layoutMap","getCellRange","_updateRect","setRectFilter","startCol","startRow","endCol","endRow","c","getColWidth","r","getRowHeight","bounds","_getCellValue","headerRowCount","getHeader","field","getBody","_getField","_setCellValue","_getRecordIndexByRow","dataSource","setField","_getCellMessage","message","promises","msg","isPromise","hasMessage","Promise","resolve","reject","p","then","_getCellIcon0","icon","isObject","retIcon","iconOpt","iconPropKeys","f","_hasField","_getCellIcon","headerIcon","getField","hasField","_onDrawValue","cellValue","gridCanvasHelper","drawCellBg","fillOpt","drawCellBorder","frozenColCount","frozenRowCount","_borderWithState","drawCellBase","info","getRecord","getRowRecord","getIcon","getMessage","messageHandler","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","selRecordIndex","getRecordIndexByRow","selId","getCellId","isSelectCell","flagBorder","borderColorCell","records","_refreshHeader","protectedSpace","headerEvents","id","unlisten","layout","MultiLayoutMap","SimpleHeaderLayoutMap","headerObjects","cell","ids","headerType","bindGridEvent","BaseStyle","listen","EVENT_TYPE","CHANGE_STYLE","invalidate","action","columnObjects","columnType","columnWidths","column","minWidth","setColWidth","setMinColWidth","setMaxColWidth","headerRowHeight","setRowHeight","colCount","_refreshRowCount","rowCount","bodyRowCount","_tryWithUpdateDataSource","fn","dataSourceEventIds","handler","off","on","DataSource","UPDATED_LENGTH","UPDATED_ORDER","_setRecords","newDataSource","CachedDataSource","ofArray","addDisposable","_setDataSource","EMPTY","_onRangePaste","test","selectionRange","values","parsePasteRangeBoxValues","trimOnPaste","pasteRowCount","min","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","offsetCol","body","editable","getRecordStartRowByRecordIndex","startRowOffset","rejectedDetail","addRejectedDetail","record","define","pasteValue","timeout","processRejected","clearTimeout","setTimeout","fireListeners","LG_EVENT_TYPE","REJECTED_PASTE_VALUES","detail","duplicate","actionRow","valuesRow","offsetRow","valuesCol","getCellValue","oldValue","onPasteCellRangeBox","newEnd","invalidateCellRange","_onRangeDelete","deleteRowCount","deleteColCount","_record","_oldValue","onDeleteCellRangeBox","DrawGrid","options","omit","disabled","readOnly","allowRangePaste","sortState","order","MessageHandler","tooltipHandler","TooltipHandler","window","updateSize","updateScroll","dispose","recordRowCount","oldState","oldField","getHeaderField","newState","newField","setHeaderValue","headerValues","Map","getColumnDefine","getColumnType","getColumnAction","hd","getHeaderDefine","getColumnIndexByField","getCellRangeByField","colObj","find","layoutRange","getBodyLayoutRangeById","focusGridCell","newFocus","focusCell","invalidateGridRect","makeVisibleGridCell","makeVisibleCell","getGridCanvasHelper","getHeaderCellRange","getCopyCellValue","cellRange","headerData","columnData","onDrawCell","doGetCellValue","valueCallback","doChangeValue","changeValueCallback","BEFORE_CHANGE_VALUE","ret","CHANGED_VALUE","doSetPasteValue","getHeaderValue","newValue","set","CHANGED_HEADER_VALUE","getLayoutCellId","bindEventsInternal","SELECTED_CELL","e","PASTE_CELL","multi","event","cancel","normalizeValue","DELETE_CELL","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveDownRowByKeyDownInternal","getOffsetInvalidateCells","getCopyRangeInternal","type","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action","Editor","BaseAction","ACTIONS","Action_1","BaseAction_1","ButtonAction_1","CheckEditor_1","Editor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","_disabled","_readOnly","ImmutableRadioEditor","ImmutableInputEditor","CHECK","INPUT","RADIO","columnAction","key","toUpperCase","actionBind_1","action_utils_1","_action","clone","getState","cellId","state","isDisabledRecord","extend","bindCellClickAction","mouseOver","mouseActiveCell","mouseOut","bindCellKeyAction","onChangeDisabledInternal","BaseInputEditor","DG_EVENT_TYPE_1","KEY_ENTER","KEY_F2","open","isReadOnlyRecord","onOpenCellInternal","input","onInputCellInternal","isTarget","DG_EVENT_TYPE","INPUT_CELL","DBLCLICK_CELL","DBLTAP_CELL","KEYDOWN","keyCode","stopCellMoving","onChangeSelectCellInternal","selected","SCROLL","onGridScrollInternal","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","getCellRect","rangeRect","getCellRangeRect","parseFloat","toFixed","onSetInputAttrsInternal","isSupportMultilineValue","replace","BUTTON_COLUMN_STATE_ID","getButtonColumnStateId","setReadonly","animate_1","CHECK_COLUMN_STATE_ID","getCheckColumnStateId","_state","block","elapsed","cellKey","toggleValue","onChange","animate","point","selrange","isRejectValue","onChangeReadOnlyInternal","BaseInputEditor_1","InlineInputElement_1","getInlineInputEditorStateId","globalElement","bindGridCount","attachInput","editor","InlineInputElement","element","attach","detachInput","gridFocus","detach","_classList","classList","_type","inputValue","_cell","_selected","setInputAttrs","InlineMenuElement_1","type_1","menu_items_1","getInlineMenuEditorStateId","attachMenu","InlineMenuElement","detachMenu","_options","normalizeToFn","CLICK_CELL","MOUSEOVER_CELL","getElement","cursor","MOUSEMOVE_CELL","MOUSEOUT_CELL","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","hasOptions","normalizePasteValueStr","captionOpt","array","opt","label","MenuColumn","utils_2","RADIO_COLUMN_STATE_ID","getRadioColumnStateId","_group","group","_checkAction","checkAction","toBoolean","targets","actionCell","recordStartRow","girdRecords","getAllRecordsFromGrid","showData","d","targetRow","flag","SmallDialogInputElement_1","getSmallDialogInputEditorStateId","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","getBooleanOptionOfRecord","val","exec","KEY_SPACE","acceptKeys","indexOf","keyboardOptions","moveCellOnEnter","EventHandler_1","dom_1","input_value_handler_1","KEY_TAB","CLASSNAME","createInputElement","createElement","add","_handler","EventHandler","_input","_bindInputEvents","_beforePropEditor","parentElement","removeChild","remove","getAttachCellsArea","appendChild","setInputValue","_activeData","focus","selectionStart","selectionEnd","document","createTextRange","collapse","moveEnd","moveStart","tryWithOffEvents","_attaching","_isActive","stopPropagationOnly","stopPropagation","contains","getKeyCode","_onKeydownEnter","_onKeydownTab","onKeyDownMove","moveCellOnTab","KEY_UP","KEY_DOWN","KEY_ESC","ITEM_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","target","el","createMenuElement","attachElement","menu","optionToLi","html","item","tabIndex","dataset","valueindex","span","appendHtml","openMenu","empty","emptyItemEl","valueItemEl","focusEl","children","focusIndex","allHeight","offsetHeight","transformOrigin","menuClientRect","getBoundingClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","winMargin","closeMenu","_col","_row","disableFocus","_menu","_bindMenuEvents","bodyClickListenerId","deregisterBodyClickListener","_deregisterBodyClickListener","_registerBodyClickListener","_onBodyClick","bind","capture","_doChangeValue","n","findPrevSiblingFocusable","findNextSiblingFocusable","shiftKey","querySelector","isFocusable","items","querySelectorAll","INPUT_CLASSNAME","_focus","createDialogElement","bindProps","dialog","unbindProps","_dialog","_bindDialogEvents","errorMessage","activeData","_onInputValue","browser","IE","_beforeValue","_validate","res","onKeyupAndPress","_onInputValueChange","inputOnly","sign","once","getDrawIndicator","triangle_1","indicatorStyle","drawTriangleIndicator","KIND_PROCESS_MAP","themeColor","themeSize","drawPath","size","baseLeft","baseTop","baseRight","baseBottom","kind","process","closePath","BaseMessage","_messageElement","detachMessageElement","_getMessageElement","createMessageElementInternal","attachMessageElement","messageElement","moveMessageElement","move","_detach","drawCellMessage","drawCellMessageInternal","ErrorMessage","messageUtils","BaseMessage_1","ErrorMessageElement_1","RED_A100","ErrorMessageElement","_message","_info","hasFocusGrid","drawExclamationMarkBox","InfoMessage","MessageElement_1","GREY_L2","MessageElement","drawInformationMarkBox","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","error","warning","WarningMessage","normalizeMessage","original","toLowerCase","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","instance","_getMessageInstanceOfMessage","_attach","_move","onSelectMessage","setMessageData","newSel","FOCUS_GRID","BLUR_GRID","WarningMessageElement_1","DEEP_ORANGE_A100","WarningMessageElement","MESSAGE_CLASSNAME","_rootElement","createMessageDomElement","rootElement","_attachCell","textContent","frozenRect","offsetWidth","boxRect","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","Style","BaseStyle_1","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","Style_1","columnStyle","StyleClassDef","DEFAULT","EventTarget_1","STYLE_EVENT_TYPE","defaultStyle","EventTarget","indicatorTopLeft","indicatorTopRight","indicatorBottomRight","indicatorBottomLeft","_bgColor","_indicatorTopLeft","normalizeIndicator","_indicatorTopRight","_indicatorBottomRight","_indicatorBottomLeft","doChangeStyle","indicator","BranchGraphStyle","DEFAULT_BRANCH_COLORS","_name","_branchColors","branchColors","_margin","margin","_circleSize","circleSize","_branchLineWidth","branchLineWidth","_mergeStyle","mergeStyle","defaults","buttonBgColor","_buttonBgColor","StdBaseStyle_1","StdBaseStyle","_uncheckBgColor","_checkBgColor","_borderColor","_imageSizing","imageSizing","appearance","_appearance","_lineHeight","_autoWrapText","_lineClamp","DEFAULT_BAR_COLOR","num","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_checkColor","_uncheckBorderColor","_checkBorderColor","_textAlign","_textBaseline","_color","_font","_padding","_textOverflow","_appendRightPx","MultilineTextColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","Column","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","BaseColumn","styleContents","handlers_1","COLUMN_FADEIN_STATE_ID","getColumnFadeinStateId","isFadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","configure","getFadeinState","cells","_generateFadeinPointAction","drawInternal","stateKey","opacity","cellState","globalAlpha","fadeinMgr","activeFadeins","margeAnimate","_fadeinWhenCallbackInPromise","StyleClass","promise","Date","now","all","currentContext","toCurrentContext","time","actStyle","convertInternal","drawMessageInternal","drawIndicatorsInternal","_cellId","BaseColumn_1","BranchGraphStyle_1","getBranchGraphColumnStateId","getAllColumnData","callback","allData","data","dataIndex","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","mergeLines","filter","l","froms","tos","t","splice","merge","joinLine","timeline","branchIndex","reverse","j","tl","branch","branches","from","to","findBranchRootIndex","fromTargetIndex","branchTargetFromIndex","branchPoint","targetLine","commitTag","commitMerge","fromTargetLine","pop","calcCommand","command","timelineData","commands","cmd","calcBranchesInfo","calcBranchXPoints","w","textWidth","measureText","renderMerge","upLineIndex","downLineIndex","branchXPoints","lineCap","upX","upRect","getCellRelativeRect","upY","bezierCurveTo","downX","downRect","downY","_start","_cache","cache","clearCache","has","_value","upLineIndexKey","downLineIndexKey","line","pointIndex","sort","arc","PI","utils","_caption","withCaption","textValue","String","active","loadIcons","blur","offsetY","repeatArray","count","Infinity","_tagName","tagName","_className","className","_content","content","_iconWidth","iconWidth","isNaN","imgs_1","MAX_LRU_CACHE_SIZE","getImage","url","getCacheOrLoad","calcKeepAspectRatioSize","maxHeight","newWidth","newHeight","drawImage","normalize","withOptions","convertedValue","_convertInternal","basePadding","textPadding","iconPadding","path","console","warn","split","defaultFotmat","Intl","NumberFormat","fmt","_format","format","withFormat","MARGIN","_min","_max","_formatter","formatter","str","endsWith","rate","barMaxWidth","barTop","barLeft","barSize","argIcon","iconList","toNormalizeArray","MOUSEDOWN_CELL","MOUSEDOWN_GRID","MOUSEUP_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","TOUCHSTART_CELL","CONTEXTMENU_CELL","RESIZE_COLUMN","hiDPI","NumberMap_1","Scrollable_1","isTouchEvent","getMouseButtons","cancelEvent","createRootElement","KEY_BS","KEY_END","KEY_HOME","KEY_LEFT","KEY_RIGHT","KEY_DEL","KEY_ALPHA_A","KEY_ALPHA_C","KEY_ALPHA_V","_vibrate","navigator","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startBottom","_getRowHeight","findAfter","candidateRow","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_getCellDrawing","drawCells","_putCellDrawing","_removeCellDrawing","keys","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","cellDrawing","dcContext","DrawCellContext","pCol","_delayMode","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","put","_storeAutoColWidthExprs","defaultColPxWidth","each","adj","getRowHeightInternal","rowHeightsMap","_setRowHeight","getRowsHeightInternal","h","_getScrollWidth","_getScrollHeight","getScrollHeightInternal","_onScroll","lastLeft","lastTop","moveX","scrollable","scrollLeft","moveY","scrollTop","setFocusCursor","abs","redrawRect","_onKeyDownMove","ctrlKey","metaKey","hMove","vMove","newCell","_moveFocusCell","selectAllOnCtrlA","vDir","hDir","shiftKeyFlg","extendRange","beforeRange","beforeRect","_setFocusCell","afterRange","afterRect","intersection","invalidateRect","_updatedSelection","focusControl","selCol","selRow","results","editMode","findIndex","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","changedTouches","clientX","pageX","scrollX","clientY","pageY","scrollY","_bindEvents","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","buttons","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","useTouch","useTouchStart","timeoutId","useTouchEnd","defaultPrevented","targetTouches","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","leaveCell","moving","lastMoving","onKeyDown","onScroll","copyRange","copyLines","copyLine","copyCellValue","strCellValue","onCopy","onPaste","normalizedValue","normalizePasteValue","rangeBoxValues","pasteCellEvent","onInput","onDelete","onFocus","focusedGrid","onBlur","abstractX","abstractY","inPoint","cellRect","_getScrollableVisibleRect","frozenColsWidth","frozenRowsHeight","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","_bindMoveAndUp","events","mousemove","_mouseMove","mouseup","_mouseUp","touchmove","passive","touchend","touchcancel","_moveInternal","_upInternal","CellSelector","_getTargetCell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","afterSize","setSafeInputValue","IGNORE_STORE_ATTRS","FocusControl","_scrollable","_isComposition","_compositionEnd","lastInputValue","inputClear","storeLastInputValue","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","Edge","isDescendantElement","dummyInput","pasteText","clipboardData","getData","types","setData","_keyDownMoveCallback","setFocusRect","calcTop","getScrollBarSize","resetInputStatus","composition","attrs","attributes","removeNames","attr","_inputStatus","nodeName","removeName","removeAttribute","setAttribute","inputStatus","Selection","_sel","_end","_callBeforeHooks","_wrapFireSelectedEvent","_setSelectCell","keepSelect","ignoreBeforeHook","_isWrapped","_updateGridRange","points","needChange","_layers","addDraw","level","DrawLayer","list","_level","_list","drawing","_rectFilter","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","rectFilter","_getRectInternal","_isOutOfRange","_toRelativeDrawRect","addLayerDraw","fRect","onTerminate","_onTerminate","protectedKey","initDocument","Scrollable","transform","alpha","NumberMap","cellTextOverflows","cfg","config","scrollHeight","scrollWidth","setScrollSize","getMaxColWidth","maxwidth","getMinColWidth","minwidth","getCellsRect","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","getRowAt","frozen","getColAt","oldEditMode","cellsRect","invalidateTarget","visibleRowCount","visibleTop","visibleColCount","visibleLeft","topRow","leftCol","_range","getCellOverflowText","overflowText","disposable","Error","disposables","_absoluteY","_startRow","_endRow","nextId","listeners","listenerData","listener","addEventListener","removeEventListener","FilterDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","_setFieldCache","fCache","recCache","source","_rCache","_fCache","getOriginal","getOriginalField","rowCache","setOriginalField","fieldPromiseCallBackInternal","recordPromiseCallBackInternal","isFieldAssessor","UPDATE_LENGTH","ascOrderFn","v1","v2","descOrderFn","getValue","setPromiseBack","maybePromiseValue","promiseValue","fieldGet","fieldResult","ss","applyChainSafe","emptyFn","fieldSet","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","hasOriginalField","orderFn","sortPromise","rel","_index","_field","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","movePrev","nest","FilterData","dc","_owner","_dataSourceItr","_filter","_filteredList","_queues","filteredList","queues","indexQueue","_findIndex","_findIndexWithTimeout","testTimeout","dataSourceItr","queue","_filterData","Inline","getWidth","breakWidth","itr","candidateIndex","chars","beforeWidth","charWidth","beforeContent","afterContent","_callback","fillTextRect","genChars","allWidth","candidate","genWords","toString","Inline_1","_draw","_width","_arg","InlineIcon","_icon","letterSpacing","InlineImage","src","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_height","_imageLeft","_imageTop","_imageWidth","_imageHeight","_offsetTop","_offsetLeft","_onloaded","s","_loadImage","img","drawInlineImageRect","InlinePath2D","path2DManager","Path2D","getPath2D","_path","translate","InlineSvg","InlineImage_1","buildSvgDataUrl","svg","XMLSerializer","serializeToString","encodeURIComponent","getSvgElement","parser","DOMParser","parseFromString","svgElem","elmWidth","getAttribute","elmHeight","numElmWidth","numElmHeight","InlineIcon_1","InlinePath2D_1","InlineSvg_1","drawRegisteredIcon","drawWidth","drawHeight","isIconConstructorOption","isInlineImageConstructorOption","isInlineSvgConstructorOption","registeredIcons","registeredIcon","il","getInternal","symbolManager","pasteUtils","ofCell","CheckHeaderAction","SortHeaderAction","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","SORT","headerAction","headerCell","sortMethod","CHECK_HEADER_STATE_ID","getCheckHeaderStateId","checked","_sort","_executeSort","hasTrueField","fieldRow","inMouse","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","StdTextBaseStyle_1","StdTextBaseStyle","StdMultilineTextBaseStyle_1","StdMultilineTextBaseStyle","_sortArrowColor","_multiline","multiline","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","inlineCheck","contents","arrowSize","icons_1","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","_listeners","fire","hasListener","clear","LRUCache","cacheSize","_map","_cacheSize","idx","remKey","shift","indexFirst","arr","elm","low","high","_keys","_vals","_sorted","keyFrom","keyTo","_left","_top","rect1","rect2","_right","_bottom","x0","x1","y0","y1","another","MAX_SCROLL","heightLimit","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","cubicBezier","x2","y2","x3","y3","step","err","EASINGS","linear","easeIn","easeOut","easeInOut","raf","isNode","requestAnimationFrame","duration","easing","startedAt","easingFn","canceledFlg","createAnim","anim","TYPE_PAREN","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","TABULATION","CARRIAGE_RETURN","LINE_FEED","FORM_FEED","SPACE","PERCENT","FULL_STOP","DIGIT_0","DIGIT_9","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","LATIN_SMALL_A","LATIN_SMALL_Z","isUpperLetter","cp","isLowerLetter","isLetter","isWhitespace","isDigit","isDot","isUnit","createError","tokenize","exp","tokens","len","charCodeAt","parseSign","parseNum","parseUnit","unit","PRECEDENCE","lex","buildBinaryExpNode","stack","op","nodeType","token","deep","closeIndex","beforeOp","parse","calcStr","calcNode","node","toPxInternal","ast","calcBasePosition","fontSizeCache","fontName","bk","paddingLeft","paddingRight","rgbMap","styleColorToRGB","dummy","position","styleColor","defaultView","getComputedStyle","colorToRGB0","hexToNum","hex","parseInt","createRGB","g","tripleHexToRGB","sextupleHexToRGB","r1","r2","g1","g2","b1","b2","testRGB","rateToByte","numberPattern","percentPattern","maybePercentPattern","buildRgbWithCommaRegExp","bytePattern","RegExp","buildRgbLv4RegExp","buildRgbaWithCommaRegExp","alphaPattern","buildRgbaLv4RegExp","rgb","enableFocus","toNodeList","innerHTML","dom","firstChild","arg","toNode","childNodes","inner","disableBeforeTabIndex","previousSibling","nextSibling","loads","_testStr","fontFaceSet","legacy","testStr","ready","ratio","setRatio","devicePixelRatio","wh","scale","getIconProps","ICON_PROP_KEYS","quote","quoted","part","doms","props","tagProps","beforeStyle","getPropertyValue","clientWidth","isLiga","toPropArray","toSimpleArray","iconProps","workData","isIconKey","loadImage","LRUCache_1","allCache","Image","onload","onerror","getCacheOrLoad0","cacheName","Path2DShim","PathCommandsParser_1","PathCommandsParser","_ops","arcTo","ellipse","quadraticCurveTo","roundRect","_y","_w","_radii","CanvasRenderingContext2D","originalFill","apply","PathCommands","mag","sqrt","pow","dot","u","clamp","angle","acos","rotClockwise","cost","cos","sint","sin","rotCounterClockwise","midPoint","meanVec","pointMul","sum","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","xPrime2","rx2","ry2","lambda","factor","cPrime","x1UnitVector","x2UnitVector","theta","deltaTheta","rotate","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","PathCommands_1","pathTokens","builder","argsProvider","_commands","buildPush","numArgs","ops","subsequentCommand","fst","log","FontRuler","computeStyle","display","el_","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallback","inactiveCallback","runner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","widthsMatchLastResortWidths_","lastResortFont","hasWebKitFallbackBug","callbacks","cb","HAS_WEBKIT_FALLBACK_BUG","match","userAgent","module","JSON","parseValues","adjustCell","char","processQuotedCell","pathModule","ud","upsideDown","offsetX","xrate","yrate","path2d","sortArray","createArray","createArrayPromise","plist","setArrayField","compare","old","dummyPromise","catch","getScrollBarWidth","wrapper","wrapperStyle","pointerEvents","wrapperWidth","innerWidth","SCROLLBAR_SIZE","initDocumentInternal","head","initDocumentVar","Function","Symbol","global","random","cl","mem","getIgnoreCase","arrayFind","arrayFindIndex","predicate","analyzeUserAgent","Chrome","Firefox","Safari","ua","omits","defs","root","searchString","subjectString","isFinite","lastIndex","lastIndexOf","re","which","preventDefault","simple_header_layout_1","multi_layout_1","columns","normalizeLayout","seqId","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","_emptyDataCache","EmptyDataCache","hbLayouut","headerField","_body","colDef","_columnCount","widthDef","bodyLayoutRow","recordIndex","layoutRow","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","prev","newEmptyColumnData","newEmptyHeaderData","headers","rows","register","getIcons","tools","core","_getInternal","ListGrid_1","get_internal_1","default","defaultTheme","setDefault","getChoices","themes_1","registers","__importDefault","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","Theme","builtin","defTheme","DEFAULT_BG_COLOR","cacheLinearGradient","getLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","FROZEN_ROWS_BG_COLOR","FROZEN_ROWS_BORDER_COLOR","BORDER_COLOR","getProp","superObj","defNames","convertForSuper","defaultValue","getChainSafeWithConvert","superTheme","hasProperty","colorsToColor","hasThemeProperty","extends","colors","colorsArrayToColor","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","strokeRectLines","positions","preColor","pos1","pos2","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","boxSize","checkPoint","leftX","topY","leftWidth","rightWidth","leftLeftPos","leftTopPos","checkSize","backgroundColor","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","BaseTooltip","detachTooltipElement","_tooltipElement","_getTooltipElement","createTooltipElementInternal","attachTooltipElement","tooltipElement","moveTooltipElement","Tooltip","BaseTooltip_1","TooltipElement_1","TooltipElement","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","overflow-text","getTooltipInstanceInfo","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","_isAttachCell","CONTENT_CLASSNAME","createTooltipDomElement","elementLeft","elementRight","cellCenter","maxWidthForLeft","winWidth","maxWidthForRight"],"mappings":"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GD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;A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","file":"cheetahGrid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridCanvasHelper = void 0;\r\nconst calc = __importStar(require(\"./internal/calc\"));\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nconst fonts = __importStar(require(\"./internal/fonts\"));\r\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst canvases_1 = require(\"./internal/canvases\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst color_1 = require(\"./internal/color\");\r\nconst { toBoxArray } = utils_1.style;\r\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\r\nconst TEXT_OFFSET = 2;\r\nconst CHECKBOX_OFFSET = TEXT_OFFSET + 1;\r\nfunction invalidateCell(context, grid) {\r\n    const { col, row } = context;\r\n    grid.invalidateCell(col, row);\r\n}\r\nfunction getColor(color, col, row, grid, context) {\r\n    return (0, utils_1.getOrApply)(color, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getFont(font, col, row, grid, context) {\r\n    if (font == null) {\r\n        return undefined;\r\n    }\r\n    return (0, utils_1.getOrApply)(font, {\r\n        col,\r\n        row,\r\n        grid,\r\n        context,\r\n    });\r\n}\r\nfunction getThemeColor(grid, ...names) {\r\n    const gridThemeColor = (0, utils_1.getChainSafe)(grid.theme, ...names);\r\n    if (gridThemeColor == null) {\r\n        // use default theme\r\n        return (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n    }\r\n    if (typeof gridThemeColor !== \"function\") {\r\n        return gridThemeColor;\r\n    }\r\n    let defaultThemeColor;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ((args) => {\r\n        const color = gridThemeColor(args);\r\n        if (color != null) {\r\n            // use grid theme\r\n            return color;\r\n        }\r\n        // use default theme\r\n        defaultThemeColor =\r\n            defaultThemeColor || (0, utils_1.getChainSafe)(themes.getDefault(), ...names);\r\n        return (0, utils_1.getOrApply)(defaultThemeColor, args);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    });\r\n}\r\nfunction testFontLoad(font, value, context, grid) {\r\n    if (font) {\r\n        if (!fonts.check(font, value)) {\r\n            fonts.load(font, value, () => invalidateCell(context, grid));\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\r\n    function drawInline(inline, offsetLeft, offsetRight) {\r\n        if (inline.canDraw()) {\r\n            ctx.save();\r\n            try {\r\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\r\n                ctx.font = inline.font() || ctx.font;\r\n                inline.draw({\r\n                    ctx,\r\n                    canvashelper,\r\n                    rect,\r\n                    offset,\r\n                    offsetLeft,\r\n                    offsetRight,\r\n                    offsetTop,\r\n                    offsetBottom,\r\n                });\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        }\r\n        else {\r\n            inline.onReady(() => grid.invalidateCell(col, row));\r\n            //noop\r\n        }\r\n    }\r\n    if (inlines.length === 1) {\r\n        //1\r\n        const inline = inlines[0];\r\n        drawInline(inline, 0, 0);\r\n    }\r\n    else {\r\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\r\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\r\n        let offsetLeft = 0;\r\n        inlines.forEach((inline, index) => {\r\n            const inlineWidth = inlineWidths[index];\r\n            offsetRight -= inlineWidth;\r\n            drawInline(inline, offsetLeft, offsetRight);\r\n            offsetLeft += inlineWidth;\r\n        });\r\n    }\r\n}\r\nfunction buildInlines(icons, inline) {\r\n    return inlineUtils.buildInlines(icons, inline || \"\");\r\n}\r\nfunction inlineToString(inline) {\r\n    return inlineUtils.string(inline);\r\n}\r\nfunction getOverflowInline(textOverflow) {\r\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\r\n        return INLINE_ELLIPSIS;\r\n    }\r\n    textOverflow = textOverflow.trim();\r\n    if (textOverflow.length === 1) {\r\n        return inlineUtils.of(textOverflow[0]);\r\n    }\r\n    return INLINE_ELLIPSIS;\r\n}\r\nfunction isAllowOverflow(textOverflow) {\r\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\r\n}\r\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\r\n    const maxWidth = width - 3; /*buffer*/\r\n    let lineWidth = 0;\r\n    for (let i = 0; i < inlines.length; i++) {\r\n        const inline = inlines[i];\r\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\r\n        if (lineWidth + inlineWidth > maxWidth) {\r\n            return {\r\n                index: i,\r\n                lineWidth,\r\n                remWidth: maxWidth - lineWidth,\r\n            };\r\n        }\r\n        lineWidth += inlineWidth;\r\n    }\r\n    return null;\r\n}\r\nfunction isOverflowInlines(ctx, inlines, width) {\r\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\r\n}\r\nfunction breakWidthInlines(ctx, inlines, width) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            beforeInlines: inlines,\r\n            overflow: false,\r\n            afterInlines: [],\r\n        };\r\n    }\r\n    const { index, remWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const beforeInlines = inlines.slice(0, index);\r\n    const afterInlines = [];\r\n    if (inline.canBreak()) {\r\n        let { before, after } = inline.breakWord(ctx, remWidth);\r\n        if (!before && !beforeInlines.length) {\r\n            ({ before, after } = inline.breakAll(ctx, remWidth));\r\n        }\r\n        if (!before && !beforeInlines.length) {\r\n            // Always return one char\r\n            ({ before, after } = inline.splitIndex(1));\r\n        }\r\n        if (before) {\r\n            beforeInlines.push(before);\r\n        }\r\n        if (after) {\r\n            afterInlines.push(after);\r\n        }\r\n        afterInlines.push(...inlines.slice(index + 1));\r\n    }\r\n    else {\r\n        if (!beforeInlines.length) {\r\n            // Always return one char\r\n            beforeInlines.push(inline);\r\n        }\r\n        afterInlines.push(...inlines.slice(beforeInlines.length));\r\n    }\r\n    return {\r\n        beforeInlines,\r\n        overflow: true,\r\n        afterInlines,\r\n    };\r\n}\r\nfunction truncateInlines(ctx, inlines, width, option) {\r\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\r\n    if (!indexData) {\r\n        return {\r\n            inlines,\r\n            overflow: false,\r\n        };\r\n    }\r\n    const { index, lineWidth } = indexData;\r\n    const inline = inlines[index];\r\n    const overflowInline = getOverflowInline(option);\r\n    const ellipsisWidth = overflowInline.width({ ctx });\r\n    const remWidth = width - lineWidth - ellipsisWidth;\r\n    const result = inlines.slice(0, index);\r\n    if (inline.canBreak()) {\r\n        const { before } = inline.breakAll(ctx, remWidth);\r\n        if (before) {\r\n            result.push(before);\r\n        }\r\n    }\r\n    result.push(overflowInline);\r\n    return {\r\n        inlines: result,\r\n        overflow: true,\r\n    };\r\n}\r\nfunction _inlineRect(grid, ctx, inline, drawRect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    let inlines = buildInlines(icons, inline);\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let inlineDrawRect = drawRect;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n        inlineDrawRect = new Rect_1.Rect(drawRect.left, drawRect.top, width, drawRect.height);\r\n    }\r\n    if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, width)) {\r\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n        inlines = truncInlines;\r\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n    }\r\n    drawInlines(ctx, inlines, inlineDrawRect, offset, 0, 0, col, row, grid);\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let sumWidth = 0;\r\n        inlines.forEach((inline) => {\r\n            sumWidth += inline.width({ ctx });\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < sumWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += sumWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\n// eslint-disable-next-line complexity\r\nfunction _multiInlineRect(grid, ctx, multiInlines, drawRect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, trailingIcon, }) {\r\n    //style\r\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.font = font || ctx.font;\r\n    if (lineClamp === \"auto\") {\r\n        const rectHeight = drawRect.height - offset * 2 - 2; /*offset added by Inline#draw*/\r\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\r\n    }\r\n    const trailingIconInline = trailingIcon\r\n        ? inlineUtils.iconOf(trailingIcon)\r\n        : null;\r\n    let { width } = drawRect;\r\n    let trailingIconWidth = 0;\r\n    if (trailingIconInline) {\r\n        trailingIconWidth = trailingIconInline.width({ ctx });\r\n        width -= trailingIconWidth;\r\n    }\r\n    let buildedMultiInlines;\r\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\r\n        buildedMultiInlines = [];\r\n        const procLineClamp = lineClamp > 0\r\n            ? (inlines, hasNext) => {\r\n                if (buildedMultiInlines.length + 1 >= Number(lineClamp)) {\r\n                    if (inlines.length === 0 && hasNext) {\r\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    else {\r\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                        buildedMultiInlines.push(hasNext && !overflow\r\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\r\n                            : truncInlines);\r\n                        if (overflow || hasNext) {\r\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n            : () => true;\r\n        const procLine = autoWrapText\r\n            ? (inlines, hasNext) => {\r\n                if (!procLineClamp(inlines, hasNext)) {\r\n                    return false;\r\n                }\r\n                while (inlines.length) {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\r\n                    buildedMultiInlines.push(beforeInlines);\r\n                    inlines = afterInlines;\r\n                }\r\n                return true;\r\n            }\r\n            : isAllowOverflow(textOverflow)\r\n                ? (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\r\n                    buildedMultiInlines.push(truncInlines);\r\n                    if (overflow) {\r\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\r\n                    }\r\n                    return true;\r\n                }\r\n                : (inlines, hasNext) => {\r\n                    if (!procLineClamp(inlines, hasNext)) {\r\n                        return false;\r\n                    }\r\n                    buildedMultiInlines.push(inlines);\r\n                    return true;\r\n                };\r\n        grid.setCellOverflowText(col, row, false);\r\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\r\n            const inline = multiInlines[lineRow];\r\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\r\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        grid.setCellOverflowText(col, row, false);\r\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\r\n    }\r\n    let paddingTop = 0;\r\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\r\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop += pad;\r\n        paddingBottom -= pad;\r\n    }\r\n    else if (ctx.textBaseline === \"bottom\" ||\r\n        ctx.textBaseline === \"alphabetic\" ||\r\n        ctx.textBaseline === \"ideographic\") {\r\n        const em = (0, canvases_1.getFontSize)(ctx, ctx.font).height;\r\n        const pad = (lineHeight - em) / 2;\r\n        paddingTop -= pad;\r\n        paddingBottom += pad;\r\n    }\r\n    buildedMultiInlines.forEach((buildedInline) => {\r\n        drawInlines(ctx, buildedInline, drawRect, offset, paddingTop, paddingBottom, col, row, grid);\r\n        paddingTop += lineHeight;\r\n        paddingBottom -= lineHeight;\r\n    });\r\n    if (trailingIconInline) {\r\n        // Draw trailing icon\r\n        let maxWidth = 0;\r\n        buildedMultiInlines.forEach((buildedInline) => {\r\n            let sumWidth = 0;\r\n            buildedInline.forEach((inline) => {\r\n                sumWidth += inline.width({ ctx });\r\n            });\r\n            maxWidth = Math.max(maxWidth, sumWidth);\r\n        });\r\n        const baseRect = new Rect_1.Rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n        const trailingIconRect = baseRect.copy();\r\n        if (width < maxWidth) {\r\n            trailingIconRect.left =\r\n                trailingIconRect.right - trailingIconWidth - offset;\r\n        }\r\n        else {\r\n            trailingIconRect.left += maxWidth;\r\n        }\r\n        trailingIconRect.right = baseRect.right;\r\n        drawInlines(ctx, [trailingIconInline], trailingIconRect, offset, 0, 0, col, row, grid);\r\n    }\r\n}\r\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\r\n    const startColorRGB = (0, color_1.colorToRGB)(startColor);\r\n    const endColorRGB = (0, color_1.colorToRGB)(endColor);\r\n    const getRGB = (colorName) => {\r\n        const start = startColorRGB[colorName];\r\n        const end = endColorRGB[colorName];\r\n        if (elapsedTime >= 1) {\r\n            return end;\r\n        }\r\n        if (elapsedTime <= 0) {\r\n            return start;\r\n        }\r\n        const diff = start - end;\r\n        return Math.ceil(start - diff * elapsedTime);\r\n    };\r\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\r\n}\r\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    borderColor = helper.getColor(borderColor, col, row, ctx);\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        uncheckBgColor = check\r\n            ? uncheckBgColor\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n        checkBgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : checkBgColor;\r\n    }\r\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\r\n        uncheckBgColor,\r\n        checkBgColor,\r\n        borderColor,\r\n    });\r\n}\r\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\r\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\r\n    checkColor = helper.getColor(checkColor, col, row, ctx);\r\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\r\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\r\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\r\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\r\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\r\n    let bgColor = check ? checkBgColor : uncheckBgColor;\r\n    if (0 < animElapsedTime && animElapsedTime < 1) {\r\n        borderColor = check\r\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\r\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\r\n        bgColor = check\r\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\r\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\r\n    }\r\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\r\n        checkColor,\r\n        borderColor,\r\n        bgColor,\r\n    });\r\n}\r\nclass ThemeResolver {\r\n    constructor(grid) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this._grid = grid;\r\n    }\r\n    getThemeColor(...name) {\r\n        return getThemeColor(this._grid, ...name);\r\n    }\r\n    get font() {\r\n        return getThemeColor(this._grid, \"font\");\r\n    }\r\n    get underlayBackgroundColor() {\r\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\r\n    }\r\n    // color\r\n    get color() {\r\n        return getThemeColor(this._grid, \"color\");\r\n    }\r\n    get frozenRowsColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsColor\");\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        return getThemeColor(this._grid, \"defaultBgColor\");\r\n    }\r\n    get frozenRowsBgColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\r\n    }\r\n    get selectionBgColor() {\r\n        return getThemeColor(this._grid, \"selectionBgColor\");\r\n    }\r\n    get highlightBgColor() {\r\n        return getThemeColor(this._grid, \"highlightBgColor\");\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        return getThemeColor(this._grid, \"borderColor\");\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\r\n    }\r\n    get highlightBorderColor() {\r\n        return getThemeColor(this._grid, \"highlightBorderColor\");\r\n    }\r\n    get checkbox() {\r\n        const grid = this._grid;\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop) {\r\n            return getThemeColor(grid, \"checkbox\", prop);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const grid = this._grid;\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\");\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\");\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\");\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop) {\r\n            return getThemeColor(grid, \"radioButton\", prop);\r\n        }\r\n    }\r\n    get button() {\r\n        const grid = this._grid;\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\");\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\");\r\n                },\r\n            }));\r\n        function getButtonProp(prop) {\r\n            return getThemeColor(grid, \"button\", prop);\r\n        }\r\n    }\r\n    get header() {\r\n        const grid = this._grid;\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const grid = this._grid;\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getThemeColor(grid, \"messages\", prop);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const grid = this._grid;\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop) {\r\n            return getThemeColor(grid, \"indicators\", prop);\r\n        }\r\n    }\r\n}\r\nfunction strokeRect(ctx, color, left, top, width, height) {\r\n    if (!Array.isArray(color)) {\r\n        if (color) {\r\n            ctx.strokeStyle = color;\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        const borderColors = toBoxArray(color);\r\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\r\n    }\r\n}\r\nclass GridCanvasHelper {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._theme = new ThemeResolver(grid);\r\n    }\r\n    createCalculator(context, font) {\r\n        return {\r\n            calcWidth(width) {\r\n                return calc.toPx(width, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.width;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).width;\r\n                    },\r\n                });\r\n            },\r\n            calcHeight(height) {\r\n                return calc.toPx(height, {\r\n                    get full() {\r\n                        const rect = context.getRect();\r\n                        return rect.height;\r\n                    },\r\n                    get em() {\r\n                        return (0, canvases_1.getFontSize)(context.getContext(), font).height;\r\n                    },\r\n                });\r\n            },\r\n        };\r\n    }\r\n    getColor(color, col, row, ctx) {\r\n        return getColor(color, col, row, this._grid, ctx);\r\n    }\r\n    toBoxArray(obj) {\r\n        return toBoxArray(obj);\r\n    }\r\n    toBoxPixelArray(value, context, font) {\r\n        if (typeof value === \"string\" || Array.isArray(value)) {\r\n            const calculator = this.createCalculator(context, font);\r\n            const box = toBoxArray(value);\r\n            return [\r\n                calculator.calcHeight(box[0]),\r\n                calculator.calcWidth(box[1]),\r\n                calculator.calcHeight(box[2]),\r\n                calculator.calcWidth(box[3]),\r\n            ];\r\n        }\r\n        return toBoxArray(value);\r\n    }\r\n    get theme() {\r\n        return this._theme;\r\n    }\r\n    drawWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n            //clip\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    drawBorderWithClip(context, draw) {\r\n        const drawRect = context.getDrawRect();\r\n        if (!drawRect) {\r\n            return;\r\n        }\r\n        const rect = context.getRect();\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            //clip\r\n            ctx.beginPath();\r\n            let clipLeft = drawRect.left;\r\n            let clipWidth = drawRect.width;\r\n            if (drawRect.left === rect.left) {\r\n                clipLeft += -1;\r\n                clipWidth += 1;\r\n            }\r\n            let clipTop = drawRect.top;\r\n            let clipHeight = drawRect.height;\r\n            if (drawRect.top === rect.top) {\r\n                clipTop += -1;\r\n                clipHeight += 1;\r\n            }\r\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\r\n            ctx.clip();\r\n            draw(ctx);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    text(text, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, trailingIcon, appendRightPx, } = {}) {\r\n        let rect = context.getRect();\r\n        rect.width += appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0;\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width + (appendRightPx !== null && appendRightPx !== void 0 ? appendRightPx : 0), height);\r\n            }\r\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    multilineText(multilines, context, { padding, offset = TEXT_OFFSET, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, trailingIcon, } = {}) {\r\n        let rect = context.getRect();\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            if (padding) {\r\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\r\n                const left = rect.left + paddingNums[3];\r\n                const top = rect.top + paddingNums[0];\r\n                const width = rect.width - paddingNums[1] - paddingNums[3];\r\n                const height = rect.height - paddingNums[0] - paddingNums[2];\r\n                rect = new Rect_1.Rect(left, top, width, height);\r\n            }\r\n            const calculator = this.createCalculator(context, font);\r\n            lineHeight = calculator.calcHeight(lineHeight);\r\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n                trailingIcon,\r\n            });\r\n        });\r\n    }\r\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\r\n        const { col, row } = context;\r\n        if (!color) {\r\n            ({ color } = this.theme);\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell && isFrozenCell.row) {\r\n                color = this.theme.frozenRowsColor;\r\n            }\r\n        }\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\r\n            ctx.textAlign = textAlign;\r\n            ctx.textBaseline = textBaseline;\r\n            ctx.font = font || ctx.font;\r\n            ctx.fillText(text, x, y);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        });\r\n    }\r\n    fillCellWithState(context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillCell(context, option);\r\n    }\r\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\r\n        const ctx = context.getContext();\r\n        ctx.save();\r\n        try {\r\n            const { col, row } = context;\r\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            ctx.fill();\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    fillRectWithState(rect, context, option = {}) {\r\n        option.fillColor = this.getFillColorState(context, option);\r\n        this.fillRect(rect, context, option);\r\n    }\r\n    getFillColorState(context, option = {}) {\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        if (!(0, utils_1.cellEquals)(sel.select, context) && (0, utils_1.cellInRange)(sel.range, col, row)) {\r\n            return this.theme.selectionBgColor;\r\n        }\r\n        if (option.fillColor) {\r\n            return option.fillColor;\r\n        }\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            return this.theme.highlightBgColor;\r\n        }\r\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            return this.theme.frozenRowsBgColor;\r\n        }\r\n        return this.theme.defaultBgColor;\r\n    }\r\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawBorderWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\r\n            if (lineWidth === 1) {\r\n                ctx.lineWidth = 1;\r\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\r\n            }\r\n            else if (lineWidth === 2) {\r\n                ctx.lineWidth = 2;\r\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\r\n            }\r\n            else {\r\n                ctx.lineWidth = lineWidth;\r\n                const startOffset = lineWidth / 2 - 1;\r\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\r\n            }\r\n        });\r\n    }\r\n    // Unused in main\r\n    borderWithState(context, option = {}) {\r\n        const rect = context.getRect();\r\n        const sel = context.getSelection();\r\n        const { col, row } = context;\r\n        //\r\n        if ((0, utils_1.cellEquals)(sel.select, context)) {\r\n            option.borderColor = this.theme.highlightBorderColor;\r\n            option.lineWidth = 2;\r\n            this.border(context, option);\r\n        }\r\n        else {\r\n            // header color\r\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\r\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n                option.borderColor = this.theme.frozenRowsBorderColor;\r\n            }\r\n            option.lineWidth = 1;\r\n            this.border(context, option);\r\n            //\r\n            const sel = this._grid.selection.select;\r\n            if (sel.col + 1 === col && sel.row === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n            else if (sel.col === col && sel.row + 1 === row) {\r\n                //\r\n                this.drawBorderWithClip(context, (ctx) => {\r\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                });\r\n            }\r\n        }\r\n    }\r\n    buildCheckBoxInline(check, context, option = {}) {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const self = this;\r\n        const ctx = context.getContext();\r\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw,\r\n            width: boxWidth + 3,\r\n            height: boxWidth + 1,\r\n            color: undefined,\r\n        });\r\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\r\n                offset: offset + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                padding: {\r\n                    left: offsetLeft + (CHECKBOX_OFFSET - TEXT_OFFSET),\r\n                    right: offsetRight,\r\n                    top: offsetTop,\r\n                    bottom: offsetBottom,\r\n                },\r\n            });\r\n        }\r\n    }\r\n    checkbox(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, uncheckBgColor, checkBgColor, borderColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                borderColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    radioButton(check, context, { animElapsedTime, offset = CHECKBOX_OFFSET, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, textAlign, textBaseline, } = {}) {\r\n        this.drawWithClip(context, (ctx) => {\r\n            const { col, row } = context;\r\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, {\r\n                animElapsedTime,\r\n                checkColor,\r\n                uncheckBorderColor,\r\n                checkBorderColor,\r\n                uncheckBgColor,\r\n                checkBgColor,\r\n                textAlign,\r\n                textBaseline,\r\n            }, { offset, padding: { left: CHECKBOX_OFFSET - TEXT_OFFSET } });\r\n        });\r\n    }\r\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = TEXT_OFFSET, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\r\n        const rect = context.getRect();\r\n        this.drawWithClip(context, (ctx) => {\r\n            font = getFont(font, context.col, context.row, this._grid, ctx);\r\n            const { col, row } = context;\r\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\r\n            const left = rect.left + paddingNums[3];\r\n            const top = rect.top + paddingNums[0];\r\n            const width = rect.width - paddingNums[1] - paddingNums[3];\r\n            const height = rect.height - paddingNums[0] - paddingNums[2];\r\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\r\n            canvashelper.drawButton(ctx, left, top, width, height, {\r\n                bgColor,\r\n                radius: rect.height / 8,\r\n                // offset,\r\n                shadow,\r\n            });\r\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\r\n                offset,\r\n                color,\r\n                textAlign,\r\n                textBaseline,\r\n                font,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n    testFontLoad(font, value, context) {\r\n        return testFontLoad(font, value, context, this._grid);\r\n    }\r\n}\r\nexports.GridCanvasHelper = GridCanvasHelper;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ListGrid = void 0;\r\nconst icons = __importStar(require(\"./internal/icons\"));\r\nconst themes = __importStar(require(\"./themes\"));\r\nconst data_1 = require(\"./data\");\r\nconst layout_map_1 = require(\"./list-grid/layout-map\");\r\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst style_1 = require(\"./columns/style\");\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nconst style_2 = require(\"./header/style\");\r\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\r\nconst Rect_1 = require(\"./internal/Rect\");\r\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"./internal/symbolManager\");\r\nconst paste_utils_1 = require(\"./internal/paste-utils\");\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n//private methods\r\n/** @private */\r\nfunction _getCellRange(grid, col, row) {\r\n    return grid[_].layoutMap.getCellRange(col, row);\r\n}\r\n/** @private */\r\nfunction _updateRect(grid, col, row, context) {\r\n    context.setRectFilter((rect) => {\r\n        let { left, right, top, bottom } = rect;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\r\n        for (let c = col - 1; c >= startCol; c--) {\r\n            left -= grid.getColWidth(c);\r\n        }\r\n        for (let c = col + 1; c <= endCol; c++) {\r\n            right += grid.getColWidth(c);\r\n        }\r\n        for (let r = row - 1; r >= startRow; r--) {\r\n            top -= grid.getRowHeight(r);\r\n        }\r\n        for (let r = row + 1; r <= endRow; r++) {\r\n            bottom += grid.getRowHeight(r);\r\n        }\r\n        return Rect_1.Rect.bounds(left, top, right, bottom);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getCellValue(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\r\n        return typeof caption === \"function\" ? caption() : caption;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        return _getField(grid, field, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _setCellValue(grid, col, row, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        // nop\r\n        return false;\r\n    }\r\n    else {\r\n        const { field } = grid[_].layoutMap.getBody(col, row);\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.setField(index, field, value);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getCellMessage(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const { message } = grid[_].layoutMap.getBody(col, row);\r\n        if (!message) {\r\n            return null;\r\n        }\r\n        if (!Array.isArray(message)) {\r\n            return _getField(grid, message, row);\r\n        }\r\n        const promises = [];\r\n        for (let index = 0; index < message.length; index++) {\r\n            const msg = _getField(grid, message[index], row);\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promises.push(msg);\r\n            }\r\n            else if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                return msg;\r\n            }\r\n        }\r\n        if (!promises.length) {\r\n            return null;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            promises.forEach((p) => {\r\n                p.then((msg) => {\r\n                    if ((0, MessageHandler_1.hasMessage)(msg)) {\r\n                        resolve(msg);\r\n                    }\r\n                }, reject);\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction _getCellIcon0(grid, icon, row) {\r\n    if (Array.isArray(icon)) {\r\n        return icon.map((i) => _getCellIcon0(grid, i, row));\r\n    }\r\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\r\n        return _getField(grid, icon, row);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const retIcon = {};\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const iconOpt = icon;\r\n    icons.iconPropKeys.forEach((k) => {\r\n        if (iconOpt[k]) {\r\n            const f = _getField(grid, iconOpt[k], row);\r\n            if (f != null) {\r\n                retIcon[k] = f;\r\n            }\r\n            else {\r\n                if (!_hasField(grid, iconOpt[k], row)) {\r\n                    retIcon[k] = iconOpt[k];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return retIcon;\r\n}\r\n/** @private */\r\nfunction _getCellIcon(grid, col, row) {\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        const { headerIcon } = grid[_].layoutMap.getHeader(col, row);\r\n        if (headerIcon == null) {\r\n            return null;\r\n        }\r\n        return headerIcon;\r\n    }\r\n    else {\r\n        const { icon } = grid[_].layoutMap.getBody(col, row);\r\n        if (icon == null) {\r\n            return null;\r\n        }\r\n        return _getCellIcon0(grid, icon, row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getField(grid, field, row) {\r\n    if (field == null) {\r\n        return null;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return null;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.getField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _hasField(grid, field, row) {\r\n    if (field == null) {\r\n        return false;\r\n    }\r\n    if (row < grid[_].layoutMap.headerRowCount) {\r\n        return false;\r\n    }\r\n    else {\r\n        const index = _getRecordIndexByRow(grid, row);\r\n        return grid[_].dataSource.hasField(index, field);\r\n    }\r\n}\r\n/** @private */\r\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\r\n    const helper = grid[_].gridCanvasHelper;\r\n    const drawCellBg = ({ bgColor, } = {}) => {\r\n        const fillOpt = {\r\n            fillColor: bgColor,\r\n        };\r\n        //cell\r\n        helper.fillCellWithState(context, fillOpt);\r\n    };\r\n    const drawCellBorder = () => {\r\n        if (context.col === grid.frozenColCount - 1) {\r\n            //\r\n            const rect = context.getRect();\r\n            helper.drawWithClip(context, (ctx) => {\r\n                const borderColor = context.row >= grid.frozenRowCount\r\n                    ? helper.theme.borderColor\r\n                    : helper.theme.frozenRowsBorderColor;\r\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.right - 2.5, rect.top);\r\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        _borderWithState(grid, helper, context);\r\n    };\r\n    const drawCellBase = ({ bgColor, } = {}) => {\r\n        drawCellBg({ bgColor });\r\n        drawCellBorder();\r\n    };\r\n    const info = {\r\n        getRecord: () => grid.getRowRecord(row),\r\n        getIcon: () => _getCellIcon(grid, col, row),\r\n        getMessage: () => _getCellMessage(grid, col, row),\r\n        messageHandler: grid[_].messageHandler,\r\n        style,\r\n        drawCellBase,\r\n        drawCellBg,\r\n        drawCellBorder,\r\n    };\r\n    return draw(cellValue, info, context, grid);\r\n}\r\n/** @private */\r\nfunction _borderWithState(grid, helper, context) {\r\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\r\n    const { col, row } = context;\r\n    const sel = grid.selection.select;\r\n    const { layoutMap } = grid[_];\r\n    const rect = context.getRect();\r\n    const option = {};\r\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\r\n    const selId = layoutMap.getCellId(sel.col, sel.row);\r\n    function isSelectCell(col, row) {\r\n        if (col === sel.col && row === sel.row) {\r\n            return true;\r\n        }\r\n        return (selId != null &&\r\n            layoutMap.getCellId(col, row) === selId &&\r\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\r\n    }\r\n    //\r\n    if (isSelectCell(col, row) &&\r\n        ((typeof helper.theme.highlightBorderColor == \"string\" &&\r\n            helper.theme.highlightBorderColor) ||\r\n            (typeof helper.theme.highlightBorderColor == \"function\" &&\r\n                helper.theme.highlightBorderColor(row, col)))) {\r\n        option.borderColor = helper.theme.highlightBorderColor;\r\n        option.lineWidth = 2;\r\n        helper.border(context, option);\r\n    }\r\n    else {\r\n        option.lineWidth = 1;\r\n        // header color\r\n        const isFrozenCell = grid.isFrozenCell(col, row);\r\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\r\n            option.borderColor = helper.theme.frozenRowsBorderColor;\r\n        }\r\n        let flagBorder = false;\r\n        if ((_b = layoutMap.getBody(col, row)) === null || _b === void 0 ? void 0 : _b.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_c = layoutMap.getBody(col, row)) === null || _c === void 0 ? void 0 : _c.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_e = (_d = layoutMap.getBody(col, row).style) === null || _d === void 0 ? void 0 : _d.borderColor) !== null && _e !== void 0 ? _e : \"\";\r\n            }\r\n            if (typeof ((_f = layoutMap.getBody(col, row)) === null || _f === void 0 ? void 0 : _f.style) == \"function\" &&\r\n                ((_g = grid[_].records) === null || _g === void 0 ? void 0 : _g.length)) {\r\n                borderColorCell = (_h = layoutMap.getBody(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _h === void 0 ? void 0 : _h.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if ((_j = layoutMap.getHeader(col, row)) === null || _j === void 0 ? void 0 : _j.style) {\r\n            let borderColorCell = \"\";\r\n            if (typeof ((_k = layoutMap.getHeader(col, row)) === null || _k === void 0 ? void 0 : _k.style) == \"object\") {\r\n                borderColorCell =\r\n                    (_m = (_l = layoutMap.getHeader(col, row).style) === null || _l === void 0 ? void 0 : _l.borderColor) !== null && _m !== void 0 ? _m : \"\";\r\n            }\r\n            if (typeof ((_o = layoutMap.getHeader(col, row)) === null || _o === void 0 ? void 0 : _o.style) == \"function\" &&\r\n                ((_p = grid[_].records) === null || _p === void 0 ? void 0 : _p.length)) {\r\n                borderColorCell = (_q = layoutMap.getHeader(col, row).style(grid[_].records[layoutMap.getRecordIndexByRow(row)], col, row)) === null || _q === void 0 ? void 0 : _q.borderColor;\r\n            }\r\n            if (borderColorCell) {\r\n                option.borderColor = borderColorCell;\r\n                helper.border(context, option);\r\n                flagBorder = true;\r\n            }\r\n        }\r\n        if (!flagBorder) {\r\n            helper.border(context, option);\r\n        }\r\n        //\r\n        if (col > 0 && isSelectCell(col - 1, row)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[1]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[1];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left - 0.5, rect.top);\r\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n        else if (row > 0 && isSelectCell(col, row - 1)) {\r\n            //\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\r\n                if (borderColors[0]) {\r\n                    ctx.lineWidth = 1;\r\n                    ctx.strokeStyle = borderColors[0];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(rect.left, rect.top - 0.5);\r\n                    ctx.lineTo(rect.right, rect.top - 0.5);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshHeader(grid) {\r\n    var _b;\r\n    const protectedSpace = grid[_];\r\n    if (protectedSpace.headerEvents) {\r\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\r\n    }\r\n    const headerEvents = (grid[_].headerEvents = []);\r\n    headerEvents.forEach((id) => grid.unlisten(id));\r\n    let layoutMap;\r\n    if (protectedSpace.layout &&\r\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\r\n    }\r\n    else {\r\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_b = protectedSpace.header) !== null && _b !== void 0 ? _b : []);\r\n    }\r\n    layoutMap.headerObjects.forEach((cell) => {\r\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\r\n        headerEvents.push(...ids);\r\n        if (cell.style) {\r\n            if (cell.style instanceof style_2.BaseStyle) {\r\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n        if (cell.action) {\r\n            const ids = cell.action.bindGridEvent(grid, cell.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n    });\r\n    layoutMap.columnObjects.forEach((col) => {\r\n        if (col.action) {\r\n            const ids = col.action.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.columnType) {\r\n            const ids = col.columnType.bindGridEvent(grid, col.id);\r\n            headerEvents.push(...ids);\r\n        }\r\n        if (col.style) {\r\n            if (col.style instanceof style_1.BaseStyle) {\r\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n                    grid.invalidate();\r\n                });\r\n                headerEvents.push(id);\r\n            }\r\n        }\r\n    });\r\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\r\n        const column = layoutMap.columnWidths[col];\r\n        const { width, minWidth, maxWidth } = column;\r\n        if (width && (typeof width === \"string\" || width > 0)) {\r\n            grid.setColWidth(col, width);\r\n        }\r\n        else {\r\n            grid.setColWidth(col, null);\r\n        }\r\n        if (minWidth && (typeof minWidth === \"string\" || minWidth > 0)) {\r\n            grid.setMinColWidth(col, minWidth);\r\n        }\r\n        else {\r\n            grid.setMinColWidth(col, null);\r\n        }\r\n        if (maxWidth && (typeof maxWidth === \"string\" || maxWidth > 0)) {\r\n            grid.setMaxColWidth(col, maxWidth);\r\n        }\r\n        else {\r\n            grid.setMaxColWidth(col, null);\r\n        }\r\n    }\r\n    const { headerRowHeight } = grid[_];\r\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\r\n        const height = Array.isArray(headerRowHeight)\r\n            ? headerRowHeight[row]\r\n            : headerRowHeight;\r\n        if (height && height > 0) {\r\n            grid.setRowHeight(row, height);\r\n        }\r\n        else {\r\n            grid.setRowHeight(row, null);\r\n        }\r\n    }\r\n    grid.colCount = layoutMap.colCount;\r\n    _refreshRowCount(grid);\r\n    if (grid.frozenRowCount == 0) {\r\n        grid.frozenRowCount = layoutMap.headerRowCount;\r\n    }\r\n}\r\n/** @private */\r\nfunction _refreshRowCount(grid) {\r\n    const { layoutMap } = grid[_];\r\n    grid.rowCount =\r\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\r\n            layoutMap.headerRowCount;\r\n}\r\n/** @private */\r\nfunction _tryWithUpdateDataSource(grid, fn) {\r\n    const { dataSourceEventIds } = grid[_];\r\n    if (dataSourceEventIds) {\r\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\r\n    }\r\n    fn(grid);\r\n    grid[_].dataSourceEventIds = [\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\r\n            _refreshRowCount(grid);\r\n            grid.invalidate();\r\n        }),\r\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            grid.invalidate();\r\n        }),\r\n    ];\r\n}\r\n/** @private */\r\nfunction _setRecords(grid, records = []) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        grid[_].records = records;\r\n        const newDataSource = (grid[_].dataSource =\r\n            data_1.CachedDataSource.ofArray(records));\r\n        grid.addDisposable(newDataSource);\r\n    });\r\n}\r\n/** @private */\r\nfunction _setDataSource(grid, dataSource) {\r\n    _tryWithUpdateDataSource(grid, () => {\r\n        if (dataSource) {\r\n            if (dataSource instanceof data_1.DataSource) {\r\n                grid[_].dataSource = dataSource;\r\n            }\r\n            else {\r\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\r\n                grid.addDisposable(newDataSource);\r\n            }\r\n        }\r\n        else {\r\n            grid[_].dataSource = data_1.DataSource.EMPTY;\r\n        }\r\n        grid[_].records = null;\r\n    });\r\n}\r\n/** @private */\r\nfunction _getRecordIndexByRow(grid, row) {\r\n    const { layoutMap } = grid[_];\r\n    return layoutMap.getRecordIndexByRow(row);\r\n}\r\n/** @private */\r\nfunction _onRangePaste(text, test = () => true) {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const values = (0, paste_utils_1.parsePasteRangeBoxValues)(text, {\r\n        trimOnPaste: this.trimOnPaste,\r\n    });\r\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\r\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let rejectedDetail = [];\r\n    const addRejectedDetail = (cell, record, define, pasteValue) => {\r\n        rejectedDetail.push({\r\n            col: cell.col,\r\n            row: cell.row,\r\n            record,\r\n            define,\r\n            pasteValue,\r\n        });\r\n    };\r\n    let timeout = null;\r\n    const processRejected = () => {\r\n        if (timeout)\r\n            clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            if (rejectedDetail.length > 0) {\r\n                this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.REJECTED_PASTE_VALUES, {\r\n                    detail: rejectedDetail,\r\n                });\r\n                rejectedDetail = [];\r\n            }\r\n        }, 100);\r\n    };\r\n    let reject = addRejectedDetail;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    let valuesRow = 0;\r\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\r\n        let valuesCol = 0;\r\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\r\n            const { action, id, define } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\r\n                (0, utils_1.then)(this.getRowRecord(row), (record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (oldValue) => {\r\n                        if (test({\r\n                            grid: this,\r\n                            record: record,\r\n                            col,\r\n                            row,\r\n                            value: cellValue,\r\n                            oldValue,\r\n                        })) {\r\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue, {\r\n                                reject() {\r\n                                    reject({ col, row }, record, define, cellValue);\r\n                                },\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            valuesCol++;\r\n            if (valuesCol >= values.colCount) {\r\n                valuesCol = 0;\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n        valuesRow++;\r\n        if (valuesRow >= values.rowCount) {\r\n            valuesRow = 0;\r\n        }\r\n    }\r\n    const newEnd = {\r\n        col: start.col + pasteColCount - 1,\r\n        row: start.row + pasteRowCount - 1,\r\n    };\r\n    this.selection.range = {\r\n        start,\r\n        end: newEnd,\r\n    };\r\n    this.invalidateCellRange(this.selection.range);\r\n    processRejected();\r\n    reject = (cell, record, define, pasteValue) => {\r\n        addRejectedDetail(cell, record, define, pasteValue);\r\n        processRejected();\r\n    };\r\n}\r\n/** @private */\r\nfunction _onRangeDelete() {\r\n    var _b;\r\n    const { layoutMap } = this[_];\r\n    const selectionRange = this.selection.range;\r\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\r\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\r\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\r\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\r\n    let hasEditable = false;\r\n    const actionColumnsBox = [];\r\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\r\n        const actionColumnsRow = [];\r\n        actionColumnsBox.push(actionColumnsRow);\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\r\n            actionColumnsRow[offsetCol] = body;\r\n            if (!hasEditable && ((_b = body.action) === null || _b === void 0 ? void 0 : _b.editable)) {\r\n                hasEditable = true;\r\n            }\r\n        }\r\n    }\r\n    if (!hasEditable) {\r\n        return;\r\n    }\r\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\r\n    const startRowOffset = start.row - startRow;\r\n    let duplicate = {};\r\n    let actionRow = startRowOffset;\r\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\r\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\r\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\r\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\r\n                duplicate[id] = true;\r\n                const col = start.col + offsetCol;\r\n                const row = start.row + offsetRow;\r\n                (0, utils_1.then)(this.getRowRecord(row), (_record) => {\r\n                    (0, utils_1.then)(_getCellValue(this, col, row), (_oldValue) => {\r\n                        action.onDeleteCellRangeBox(this, { col, row });\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        actionRow++;\r\n        if (actionRow >= layoutMap.bodyRowCount) {\r\n            actionRow = 0;\r\n            duplicate = {};\r\n        }\r\n    }\r\n    this.invalidateCellRange(selectionRange);\r\n}\r\n/**\r\n * ListGrid\r\n * @classdesc cheetahGrid.ListGrid\r\n * @memberof cheetahGrid\r\n */\r\nclass ListGrid extends DrawGrid_1.DrawGrid {\r\n    static get EVENT_TYPE() {\r\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\r\n    }\r\n    /**\r\n     * constructor\r\n     *\r\n     * @constructor\r\n     * @param options Constructor options\r\n     */\r\n    constructor(options = {}) {\r\n        var _b, _c;\r\n        super((0, utils_1.omit)(options, [\"colCount\", \"rowCount\"]));\r\n        this[_a] = this[_];\r\n        this.disabled = false;\r\n        this.readOnly = false;\r\n        const protectedSpace = this[_];\r\n        protectedSpace.header = options.header || [];\r\n        protectedSpace.layout = options.layout || [];\r\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\r\n        protectedSpace.frozenRowCount = (_b = options.frozenRowCount) !== null && _b !== void 0 ? _b : 0;\r\n        if (options.dataSource) {\r\n            _setDataSource(this, options.dataSource);\r\n        }\r\n        else {\r\n            _setRecords(this, options.records);\r\n        }\r\n        protectedSpace.allowRangePaste = (_c = options.allowRangePaste) !== null && _c !== void 0 ? _c : false;\r\n        _refreshHeader(this);\r\n        protectedSpace.sortState = {\r\n            col: -1,\r\n            row: -1,\r\n            order: undefined,\r\n        };\r\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\r\n        protectedSpace.theme = themes.of(options.theme);\r\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\r\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\r\n        this.invalidate();\r\n        protectedSpace.handler.on(window, \"resize\", () => {\r\n            this.updateSize();\r\n            this.updateScroll();\r\n            this.invalidate();\r\n        });\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        const protectedSpace = this[_];\r\n        protectedSpace.messageHandler.dispose();\r\n        protectedSpace.tooltipHandler.dispose();\r\n        super.dispose();\r\n    }\r\n    /**\r\n     * Gets the define of the header.\r\n     */\r\n    get header() {\r\n        return this[_].header;\r\n    }\r\n    /**\r\n     * Sets the define of the header with the given data.\r\n     * <pre>\r\n     * column options\r\n     * -----\r\n     * caption: header caption\r\n     * field: field name\r\n     * width: column width\r\n     * minWidth: column min width\r\n     * maxWidth: column max width\r\n     * icon: icon definition\r\n     * message: message key name\r\n     * columnType: column type\r\n     * action: column action\r\n     * style: column style\r\n     * headerType: header type\r\n     * headerStyle: header style\r\n     * headerAction: header action\r\n     * headerField: header field name\r\n     * headerIcon: header icon definition\r\n     * sort: define sort setting\r\n     * -----\r\n     *\r\n     * multiline header\r\n     * -----\r\n     * caption: header caption\r\n     * columns: columns define\r\n     * -----\r\n     * </pre>\r\n     */\r\n    set header(header) {\r\n        this[_].header = header;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Gets the define of the layout.\r\n     */\r\n    get layout() {\r\n        return this[_].layout;\r\n    }\r\n    /**\r\n     * Sets the define of the layout with the given data.\r\n     */\r\n    set layout(layout) {\r\n        this[_].layout = layout;\r\n        _refreshHeader(this);\r\n    }\r\n    /**\r\n     * Get the row count per record\r\n     */\r\n    get recordRowCount() {\r\n        return this[_].layoutMap.bodyRowCount;\r\n    }\r\n    /**\r\n     * Get the records.\r\n     */\r\n    get records() {\r\n        return this[_].records || null;\r\n    }\r\n    /**\r\n     * Set the records from given\r\n     */\r\n    set records(records) {\r\n        if (records == null) {\r\n            return;\r\n        }\r\n        _setRecords(this, records);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the data source.\r\n     */\r\n    get dataSource() {\r\n        return this[_].dataSource;\r\n    }\r\n    /**\r\n     * Set the data source from given\r\n     */\r\n    set dataSource(dataSource) {\r\n        _setDataSource(this, dataSource);\r\n        _refreshRowCount(this);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * Get the theme.\r\n     */\r\n    get theme() {\r\n        return this[_].theme;\r\n    }\r\n    /**\r\n     * Set the theme from given\r\n     */\r\n    set theme(theme) {\r\n        this[_].theme = themes.of(theme);\r\n        this.invalidate();\r\n    }\r\n    /**\r\n     * If set to true to allow pasting of ranges.\r\n     */\r\n    get allowRangePaste() {\r\n        return this[_].allowRangePaste;\r\n    }\r\n    set allowRangePaste(allowRangePaste) {\r\n        this[_].allowRangePaste = allowRangePaste;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     * @override\r\n     */\r\n    get font() {\r\n        return super.font || this[_].gridCanvasHelper.theme.font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     * @override\r\n     */\r\n    set font(font) {\r\n        super.font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     * @override\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return (super.underlayBackgroundColor ||\r\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     * @override\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        super.underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Get the sort state.\r\n     */\r\n    get sortState() {\r\n        return this[_].sortState;\r\n    }\r\n    /**\r\n     * Sets the sort state.\r\n     * If `null` to set, the sort state is initialized.\r\n     */\r\n    set sortState(sortState) {\r\n        const oldState = this.sortState;\r\n        let oldField;\r\n        if (oldState.col >= 0 && oldState.row >= 0) {\r\n            oldField = this.getHeaderField(oldState.col, oldState.row);\r\n        }\r\n        const newState = (this[_].sortState =\r\n            sortState != null\r\n                ? sortState\r\n                : {\r\n                    col: -1,\r\n                    row: -1,\r\n                    order: undefined,\r\n                });\r\n        let newField;\r\n        if (newState.col >= 0 && newState.row >= 0) {\r\n            newField = this.getHeaderField(newState.col, newState.row);\r\n        }\r\n        // bind header value\r\n        if (oldField != null && oldField !== newField) {\r\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\r\n        }\r\n        if (newField != null) {\r\n            this.setHeaderValue(newState.col, newState.row, newState.order);\r\n        }\r\n    }\r\n    /**\r\n     * Get the header values.\r\n     */\r\n    get headerValues() {\r\n        return this[_].headerValues || (this[_].headerValues = new Map());\r\n    }\r\n    /**\r\n     * Sets the header values.\r\n     */\r\n    set headerValues(headerValues) {\r\n        this[_].headerValues = headerValues || new Map();\r\n    }\r\n    /**\r\n     * Get the field of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The field object.\r\n     */\r\n    getField(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\r\n    }\r\n    /**\r\n     * Get the column define of the given column index.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index.\r\n     * @return {*} The column define object.\r\n     */\r\n    getColumnDefine(col, row) {\r\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\r\n    }\r\n    getColumnType(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).columnType;\r\n    }\r\n    getColumnAction(col, row) {\r\n        return this[_].layoutMap.getBody(col, row).action;\r\n    }\r\n    /**\r\n     * Get the header field of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The field object.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderField(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.field;\r\n    }\r\n    /**\r\n     * Get the header define of the given header cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The header row index.\r\n     * @return {*} The header define object.\r\n     */\r\n    getHeaderDefine(col, row) {\r\n        const hd = this[_].layoutMap.getHeader(col, row);\r\n        return hd.define;\r\n    }\r\n    /**\r\n     * Get the record of the given row index.\r\n     * @param  {number} row The row index.\r\n     * @return {object} The record.\r\n     */\r\n    getRowRecord(row) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return undefined;\r\n        }\r\n        else {\r\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\r\n        }\r\n    }\r\n    /**\r\n     * Get the record index of the given row index.\r\n     * @param  {number} row The row index.\r\n     */\r\n    getRecordIndexByRow(row) {\r\n        return _getRecordIndexByRow(this, row);\r\n    }\r\n    /**\r\n     * Gets the row index starting at the given record index.\r\n     * @param  {number} index The record index.\r\n     */\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @return {number} The column index.\r\n     * @deprecated use `getCellRangeByField` instead\r\n     */\r\n    getColumnIndexByField(field) {\r\n        var _b;\r\n        const range = this.getCellRangeByField(field, 0);\r\n        return (_b = range === null || range === void 0 ? void 0 : range.start.col) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    /**\r\n     * Get the column index of the given field.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {number} The column index.\r\n     */\r\n    getCellRangeByField(field, index) {\r\n        const { layoutMap } = this[_];\r\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\r\n        if (colObj) {\r\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\r\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\r\n            return {\r\n                start: {\r\n                    col: layoutRange.start.col,\r\n                    row: startRow + layoutRange.start.row,\r\n                },\r\n                end: {\r\n                    col: layoutRange.end.col,\r\n                    row: startRow + layoutRange.end.row,\r\n                },\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    focusGridCell(field, index) {\r\n        var _b;\r\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\r\n        const newFocus = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        if (newFocus == null) {\r\n            return;\r\n        }\r\n        this.focusCell(newFocus.col, newFocus.row);\r\n        this.selection.select = newFocus;\r\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n        this.invalidateCell(newFocus.col, newFocus.row);\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {*} field The field.\r\n     * @param  {number} index The record index\r\n     * @return {void}\r\n     */\r\n    makeVisibleGridCell(field, index) {\r\n        var _b, _c, _d;\r\n        const cell = (_b = this.getCellRangeByField(field, index)) === null || _b === void 0 ? void 0 : _b.start;\r\n        this.makeVisibleCell((_c = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _c !== void 0 ? _c : 0, (_d = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _d !== void 0 ? _d : this[_].layoutMap.headerRowCount);\r\n    }\r\n    getGridCanvasHelper() {\r\n        return this[_].gridCanvasHelper;\r\n    }\r\n    /**\r\n     * Get cell range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     */\r\n    getCellRange(col, row) {\r\n        return _getCellRange(this, col, row);\r\n    }\r\n    /**\r\n     * Get header range information for a given cell.\r\n     * @param {number} col column index of the cell\r\n     * @param {number} row row index of the cell\r\n     * @returns {object} cell range info\r\n     * @deprecated use `getCellRange` instead\r\n     */\r\n    getHeaderCellRange(col, row) {\r\n        return this.getCellRange(col, row);\r\n    }\r\n    getCopyCellValue(col, row, range) {\r\n        const cellRange = _getCellRange(this, col, row);\r\n        const startCol = range\r\n            ? Math.max(range.start.col, cellRange.start.col)\r\n            : cellRange.start.col;\r\n        const startRow = range\r\n            ? Math.max(range.start.row, cellRange.start.row)\r\n            : cellRange.start.row;\r\n        if (startCol !== col || startRow !== row) {\r\n            return \"\";\r\n        }\r\n        const value = _getCellValue(this, col, row);\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            const headerData = this[_].layoutMap.getHeader(col, row);\r\n            return headerData.headerType.getCopyCellValue(value, this, { col, row });\r\n        }\r\n        const columnData = this[_].layoutMap.getBody(col, row);\r\n        return columnData.columnType.getCopyCellValue(value, this, { col, row });\r\n    }\r\n    onDrawCell(col, row, context) {\r\n        const { layoutMap } = this[_];\r\n        let draw;\r\n        let style;\r\n        if (row < layoutMap.headerRowCount) {\r\n            const hd = layoutMap.getHeader(col, row);\r\n            draw = hd.headerType.onDrawCell;\r\n            ({ style } = hd);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        else {\r\n            const column = layoutMap.getBody(col, row);\r\n            draw = column.columnType.onDrawCell;\r\n            ({ style } = column);\r\n            _updateRect(this, col, row, context);\r\n        }\r\n        const cellValue = _getCellValue(this, col, row);\r\n        if (this.rowCount <= row) {\r\n            // Depending on the FilterDataSource, the rowCount may be reduced.\r\n            return undefined;\r\n        }\r\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\r\n    }\r\n    doGetCellValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    valueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const value = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(value)) {\r\n                //\r\n                return false;\r\n            }\r\n            valueCallback(value);\r\n        }\r\n        return true;\r\n    }\r\n    doChangeValue(col, row, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    changeValueCallback) {\r\n        if (row < this[_].layoutMap.headerRowCount) {\r\n            // nop\r\n            return false;\r\n        }\r\n        else {\r\n            const record = this.getRowRecord(row);\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                //\r\n                return false;\r\n            }\r\n            const before = _getCellValue(this, col, row);\r\n            if ((0, utils_1.isPromise)(before)) {\r\n                //\r\n                return false;\r\n            }\r\n            const after = changeValueCallback(before);\r\n            if (after === undefined) {\r\n                return false;\r\n            }\r\n            const { field } = this[_].layoutMap.getBody(col, row);\r\n            this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BEFORE_CHANGE_VALUE, {\r\n                col,\r\n                row,\r\n                record: record,\r\n                field: field,\r\n                value: after,\r\n                oldValue: before,\r\n            });\r\n            return (0, utils_1.then)(_setCellValue(this, col, row, after), (ret) => {\r\n                if (ret) {\r\n                    const { field } = this[_].layoutMap.getBody(col, row);\r\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\r\n                        col,\r\n                        row,\r\n                        record: record,\r\n                        field: field,\r\n                        value: after,\r\n                        oldValue: before,\r\n                    });\r\n                }\r\n                return ret;\r\n            });\r\n        }\r\n    }\r\n    doSetPasteValue(text, test) {\r\n        _onRangePaste.call(this, text, test);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getHeaderValue(col, row) {\r\n        const field = this.getHeaderField(col, row);\r\n        return this.headerValues.get(field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setHeaderValue(col, row, newValue) {\r\n        const field = this.getHeaderField(col, row);\r\n        const oldValue = this.headerValues.get(field);\r\n        this.headerValues.set(field, newValue);\r\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\r\n            col,\r\n            row,\r\n            field,\r\n            value: newValue,\r\n            oldValue,\r\n        });\r\n    }\r\n    getLayoutCellId(col, row) {\r\n        return this[_].layoutMap.getCellId(col, row);\r\n    }\r\n    bindEventsInternal() {\r\n        const grid = this;\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            const range = _getCellRange(this, e.col, e.row);\r\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\r\n            if (startCol !== endCol || startRow !== endRow) {\r\n                this.invalidateCellRange(range);\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n            if (!this[_].allowRangePaste) {\r\n                return;\r\n            }\r\n            const { start, end } = this.selection.range;\r\n            if (!e.multi && (0, utils_1.cellEquals)(start, end)) {\r\n                return;\r\n            }\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangePaste.call(this, e.normalizeValue);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\r\n            const { start } = this.selection.range;\r\n            const { layoutMap } = this[_];\r\n            if (start.row < layoutMap.headerRowCount) {\r\n                return;\r\n            }\r\n            utils_1.event.cancel(e.event);\r\n            _onRangeDelete.call(this);\r\n        });\r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col, row }) {\r\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\r\n        col = startCol;\r\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col, row, }) {\r\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\r\n        col = endCol;\r\n        return super.getMoveRightColByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ col, row }) {\r\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\r\n        row = startRow;\r\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ col, row }) {\r\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\r\n        row = endRow;\r\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 1;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        const { start } = this.getCellRange(range.start.col, range.start.row);\r\n        const { end } = this.getCellRange(range.end.col, range.end.row);\r\n        return { start, end };\r\n    }\r\n    fireListeners(type, ...event) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.ListGrid = ListGrid;\r\n_a = _;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./columns/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./columns/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./columns/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst Action_1 = require(\"./action/Action\");\r\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\r\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\r\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\r\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\r\nconst Editor_1 = require(\"./action/Editor\");\r\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\r\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\r\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\r\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\r\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\r\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\r\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\r\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\r\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    CHECK: new ImmutableCheckEditor(),\r\n    INPUT: new ImmutableInputEditor(),\r\n    RADIO: new ImmutableRadioEditor(),\r\n};\r\nfunction of(columnAction) {\r\n    if (!columnAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof columnAction === \"string\") {\r\n        const key = columnAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return columnAction;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Action = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nclass Action extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._action = option.action || (() => { });\r\n    }\r\n    get editable() {\r\n        return false;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(action) {\r\n        this._action = action;\r\n    }\r\n    clone() {\r\n        return new Action(this);\r\n    }\r\n    getState(_grid) {\r\n        return {};\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = this.getState(grid);\r\n        const action = (cell) => {\r\n            if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            const record = grid.getRowRecord(cell.row);\r\n            this._action(record, (0, utils_1.extend)(cell, { grid }));\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox() {\r\n        // noop\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.Action = Action;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // abstract\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseInputEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass BaseInputEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        const input = (cell, value) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return;\r\n            }\r\n            this.onInputCellInternal(grid, cell, value);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.value);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                input({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                }, e.normalizeValue);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n                utils_1.event.cancel(e.event);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                this.onGridScrollInternal(grid);\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return false;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                    return;\r\n                }\r\n                const range = grid.getCellRange(cell.col, cell.row);\r\n                if (range.start.col !== range.end.col ||\r\n                    range.start.row !== range.end.row) {\r\n                    const { input } = cell;\r\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\r\n                    const rangeRect = grid.getCellRangeRect(range);\r\n                    input.style.top = `${(parseFloat(input.style.top) +\r\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\r\n                    input.style.left = `${(parseFloat(input.style.left) +\r\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\r\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\r\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\r\n                }\r\n                this.onSetInputAttrsInternal(grid, {\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                }, cell.input);\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => {\r\n            if (this.isSupportMultilineValue()) {\r\n                return value;\r\n            }\r\n            return value.replace(/\\r?\\n/g, \" \");\r\n        });\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\r\n    }\r\n    isSupportMultilineValue() {\r\n        return false;\r\n    }\r\n}\r\nexports.BaseInputEditor = BaseInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonAction = void 0;\r\nconst Action_1 = require(\"./Action\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonAction extends Action_1.Action {\r\n    getState(grid) {\r\n        let state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (!state) {\r\n            state = {};\r\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\r\n        }\r\n        return state;\r\n    }\r\n}\r\nexports.ButtonAction = ButtonAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckEditor extends Editor_1.Editor {\r\n    clone() {\r\n        return new CheckEditor(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[CHECK_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            if (ret) {\r\n                const onChange = () => {\r\n                    // checkbox animation\r\n                    (0, animate_1.animate)(200, (point) => {\r\n                        if (point === 1) {\r\n                            delete state.elapsed[cellKey];\r\n                        }\r\n                        else {\r\n                            state.elapsed[cellKey] = point;\r\n                        }\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                };\r\n                if ((0, utils_1.isPromise)(ret)) {\r\n                    state.block[cellKey] = true;\r\n                    ret.then(() => {\r\n                        delete state.block[cellKey];\r\n                        onChange();\r\n                    });\r\n                }\r\n                else {\r\n                    onChange();\r\n                }\r\n            }\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action: (_e) => {\r\n                    const selrange = grid.selection.range;\r\n                    const { col } = grid.selection.select;\r\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\r\n                        if (!isTarget(col, row)) {\r\n                            continue;\r\n                        }\r\n                        action({\r\n                            col,\r\n                            row,\r\n                        });\r\n                    }\r\n                },\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                grid.doGetCellValue(e.col, e.row, (value) => {\r\n                    const newValue = (0, action_utils_1.toggleValue)(value);\r\n                    if (`${newValue}`.trim() === pasteValue) {\r\n                        action({\r\n                            col: e.col,\r\n                            row: e.row,\r\n                        });\r\n                    }\r\n                    else if (isRejectValue(value, pasteValue)) {\r\n                        const record = grid.getRowRecord(e.row);\r\n                        if (!(0, utils_1.isPromise)(record)) {\r\n                            grid.fireListeners(\"rejected_paste_values\", {\r\n                                detail: [\r\n                                    {\r\n                                        col: e.col,\r\n                                        row: e.row,\r\n                                        record,\r\n                                        define: grid.getColumnDefine(e.col, e.row),\r\n                                        pasteValue,\r\n                                    },\r\n                                ],\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            const newValue = (0, action_utils_1.toggleValue)(value);\r\n            if (`${newValue}`.trim() === pasteValue) {\r\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\r\n            }\r\n            else if (isRejectValue(value, pasteValue)) {\r\n                context.reject();\r\n            }\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n}\r\nexports.CheckEditor = CheckEditor;\r\nfunction isRejectValue(oldValue, pasteValue) {\r\n    if ((oldValue != null ? `${oldValue}`.trim() : \"\") === pasteValue) {\r\n        return false;\r\n    }\r\n    const newValue = (0, action_utils_1.toggleValue)(oldValue);\r\n    return (`${newValue}`.trim() !== pasteValue &&\r\n        `${(0, action_utils_1.toggleValue)(newValue)}`.trim() !== pasteValue);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Editor = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nclass Editor extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._readOnly = option.readOnly || false;\r\n    }\r\n    get editable() {\r\n        return true;\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n    set readOnly(readOnly) {\r\n        this._readOnly = readOnly;\r\n        this.onChangeReadOnlyInternal();\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // abstruct\r\n    }\r\n}\r\nexports.Editor = Editor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputEditor = void 0;\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst _ = (0, symbolManager_1.getInlineInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineInputElement_1.InlineInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nfunction doChangeValue(_grid) {\r\n    if (globalElement) {\r\n        globalElement.doChangeValue();\r\n    }\r\n}\r\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    clone() {\r\n        return new InlineInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(grid, _cell, _selected) {\r\n        doChangeValue(grid);\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(grid) {\r\n        doChangeValue(grid);\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n}\r\nexports.InlineInputEditor = InlineInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuEditor = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\r\nconst type_1 = require(\"../type\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nconst _ = (0, symbolManager_1.getInlineMenuEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachMenu(grid, cell, editor, value, record) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\r\n}\r\nfunction detachMenu(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\nclass InlineMenuEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._classList = option.classList;\r\n        this._options = (0, menu_items_1.normalizeToFn)(option.options);\r\n    }\r\n    dispose() {\r\n        // noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    set options(options) {\r\n        this._options = (0, menu_items_1.normalizeToFn)(options);\r\n    }\r\n    clone() {\r\n        return new InlineMenuEditor(this);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachMenu(true);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n                const record = grid.getRowRecord(cell.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                attachMenu(grid, cell, this, value, record);\r\n            });\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\r\n                    return;\r\n                }\r\n                const sel = grid.selection.select;\r\n                if (!isTarget(sel.col, sel.row)) {\r\n                    return;\r\n                }\r\n                if (open({\r\n                    col: sel.col,\r\n                    row: sel.row,\r\n                })) {\r\n                    e.stopCellMoving();\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\r\n                detachMenu();\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\r\n                detachMenu(true);\r\n            }),\r\n            // mouse move\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                if (!grid.getElement().style.cursor) {\r\n                    grid.getElement().style.cursor = \"pointer\";\r\n                }\r\n            }),\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                grid.getElement().style.cursor = \"\";\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, e.row) ||\r\n                    (0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                    return;\r\n                }\r\n                const record = grid.getRowRecord(e.row);\r\n                if ((0, utils_1.isPromise)(record)) {\r\n                    return;\r\n                }\r\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\r\n                if (pasteOpt) {\r\n                    utils_1.event.cancel(e.event);\r\n                    (0, utils_1.then)(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\r\n                        const range = grid.getCellRange(e.col, e.row);\r\n                        grid.invalidateCellRange(range);\r\n                    });\r\n                }\r\n                else {\r\n                    grid.fireListeners(\"rejected_paste_values\", {\r\n                        detail: [\r\n                            {\r\n                                col: e.col,\r\n                                row: e.row,\r\n                                record,\r\n                                define: grid.getColumnDefine(e.col, e.row),\r\n                                pasteValue: e.normalizeValue,\r\n                            },\r\n                        ],\r\n                    });\r\n                }\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n        else {\r\n            // unknown\r\n            context.reject();\r\n        }\r\n    }\r\n    onDeleteCellRangeBox(grid, cell) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const record = grid.getRowRecord(cell.row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return;\r\n        }\r\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\r\n        if (pasteOpt) {\r\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\r\n        }\r\n    }\r\n    _pasteDataToOptionValue(value, grid, cell, record) {\r\n        const options = this._options(record);\r\n        const pasteOpt = _textToOptionValue(value, options);\r\n        if (pasteOpt) {\r\n            return pasteOpt;\r\n        }\r\n        const columnType = grid.getColumnType(cell.col, cell.row);\r\n        if (hasOptions(columnType)) {\r\n            // Find with caption.\r\n            const pasteValue = normalizePasteValueStr(value);\r\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\r\n            if (captionOpt) {\r\n                return _textToOptionValue(captionOpt.value, options);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nexports.InlineMenuEditor = InlineMenuEditor;\r\nfunction _textToOptionValue(value, options) {\r\n    const pasteValue = normalizePasteValueStr(value);\r\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\r\n    if (pasteOpt) {\r\n        return pasteOpt;\r\n    }\r\n    return undefined;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction normalizePasteValueStr(value) {\r\n    if (value == null) {\r\n        return \"\";\r\n    }\r\n    return `${value}`.trim();\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction hasOptions(columnType) {\r\n    if (columnType instanceof type_1.MenuColumn) {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    if (Array.isArray(columnType.options)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioEditor = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst Editor_1 = require(\"./Editor\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_2 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioEditor extends Editor_1.Editor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._group = option.group;\r\n        this._checkAction = option.checkAction;\r\n    }\r\n    clone() {\r\n        return new RadioEditor(this);\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    get group() {\r\n        return this._group;\r\n    }\r\n    /** @deprecated Use checkAction instead. */\r\n    set group(group) {\r\n        this._group = group;\r\n    }\r\n    get checkAction() {\r\n        return this._checkAction;\r\n    }\r\n    set checkAction(checkAction) {\r\n        this._checkAction = checkAction;\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        let _state = grid[RADIO_COLUMN_STATE_ID];\r\n        if (!_state) {\r\n            _state = { block: {}, elapsed: {} };\r\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\r\n        }\r\n        const state = _state;\r\n        const action = (cell) => {\r\n            this._action(grid, cell);\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if ((0, action_utils_1.isDisabledRecord)(this.disabled, grid, e.row)) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n            // paste value\r\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\r\n                if (e.multi) {\r\n                    // ignore multi cell values\r\n                    return;\r\n                }\r\n                const selectionRange = grid.selection.range;\r\n                if (!(0, utils_1.cellEquals)(selectionRange.start, selectionRange.end)) {\r\n                    // ignore multi paste values\r\n                    return;\r\n                }\r\n                if (!isTarget(e.col, e.row)) {\r\n                    return;\r\n                }\r\n                utils_1.event.cancel(e.event);\r\n                const pasteValue = e.normalizeValue.trim();\r\n                if (isRejectValue(pasteValue)) {\r\n                    // Not a boolean\r\n                    const record = grid.getRowRecord(e.row);\r\n                    if (!(0, utils_1.isPromise)(record)) {\r\n                        grid.fireListeners(\"rejected_paste_values\", {\r\n                            detail: [\r\n                                {\r\n                                    col: e.col,\r\n                                    row: e.row,\r\n                                    record,\r\n                                    define: grid.getColumnDefine(e.col, e.row),\r\n                                    pasteValue,\r\n                                },\r\n                            ],\r\n                        });\r\n                    }\r\n                    return;\r\n                }\r\n                if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n                    return;\r\n                }\r\n                action({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n    onPasteCellRangeBox(grid, cell, value, context) {\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n            return;\r\n        }\r\n        const pasteValue = value.trim();\r\n        if (isRejectValue(pasteValue)) {\r\n            // Not a boolean\r\n            context.reject();\r\n            return;\r\n        }\r\n        if (!(0, utils_2.toBoolean)(pasteValue)) {\r\n            return;\r\n        }\r\n        this._action(grid, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n        });\r\n    }\r\n    onDeleteCellRangeBox() {\r\n        // noop\r\n    }\r\n    _action(grid, cell) {\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(cell.col, cell.row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n            (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n            state.block[cellKey]) {\r\n            return;\r\n        }\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            if ((0, utils_2.toBoolean)(value)) {\r\n                return;\r\n            }\r\n            if (this._checkAction) {\r\n                // User behavior\r\n                const record = grid.getRowRecord(cell.row);\r\n                this._checkAction(record, (0, utils_1.extend)(cell, { grid }));\r\n                return;\r\n            }\r\n            if (this._group) {\r\n                // Backward compatibility\r\n                const state = grid[RADIO_COLUMN_STATE_ID];\r\n                const targets = this._group({ grid, col: cell.col, row: cell.row });\r\n                targets.forEach(({ col, row }) => {\r\n                    const range = grid.getCellRange(col, row);\r\n                    const cellKey = `${range.start.col}:${range.start.row}`;\r\n                    if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                        (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row) ||\r\n                        state.block[cellKey]) {\r\n                        return;\r\n                    }\r\n                    actionCell(grid, col, row, col === cell.col && row === cell.row);\r\n                });\r\n                return;\r\n            }\r\n            // default behavior\r\n            const field = grid.getField(cell.col, cell.row);\r\n            const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(cell.row));\r\n            /** Original DataSource */\r\n            const { dataSource } = grid.dataSource;\r\n            const girdRecords = getAllRecordsFromGrid(grid);\r\n            for (let index = 0; index < dataSource.length; index++) {\r\n                const record = dataSource.get(index);\r\n                const showData = girdRecords.find((d) => d.record === record);\r\n                if (showData) {\r\n                    actionCell(grid, cell.col, showData.row, showData.row === recordStartRow);\r\n                }\r\n                else {\r\n                    // Hidden record\r\n                    (0, utils_1.then)(dataSource.getField(index, field), (value) => {\r\n                        if (!(0, utils_2.toBoolean)(value)) {\r\n                            return;\r\n                        }\r\n                        dataSource.setField(index, field, (0, action_utils_1.toggleValue)(value));\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.RadioEditor = RadioEditor;\r\nfunction getAllRecordsFromGrid(grid) {\r\n    const result = [];\r\n    const { rowCount, recordRowCount } = grid;\r\n    for (let targetRow = grid.frozenRowCount; targetRow < rowCount; targetRow += recordRowCount) {\r\n        const record = grid.getRowRecord(targetRow);\r\n        result.push({ row: targetRow, record });\r\n    }\r\n    return result;\r\n}\r\nfunction actionCell(grid, col, row, flag) {\r\n    grid.doGetCellValue(col, row, (value) => {\r\n        if ((0, utils_2.toBoolean)(value) === flag) {\r\n            return;\r\n        }\r\n        const state = grid[RADIO_COLUMN_STATE_ID];\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\r\n        if (ret) {\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            if ((0, utils_1.isPromise)(ret)) {\r\n                state.block[cellKey] = true;\r\n                ret.then(() => {\r\n                    delete state.block[cellKey];\r\n                    onChange();\r\n                });\r\n            }\r\n            else {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction isRejectValue(pasteValue) {\r\n    return (0, action_utils_1.toggleValue)((0, action_utils_1.toggleValue)(pasteValue)) !== pasteValue;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputEditor = void 0;\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\r\nconst action_utils_1 = require(\"./action-utils\");\r\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\r\nconst _ = (0, symbolManager_1.getSmallDialogInputEditorStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[_];\r\n    if (!state) {\r\n        state = {};\r\n        utils_1.obj.setReadonly(grid, _, state);\r\n    }\r\n    return state;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n    const state = getState(grid);\r\n    if (!globalElement) {\r\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\r\n    }\r\n    if (!state.element) {\r\n        state.element = globalElement;\r\n        bindGridCount++;\r\n        grid.addDisposable({\r\n            dispose() {\r\n                bindGridCount--;\r\n                if (!bindGridCount) {\r\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\r\n                    globalElement = null;\r\n                    state.element = null;\r\n                }\r\n            },\r\n        });\r\n    }\r\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n    if (globalElement) {\r\n        globalElement.detach(gridFocus);\r\n    }\r\n}\r\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._helperText = option.helperText;\r\n        this._inputValidator = option.inputValidator;\r\n        this._validator = option.validator;\r\n        this._classList = option.classList;\r\n        this._type = option.type;\r\n    }\r\n    dispose() {\r\n        //noop\r\n    }\r\n    get classList() {\r\n        if (!this._classList) {\r\n            return undefined;\r\n        }\r\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\r\n    }\r\n    set classList(classList) {\r\n        this._classList = classList;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n    get helperText() {\r\n        return this._helperText;\r\n    }\r\n    get inputValidator() {\r\n        return this._inputValidator;\r\n    }\r\n    get validator() {\r\n        return this._validator;\r\n    }\r\n    clone() {\r\n        return new SmallDialogInputEditor(this);\r\n    }\r\n    onInputCellInternal(grid, cell, inputValue) {\r\n        attachInput(grid, cell, this, inputValue);\r\n    }\r\n    onOpenCellInternal(grid, cell) {\r\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\r\n            attachInput(grid, cell, this, value);\r\n        });\r\n    }\r\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\r\n        // cancel input\r\n        detachInput();\r\n    }\r\n    onGridScrollInternal(_grid) {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onChangeReadOnlyInternal() {\r\n        // cancel input\r\n        detachInput(true);\r\n    }\r\n    onSetInputAttrsInternal(grid, _cell, input) {\r\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const open = (cell) => {\r\n            if ((0, action_utils_1.isReadOnlyRecord)(this.readOnly, grid, cell.row) ||\r\n                (0, action_utils_1.isDisabledRecord)(this.disabled, grid, cell.row)) {\r\n                return false;\r\n            }\r\n            this.onOpenCellInternal(grid, cell);\r\n            return true;\r\n        };\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        return [\r\n            ...super.bindGridEvent(grid, cellId),\r\n            grid.listen('click_cell', (cell) => {\r\n                if (!isTarget(cell.col, cell.row)) {\r\n                    return;\r\n                }\r\n                open({\r\n                    col: cell.col,\r\n                    row: cell.row,\r\n                });\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction isDisabledRecord(option, grid, row) {\r\n    if (grid.disabled) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isDisabledRecord = isDisabledRecord;\r\nfunction isReadOnlyRecord(option, grid, row) {\r\n    if (grid.readOnly) {\r\n        return true;\r\n    }\r\n    return getBooleanOptionOfRecord(option, grid, row);\r\n}\r\nexports.isReadOnlyRecord = isReadOnlyRecord;\r\nfunction toggleValue(val) {\r\n    if (typeof val === \"number\") {\r\n        if (val === 0) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    else if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return \"true\";\r\n        }\r\n        else if (val === \"off\") {\r\n            return \"on\";\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return val.replace(/^(0*)0$/, \"$11\");\r\n        }\r\n        else if (val === \"true\") {\r\n            return \"false\";\r\n        }\r\n        else if (val === \"on\") {\r\n            return \"off\";\r\n        }\r\n        else if (/^0*1$/.exec(val)) {\r\n            return val.replace(/^(0*)1$/, \"$10\");\r\n        }\r\n    }\r\n    return !val;\r\n}\r\nexports.toggleValue = toggleValue;\r\nfunction getBooleanOptionOfRecord(option, grid, row) {\r\n    if (typeof option === \"function\") {\r\n        const record = grid.getRowRecord(row);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return true;\r\n        }\r\n        return !!option(record);\r\n    }\r\n    return !!option;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(e.row))) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            if ((0, utils_1.isPromise)(grid.getRowRecord(sel.row))) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineInputElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst CLASSNAME = \"cheetah-grid__inline-input\";\r\nfunction createInputElement() {\r\n    require(\"@/columns/action/internal/InlineInputElement.css\");\r\n    return (0, dom_1.createElement)(\"input\", { classList: CLASSNAME });\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { classList, type } = editor;\r\n    if (classList) {\r\n        input.classList.add(...classList);\r\n    }\r\n    input.type = type || \"\";\r\n}\r\nclass InlineInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._input = createInputElement();\r\n        this._bindInputEvents();\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const input = this._input;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const input = this._input;\r\n        const handler = this._handler;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                input.classList.remove(...classList);\r\n            }\r\n        }\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        input.style.top = `${rect.top.toFixed()}px`;\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(input);\r\n        setInputAttrs(editor, grid, input);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        this._activeData = { grid, col, row, editor };\r\n        this._beforePropEditor = editor;\r\n        const focus = () => {\r\n            input.focus();\r\n            const end = input.value.length;\r\n            try {\r\n                if (typeof input.selectionStart !== \"undefined\") {\r\n                    input.selectionStart = end;\r\n                    input.selectionEnd = end;\r\n                    return;\r\n                }\r\n            }\r\n            catch (e) {\r\n                //ignore\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (document.selection) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const range = input.createTextRange();\r\n                range.collapse();\r\n                range.moveEnd(\"character\", end);\r\n                range.moveStart(\"character\", end);\r\n                range.select();\r\n            }\r\n        };\r\n        handler.tryWithOffEvents(input, \"blur\", () => {\r\n            focus();\r\n        });\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const input = this._input;\r\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\r\n                var _a;\r\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\r\n            });\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n    }\r\n    doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        const { grid, col, row } = this._activeData;\r\n        grid.doChangeValue(col, row, () => value);\r\n    }\r\n    _isActive() {\r\n        const input = this._input;\r\n        if (!input || !input.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindInputEvents() {\r\n        const handler = this._handler;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(input, \"click\", stopPropagationOnly);\r\n        handler.on(input, \"mousedown\", stopPropagationOnly);\r\n        handler.on(input, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"dblclick\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(e);\r\n            }\r\n        });\r\n        handler.on(input, \"blur\", (_e) => {\r\n            this.doChangeValue();\r\n            this.detach();\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        var _a;\r\n        if (!this._isActive() || this._attaching) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n            grid.onKeyDownMove(e);\r\n        }\r\n    }\r\n    _onKeydownTab(e) {\r\n        var _a;\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid } = this._activeData;\r\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\r\n            return;\r\n        }\r\n        this.doChangeValue();\r\n        this.detach(true);\r\n        grid.onKeyDownMove(e);\r\n    }\r\n}\r\nexports.InlineInputElement = InlineInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineMenuElement = void 0;\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_ESC = 27;\r\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\r\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\r\nfunction findItemParents(target) {\r\n    let el = target;\r\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\r\n        el = el.parentElement;\r\n        if (!el || el.classList.contains(CLASSNAME)) {\r\n            return null;\r\n        }\r\n    }\r\n    return el;\r\n}\r\nfunction createMenuElement() {\r\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\r\n    return (0, dom_1.createElement)(\"ul\", { classList: CLASSNAME });\r\n}\r\nfunction attachElement(element, rect, menu) {\r\n    menu.style.top = `${rect.top.toFixed()}px`;\r\n    menu.style.left = `${rect.left.toFixed()}px`;\r\n    menu.style.width = `${rect.width.toFixed()}px`;\r\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\r\n    element.appendChild(menu);\r\n}\r\nfunction optionToLi({ classList, label, value, html }, index) {\r\n    const item = (0, dom_1.createElement)(\"li\", { classList: ITEM_CLASSNAME });\r\n    item.tabIndex = 0;\r\n    item.dataset.valueindex = `${index}`;\r\n    if (classList) {\r\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\r\n    }\r\n    if (label) {\r\n        const span = (0, dom_1.createElement)(\"span\", { text: label });\r\n        item.appendChild(span);\r\n    }\r\n    else if (html) {\r\n        (0, dom_1.appendHtml)(item, html);\r\n    }\r\n    if (value === \"\" || value == null) {\r\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\r\n    }\r\n    return item;\r\n}\r\nfunction openMenu(grid, editor, col, row, value, options, menu) {\r\n    const { classList } = editor;\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.empty)(menu);\r\n    menu.style.font = grid.font || \"16px sans-serif\";\r\n    let emptyItemEl = null;\r\n    let valueItemEl = null;\r\n    options.forEach((option, i) => {\r\n        const item = optionToLi(option, i);\r\n        menu.appendChild(item);\r\n        if (option.value === value) {\r\n            valueItemEl = item;\r\n            item.dataset.select = \"select\";\r\n        }\r\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\r\n            emptyItemEl = item;\r\n        }\r\n    });\r\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\r\n    if (classList) {\r\n        menu.classList.add(...classList);\r\n    }\r\n    const children = Array.prototype.slice.call(menu.children, 0);\r\n    const focusIndex = children.indexOf(focusEl);\r\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n    // Cover the right line\r\n    rect.width++;\r\n    // append for calculation\r\n    attachElement(element, rect, menu);\r\n    // Make the selection item at the middle\r\n    let offset = 0;\r\n    let allHeight = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const { offsetHeight } = children[i];\r\n        if (i < focusIndex) {\r\n            offset += offsetHeight;\r\n        }\r\n        allHeight += offsetHeight;\r\n    }\r\n    rect.offsetTop(-offset);\r\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\r\n    attachElement(element, rect, menu);\r\n    // Control not to overflow the screen range\r\n    const menuClientRect = menu.getBoundingClientRect();\r\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\r\n    const orgMenuTop = menuClientRect.top - scaleDiff;\r\n    let menuTop = orgMenuTop;\r\n    const menuBottom = menuTop + allHeight;\r\n    const winBottom = window.innerHeight;\r\n    const winMargin = 20;\r\n    if (menuBottom > winBottom - winMargin) {\r\n        const diff = menuBottom - winBottom + winMargin;\r\n        menuTop -= diff;\r\n    }\r\n    if (menuTop < 0 /*winTop*/ + winMargin) {\r\n        menuTop = winMargin;\r\n    }\r\n    if (menuTop !== orgMenuTop) {\r\n        rect.offsetTop(-(orgMenuTop - menuTop));\r\n        // re update\r\n        attachElement(element, rect, menu);\r\n    }\r\n    if (focusEl) {\r\n        focusEl.focus();\r\n    }\r\n    menu.classList.remove(HIDDEN_CLASSNAME);\r\n    menu.classList.add(SHOWN_CLASSNAME);\r\n}\r\nfunction closeMenu(_grid, _col, _row, menu) {\r\n    menu.classList.remove(SHOWN_CLASSNAME);\r\n    menu.classList.add(HIDDEN_CLASSNAME);\r\n    (0, dom_1.disableFocus)(menu);\r\n}\r\nclass InlineMenuElement {\r\n    constructor() {\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        this._menu = createMenuElement();\r\n        this._bindMenuEvents();\r\n        let bodyClickListenerId;\r\n        const deregisterBodyClickListener = (this._deregisterBodyClickListener =\r\n            () => handler.off(bodyClickListenerId));\r\n        this._registerBodyClickListener = () => {\r\n            deregisterBodyClickListener();\r\n            bodyClickListenerId = handler.on(document.body, \"click\", this._onBodyClick.bind(this), { capture: true });\r\n        };\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const menu = this._menu;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._menu;\r\n        this._beforePropEditor = null;\r\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\r\n    }\r\n    attach(grid, editor, col, row, value, record) {\r\n        const menu = this._menu;\r\n        if (this._beforePropEditor) {\r\n            const { classList } = this._beforePropEditor;\r\n            if (classList) {\r\n                menu.classList.remove(...classList);\r\n            }\r\n        }\r\n        const options = editor.options(record);\r\n        openMenu(grid, editor, col, row, value, options, menu);\r\n        this._activeData = { grid, col, row, editor, options };\r\n        this._beforePropEditor = editor;\r\n        this._registerBodyClickListener();\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const { grid, col, row } = this._activeData;\r\n            const menu = this._menu;\r\n            closeMenu(grid, col, row, menu);\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._deregisterBodyClickListener();\r\n    }\r\n    _doChangeValue(valueindex) {\r\n        if (!this._isActive()) {\r\n            return;\r\n        }\r\n        const { grid, col, row, options } = this._activeData;\r\n        const option = options[Number(valueindex)];\r\n        if (option) {\r\n            const { value } = option;\r\n            grid.doChangeValue(col, row, () => value);\r\n        }\r\n    }\r\n    _isActive() {\r\n        const menu = this._menu;\r\n        if (!menu || !menu.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindMenuEvents() {\r\n        const handler = this._handler;\r\n        const menu = this._menu;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\r\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\r\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\r\n        handler.on(menu, \"click\", (e) => {\r\n            e.stopPropagation();\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const { valueindex } = item.dataset;\r\n            this._doChangeValue(valueindex || \"\");\r\n            this.detach(true);\r\n        });\r\n        handler.on(menu, \"keydown\", (e) => {\r\n            const item = findItemParents(e.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(menu, item, e);\r\n            }\r\n            else if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_UP) {\r\n                const n = (0, dom_1.findPrevSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_DOWN) {\r\n                const n = (0, dom_1.findNextSiblingFocusable)(item);\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this._onKeydownTab(menu, item, e);\r\n            }\r\n        });\r\n    }\r\n    _onBodyClick(e) {\r\n        const el = e.target;\r\n        if (!el) {\r\n            return;\r\n        }\r\n        if (this._menu.contains(el)) {\r\n            return;\r\n        }\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if (grid.getElement().contains(el)) {\r\n                return;\r\n            }\r\n        }\r\n        this.detach();\r\n    }\r\n    _onKeydownEnter(_menu, item, e) {\r\n        var _a;\r\n        const grid = this._isActive() ? this._activeData.grid : null;\r\n        const { valueindex } = item.dataset;\r\n        this._doChangeValue(valueindex || \"\");\r\n        this.detach(true);\r\n        utils_1.event.cancel(e);\r\n        if (grid) {\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                grid.onKeyDownMove(e);\r\n            }\r\n        }\r\n    }\r\n    _onKeydownTab(menu, item, e) {\r\n        var _a;\r\n        if (this._isActive()) {\r\n            const { grid } = this._activeData;\r\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\r\n                const { valueindex } = item.dataset;\r\n                this._doChangeValue(valueindex || \"\");\r\n                this.detach(true);\r\n                grid.onKeyDownMove(e);\r\n                return;\r\n            }\r\n        }\r\n        if (!e.shiftKey) {\r\n            if (!(0, dom_1.findNextSiblingFocusable)(item)) {\r\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findNextSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (!(0, dom_1.findPrevSiblingFocusable)(item)) {\r\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\r\n                let n = items[items.length - 1];\r\n                if (!(0, dom_1.isFocusable)(n)) {\r\n                    n = (0, dom_1.findPrevSiblingFocusable)(n);\r\n                }\r\n                if (n) {\r\n                    n.focus();\r\n                    utils_1.event.cancel(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.InlineMenuElement = InlineMenuElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SmallDialogInputElement = void 0;\r\nconst utils_1 = require(\"../../../internal/utils\");\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst input_value_handler_1 = require(\"./input-value-handler\");\r\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\r\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nconst KEY_ENTER = 13;\r\nconst KEY_ESC = 27;\r\nfunction _focus(input, handler) {\r\n    const focus = () => {\r\n        input.focus();\r\n        const end = input.value.length;\r\n        try {\r\n            if (typeof input.selectionStart !== \"undefined\") {\r\n                input.selectionStart = end;\r\n                input.selectionEnd = end;\r\n                return;\r\n            }\r\n        }\r\n        catch (e) {\r\n            //ignore\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (document.selection) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const range = input.createTextRange();\r\n            range.collapse();\r\n            range.moveEnd(\"character\", end);\r\n            range.moveStart(\"character\", end);\r\n            range.select();\r\n        }\r\n    };\r\n    handler.tryWithOffEvents(input, \"blur\", () => {\r\n        focus();\r\n    });\r\n}\r\nfunction createDialogElement() {\r\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\r\n    const element = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const input = (0, dom_1.createElement)(\"input\", { classList: INPUT_CLASSNAME });\r\n    input.readOnly = true;\r\n    input.tabIndex = -1;\r\n    element.appendChild(input);\r\n    return element;\r\n}\r\nfunction bindProps(grid, dialog, input, editor) {\r\n    const { classList, helperText } = editor;\r\n    if (classList) {\r\n        dialog.classList.add(...classList);\r\n    }\r\n    if (helperText && typeof helperText !== \"function\") {\r\n        dialog.dataset.helperText = helperText;\r\n    }\r\n    setInputAttrs(editor, grid, input);\r\n}\r\nfunction unbindProps(_grid, dialog, input, editor) {\r\n    const { classList } = editor;\r\n    if (classList) {\r\n        dialog.classList.remove(...classList);\r\n    }\r\n    delete dialog.dataset.helperText;\r\n    input.type = \"\";\r\n}\r\nfunction setInputAttrs(editor, _grid, input) {\r\n    const { type } = editor;\r\n    input.type = type || \"\";\r\n}\r\nclass SmallDialogInputElement {\r\n    static setInputAttrs(editor, grid, input) {\r\n        setInputAttrs(editor, grid, input);\r\n    }\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._dialog = createDialogElement();\r\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\r\n        this._bindDialogEvents();\r\n    }\r\n    dispose() {\r\n        const dialog = this._dialog;\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._dialog;\r\n        // @ts-expect-error -- ignore\r\n        delete this._input;\r\n        this._beforePropEditor = null;\r\n        if (dialog.parentElement) {\r\n            dialog.parentElement.removeChild(dialog);\r\n        }\r\n    }\r\n    attach(grid, editor, col, row, value) {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        if (this._beforePropEditor) {\r\n            unbindProps(grid, dialog, input, this._beforePropEditor);\r\n        }\r\n        delete dialog.dataset.errorMessage;\r\n        dialog.classList.remove(SHOWN_CLASSNAME);\r\n        dialog.classList.add(HIDDEN_CLASSNAME);\r\n        input.readOnly = true;\r\n        input.tabIndex = 0;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        dialog.style.top = `${rect.top.toFixed()}px`;\r\n        dialog.style.left = `${rect.left.toFixed()}px`;\r\n        dialog.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n        element.appendChild(dialog);\r\n        (0, input_value_handler_1.setInputValue)(input, value);\r\n        input.style.font = grid.font || \"16px sans-serif\";\r\n        const activeData = { grid, col, row, editor };\r\n        this._onInputValue(input, activeData);\r\n        if (!utils_1.browser.IE) {\r\n            _focus(input, handler);\r\n        }\r\n        else {\r\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\r\n            setTimeout(() => _focus(input, handler));\r\n        }\r\n        dialog.classList.add(SHOWN_CLASSNAME);\r\n        dialog.classList.remove(HIDDEN_CLASSNAME);\r\n        input.readOnly = false;\r\n        bindProps(grid, dialog, input, editor);\r\n        this._activeData = activeData;\r\n        this._beforePropEditor = editor;\r\n        this._attaching = true;\r\n        setTimeout(() => {\r\n            delete this._attaching;\r\n        });\r\n    }\r\n    detach(gridFocus) {\r\n        if (this._isActive()) {\r\n            const dialog = this._dialog;\r\n            const input = this._input;\r\n            dialog.classList.remove(SHOWN_CLASSNAME);\r\n            dialog.classList.add(HIDDEN_CLASSNAME);\r\n            input.readOnly = true;\r\n            input.tabIndex = -1;\r\n            const { grid, col, row } = this._activeData;\r\n            const range = grid.getCellRange(col, row);\r\n            grid.invalidateCellRange(range);\r\n            if (gridFocus) {\r\n                grid.focus();\r\n            }\r\n        }\r\n        this._activeData = null;\r\n        this._beforeValue = null;\r\n    }\r\n    _doChangeValue() {\r\n        if (!this._isActive()) {\r\n            return false;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        return (0, utils_1.then)(this._validate(value), (res) => {\r\n            if (res && value === input.value) {\r\n                const { grid, col, row } = this._activeData;\r\n                grid.doChangeValue(col, row, () => value);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    _isActive() {\r\n        const dialog = this._dialog;\r\n        if (!dialog || !dialog.parentElement) {\r\n            return false;\r\n        }\r\n        if (!this._activeData) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _bindDialogEvents() {\r\n        const handler = this._handler;\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\r\n        handler.on(dialog, \"click\", stopPropagationOnly);\r\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\r\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\r\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n        });\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            input.classList.remove(\"composition\");\r\n            this._onInputValue(input);\r\n        });\r\n        const onKeyupAndPress = (_e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            this._onInputValue(input);\r\n        };\r\n        handler.on(input, \"keyup\", onKeyupAndPress);\r\n        handler.on(input, \"keypress\", onKeyupAndPress);\r\n        handler.on(input, \"keydown\", (e) => {\r\n            if (input.classList.contains(\"composition\")) {\r\n                return;\r\n            }\r\n            const keyCode = utils_1.event.getKeyCode(e);\r\n            if (keyCode === KEY_ESC) {\r\n                this.detach(true);\r\n                utils_1.event.cancel(e);\r\n            }\r\n            else if (keyCode === KEY_ENTER) {\r\n                this._onKeydownEnter(e);\r\n            }\r\n            else {\r\n                this._onInputValue(input);\r\n            }\r\n        });\r\n    }\r\n    _onKeydownEnter(e) {\r\n        if (this._attaching) {\r\n            return;\r\n        }\r\n        const input = this._input;\r\n        const { value } = input;\r\n        (0, utils_1.then)(this._doChangeValue(), (r) => {\r\n            var _a;\r\n            if (r && value === input.value) {\r\n                const grid = this._isActive() ? this._activeData.grid : null;\r\n                this.detach(true);\r\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\r\n                    grid.onKeyDownMove(e);\r\n                }\r\n            }\r\n        });\r\n        utils_1.event.cancel(e);\r\n    }\r\n    _onInputValue(input, activeData) {\r\n        const before = this._beforeValue;\r\n        const { value } = input;\r\n        if (before !== value) {\r\n            this._onInputValueChange(value, activeData);\r\n        }\r\n        this._beforeValue = value;\r\n    }\r\n    _onInputValueChange(after, activeData) {\r\n        activeData = (activeData || this._activeData);\r\n        const dialog = this._dialog;\r\n        const { grid, col, row, editor } = activeData;\r\n        if (typeof editor.helperText === \"function\") {\r\n            const helperText = editor.helperText(after, { grid, col, row });\r\n            if (helperText) {\r\n                dialog.dataset.helperText = helperText;\r\n            }\r\n            else {\r\n                delete dialog.dataset.helperText;\r\n            }\r\n        }\r\n        if (\"errorMessage\" in dialog.dataset) {\r\n            this._validate(after, true);\r\n        }\r\n    }\r\n    _validate(value, inputOnly) {\r\n        const dialog = this._dialog;\r\n        const input = this._input;\r\n        const { grid, col, row, editor } = this._activeData;\r\n        let message = \"\";\r\n        if (editor.inputValidator) {\r\n            message = editor.inputValidator(value, { grid, col, row });\r\n        }\r\n        return (0, utils_1.then)(message, (message) => {\r\n            if (!message && editor.validator && !inputOnly) {\r\n                message = editor.validator(value, { grid, col, row });\r\n            }\r\n            return (0, utils_1.then)(message, (message) => {\r\n                if (message && value === input.value) {\r\n                    dialog.dataset.errorMessage = message;\r\n                }\r\n                else {\r\n                    delete dialog.dataset.errorMessage;\r\n                }\r\n                return !message;\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.SmallDialogInputElement = SmallDialogInputElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setInputValue = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nfunction setInputValue(input, value) {\r\n    const sign = input.type === \"number\" && value === \"-\";\r\n    if (sign) {\r\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\r\n        input.type = \"\";\r\n        let handler = new EventHandler_1.EventHandler();\r\n        const dispose = () => {\r\n            if (handler) {\r\n                handler.dispose();\r\n                handler = null;\r\n            }\r\n        };\r\n        handler.once(input, \"input\", (_e) => {\r\n            input.type = \"number\";\r\n            dispose();\r\n        });\r\n        handler.once(input, \"blur\", (_e) => {\r\n            dispose();\r\n        });\r\n    }\r\n    input.value = value !== null && value !== void 0 ? value : \"\";\r\n}\r\nexports.setInputValue = setInputValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDrawIndicator = void 0;\r\nconst triangle_1 = require(\"./triangle\");\r\nfunction getDrawIndicator(indicatorStyle) {\r\n    const { style } = indicatorStyle;\r\n    if (style === \"triangle\") {\r\n        return triangle_1.drawTriangleIndicator;\r\n    }\r\n    return null;\r\n}\r\nexports.getDrawIndicator = getDrawIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawTriangleIndicator = void 0;\r\nconst KIND_PROCESS_MAP = {\r\n    [0 /* DrawIndicatorKind.topLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseLeft, baseTop);\r\n            ctx.lineTo(baseLeft + size, baseTop);\r\n            ctx.lineTo(baseLeft, baseTop + size);\r\n        },\r\n    },\r\n    [1 /* DrawIndicatorKind.topRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.topRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.topRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseTop = rect.top + 1;\r\n            ctx.moveTo(baseRight, baseTop);\r\n            ctx.lineTo(baseRight - size, baseTop);\r\n            ctx.lineTo(baseRight, baseTop + size);\r\n        },\r\n    },\r\n    [2 /* DrawIndicatorKind.bottomRight */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomRightColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomRightSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseRight = rect.right - 2;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseRight, baseBottom);\r\n            ctx.lineTo(baseRight - size, baseBottom);\r\n            ctx.lineTo(baseRight, baseBottom - size);\r\n        },\r\n    },\r\n    [3 /* DrawIndicatorKind.bottomLeft */]: {\r\n        themeColor(helper) {\r\n            return helper.theme.indicators.bottomLeftColor;\r\n        },\r\n        themeSize(helper) {\r\n            return helper.theme.indicators.bottomLeftSize;\r\n        },\r\n        drawPath(ctx, rect, size) {\r\n            const baseLeft = rect.left + 1;\r\n            const baseBottom = rect.bottom - 2;\r\n            ctx.moveTo(baseLeft, baseBottom);\r\n            ctx.lineTo(baseLeft + size, baseBottom);\r\n            ctx.lineTo(baseLeft, baseBottom - size);\r\n        },\r\n    },\r\n};\r\nfunction drawTriangleIndicator(context, style, kind, helper) {\r\n    const process = KIND_PROCESS_MAP[kind];\r\n    if (!process) {\r\n        return;\r\n    }\r\n    helper.drawBorderWithClip(context, (ctx) => {\r\n        const rect = context.getRect();\r\n        const color = style.color ||\r\n            helper.getColor(process.themeColor(helper), context.col, context.row, ctx);\r\n        const size = (style.size && Number(style.size)) ||\r\n            process.themeSize(helper) ||\r\n            rect.height / 6;\r\n        // draw triangle\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        process.drawPath(ctx, rect, size);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    });\r\n}\r\nexports.drawTriangleIndicator = drawTriangleIndicator;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseMessage = void 0;\r\nclass BaseMessage {\r\n    constructor(grid) {\r\n        this._messageElement = null;\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachMessageElement();\r\n        if (this._messageElement) {\r\n            this._messageElement.dispose();\r\n        }\r\n        this._messageElement = null;\r\n    }\r\n    _getMessageElement() {\r\n        return (this._messageElement ||\r\n            (this._messageElement = this.createMessageElementInternal()));\r\n    }\r\n    attachMessageElement(col, row, message) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.attach(this._grid, col, row, message);\r\n    }\r\n    moveMessageElement(col, row) {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement.move(this._grid, col, row);\r\n    }\r\n    detachMessageElement() {\r\n        const messageElement = this._getMessageElement();\r\n        messageElement._detach();\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.BaseMessage = BaseMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst RED_A100 = \"#ff8a80\";\r\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new ErrorMessageElement_1.ErrorMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.errorBgColor, context.col, context.row, ctx) || RED_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ErrorMessage = ErrorMessage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InfoMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst MessageElement_1 = require(\"./internal/MessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst GREY_L2 = \"#e0e0e0\";\r\nclass InfoMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new MessageElement_1.MessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawInformationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.infoBgColor, context.col, context.row, ctx) || GREY_L2,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.InfoMessage = InfoMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageHandler = exports.hasMessage = void 0;\r\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\r\nconst InfoMessage_1 = require(\"./InfoMessage\");\r\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\r\nconst WarningMessage_1 = require(\"./WarningMessage\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst EMPTY_MESSAGE = {\r\n    type: \"error\",\r\n    message: null,\r\n};\r\nconst MESSAGE_INSTANCE_FACTORY = {\r\n    error(grid) {\r\n        return new ErrorMessage_1.ErrorMessage(grid);\r\n    },\r\n    info(grid) {\r\n        return new InfoMessage_1.InfoMessage(grid);\r\n    },\r\n    warning(grid) {\r\n        return new WarningMessage_1.WarningMessage(grid);\r\n    },\r\n};\r\nfunction normalizeMessage(message) {\r\n    if (!message || (0, utils_1.isPromise)(message)) {\r\n        return EMPTY_MESSAGE;\r\n    }\r\n    if (typeof message === \"string\") {\r\n        return {\r\n            type: \"error\",\r\n            message,\r\n            original: message,\r\n        };\r\n    }\r\n    const type = message.type || \"error\";\r\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\r\n        return {\r\n            type: type.toLowerCase(),\r\n            message: message.message,\r\n            original: message,\r\n        };\r\n    }\r\n    return {\r\n        type: \"error\",\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        message: `${message}`,\r\n        original: message,\r\n    };\r\n}\r\nfunction hasMessage(message) {\r\n    return !!normalizeMessage(message).message;\r\n}\r\nexports.hasMessage = hasMessage;\r\nclass MessageHandler {\r\n    constructor(grid, getMessage) {\r\n        this._attachInfo = null;\r\n        this._grid = grid;\r\n        this._messageInstances = {};\r\n        this._bindGridEvent(grid, getMessage);\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        const messageInstances = this._messageInstances;\r\n        for (const k in messageInstances) {\r\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageInstances;\r\n        // @ts-expect-error -- ignore\r\n        delete this._attachInfo;\r\n    }\r\n    drawCellMessage(message, context, style, helper, grid, info) {\r\n        if (!hasMessage(message)) {\r\n            return;\r\n        }\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\r\n    }\r\n    _attach(col, row, message) {\r\n        const info = this._attachInfo;\r\n        const instance = this._getMessageInstanceOfMessage(message);\r\n        if (info && info.instance !== instance) {\r\n            info.instance.detachMessageElement();\r\n        }\r\n        instance.attachMessageElement(col, row, normalizeMessage(message));\r\n        this._attachInfo = { col, row, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || info.col !== col || info.row !== row) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveMessageElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachMessageElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _bindGridEvent(grid, getMessage) {\r\n        const onSelectMessage = (sel) => {\r\n            const setMessageData = (msg) => {\r\n                if (!hasMessage(msg)) {\r\n                    this._detach();\r\n                }\r\n                else {\r\n                    this._attach(sel.col, sel.row, msg);\r\n                }\r\n            };\r\n            const message = getMessage(sel.col, sel.row);\r\n            if ((0, utils_1.isPromise)(message)) {\r\n                this._detach();\r\n                message.then((msg) => {\r\n                    const newSel = grid.selection.select;\r\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\r\n                        return;\r\n                    }\r\n                    setMessageData(msg);\r\n                });\r\n                return;\r\n            }\r\n            setMessageData(message);\r\n        };\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (!e.selected) {\r\n                return;\r\n            }\r\n            if (e.before.col === e.col && e.before.row === e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const sel = grid.selection.select;\r\n            this._move(sel.col, sel.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (!grid.hasFocusGrid()) {\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (sel.col !== e.col || sel.row !== e.row) {\r\n                return;\r\n            }\r\n            onSelectMessage(e);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\r\n            const sel = grid.selection.select;\r\n            onSelectMessage(sel);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\r\n            this._detach();\r\n        });\r\n    }\r\n    _getMessageInstanceOfMessage(message) {\r\n        const messageInstances = this._messageInstances;\r\n        const { type } = normalizeMessage(message);\r\n        return (messageInstances[type] ||\r\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\r\n    }\r\n}\r\nexports.MessageHandler = MessageHandler;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessage = void 0;\r\nconst messageUtils = __importStar(require(\"./messageUtils\"));\r\nconst BaseMessage_1 = require(\"./BaseMessage\");\r\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\r\nclass WarningMessage extends BaseMessage_1.BaseMessage {\r\n    createMessageElementInternal() {\r\n        return new WarningMessageElement_1.WarningMessageElement();\r\n    }\r\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\r\n        const { bgColor } = style;\r\n        const { select } = context.getSelection();\r\n        if (!(0, utils_1.cellInRange)(grid.getCellRange(context.col, context.row), select.col, select.row) ||\r\n            !grid.hasFocusGrid()) {\r\n            helper.drawBorderWithClip(context, (ctx) => {\r\n                messageUtils.drawExclamationMarkBox(context, {\r\n                    bgColor: helper.getColor(helper.theme.messages.warnBgColor, context.col, context.row, ctx) || DEEP_ORANGE_A100,\r\n                    color: bgColor,\r\n                    boxWidth: helper.theme.messages.boxWidth,\r\n                    markHeight: helper.theme.messages.markHeight,\r\n                }, helper);\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.WarningMessage = WarningMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.ErrorMessageElement = ErrorMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MessageElement = void 0;\r\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createMessageDomElement() {\r\n    require(\"@/columns/message/internal/MessageElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"span\", {\r\n        classList: [MESSAGE_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass MessageElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createMessageDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, message) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = message.message;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { offsetHeight, offsetWidth } = element;\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${left.toFixed()}px`;\r\n        rootElement.style.width = `${width.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.MessageElement = MessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WarningMessageElement = void 0;\r\nconst MessageElement_1 = require(\"./MessageElement\");\r\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\r\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\r\nclass WarningMessageElement extends MessageElement_1.MessageElement {\r\n    constructor() {\r\n        super();\r\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\r\n        this._rootElement.classList.add(CLASSNAME);\r\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n    }\r\n}\r\nexports.WarningMessageElement = WarningMessageElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawInformationMarkBox = exports.drawExclamationMarkBox = void 0;\r\nconst Rect_1 = require(\"../../internal/Rect\");\r\nfunction drawExclamationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw exclamation mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\r\n}\r\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\r\nfunction drawInformationMarkBox(context, style, helper) {\r\n    const { bgColor, color, boxWidth, markHeight } = style;\r\n    const ctx = context.getContext();\r\n    const rect = context.getRect();\r\n    // draw box\r\n    ctx.fillStyle = bgColor;\r\n    const boxRect = rect.copy();\r\n    boxRect.left = boxRect.right - (Number(boxWidth) || 24);\r\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n    // draw i mark\r\n    const fillColor = color;\r\n    const height = Number(markHeight) || 20;\r\n    const width = height / 5;\r\n    const left = boxRect.left + (boxRect.width - width) / 2;\r\n    const top = boxRect.top + (boxRect.height - height) / 2;\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\r\n        fillColor,\r\n    });\r\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\r\n}\r\nexports.drawInformationMarkBox = drawInformationMarkBox;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\r\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\r\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\r\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\r\nconst IconStyle_1 = require(\"./style/IconStyle\");\r\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\r\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\r\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\r\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\r\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\r\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\r\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\r\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\r\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\r\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\r\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\r\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\r\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\r\nexports.EVENT_TYPE = EVENT_TYPE;\r\nfunction of(columnStyle, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nrecord, StyleClassDef = Style_1.Style, col, row) {\r\n    if (columnStyle) {\r\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\r\n            return columnStyle;\r\n        }\r\n        else if (typeof columnStyle === \"function\") {\r\n            return of(columnStyle(record, col, row), record, StyleClassDef, col, row);\r\n        }\r\n        else if (record && columnStyle in record) {\r\n            return of(record[columnStyle], record, StyleClassDef, col, row);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return new StyleClassDef(columnStyle);\r\n    }\r\n    else {\r\n        return StyleClassDef.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst STYLE_EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return STYLE_EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor, indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopLeft() {\r\n        return this._indicatorTopLeft;\r\n    }\r\n    set indicatorTopLeft(indicatorTopLeft) {\r\n        this._indicatorTopLeft = normalizeIndicator(indicatorTopLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorTopRight() {\r\n        return this._indicatorTopRight;\r\n    }\r\n    set indicatorTopRight(indicatorTopRight) {\r\n        this._indicatorTopRight = normalizeIndicator(indicatorTopRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomRight() {\r\n        return this._indicatorBottomRight;\r\n    }\r\n    set indicatorBottomRight(indicatorBottomRight) {\r\n        this._indicatorBottomRight = normalizeIndicator(indicatorBottomRight);\r\n        this.doChangeStyle();\r\n    }\r\n    get indicatorBottomLeft() {\r\n        return this._indicatorBottomLeft;\r\n    }\r\n    set indicatorBottomLeft(indicatorBottomLeft) {\r\n        this._indicatorBottomLeft = normalizeIndicator(indicatorBottomLeft);\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\nfunction normalizeIndicator(indicator) {\r\n    if (typeof indicator === \"string\") {\r\n        return { style: indicator };\r\n    }\r\n    return indicator;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\r\n    switch (index % 3) {\r\n        case 0:\r\n            return \"#979797\";\r\n        case 1:\r\n            return \"#008fb5\";\r\n        case 2:\r\n            return \"#f1c109\";\r\n        default:\r\n    }\r\n    return \"#979797\";\r\n};\r\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new BranchGraphStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\r\n        this._margin = style.margin || 4;\r\n        this._circleSize = style.circleSize || 16;\r\n        this._branchLineWidth = style.branchLineWidth || 4;\r\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\r\n    }\r\n    get branchColors() {\r\n        return this._branchColors;\r\n    }\r\n    set branchColors(branchColors) {\r\n        this._branchColors = branchColors;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    get circleSize() {\r\n        return this._circleSize;\r\n    }\r\n    set circleSize(circleSize) {\r\n        this._circleSize = circleSize;\r\n        this.doChangeStyle();\r\n    }\r\n    get branchLineWidth() {\r\n        return this._branchLineWidth;\r\n    }\r\n    set branchLineWidth(branchLineWidth) {\r\n        this._branchLineWidth = branchLineWidth;\r\n        this.doChangeStyle();\r\n    }\r\n    get mergeStyle() {\r\n        return this._mergeStyle;\r\n    }\r\n    set mergeStyle(mergeStyle) {\r\n        this._mergeStyle = mergeStyle;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new BranchGraphStyle(this);\r\n    }\r\n}\r\nexports.BranchGraphStyle = BranchGraphStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ButtonStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { buttonBgColor } = style;\r\n        this._buttonBgColor = buttonBgColor;\r\n    }\r\n    get buttonBgColor() {\r\n        return this._buttonBgColor;\r\n    }\r\n    set buttonBgColor(buttonBgColor) {\r\n        this._buttonBgColor = buttonBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ButtonStyle(this);\r\n    }\r\n}\r\nexports.ButtonStyle = ButtonStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckStyle(this);\r\n    }\r\n}\r\nexports.CheckStyle = CheckStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass IconStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n    }\r\n    clone() {\r\n        return new IconStyle(this);\r\n    }\r\n}\r\nexports.IconStyle = IconStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        this._imageSizing = style.imageSizing;\r\n        this._margin = style.margin || 4;\r\n    }\r\n    get imageSizing() {\r\n        return this._imageSizing;\r\n    }\r\n    set imageSizing(imageSizing) {\r\n        this._imageSizing = imageSizing;\r\n        this.doChangeStyle();\r\n    }\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(margin) {\r\n        this._margin = margin;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new ImageStyle(this);\r\n    }\r\n}\r\nexports.ImageStyle = ImageStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nclass MenuStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        const { appearance } = style;\r\n        this._appearance = appearance;\r\n    }\r\n    get appearance() {\r\n        return this._appearance || \"menulist-button\";\r\n    }\r\n    set appearance(appearance) {\r\n        this._appearance = appearance;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new MenuStyle(this);\r\n    }\r\n}\r\nexports.MenuStyle = MenuStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass MultilineTextStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textBaseline: \"top\" }));\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new MultilineTextStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.MultilineTextStyle = MultilineTextStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass NumberStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"right\" }));\r\n    }\r\n    clone() {\r\n        return new NumberStyle(this);\r\n    }\r\n}\r\nexports.NumberStyle = NumberStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarStyle = void 0;\r\nconst Style_1 = require(\"./Style\");\r\nlet defaultStyle;\r\nconst DEFAULT_BAR_COLOR = (num) => {\r\n    if (num > 80) {\r\n        return \"#20a8d8\";\r\n    }\r\n    if (num > 50) {\r\n        return \"#4dbd74\";\r\n    }\r\n    if (num > 20) {\r\n        return \"#ffc107\";\r\n    }\r\n    return \"#f86c6b\";\r\n};\r\nclass PercentCompleteBarStyle extends Style_1.Style {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new PercentCompleteBarStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\r\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\r\n        this._barHeight = style.barHeight || 3;\r\n    }\r\n    get barColor() {\r\n        return this._barColor;\r\n    }\r\n    set barColor(barColor) {\r\n        this._barColor = barColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barBgColor() {\r\n        return this._barBgColor;\r\n    }\r\n    set barBgColor(barBgColor) {\r\n        this._barBgColor = barBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get barHeight() {\r\n        return this._barHeight;\r\n    }\r\n    set barHeight(barHeight) {\r\n        this._barHeight = barHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarStyle(this);\r\n    }\r\n}\r\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\r\n        this._checkColor = checkColor;\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this._checkBorderColor = checkBorderColor;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n    }\r\n    get checkColor() {\r\n        return this._checkColor;\r\n    }\r\n    set checkColor(checkColor) {\r\n        this._checkColor = checkColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBorderColor() {\r\n        return this._uncheckBorderColor;\r\n    }\r\n    set uncheckBorderColor(uncheckBorderColor) {\r\n        this._uncheckBorderColor = uncheckBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBorderColor() {\r\n        return this._checkBorderColor;\r\n    }\r\n    set checkBorderColor(checkBorderColor) {\r\n        this._checkBorderColor = checkBorderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new RadioStyle(this);\r\n    }\r\n}\r\nexports.RadioStyle = RadioStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"clip\";\r\n        this._appendRightPx = style.appendRightPx;\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    get appendRightPx() {\r\n        return this._appendRightPx;\r\n    }\r\n    set appendRightPx(appendRightPx) {\r\n        this._appendRightPx = appendRightPx;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\r\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\r\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\r\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\r\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\r\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\r\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\r\nconst Column_1 = require(\"./type/Column\");\r\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\r\nconst IconColumn_1 = require(\"./type/IconColumn\");\r\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\r\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\r\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\r\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\r\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\r\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\r\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\r\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\r\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\r\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\r\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\r\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\r\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Column_1.Column(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    NUMBER: new NumberColumn_1.NumberColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckColumn_1.CheckColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    RADIO: new RadioColumn_1.RadioColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    IMAGE: new ImageColumn_1.ImageColumn(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\r\n};\r\nfunction of(columnType) {\r\n    if (!columnType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof columnType === \"string\") {\r\n        const key = columnType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return columnType;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseColumn = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst handlers_1 = require(\"../indicator/handlers\");\r\nconst { setReadonly } = utils_1.obj;\r\nconst COLUMN_FADEIN_STATE_ID = (0, symbolManager_1.getColumnFadeinStateId)();\r\nfunction isFadeinWhenCallbackInPromise(column, grid) {\r\n    if (column.fadeinWhenCallbackInPromise != null) {\r\n        return column.fadeinWhenCallbackInPromise;\r\n    }\r\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\r\n}\r\nfunction getFadeinState(grid) {\r\n    let state = grid[COLUMN_FADEIN_STATE_ID];\r\n    if (!state) {\r\n        state = { cells: {} };\r\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\r\n    return (point) => {\r\n        const state = getFadeinState(grid);\r\n        const stateKey = `${row}:${col}`;\r\n        if (point === 1) {\r\n            delete state.cells[stateKey];\r\n        }\r\n        else {\r\n            state.cells[stateKey] = {\r\n                opacity: point,\r\n            };\r\n        }\r\n        drawCellBase();\r\n        drawInternal();\r\n        const cellState = state.cells[stateKey];\r\n        if (cellState) {\r\n            //\r\n            const ctx = context.getContext();\r\n            ctx.globalAlpha = 1 - cellState.opacity;\r\n            try {\r\n                drawCellBase();\r\n            }\r\n            finally {\r\n                ctx.globalAlpha = 1;\r\n            }\r\n        }\r\n    };\r\n}\r\nconst fadeinMgr = {\r\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        // fadein animation\r\n        const state = getFadeinState(grid);\r\n        const activeFadeins = [\r\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\r\n        ];\r\n        state.activeFadeins = activeFadeins;\r\n        (0, animate_1.animate)(500, (point) => {\r\n            activeFadeins.forEach((f) => f(point));\r\n            if (point === 1) {\r\n                delete state.activeFadeins;\r\n            }\r\n        });\r\n    },\r\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n        const state = getFadeinState(grid);\r\n        if (state.activeFadeins) {\r\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\r\n        }\r\n        else {\r\n            drawInternal();\r\n        }\r\n    },\r\n};\r\nclass BaseColumn {\r\n    constructor(option) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n        //Promisecallback\r\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\r\n    }\r\n    get fadeinWhenCallbackInPromise() {\r\n        return this._fadeinWhenCallbackInPromise;\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        var _a;\r\n        const { style, getRecord, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        const record = getRecord();\r\n        let promise;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            promise = record;\r\n        }\r\n        else if ((0, utils_1.isPromise)(cellValue)) {\r\n            promise = cellValue;\r\n        }\r\n        else {\r\n            const msg = info.getMessage();\r\n            if ((0, utils_1.isPromise)(msg)) {\r\n                promise = msg;\r\n            }\r\n        }\r\n        //\r\n        if (promise) {\r\n            const start = Date.now();\r\n            return Promise.all([\r\n                record,\r\n                cellValue,\r\n                promise.then(() => cellValue).then(() => info.getMessage()),\r\n            ]).then(({ 0: record, 1: val, 2: message }) => {\r\n                const currentContext = context.toCurrentContext();\r\n                const drawRect = currentContext.getDrawRect();\r\n                if (!drawRect) {\r\n                    return;\r\n                }\r\n                const time = Date.now() - start;\r\n                const drawInternal = () => {\r\n                    const currentContext = context.toCurrentContext();\r\n                    const drawRect = currentContext.getDrawRect();\r\n                    if (!drawRect) {\r\n                        return;\r\n                    }\r\n                    const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\r\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\r\n                    this.drawIndicatorsInternal(currentContext, actStyle, helper, grid, info);\r\n                };\r\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\r\n                    drawInternal(); //\r\n                }\r\n                else {\r\n                    const { col, row } = context;\r\n                    if (time < 80) {\r\n                        //80msPromiseCallback\r\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                    else {\r\n                        //\r\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            const actStyle = styleContents.of(style, record, this.StyleClass, context.col, context.row);\r\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\r\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\r\n            this.drawIndicatorsInternal(context, actStyle, helper, grid, info);\r\n            //\r\n            const { col, row } = context;\r\n            const stateKey = `${col}:${row}`;\r\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\r\n            if (cellState) {\r\n                const ctx = context.getContext();\r\n                ctx.globalAlpha = 1 - cellState.opacity;\r\n                try {\r\n                    drawCellBase();\r\n                }\r\n                finally {\r\n                    ctx.globalAlpha = 1;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n    }\r\n    convertInternal(value) {\r\n        return value != null ? value : \"\";\r\n    }\r\n    drawMessageInternal(message, context, style, helper, grid, info) {\r\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\r\n    }\r\n    drawIndicatorsInternal(context, style, helper, grid, info) {\r\n        var _a;\r\n        const { indicatorTopLeft, indicatorTopRight, indicatorBottomRight, indicatorBottomLeft, } = style;\r\n        for (const [indicatorStyle, kind] of [\r\n            [indicatorTopLeft, 0 /* DrawIndicatorKind.topLeft */],\r\n            [indicatorTopRight, 1 /* DrawIndicatorKind.topRight */],\r\n            [indicatorBottomRight, 2 /* DrawIndicatorKind.bottomRight */],\r\n            [indicatorBottomLeft, 3 /* DrawIndicatorKind.bottomLeft */],\r\n        ]) {\r\n            if (indicatorStyle) {\r\n                (_a = (0, handlers_1.getDrawIndicator)(indicatorStyle)) === null || _a === void 0 ? void 0 : _a(context, indicatorStyle, kind, helper, grid, info);\r\n            }\r\n        }\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        return value;\r\n    }\r\n}\r\nexports.BaseColumn = BaseColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BranchGraphColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst _ = (0, symbolManager_1.getBranchGraphColumnStateId)();\r\nfunction getAllColumnData(grid, field, callback) {\r\n    const { dataSource } = grid;\r\n    const allData = [];\r\n    let promise;\r\n    for (let index = 0; index < dataSource.length; index++) {\r\n        const data = dataSource.getField(index, field);\r\n        if ((0, utils_1.isPromise)(data)) {\r\n            const dataIndex = allData.length;\r\n            allData.push(undefined);\r\n            if (!promise) {\r\n                promise = data.then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n            else {\r\n                promise = promise\r\n                    .then(() => data)\r\n                    .then((d) => {\r\n                    allData[dataIndex] = d;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            allData.push(data);\r\n        }\r\n    }\r\n    if (promise) {\r\n        promise.then(() => callback(allData));\r\n    }\r\n    else {\r\n        callback(allData);\r\n    }\r\n}\r\nclass BranchLine {\r\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\r\n        this.fromIndex = fromIndex;\r\n        this.toIndex = toIndex;\r\n        this.colorIndex = colorIndex;\r\n        this.point = point;\r\n    }\r\n}\r\nclass BranchPoint {\r\n    constructor({ index, commit = false, lines = [], tag, }) {\r\n        this.index = index;\r\n        this.commit = commit;\r\n        this.lines = lines;\r\n        this.tag = tag;\r\n    }\r\n    static mergeLines(lines) {\r\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\r\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\r\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\r\n        froms.forEach((f) => {\r\n            for (let i = 0; i < tos.length; i++) {\r\n                const t = tos[i];\r\n                if (t.point) {\r\n                    continue;\r\n                }\r\n                if (f.colorIndex === t.colorIndex) {\r\n                    f.toIndex = t.toIndex;\r\n                    tos.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            result.push(f);\r\n        });\r\n        return result.concat(tos);\r\n    }\r\n    static merge(a, b) {\r\n        if (!a) {\r\n            return b;\r\n        }\r\n        return new BranchPoint({\r\n            index: a.index,\r\n            commit: a.commit || b.commit,\r\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\r\n            tag: a.tag || b.tag,\r\n        });\r\n    }\r\n}\r\nfunction joinLine(timeline, branchIndex) {\r\n    const reverse = [...timeline].reverse();\r\n    for (let i = 0; i < reverse.length; i++) {\r\n        const f = reverse[i][branchIndex];\r\n        if (f) {\r\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\r\n                new BranchLine({\r\n                    toIndex: branchIndex,\r\n                    colorIndex: branchIndex,\r\n                }),\r\n            ]));\r\n            for (let j = 0; j < i; j++) {\r\n                const tl = reverse[j];\r\n                tl[branchIndex] = new BranchPoint({\r\n                    index: branchIndex,\r\n                    lines: [\r\n                        new BranchLine({\r\n                            fromIndex: branchIndex,\r\n                            toIndex: branchIndex,\r\n                            colorIndex: branchIndex,\r\n                        }),\r\n                    ],\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction branch({ timeline, branches }, from, to) {\r\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\r\n    let toIndex = branches.indexOf(to);\r\n    if (toIndex < 0) {\r\n        toIndex = branches.length;\r\n        branches.push(to);\r\n    }\r\n    function findBranchRootIndex() {\r\n        for (let index = timeline.length - 1; index >= 0; index--) {\r\n            const tl = timeline[index];\r\n            const from = tl[fromIndex];\r\n            if (from && from.commit) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    if (fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n        });\r\n    }\r\n    else {\r\n        const fromTargetIndex = findBranchRootIndex();\r\n        if (fromTargetIndex === -1) {\r\n            return null;\r\n        }\r\n        const branchTargetFromIndex = fromTargetIndex + 1;\r\n        const branchPoint = new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    fromIndex,\r\n                    colorIndex: toIndex,\r\n                }),\r\n            ],\r\n        });\r\n        let point;\r\n        let result = null;\r\n        if (branchTargetFromIndex < timeline.length) {\r\n            const targetLine = timeline[branchTargetFromIndex];\r\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\r\n        }\r\n        else {\r\n            point = branchPoint;\r\n            result = branchPoint;\r\n        }\r\n        const from = timeline[fromTargetIndex][fromIndex];\r\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\r\n            new BranchLine({\r\n                toIndex,\r\n                colorIndex: toIndex,\r\n                point,\r\n            }),\r\n        ]));\r\n        return result;\r\n    }\r\n}\r\nfunction commit({ timeline, branches }, name) {\r\n    const index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        return null;\r\n    }\r\n    const result = new BranchPoint({\r\n        index,\r\n        commit: true,\r\n    });\r\n    if (joinLine(timeline, index)) {\r\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\r\n            new BranchLine({\r\n                fromIndex: index,\r\n                colorIndex: index,\r\n            }),\r\n        ]));\r\n    }\r\n    return result;\r\n}\r\nfunction commitTag({ branches }, name, tag) {\r\n    let index = branches.indexOf(name);\r\n    if (index < 0) {\r\n        index = branches.length;\r\n        branches.push(name);\r\n    }\r\n    return new BranchPoint({\r\n        index,\r\n        tag,\r\n    });\r\n}\r\nfunction commitMerge({ timeline, branches }, from, to) {\r\n    const fromIndex = branches.indexOf(from);\r\n    const toIndex = branches.indexOf(to);\r\n    if (toIndex < 0 || fromIndex < 0) {\r\n        return new BranchPoint({\r\n            index: toIndex,\r\n            commit: true,\r\n        });\r\n    }\r\n    const result = new BranchPoint({\r\n        index: toIndex,\r\n        commit: true,\r\n        lines: [\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n            new BranchLine({\r\n                fromIndex: toIndex,\r\n                colorIndex: toIndex,\r\n            }),\r\n        ],\r\n    });\r\n    const froms = [...timeline];\r\n    const fromTargetLine = froms.pop();\r\n    if (fromTargetLine) {\r\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\r\n            index: toIndex,\r\n            lines: [\r\n                new BranchLine({\r\n                    toIndex,\r\n                    colorIndex: fromIndex,\r\n                }),\r\n            ],\r\n        }));\r\n    }\r\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\r\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\r\n            new BranchLine({\r\n                fromIndex,\r\n                colorIndex: fromIndex,\r\n            }),\r\n        ]));\r\n    }\r\n    joinLine(timeline, toIndex);\r\n    return result;\r\n}\r\nfunction calcCommand(info, command) {\r\n    const { timeline } = info;\r\n    const timelineData = [];\r\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\r\n    const commands = Array.isArray(command) ? command : [command];\r\n    commands.forEach((cmd) => {\r\n        if (!cmd) {\r\n            return;\r\n        }\r\n        let point;\r\n        if (cmd.command === \"branch\") {\r\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\r\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\r\n            point = branch(info, from, to);\r\n        }\r\n        else if (cmd.command === \"commit\") {\r\n            const { branch } = cmd;\r\n            point = commit(info, branch);\r\n        }\r\n        else if (cmd.command === \"merge\") {\r\n            const { from, to } = cmd.branch;\r\n            point = commitMerge(info, from, to);\r\n        }\r\n        else if (cmd.command === \"tag\") {\r\n            const { branch, tag } = cmd;\r\n            point = commitTag(info, branch, tag);\r\n        }\r\n        if (point && point.index > -1) {\r\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\r\n        }\r\n    });\r\n    timeline.push(timelineData);\r\n}\r\nfunction calcBranchesInfo(start, grid, field) {\r\n    const result = {\r\n        branches: [],\r\n        timeline: [],\r\n    };\r\n    getAllColumnData(grid, field, (data) => {\r\n        if (start !== \"top\") {\r\n            data = [...data].reverse();\r\n        }\r\n        data.forEach((command) => {\r\n            calcCommand(result, command);\r\n        });\r\n    });\r\n    return result;\r\n}\r\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\r\n    let w = Math.max(width / branches.length + 1, 5);\r\n    timeline.forEach((tl) => {\r\n        tl.forEach((p, index) => {\r\n            if (index <= 0) {\r\n                // \r\n                return;\r\n            }\r\n            if (p.tag) {\r\n                const textWidth = ctx.measureText(p.tag).width;\r\n                if (w * index + radius * 2 + 4 + textWidth > width) {\r\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    const result = [];\r\n    let x = left;\r\n    branches.forEach(() => {\r\n        result.push(Math.ceil(x + radius));\r\n        x += w;\r\n    });\r\n    return result;\r\n}\r\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \r\n// margin,\r\nbranchColors, branchLineWidth, mergeStyle, }, { \r\n// width,\r\ncol, row, branches, }) {\r\n    if (upLineIndex != null || downLineIndex != null) {\r\n        ctx.strokeStyle = (0, utils_1.getOrApply)(branchColors, branches[colorIndex], colorIndex);\r\n        ctx.lineWidth = branchLineWidth;\r\n        ctx.lineCap = \"round\";\r\n        ctx.beginPath();\r\n        if (upLineIndex != null) {\r\n            const upX = branchXPoints[upLineIndex];\r\n            const upRect = grid.getCellRelativeRect(col, row - 1);\r\n            const upY = upRect.top + upRect.height / 2;\r\n            ctx.moveTo(upX, upY);\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\r\n            }\r\n            else {\r\n                ctx.lineTo(x, y);\r\n            }\r\n        }\r\n        else {\r\n            ctx.moveTo(x, y);\r\n        }\r\n        if (downLineIndex != null) {\r\n            const downX = branchXPoints[downLineIndex];\r\n            const downRect = grid.getCellRelativeRect(col, row + 1);\r\n            const downY = downRect.top + downRect.height / 2;\r\n            if (mergeStyle === \"bezier\") {\r\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\r\n            }\r\n            else {\r\n                ctx.lineTo(downX, downY);\r\n            }\r\n        }\r\n        ctx.stroke();\r\n    }\r\n}\r\n/**\r\n * BranchGraphColumn\r\n *\r\n * Data commands\r\n * - mastar branch or orphan branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * ```\r\n *\r\n * - commit\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * ```\r\n *\r\n * - branch\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - merge\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * ```\r\n *\r\n * - tag\r\n *\r\n * ```js\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * ```\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\r\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._start = option.start || \"bottom\";\r\n        this._cache = option.cache != null ? option.cache : false;\r\n    }\r\n    get StyleClass() {\r\n        return BranchGraphStyle_1.BranchGraphStyle;\r\n    }\r\n    clearCache(grid) {\r\n        delete grid[_];\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        if (this._cache) {\r\n            const state = grid[_] || (grid[_] = new Map());\r\n            const { col, row } = context;\r\n            const field = grid.getField(col, row);\r\n            if (!state.has(field)) {\r\n                state.set(field, calcBranchesInfo(this._start, grid, field));\r\n            }\r\n        }\r\n        return super.onDrawCell(cellValue, info, context, grid);\r\n    }\r\n    clone() {\r\n        return new BranchGraphColumn(this);\r\n    }\r\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a, _b;\r\n        const { col, row } = context;\r\n        const field = grid.getField(col, row);\r\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\r\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\r\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\r\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\r\n        const data = this._start !== \"top\"\r\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\r\n            : timeline[row - grid.frozenRowCount];\r\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const rect = context.getRect();\r\n        const radius = circleSize / 2;\r\n        const width = rect.width - margin * 2;\r\n        helper.drawWithClip(context, (ctx) => {\r\n            ctx.textAlign = \"left\";\r\n            ctx.textBaseline = \"middle\";\r\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\r\n            const y = rect.top + rect.height / 2;\r\n            // draw join lines\r\n            data\r\n                .map((point, index) => point\r\n                ? point.lines.map((line) => ({\r\n                    colorIndex: line.colorIndex,\r\n                    upLineIndex: line[upLineIndexKey],\r\n                    downLineIndex: line[downLineIndexKey],\r\n                    pointIndex: index,\r\n                }))\r\n                : [])\r\n                .reduce((p, c) => p.concat(c), []) // flatMap\r\n                // order of overlap\r\n                .sort((a, b) => b.colorIndex - a.colorIndex)\r\n                .forEach((line) => {\r\n                const x = branchXPoints[line.pointIndex];\r\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\r\n                    margin,\r\n                    branchXPoints,\r\n                    branchLineWidth,\r\n                    branchColors,\r\n                    mergeStyle,\r\n                }, {\r\n                    width,\r\n                    col,\r\n                    row,\r\n                    branches,\r\n                });\r\n            });\r\n            // draw commit points\r\n            data.forEach((p, index) => {\r\n                if (p && p.commit) {\r\n                    const x = branchXPoints[index];\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.beginPath();\r\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\r\n                    ctx.fill();\r\n                    ctx.closePath();\r\n                }\r\n            });\r\n            // draw tags\r\n            data.forEach((p, index) => {\r\n                if (p && p.tag) {\r\n                    ctx.fillStyle = (0, utils_1.getOrApply)(branchColors, branches[index], index);\r\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.BranchGraphColumn = BranchGraphColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ButtonColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\r\nconst Column_1 = require(\"./Column\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst BUTTON_COLUMN_STATE_ID = (0, symbolManager_1.getButtonColumnStateId)();\r\nclass ButtonColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._caption = option.caption;\r\n    }\r\n    get StyleClass() {\r\n        return ButtonStyle_1.ButtonStyle;\r\n    }\r\n    get caption() {\r\n        return this._caption;\r\n    }\r\n    withCaption(caption) {\r\n        const c = this.clone();\r\n        c._caption = caption;\r\n        return c;\r\n    }\r\n    clone() {\r\n        return new ButtonColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return this._caption || super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._caption || value;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        let active = false;\r\n        const state = grid[BUTTON_COLUMN_STATE_ID];\r\n        if (state) {\r\n            if (state.mouseActiveCell &&\r\n                (0, utils_1.cellInRange)(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\r\n                active = true;\r\n            }\r\n            else {\r\n                const { select } = context.getSelection();\r\n                if ((0, utils_1.cellInRange)(range, select.col, select.row)) {\r\n                    active = true;\r\n                }\r\n            }\r\n        }\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.button(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                bgColor: buttonBgColor,\r\n                color,\r\n                font,\r\n                padding,\r\n                shadow: active\r\n                    ? {\r\n                        color: \"rgba(0, 0, 0, 0.48)\",\r\n                        blur: 6,\r\n                        offsetY: 3,\r\n                    }\r\n                    : {},\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.ButtonColumn = ButtonColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst CHECK_COLUMN_STATE_ID = (0, symbolManager_1.getCheckColumnStateId)();\r\nclass CheckColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return CheckStyle_1.CheckStyle;\r\n    }\r\n    clone() {\r\n        return new CheckColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.checkbox(value, context, opt);\r\n    }\r\n}\r\nexports.CheckColumn = CheckColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Column = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Column extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    clone() {\r\n        return new Column(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, appendRightPx, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.text(textValue, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n                icons,\r\n                appendRightPx,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Column = Column;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IconColumn = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst Column_1 = require(\"./Column\");\r\nconst IconStyle_1 = require(\"../style/IconStyle\");\r\nfunction repeatArray(val, count) {\r\n    if (count === Infinity) {\r\n        count = 0;\r\n    }\r\n    const a = [];\r\n    for (let i = 0; i < count; i++) {\r\n        a.push(val);\r\n    }\r\n    return a;\r\n}\r\nclass IconColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._tagName = option.tagName || \"i\";\r\n        this._className = option.className;\r\n        this._content = option.content;\r\n        this._name = option.name;\r\n        this._iconWidth = option.iconWidth;\r\n    }\r\n    get StyleClass() {\r\n        return IconStyle_1.IconStyle;\r\n    }\r\n    clone() {\r\n        return new IconColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        const num = Number(value);\r\n        if (!isNaN(num)) {\r\n            const icon = {};\r\n            icons.iconPropKeys.forEach((k) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                icon[k] = style[k];\r\n            });\r\n            icon.className = this._className;\r\n            icon.tagName = this._tagName;\r\n            if (this._content) {\r\n                icon.content = this._content;\r\n            }\r\n            icon.name = this._name;\r\n            if (this._iconWidth) {\r\n                icon.width = this._iconWidth;\r\n            }\r\n            info.getIcon = () => repeatArray(icon, num);\r\n        }\r\n        else {\r\n            info.getIcon = () => null;\r\n        }\r\n        super.drawInternal(\"\", context, style, helper, grid, info);\r\n    }\r\n}\r\nexports.IconColumn = IconColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nconst imgs_1 = require(\"../../internal/imgs\");\r\nconst MAX_LRU_CACHE_SIZE = 50;\r\nfunction getImage(url) {\r\n    return (0, imgs_1.getCacheOrLoad)(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\r\n}\r\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\r\n    let newWidth = width;\r\n    let newHeight = height;\r\n    if (newWidth > maxWidth) {\r\n        newWidth = maxWidth;\r\n        newHeight = (newWidth * height) / width;\r\n    }\r\n    if (newHeight > maxHeight) {\r\n        newHeight = maxHeight;\r\n        newWidth = (newHeight * width) / height;\r\n    }\r\n    return {\r\n        width: newWidth,\r\n        height: newHeight,\r\n    };\r\n}\r\nclass ImageColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return ImageStyle_1.ImageStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\r\n    }\r\n    clone() {\r\n        return new ImageColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\r\n        if (value) {\r\n            const { textAlign, textBaseline, margin, bgColor } = style;\r\n            if (bgColor) {\r\n                drawCellBase({\r\n                    bgColor,\r\n                });\r\n            }\r\n            helper.drawWithClip(context, (ctx) => {\r\n                ctx.textAlign = textAlign;\r\n                ctx.textBaseline = textBaseline;\r\n                const rect = context.getRect();\r\n                if (style.imageSizing === \"keep-aspect-ratio\") {\r\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\r\n                    const pos = (0, canvases_1.calcStartPosition)(ctx, rect, width, height, {\r\n                        offset: margin,\r\n                    });\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\r\n                }\r\n                else {\r\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.ImageColumn = ImageColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MenuColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\r\nconst menu_items_1 = require(\"../../internal/menu-items\");\r\nclass MenuColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._options = (0, menu_items_1.normalize)(option.options);\r\n    }\r\n    get StyleClass() {\r\n        return MenuStyle_1.MenuStyle;\r\n    }\r\n    clone() {\r\n        return new MenuColumn(this);\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    withOptions(options) {\r\n        const c = this.clone();\r\n        c._options = (0, menu_items_1.normalize)(options);\r\n        return c;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\r\n        let { color } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const convertedValue = this._convertInternal(value);\r\n        const text = convertedValue != null ? String(convertedValue) : \"\";\r\n        helper.testFontLoad(font, text, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\r\n            const textPadding = basePadding.slice(0);\r\n            textPadding[1] += 26; // icon padding\r\n            const iconPadding = basePadding.slice(0);\r\n            iconPadding[1] += 8;\r\n            if (color == null && (value == null || value === \"\")) {\r\n                color = \"rgba(0, 0, 0, .38)\";\r\n            }\r\n            helper.text(text, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding: textPadding,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n            if (appearance === \"menulist-button\") {\r\n                // draw dropdown arrow icon\r\n                helper.text(\"\", context, {\r\n                    textAlign: \"right\",\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    icons: [\r\n                        {\r\n                            path: \"M0 2 5 7 10 2z\",\r\n                            width: 10,\r\n                            color: \"rgba(0, 0, 0, .54)\",\r\n                        },\r\n                    ],\r\n                    padding: iconPadding,\r\n                });\r\n            }\r\n            else if (appearance !== \"none\") {\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                console.warn(`unsupported appearance:${appearance}`);\r\n            }\r\n        });\r\n    }\r\n    convertInternal(value) {\r\n        return value;\r\n    }\r\n    _convertInternal(value) {\r\n        const options = this._options;\r\n        for (let i = 0; i < options.length; i++) {\r\n            const option = options[i];\r\n            if (option.value === value) {\r\n                value = option.label;\r\n                break;\r\n            }\r\n        }\r\n        return super.convertInternal(value);\r\n    }\r\n    getCopyCellValue(value) {\r\n        return this._convertInternal(value);\r\n    }\r\n}\r\nexports.MenuColumn = MenuColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextColumn = void 0;\r\nconst utils = __importStar(require(\"./columnUtils\"));\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\r\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\r\n    constructor(option = {}) {\r\n        super(option);\r\n    }\r\n    get StyleClass() {\r\n        return MultilineTextStyle_1.MultilineTextStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextColumn = MultilineTextColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberColumn = void 0;\r\nconst Column_1 = require(\"./Column\");\r\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\r\nlet defaultFotmat;\r\nclass NumberColumn extends Column_1.Column {\r\n    static get defaultFotmat() {\r\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\r\n    }\r\n    static set defaultFotmat(fmt) {\r\n        defaultFotmat = fmt;\r\n    }\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._format = option.format;\r\n    }\r\n    get StyleClass() {\r\n        return NumberStyle_1.NumberStyle;\r\n    }\r\n    clone() {\r\n        return new NumberColumn(this);\r\n    }\r\n    get format() {\r\n        return this._format;\r\n    }\r\n    withFormat(format) {\r\n        const c = this.clone();\r\n        c._format = format;\r\n        return c;\r\n    }\r\n    convertInternal(value) {\r\n        const num = Number(value);\r\n        if (isNaN(num)) {\r\n            const convertedValue = super.convertInternal(value);\r\n            return convertedValue != null ? String(convertedValue) : \"\";\r\n        }\r\n        const format = this._format || NumberColumn.defaultFotmat;\r\n        return format.format(num);\r\n    }\r\n}\r\nexports.NumberColumn = NumberColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PercentCompleteBarColumn = void 0;\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst Column_1 = require(\"./Column\");\r\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\r\nconst MARGIN = 2;\r\nclass PercentCompleteBarColumn extends Column_1.Column {\r\n    constructor(option = {}) {\r\n        super(option);\r\n        this._min = option.min || 0;\r\n        this._max = option.max || this._min + 100;\r\n        this._formatter = option.formatter || ((v) => v);\r\n    }\r\n    get StyleClass() {\r\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\r\n    }\r\n    clone() {\r\n        return new PercentCompleteBarColumn(this);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, info) {\r\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\r\n        const { barColor, barBgColor, barHeight } = style;\r\n        let textValue = value != null ? String(value) : \"\";\r\n        if (utils_1.str.endsWith(textValue, \"%\")) {\r\n            textValue = textValue.slice(0, -1);\r\n        }\r\n        const num = Number(textValue);\r\n        if (isNaN(num)) {\r\n            return;\r\n        }\r\n        const rate = num < this._min\r\n            ? 0\r\n            : num > this._max\r\n                ? 1\r\n                : (num - this._min) / (this._max - this._min);\r\n        helper.drawWithClip(context, (ctx) => {\r\n            const rect = context.getRect();\r\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\r\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\r\n            const barLeft = rect.left + MARGIN;\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barBgColor, rate * 100) || \"#f0f3f5\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\r\n            ctx.fill();\r\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\r\n            ctx.fillStyle = (0, utils_1.getOrApply)(barColor, rate * 100) || \"#20a8d8\";\r\n            ctx.beginPath();\r\n            ctx.rect(barLeft, barTop, barSize, barHeight);\r\n            ctx.fill();\r\n        });\r\n    }\r\n}\r\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RadioColumn = void 0;\r\nconst BaseColumn_1 = require(\"./BaseColumn\");\r\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../utils\");\r\nconst RADIO_COLUMN_STATE_ID = (0, symbolManager_1.getRadioColumnStateId)();\r\nclass RadioColumn extends BaseColumn_1.BaseColumn {\r\n    get StyleClass() {\r\n        return RadioStyle_1.RadioStyle;\r\n    }\r\n    clone() {\r\n        return new RadioColumn(this);\r\n    }\r\n    convertInternal(value) {\r\n        return (0, utils_1.toBoolean)(value);\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\r\n        var _a;\r\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            checkColor,\r\n            uncheckBorderColor,\r\n            checkBorderColor,\r\n            uncheckBgColor,\r\n            checkBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        helper.radioButton(value, context, opt);\r\n    }\r\n}\r\nexports.RadioColumn = RadioColumn;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadIcons = void 0;\r\nconst icons = __importStar(require(\"../../internal/icons\"));\r\nconst utils_1 = require(\"../../internal/utils\");\r\nfunction loadIcons(icon, context, helper, callback) {\r\n    let argIcon = undefined;\r\n    if (icon) {\r\n        if ((0, utils_1.isPromise)(icon)) {\r\n            icon.then((i) => {\r\n                loadIcons(i, context.toCurrentContext(), helper, callback);\r\n            });\r\n        }\r\n        else {\r\n            const iconList = icons.toNormalizeArray(icon);\r\n            iconList.forEach((i) => {\r\n                if (i.font && i.content) {\r\n                    helper.testFontLoad(i.font, i.content, context);\r\n                }\r\n            });\r\n            argIcon = iconList;\r\n        }\r\n    }\r\n    callback(argIcon, context);\r\n}\r\nexports.loadIcons = loadIcons;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toBoolean = void 0;\r\nfunction toBoolean(val) {\r\n    if (typeof val === \"string\") {\r\n        if (val === \"false\") {\r\n            return false;\r\n        }\r\n        else if (val === \"off\") {\r\n            return false;\r\n        }\r\n        else if (/^0+$/.exec(val)) {\r\n            return false;\r\n        }\r\n    }\r\n    return Boolean(val);\r\n}\r\nexports.toBoolean = toBoolean;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\r\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\r\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\r\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\r\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DG_EVENT_TYPE = void 0;\r\n/**\r\n * DrawGrid event types\r\n * @classdesc cheetahGrid.core.EVENT_TYPE\r\n * @memberof cheetahGrid.core\r\n */\r\nexports.DG_EVENT_TYPE = {\r\n    CLICK_CELL: \"click_cell\",\r\n    DBLCLICK_CELL: \"dblclick_cell\",\r\n    DBLTAP_CELL: \"dbltap_cell\",\r\n    MOUSEDOWN_CELL: \"mousedown_cell\",\r\n    MOUSEDOWN_GRID: 'mousedown_grid',\r\n    MOUSEUP_CELL: \"mouseup_cell\",\r\n    SELECTED_CELL: \"selected_cell\",\r\n    KEYDOWN: \"keydown\",\r\n    MOUSEMOVE_CELL: \"mousemove_cell\",\r\n    MOUSEENTER_CELL: \"mouseenter_cell\",\r\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\r\n    MOUSEOVER_CELL: \"mouseover_cell\",\r\n    MOUSEOUT_CELL: \"mouseout_cell\",\r\n    TOUCHSTART_CELL: \"touchstart_cell\",\r\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\r\n    INPUT_CELL: \"input_cell\",\r\n    PASTE_CELL: \"paste_cell\",\r\n    DELETE_CELL: \"delete_cell\",\r\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\r\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\r\n    RESIZE_COLUMN: \"resize_column\",\r\n    SCROLL: \"scroll\",\r\n    FOCUS_GRID: \"focus_grid\",\r\n    BLUR_GRID: \"blur_grid\",\r\n};\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DrawGrid = void 0;\r\nconst calc = __importStar(require(\"../internal/calc\"));\r\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\r\nconst style = __importStar(require(\"../internal/style\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst paste_utils_1 = require(\"../internal/paste-utils\");\r\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\nconst EventTarget_1 = require(\"./EventTarget\");\r\nconst NumberMap_1 = require(\"../internal/NumberMap\");\r\nconst Rect_1 = require(\"../internal/Rect\");\r\nconst Scrollable_1 = require(\"../internal/Scrollable\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\n//protected symbol\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\nconst { \r\n/** @private */\r\nisTouchEvent, \r\n/** @private */\r\ngetMouseButtons, \r\n/** @private */\r\ngetKeyCode, \r\n/** @private */\r\ncancel: cancelEvent, } = utils_1.event;\r\n/** @private */\r\nconst _ = (0, symbolManager_1.getProtectedSymbol)();\r\n/** @private */\r\nfunction createRootElement() {\r\n    const element = document.createElement(\"div\");\r\n    element.classList.add(\"cheetah-grid\");\r\n    return element;\r\n}\r\n/** @private */\r\nconst KEY_BS = 8;\r\n/** @private */\r\nconst KEY_TAB = 9;\r\n/** @private */\r\nconst KEY_ENTER = 13;\r\n/** @private */\r\nconst KEY_END = 35;\r\n/** @private */\r\nconst KEY_HOME = 36;\r\n/** @private */\r\nconst KEY_LEFT = 37;\r\n/** @private */\r\nconst KEY_UP = 38;\r\n/** @private */\r\nconst KEY_RIGHT = 39;\r\n/** @private */\r\nconst KEY_DOWN = 40;\r\n/** @private */\r\nconst KEY_DEL = 46;\r\n/** @private */\r\nconst KEY_ALPHA_A = 65;\r\n/** @private */\r\nconst KEY_ALPHA_C = 67;\r\n/** @private */\r\nconst KEY_ALPHA_V = 86;\r\n//private methods\r\n/** @private */\r\nfunction _vibrate(e) {\r\n    if (navigator.vibrate && isTouchEvent(e)) {\r\n        navigator.vibrate(50);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetRowAt(absoluteY) {\r\n    const internal = this.getTargetRowAtInternal(absoluteY);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const findBefore = (startRow, startBottom) => {\r\n        let bottom = startBottom;\r\n        for (let row = startRow; row >= 0; row--) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const top = bottom - height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            bottom = top;\r\n        }\r\n        return null;\r\n    };\r\n    const findAfter = (startRow, startBottom) => {\r\n        let top = startBottom - _getRowHeight.call(this, startRow);\r\n        const { rowCount } = this[_];\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = top + height;\r\n            if (top <= absoluteY && absoluteY < bottom) {\r\n                return {\r\n                    top,\r\n                    row,\r\n                };\r\n            }\r\n            top = bottom;\r\n        }\r\n        return null;\r\n    };\r\n    const candidateRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\r\n    const bottom = _getRowsHeight.call(this, 0, candidateRow);\r\n    if (absoluteY >= bottom) {\r\n        return findAfter(candidateRow, bottom);\r\n    }\r\n    else {\r\n        return findBefore(candidateRow, bottom);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getTargetColAt(grid, absoluteX) {\r\n    let left = 0;\r\n    const { colCount } = grid[_];\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    let { top } = grid[_].scroll;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        const bottom = top + height;\r\n        if (bottom > absoluteY) {\r\n            return {\r\n                top,\r\n                row,\r\n            };\r\n        }\r\n        top = bottom;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getTargetFrozenColAt(grid, absoluteX) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    let { left } = grid[_].scroll;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        const right = left + width;\r\n        if (right > absoluteX) {\r\n            return {\r\n                left,\r\n                col,\r\n            };\r\n        }\r\n        left = right;\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nfunction _getFrozenRowsRect(grid) {\r\n    if (!grid[_].frozenRowCount) {\r\n        return null;\r\n    }\r\n    const { top } = grid[_].scroll;\r\n    let height = 0;\r\n    const rowCount = grid[_].frozenRowCount;\r\n    for (let row = 0; row < rowCount; row++) {\r\n        height += _getRowHeight.call(grid, row);\r\n    }\r\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\r\n}\r\n/** @private */\r\nfunction _getFrozenColsRect(grid) {\r\n    if (!grid[_].frozenColCount) {\r\n        return null;\r\n    }\r\n    const { left } = grid[_].scroll;\r\n    let width = 0;\r\n    const colCount = grid[_].frozenColCount;\r\n    for (let col = 0; col < colCount; col++) {\r\n        width += _getColWidth(grid, col);\r\n    }\r\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\r\n}\r\n/** @private */\r\nfunction _getCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return null;\r\n    }\r\n    return grid[_].drawCells[row][col];\r\n}\r\n/** @private */\r\nfunction _putCellDrawing(grid, col, row, context) {\r\n    if (!grid[_].drawCells[row]) {\r\n        grid[_].drawCells[row] = {};\r\n    }\r\n    grid[_].drawCells[row][col] = context;\r\n}\r\n/** @private */\r\nfunction _removeCellDrawing(grid, col, row) {\r\n    if (!grid[_].drawCells[row]) {\r\n        return;\r\n    }\r\n    delete grid[_].drawCells[row][col];\r\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\r\n        delete grid[_].drawCells[row];\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\r\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\r\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\r\n    if (drawRect.height > 0 && drawRect.width > 0) {\r\n        ctx.save();\r\n        try {\r\n            const cellDrawing = _getCellDrawing(this, col, row);\r\n            if (cellDrawing) {\r\n                cellDrawing.cancel();\r\n            }\r\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\r\n            const p = this.onDrawCell(col, row, dcContext);\r\n            if ((0, utils_1.isPromise)(p)) {\r\n                //\r\n                _putCellDrawing(this, col, row, dcContext);\r\n                const pCol = col;\r\n                dcContext._delayMode(this, () => {\r\n                    _removeCellDrawing(this, pCol, row);\r\n                });\r\n                p.then(() => {\r\n                    dcContext.terminate();\r\n                });\r\n            }\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\r\n    const { colCount } = grid[_];\r\n    const drawOuter = (col, absoluteLeft) => {\r\n        //\r\n        if (col >= colCount - 1 &&\r\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\r\n            const outerLeft = absoluteLeft - visibleRect.left;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteLeft = 0;\r\n    if (initFrozenCol) {\r\n        let absoluteLeft = initFrozenCol.left;\r\n        const count = grid[_].frozenColCount;\r\n        for (let { col } = initFrozenCol; col < count; col++) {\r\n            const width = _getColWidth(grid, col);\r\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\r\n            absoluteLeft += width;\r\n            if (drawRight <= absoluteLeft) {\r\n                //\r\n                drawOuter(col, absoluteLeft);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteLeft = absoluteLeft;\r\n    }\r\n    let absoluteLeft = initCol.left;\r\n    for (let { col } = initCol; col < colCount; col++) {\r\n        const width = _getColWidth(grid, col);\r\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\r\n        absoluteLeft += width;\r\n        if (drawRight <= absoluteLeft) {\r\n            //\r\n            drawOuter(col, absoluteLeft);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(colCount - 1, absoluteLeft);\r\n}\r\n/** @private */\r\nfunction _getInitContext() {\r\n    return this._getInitContext();\r\n}\r\n/** @private */\r\nfunction _invalidateRect(grid, drawRect) {\r\n    const visibleRect = _getVisibleRect(grid);\r\n    const { rowCount } = grid[_];\r\n    const ctx = _getInitContext.call(grid);\r\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\r\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\r\n        row: rowCount,\r\n    };\r\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\r\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\r\n        col: grid[_].colCount,\r\n    };\r\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\r\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\r\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\r\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\r\n    const drawLayers = new DrawLayers();\r\n    const drawOuter = (row, absoluteTop) => {\r\n        //\r\n        if (row >= rowCount - 1 &&\r\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\r\n            const outerTop = absoluteTop - visibleRect.top;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\r\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    };\r\n    let skipAbsoluteTop = 0;\r\n    if (initFrozenRow) {\r\n        let absoluteTop = initFrozenRow.top;\r\n        const count = grid[_].frozenRowCount;\r\n        for (let { row } = initFrozenRow; row < count; row++) {\r\n            const height = _getRowHeight.call(grid, row);\r\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\r\n            absoluteTop += height;\r\n            if (drawBottom <= absoluteTop) {\r\n                //\r\n                drawOuter(row, absoluteTop);\r\n                drawLayers.draw(ctx);\r\n                return;\r\n            }\r\n        }\r\n        skipAbsoluteTop = absoluteTop;\r\n    }\r\n    let absoluteTop = initRow.top;\r\n    for (let { row } = initRow; row < rowCount; row++) {\r\n        const height = _getRowHeight.call(grid, row);\r\n        //\r\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\r\n        absoluteTop += height;\r\n        if (drawBottom <= absoluteTop) {\r\n            //\r\n            drawOuter(row, absoluteTop);\r\n            drawLayers.draw(ctx);\r\n            return;\r\n        }\r\n    }\r\n    drawOuter(rowCount - 1, absoluteTop);\r\n    drawLayers.draw(ctx);\r\n}\r\n/** @private */\r\nfunction _toPxWidth(grid, width) {\r\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\r\n}\r\n/** @private */\r\nfunction _adjustColWidth(grid, col, orgWidth) {\r\n    const limits = _getColWidthLimits(grid, col);\r\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\r\n}\r\n/** @private */\r\nfunction _applyColWidthLimits(limits, orgWidth) {\r\n    if (!limits) {\r\n        return orgWidth;\r\n    }\r\n    if (limits.min) {\r\n        if (limits.min > orgWidth) {\r\n            return limits.min;\r\n        }\r\n    }\r\n    if (limits.max) {\r\n        if (limits.max < orgWidth) {\r\n            return limits.max;\r\n        }\r\n    }\r\n    return orgWidth;\r\n}\r\n/**\r\n * Gets the definition of the column width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {string|number} width definition\r\n * @private\r\n */\r\nfunction _getColWidthDefine(grid, col) {\r\n    const width = grid[_].colWidthsMap.get(col);\r\n    if (width) {\r\n        return width;\r\n    }\r\n    return grid.defaultColWidth;\r\n}\r\n/**\r\n * Gets the column width limits.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {number} col number of column\r\n * @returns {object|null} the column width limits\r\n * @private\r\n */\r\nfunction _getColWidthLimits(grid, col) {\r\n    const limit = grid[_].colWidthsLimit[col];\r\n    if (!limit) {\r\n        return null;\r\n    }\r\n    const result = {};\r\n    if (limit.min) {\r\n        result.min = _toPxWidth(grid, limit.min);\r\n        result.minDef = limit.min;\r\n    }\r\n    if (limit.max) {\r\n        result.max = _toPxWidth(grid, limit.max);\r\n        result.maxDef = limit.max;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Checks if the given width definition is `auto`.\r\n * @param {string|number} width width definition to check\r\n * @returns {boolean} `true ` if the given width definition is `auto`\r\n * @private\r\n */\r\nfunction isAutoDefine(width) {\r\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\r\n}\r\n/**\r\n * Creates a formula to calculate the auto width.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {string} formula\r\n * @private\r\n */\r\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\r\n    const fullWidth = grid[_].calcWidthContext.full;\r\n    let sumMin = 0;\r\n    const others = [];\r\n    let autoCount = 0;\r\n    const hasLimitsOnAuto = [];\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        const limits = _getColWidthLimits(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            if (limits) {\r\n                hasLimitsOnAuto.push(limits);\r\n                if (limits.min) {\r\n                    sumMin += limits.min;\r\n                }\r\n            }\r\n            autoCount++;\r\n        }\r\n        else {\r\n            let expr = def;\r\n            if (limits) {\r\n                const orgWidth = _toPxWidth(grid, expr);\r\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\r\n                if (orgWidth !== newWidth) {\r\n                    expr = `${newWidth}px`;\r\n                }\r\n                sumMin += newWidth;\r\n            }\r\n            others.push(expr);\r\n        }\r\n        if (shortCircuit && sumMin > fullWidth) {\r\n            // Returns 0px because it has consumed the full width.\r\n            return \"0px\";\r\n        }\r\n    }\r\n    if (hasLimitsOnAuto.length && others.length) {\r\n        const autoPx = (fullWidth -\r\n            _toPxWidth(grid, `calc(${others\r\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\r\n                .join(\" + \")})`)) /\r\n            autoCount;\r\n        hasLimitsOnAuto.forEach((limits) => {\r\n            if (limits.min && autoPx < limits.min) {\r\n                others.push(limits.minDef);\r\n                autoCount--;\r\n            }\r\n            else if (limits.max && limits.max < autoPx) {\r\n                others.push(limits.maxDef);\r\n                autoCount--;\r\n            }\r\n        });\r\n        if (shortCircuit && autoCount <= 0) {\r\n            return `${autoPx}px`;\r\n        }\r\n    }\r\n    if (others.length) {\r\n        const strDefs = [];\r\n        let num = 0;\r\n        others.forEach((c) => {\r\n            if (typeof c === \"number\") {\r\n                num += c;\r\n            }\r\n            else {\r\n                strDefs.push(c);\r\n            }\r\n        });\r\n        strDefs.push(`${num}px`);\r\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\r\n    }\r\n    else {\r\n        return `${100 / autoCount}%`;\r\n    }\r\n}\r\n/**\r\n * Calculate the pixels of width from the definition of width.\r\n * @param {DrawGrid} grid grid instance\r\n * @param {string|number} width width definition\r\n * @returns {number} the pixels of width\r\n * @private\r\n */\r\nfunction _colWidthDefineToPxWidth(grid, width) {\r\n    if (isAutoDefine(width)) {\r\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\r\n    }\r\n    return _toPxWidth(grid, width);\r\n}\r\n/** @private */\r\nfunction _getColWidth(grid, col) {\r\n    const width = _getColWidthDefine(grid, col);\r\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\r\n}\r\n/** @private */\r\nfunction _setColWidth(grid, col, width) {\r\n    if (width != null) {\r\n        grid[_].colWidthsMap.put(col, width);\r\n    }\r\n    else {\r\n        grid[_].colWidthsMap.remove(col);\r\n    }\r\n}\r\n/**\r\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\r\n * @param {DrawGrid} grid grid instance\r\n * @returns {void}\r\n * @private\r\n */\r\nfunction _storeAutoColWidthExprs(grid) {\r\n    let expr = null;\r\n    for (let col = 0; col < grid[_].colCount; col++) {\r\n        const def = _getColWidthDefine(grid, col);\r\n        if (isAutoDefine(def)) {\r\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction _getColsWidth(grid, startCol, endCol) {\r\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\r\n    const colCount = endCol - startCol + 1;\r\n    let w = defaultColPxWidth * colCount;\r\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\r\n        w +=\r\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\r\n                defaultColPxWidth;\r\n    });\r\n    for (let col = startCol; col <= endCol; col++) {\r\n        if (grid[_].colWidthsMap.has(col)) {\r\n            continue;\r\n        }\r\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\r\n        if (adj !== defaultColPxWidth) {\r\n            w += adj - defaultColPxWidth;\r\n        }\r\n    }\r\n    return w;\r\n}\r\n/** @private */\r\nfunction _getRowHeight(row) {\r\n    const internal = this.getRowHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const height = this[_].rowHeightsMap.get(row);\r\n    if (height) {\r\n        return height;\r\n    }\r\n    return this[_].defaultRowHeight;\r\n}\r\n/** @private */\r\nfunction _setRowHeight(grid, row, height) {\r\n    if (height != null) {\r\n        grid[_].rowHeightsMap.put(row, height);\r\n    }\r\n    else {\r\n        grid[_].rowHeightsMap.remove(row);\r\n    }\r\n}\r\n/** @private */\r\nfunction _getRowsHeight(startRow, endRow) {\r\n    const internal = this.getRowsHeightInternal(startRow, endRow);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    const rowCount = endRow - startRow + 1;\r\n    let h = this[_].defaultRowHeight * rowCount;\r\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _getScrollWidth(grid) {\r\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\r\n}\r\n/** @private */\r\nfunction _getScrollHeight(row) {\r\n    const internal = this.getScrollHeightInternal(row);\r\n    if (internal != null) {\r\n        return internal;\r\n    }\r\n    let h = this[_].defaultRowHeight * this[_].rowCount;\r\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\r\n        h += height - this[_].defaultRowHeight;\r\n    });\r\n    return h;\r\n}\r\n/** @private */\r\nfunction _onScroll(grid, _e) {\r\n    const lastLeft = grid[_].scroll.left;\r\n    const lastTop = grid[_].scroll.top;\r\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\r\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\r\n    //\r\n    grid[_].scroll = {\r\n        left: grid[_].scrollable.scrollLeft,\r\n        top: grid[_].scrollable.scrollTop,\r\n    };\r\n    // If the focus is on the header, recalculate and move the focus position.\r\n    const { focus } = grid[_].selection;\r\n    const isFrozenCell = grid.isFrozenCell(focus.col, focus.row);\r\n    if (isFrozenCell &&\r\n        (((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.col) && moveX) || ((isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) && moveY))) {\r\n        grid.setFocusCursor(focus.col, focus.row);\r\n    }\r\n    const visibleRect = _getVisibleRect(grid);\r\n    if (Math.abs(moveX) >= visibleRect.width ||\r\n        Math.abs(moveY) >= visibleRect.height) {\r\n        //\r\n        _invalidateRect(grid, visibleRect);\r\n    }\r\n    else {\r\n        //\r\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\r\n        if (moveX !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveX < 0) {\r\n                redrawRect.width = -moveX;\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenColsRect(grid);\r\n                    redrawRect.width += frozenRect.width;\r\n                }\r\n            }\r\n            else if (moveX > 0) {\r\n                redrawRect.left = redrawRect.right - moveX;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveX > 0) {\r\n                if (grid[_].frozenColCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\r\n                }\r\n            }\r\n        }\r\n        if (moveY !== 0) {\r\n            //\r\n            const redrawRect = visibleRect.copy();\r\n            if (moveY < 0) {\r\n                redrawRect.height = -moveY;\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    const frozenRect = _getFrozenRowsRect(grid);\r\n                    redrawRect.height += frozenRect.height;\r\n                }\r\n            }\r\n            else if (moveY > 0) {\r\n                redrawRect.top = redrawRect.bottom - moveY;\r\n            }\r\n            //\r\n            _invalidateRect(grid, redrawRect);\r\n            if (moveY > 0) {\r\n                if (grid[_].frozenRowCount > 0) {\r\n                    //\r\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\n// eslint-disable-next-line complexity\r\nfunction _onKeyDownMove(e) {\r\n    var _a, _b, _c;\r\n    const { shiftKey } = e;\r\n    const keyCode = getKeyCode(e);\r\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\r\n    if (keyCode === KEY_LEFT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"W\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"W\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_UP) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"N\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_RIGHT) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, null, \"E\");\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_DOWN) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", null);\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\")) {\r\n                return;\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_HOME) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"N\", \"W\");\r\n        }\r\n        else {\r\n            move(this, null, \"W\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (keyCode === KEY_END) {\r\n        if (e.ctrlKey || e.metaKey) {\r\n            move(this, \"S\", \"E\");\r\n        }\r\n        else {\r\n            move(this, null, \"E\");\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnTab === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnTab({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!hMove.call(this, \"W\", false)) {\r\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n                if (0 > row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!hMove.call(this, \"E\", false)) {\r\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n                if (this.rowCount <= row) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, 0, row, false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\r\n        let newCell = null;\r\n        if (typeof this.keyboardOptions.moveCellOnEnter === \"function\") {\r\n            newCell = this.keyboardOptions.moveCellOnEnter({\r\n                cell: focusCell,\r\n                grid: this,\r\n                event: e,\r\n            });\r\n        }\r\n        if (newCell) {\r\n            _moveFocusCell.call(this, newCell.col, newCell.row, false);\r\n        }\r\n        else if (shiftKey) {\r\n            if (!vMove.call(this, \"N\", false)) {\r\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n                if (0 > col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\r\n            }\r\n        }\r\n        else {\r\n            if (!vMove.call(this, \"S\", false)) {\r\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n                if (this.colCount <= col) {\r\n                    return;\r\n                }\r\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\r\n            }\r\n        }\r\n        cancelEvent(e);\r\n    }\r\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n        keyCode === KEY_ALPHA_A &&\r\n        (e.ctrlKey || e.metaKey)) {\r\n        this.selection.range = {\r\n            start: { col: 0, row: 0 },\r\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\r\n        };\r\n        this.invalidate();\r\n        cancelEvent(e);\r\n    }\r\n    function move(grid, vDir, hDir) {\r\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\r\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\r\n        _moveFocusCell.call(grid, col, row, shiftKey);\r\n    }\r\n    function vMove(vDir, shiftKeyFlg = shiftKey) {\r\n        const { col } = focusCell;\r\n        let row;\r\n        if (vDir === \"S\") {\r\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\r\n            if (this.rowCount <= row) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, this.rowCount - 1);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\r\n            if (row < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(col, 0);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n    function hMove(hDir, shiftKeyFlg = shiftKey) {\r\n        const { row } = focusCell;\r\n        let col;\r\n        if (hDir === \"E\") {\r\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\r\n            if (this.colCount <= col) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(this.colCount - 1, row);\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\r\n            if (col < 0) {\r\n                // Avoids the problem of the scroll position breaking due to a delayed scrolling event if user hold down the arrow keys.\r\n                this.makeVisibleCell(0, row);\r\n                return false;\r\n            }\r\n        }\r\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\r\n        return true;\r\n    }\r\n}\r\n/** @private */\r\nfunction _moveFocusCell(col, row, shiftKey) {\r\n    const offset = this.getOffsetInvalidateCells();\r\n    function extendRange(range) {\r\n        if (offset > 0) {\r\n            range.start.col -= offset;\r\n            range.start.row -= offset;\r\n            range.end.col += offset;\r\n            range.end.row += offset;\r\n        }\r\n        return range;\r\n    }\r\n    const beforeRange = extendRange(this.selection.range);\r\n    const beforeRect = this.getCellRangeRect(beforeRange);\r\n    this.selection._setFocusCell(col, row, shiftKey);\r\n    this.makeVisibleCell(col, row);\r\n    this.focusCell(col, row);\r\n    const afterRange = extendRange(this.selection.range);\r\n    const afterRect = this.getCellRangeRect(afterRange);\r\n    if (afterRect.intersection(beforeRect)) {\r\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\r\n        _invalidateRect(this, invalidateRect);\r\n    }\r\n    else {\r\n        _invalidateRect(this, beforeRect);\r\n        _invalidateRect(this, afterRect);\r\n    }\r\n}\r\n/** @private */\r\nfunction _updatedSelection() {\r\n    const { focusControl } = this[_];\r\n    const { col: selCol, row: selRow } = this[_].selection.select;\r\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\r\n        col: selCol,\r\n        row: selRow,\r\n    });\r\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\r\n    focusControl.editMode = editMode;\r\n    if (editMode) {\r\n        focusControl.storeInputStatus();\r\n        focusControl.setDefaultInputStatus();\r\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\r\n            col: selCol,\r\n            row: selRow,\r\n            input: focusControl.input,\r\n        });\r\n    }\r\n}\r\n/** @private */\r\nfunction _getMouseAbstractPoint(grid, evt) {\r\n    let e;\r\n    if (isTouchEvent(evt)) {\r\n        e = evt.changedTouches[0];\r\n    }\r\n    else {\r\n        e = evt;\r\n    }\r\n    const clientX = e.clientX || e.pageX + window.scrollX;\r\n    const clientY = e.clientY || e.pageY + window.scrollY;\r\n    const rect = grid[_].canvas.getBoundingClientRect();\r\n    if (rect.right <= clientX) {\r\n        return null;\r\n    }\r\n    if (rect.bottom <= clientY) {\r\n        return null;\r\n    }\r\n    const x = clientX - rect.left + grid[_].scroll.left;\r\n    const y = clientY - rect.top + grid[_].scroll.top;\r\n    return { x, y };\r\n}\r\n/** @private */\r\nfunction _bindEvents() {\r\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\r\n    const grid = this;\r\n    const { handler, element, scrollable } = grid[_];\r\n    const getCellEventArgsSet = (e) => {\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return {};\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return {\r\n                abstractPos,\r\n                cell,\r\n            };\r\n        }\r\n        const eventArgs = {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            event: e,\r\n        };\r\n        return {\r\n            abstractPos,\r\n            cell,\r\n            eventArgs,\r\n        };\r\n    };\r\n    const canResizeColumn = (col) => {\r\n        if (grid[_].disableColumnResize) {\r\n            return false;\r\n        }\r\n        const limit = grid[_].colWidthsLimit[col];\r\n        if (!limit || !limit.min || !limit.max) {\r\n            return true;\r\n        }\r\n        return limit.max !== limit.min;\r\n    };\r\n    handler.on(element, \"mousedown\", (e) => {\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs, cell } = eventArgsSet;\r\n        if (!abstractPos) {\r\n            return;\r\n        }\r\n        if (cell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_GRID, cell);\r\n        }\r\n        if (eventArgs) {\r\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\r\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n                return;\r\n            }\r\n        }\r\n        if (getMouseButtons(e) !== 1 &&\r\n            // For mobile safari. If we do not post-process here, the keyboard will not start in Mobile Safari.\r\n            e.buttons !== 0) {\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            //\r\n            grid[_].columnResizer.start(resizeCol, e);\r\n        }\r\n        else {\r\n            //\r\n            grid[_].cellSelector.start(e);\r\n        }\r\n    });\r\n    handler.on(element, \"mouseup\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\r\n        }\r\n    });\r\n    let doubleTapBefore = null;\r\n    let longTouchId = null;\r\n    let useTouch = null;\r\n    function useTouchStart() {\r\n        if ((useTouch === null || useTouch === void 0 ? void 0 : useTouch.timeoutId) != null)\r\n            clearTimeout(useTouch.timeoutId);\r\n        useTouch = {};\r\n    }\r\n    function useTouchEnd() {\r\n        if (useTouch) {\r\n            if (useTouch.timeoutId != null)\r\n                clearTimeout(useTouch.timeoutId);\r\n            useTouch.timeoutId = setTimeout(() => {\r\n                useTouch = null;\r\n            }, 350);\r\n        }\r\n    }\r\n    handler.on(element, \"touchstart\", (e) => {\r\n        // Since it is an environment where touch start can be used, it blocks mousemove that occurs after this.\r\n        useTouchStart();\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (eventArgs) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.TOUCHSTART_CELL, eventArgs);\r\n        }\r\n        if (!doubleTapBefore) {\r\n            doubleTapBefore = eventArgs;\r\n            setTimeout(() => {\r\n                doubleTapBefore = null;\r\n            }, 350);\r\n        }\r\n        else {\r\n            if (eventArgs &&\r\n                eventArgs.col === doubleTapBefore.col &&\r\n                eventArgs.row === doubleTapBefore.row) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\r\n            }\r\n            doubleTapBefore = null;\r\n            if (e.defaultPrevented) {\r\n                return;\r\n            }\r\n        }\r\n        if (e.targetTouches.length > 1) {\r\n            // If touchstart with multiple fingers,\r\n            // it is not considered as an operation event.\r\n            return;\r\n        }\r\n        longTouchId = setTimeout(() => {\r\n            //\r\n            longTouchId = null;\r\n            const abstractPos = _getMouseAbstractPoint(grid, e);\r\n            if (!abstractPos) {\r\n                return;\r\n            }\r\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\r\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n                //\r\n                grid[_].columnResizer.start(resizeCol, e);\r\n            }\r\n            else {\r\n                //\r\n                grid[_].cellSelector.start(e);\r\n            }\r\n        }, 500);\r\n    });\r\n    function cancel(_e) {\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            longTouchId = null;\r\n        }\r\n    }\r\n    handler.on(element, \"touchcancel\", (e) => {\r\n        cancel(e);\r\n        useTouchEnd();\r\n    });\r\n    handler.on(element, \"touchmove\", cancel);\r\n    handler.on(element, \"touchend\", (e) => {\r\n        useTouchEnd();\r\n        if (longTouchId) {\r\n            clearTimeout(longTouchId);\r\n            grid[_].cellSelector.select(e);\r\n            longTouchId = null;\r\n        }\r\n    });\r\n    let isMouseover = false;\r\n    let mouseEnterCell = null;\r\n    let mouseOverCell = null;\r\n    function onMouseenterCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseEnterCell = cell;\r\n    }\r\n    function onMouseleaveCell(related) {\r\n        const beforeMouseCell = mouseEnterCell;\r\n        mouseEnterCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    function onMouseoverCell(cell, related) {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\r\n            col: cell.col,\r\n            row: cell.row,\r\n            related,\r\n        });\r\n        mouseOverCell = cell;\r\n    }\r\n    function onMouseoutCell(related) {\r\n        const beforeMouseCell = mouseOverCell;\r\n        mouseOverCell = null;\r\n        if (beforeMouseCell) {\r\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\r\n                col: beforeMouseCell.col,\r\n                row: beforeMouseCell.row,\r\n                related,\r\n            });\r\n        }\r\n        return beforeMouseCell || undefined;\r\n    }\r\n    const scrollElement = scrollable.getElement();\r\n    handler.on(scrollElement, \"mouseover\", (_e) => {\r\n        isMouseover = true;\r\n    });\r\n    handler.on(scrollElement, \"mouseout\", (_e) => {\r\n        isMouseover = false;\r\n        onMouseoutCell();\r\n    });\r\n    handler.on(element, \"mouseleave\", (_e) => {\r\n        onMouseleaveCell();\r\n    });\r\n    handler.on(element, \"mousemove\", (e) => {\r\n        if (useTouch) {\r\n            // Probably a mousemove event triggered by a touchstart. Therefore, this event is blocked.\r\n            return;\r\n        }\r\n        const eventArgsSet = getCellEventArgsSet(e);\r\n        const { abstractPos, eventArgs } = eventArgsSet;\r\n        if (eventArgs) {\r\n            const beforeMouseCell = mouseEnterCell;\r\n            if (beforeMouseCell) {\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n                if (beforeMouseCell.col !== eventArgs.col ||\r\n                    beforeMouseCell.row !== eventArgs.row) {\r\n                    const enterCell = {\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    };\r\n                    const outCell = onMouseoutCell(enterCell);\r\n                    const leaveCell = onMouseleaveCell(enterCell);\r\n                    onMouseenterCell(enterCell, leaveCell);\r\n                    if (isMouseover) {\r\n                        onMouseoverCell(enterCell, outCell);\r\n                    }\r\n                }\r\n                else if (isMouseover && !mouseOverCell) {\r\n                    onMouseoverCell({\r\n                        col: eventArgs.col,\r\n                        row: eventArgs.row,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                const enterCell = {\r\n                    col: eventArgs.col,\r\n                    row: eventArgs.row,\r\n                };\r\n                onMouseenterCell(enterCell);\r\n                if (isMouseover) {\r\n                    onMouseoverCell(enterCell);\r\n                }\r\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n            }\r\n        }\r\n        else {\r\n            onMouseoutCell();\r\n            onMouseleaveCell();\r\n        }\r\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\r\n            return;\r\n        }\r\n        const { style } = element;\r\n        if (!abstractPos) {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n            return;\r\n        }\r\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n            style.cursor = \"col-resize\";\r\n        }\r\n        else {\r\n            if (style.cursor === \"col-resize\") {\r\n                style.cursor = \"\";\r\n            }\r\n        }\r\n    });\r\n    handler.on(element, \"click\", (e) => {\r\n        if (grid[_].columnResizer.lastMoving(e) ||\r\n            grid[_].cellSelector.lastMoving(e)) {\r\n            return;\r\n        }\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"contextmenu\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\r\n    });\r\n    handler.on(element, \"dblclick\", (e) => {\r\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\r\n            return;\r\n        }\r\n        const { eventArgs } = getCellEventArgsSet(e);\r\n        if (!eventArgs) {\r\n            return;\r\n        }\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\r\n    });\r\n    grid[_].focusControl.onKeyDown((evt) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\r\n    });\r\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\r\n    });\r\n    scrollable.onScroll((e) => {\r\n        _onScroll(grid, e);\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\r\n    });\r\n    grid[_].focusControl.onKeyDownMove((e) => {\r\n        _onKeyDownMove.call(grid, e);\r\n    });\r\n    grid.listen(\"copydata\", (range) => {\r\n        const copyRange = grid.getCopyRangeInternal(range);\r\n        const copyLines = [];\r\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\r\n            let copyLine = \"\";\r\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\r\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\r\n                let strCellValue;\r\n                if (typeof copyCellValue === \"string\") {\r\n                    strCellValue = copyCellValue;\r\n                }\r\n                else if (copyCellValue == null ||\r\n                    // Asynchronous data is treated as empty.\r\n                    (typeof Promise !== \"undefined\" && copyCellValue instanceof Promise)) {\r\n                    strCellValue = \"\";\r\n                }\r\n                else {\r\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                    strCellValue = `${copyCellValue}`;\r\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\r\n                        // Ignore maybe object\r\n                        strCellValue = \"\";\r\n                    }\r\n                }\r\n                copyLine += /[\\t\\n]/.test(strCellValue)\r\n                    ? // Need quote\r\n                        `\"${strCellValue.replace(/\"/g, '\"\"')}\"`\r\n                    : strCellValue;\r\n                if (col < copyRange.end.col) {\r\n                    copyLine += \"\\t\";\r\n                }\r\n            }\r\n            copyLines.push(copyLine);\r\n        }\r\n        return copyLines.join(\"\\n\");\r\n    });\r\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\r\n    grid[_].focusControl.onPaste(({ value, event }) => {\r\n        const { trimOnPaste } = grid;\r\n        const normalizedValue = (0, paste_utils_1.normalizePasteValue)(value);\r\n        const { col, row } = grid[_].selection.select;\r\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizedValue); // is multi cell values\r\n        let rangeBoxValues = null;\r\n        const pasteCellEvent = {\r\n            col,\r\n            row,\r\n            value,\r\n            normalizeValue: trimOnPaste ? normalizedValue.trim() : normalizedValue,\r\n            multi,\r\n            get rangeBoxValues() {\r\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = (0, paste_utils_1.parsePasteRangeBoxValues)(normalizedValue, {\r\n                    trimOnPaste,\r\n                })));\r\n            },\r\n            event,\r\n        };\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\r\n    });\r\n    grid[_].focusControl.onInput((value) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\r\n    });\r\n    grid[_].focusControl.onDelete((event) => {\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\r\n    });\r\n    grid[_].focusControl.onFocus((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\r\n        grid[_].focusedGrid = true;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n    grid[_].focusControl.onBlur((e) => {\r\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\r\n        grid[_].focusedGrid = false;\r\n        const { col, row } = grid[_].selection.select;\r\n        grid.invalidateCell(col, row);\r\n    });\r\n}\r\n/** @private */\r\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\r\n    if (grid[_].frozenRowCount <= 0) {\r\n        return -1;\r\n    }\r\n    const frozenRect = _getFrozenRowsRect(grid);\r\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\r\n        return -1;\r\n    }\r\n    const cell = grid.getCellAt(abstractX, abstractY);\r\n    const cellRect = grid.getCellRect(cell.col, cell.row);\r\n    if (abstractX < cellRect.left + offset) {\r\n        return cell.col - 1;\r\n    }\r\n    if (cellRect.right - offset < abstractX) {\r\n        return cell.col;\r\n    }\r\n    return -1;\r\n}\r\n/** @private */\r\nfunction _getVisibleRect(grid) {\r\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\r\n    return new Rect_1.Rect(left, top, width, height);\r\n}\r\n/** @private */\r\nfunction _getScrollableVisibleRect(grid) {\r\n    let frozenColsWidth = 0;\r\n    if (grid[_].frozenColCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenColsRect(grid);\r\n        frozenColsWidth = frozenRect.width;\r\n    }\r\n    let frozenRowsHeight = 0;\r\n    if (grid[_].frozenRowCount > 0) {\r\n        //\r\n        const frozenRect = _getFrozenRowsRect(grid);\r\n        frozenRowsHeight = frozenRect.height;\r\n    }\r\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\r\n}\r\n/** @private */\r\nfunction _toRelativeRect(grid, absoluteRect) {\r\n    const rect = absoluteRect.copy();\r\n    const visibleRect = _getVisibleRect(grid);\r\n    rect.offsetLeft(-visibleRect.left);\r\n    rect.offsetTop(-visibleRect.top);\r\n    return rect;\r\n}\r\n//end private methods\r\n//\r\n//\r\n//\r\n//\r\n/**\r\n * managing mouse down moving\r\n * @private\r\n */\r\nclass BaseMouseDownMover {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._events = {};\r\n        this._started = false;\r\n        this._moved = false;\r\n    }\r\n    moving(_e) {\r\n        return !!this._started;\r\n    }\r\n    lastMoving(e) {\r\n        // mouseupclick\r\n        if (this.moving(e)) {\r\n            return true;\r\n        }\r\n        const last = this._mouseEndPoint;\r\n        if (!last) {\r\n            return false;\r\n        }\r\n        const pt = _getMouseAbstractPoint(this._grid, e);\r\n        return pt != null && pt.x === last.x && pt.y === last.y;\r\n    }\r\n    _bindMoveAndUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        if (!isTouchEvent(e)) {\r\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\r\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\r\n        }\r\n        else {\r\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\r\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\r\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\r\n        }\r\n        this._started = true;\r\n        this._moved = false;\r\n    }\r\n    _mouseMove(e) {\r\n        if (!isTouchEvent(e)) {\r\n            if (getMouseButtons(e) !== 1) {\r\n                this._mouseUp(e);\r\n                return;\r\n            }\r\n        }\r\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\r\n        cancelEvent(e);\r\n    }\r\n    _moveInternal(_e) {\r\n        //protected\r\n        return false;\r\n    }\r\n    _mouseUp(e) {\r\n        const events = this._events;\r\n        const handler = this._handler;\r\n        handler.off(events.mousemove);\r\n        handler.off(events.touchmove);\r\n        handler.off(events.mouseup);\r\n        handler.off(events.touchend);\r\n        // handler.off(this._events.mouseleave);\r\n        handler.off(events.touchcancel);\r\n        this._started = false;\r\n        this._upInternal(e);\r\n        // mouseupclick\r\n        if (this._moved) {\r\n            //\r\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\r\n            setTimeout(() => {\r\n                this._mouseEndPoint = null;\r\n            }, 10);\r\n        }\r\n    }\r\n    _upInternal(_e) {\r\n        //protected\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * managing cell selection operation with mouse\r\n * @private\r\n */\r\nclass CellSelector extends BaseMouseDownMover {\r\n    start(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._bindMoveAndUp(e);\r\n        this._cell = cell;\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    select(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return;\r\n        }\r\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\r\n        this._cell = cell;\r\n    }\r\n    _moveInternal(e) {\r\n        const cell = this._getTargetCell(e);\r\n        if (!cell) {\r\n            return false;\r\n        }\r\n        const { col: oldCol, row: oldRow } = this._cell;\r\n        const { col: newCol, row: newRow } = cell;\r\n        if (oldCol === newCol && oldRow === newRow) {\r\n            return false;\r\n        }\r\n        const grid = this._grid;\r\n        _moveFocusCell.call(grid, newCol, newRow, true);\r\n        //make visible\r\n        const makeVisibleCol = (() => {\r\n            if (newCol < oldCol && 0 < newCol) {\r\n                // move left\r\n                return newCol - 1;\r\n            }\r\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\r\n                // move right\r\n                return newCol + 1;\r\n            }\r\n            return newCol;\r\n        })();\r\n        const makeVisibleRow = (() => {\r\n            if (newRow < oldRow && 0 < newRow) {\r\n                // move up\r\n                return newRow - 1;\r\n            }\r\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\r\n                // move down\r\n                return newRow + 1;\r\n            }\r\n            return newRow;\r\n        })();\r\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\r\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\r\n        }\r\n        this._cell = cell;\r\n        return true;\r\n    }\r\n    _getTargetCell(e) {\r\n        const grid = this._grid;\r\n        const abstractPos = _getMouseAbstractPoint(grid, e);\r\n        if (!abstractPos) {\r\n            return null;\r\n        }\r\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n        if (cell.col < 0 || cell.row < 0) {\r\n            return null;\r\n        }\r\n        return cell;\r\n    }\r\n}\r\n/**\r\n * managing row width changing operation with mouse\r\n * @private\r\n */\r\nclass ColumnResizer extends BaseMouseDownMover {\r\n    constructor(grid) {\r\n        super(grid);\r\n        this._x = -1;\r\n        this._preX = -1;\r\n        this._invalidateAbsoluteLeft = -1;\r\n        this._targetCol = -1;\r\n    }\r\n    start(col, e) {\r\n        let pageX;\r\n        if (!isTouchEvent(e)) {\r\n            ({ pageX } = e);\r\n        }\r\n        else {\r\n            ({ pageX } = e.changedTouches[0]);\r\n        }\r\n        this._x = pageX;\r\n        this._preX = 0;\r\n        this._bindMoveAndUp(e);\r\n        this._targetCol = col;\r\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\r\n        cancelEvent(e);\r\n        _vibrate(e);\r\n    }\r\n    _moveInternal(e) {\r\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\r\n        const x = pageX - this._x;\r\n        const moveX = x - this._preX;\r\n        this._preX = x;\r\n        const pre = this._grid.getColWidth(this._targetCol);\r\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\r\n        if (afterSize < 10 && moveX < 0) {\r\n            afterSize = 10;\r\n        }\r\n        _storeAutoColWidthExprs(this._grid);\r\n        _setColWidth(this._grid, this._targetCol, afterSize);\r\n        const rect = _getVisibleRect(this._grid);\r\n        rect.left = this._invalidateAbsoluteLeft;\r\n        _invalidateRect(this._grid, rect);\r\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\r\n            col: this._targetCol,\r\n        });\r\n        return true;\r\n    }\r\n    _upInternal(_e) {\r\n        const grid = this._grid;\r\n        if (grid.updateScroll()) {\r\n            grid.invalidate();\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nfunction setSafeInputValue(input, value) {\r\n    const { type } = input;\r\n    input.type = \"\";\r\n    input.value = value;\r\n    if (type) {\r\n        input.type = type;\r\n    }\r\n}\r\nconst IGNORE_STORE_ATTRS = [\"style\", \"readonly\"];\r\n/**\r\n * Manage focus\r\n * @private\r\n */\r\nclass FocusControl extends EventTarget_1.EventTarget {\r\n    constructor(grid, parentElement, scrollable, selection) {\r\n        super();\r\n        this._grid = grid;\r\n        this._scrollable = scrollable;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        const input = (this._input = document.createElement(\"input\"));\r\n        input.classList.add(\"grid-focus-control\");\r\n        input.readOnly = true;\r\n        parentElement.appendChild(input);\r\n        handler.on(input, \"compositionstart\", (_e) => {\r\n            input.classList.add(\"composition\");\r\n            input.style.font = grid.font || \"16px sans-serif\";\r\n            this._isComposition = true;\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n            grid.focus();\r\n        });\r\n        let lastInputValue;\r\n        const inputClear = (storeLastInputValue) => {\r\n            lastInputValue = input.value;\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (lastInputValue !== \"\") {\r\n                setSafeInputValue(input, \"\");\r\n            }\r\n            if (!storeLastInputValue) {\r\n                lastInputValue = \"\";\r\n            }\r\n        };\r\n        const handleCompositionEnd = () => {\r\n            this._isComposition = false;\r\n            input.classList.remove(\"composition\");\r\n            input.style.font = \"\";\r\n            const { value } = input;\r\n            inputClear(false);\r\n            if (!input.readOnly) {\r\n                this.fireListeners(\"input\", value);\r\n            }\r\n            if (this._compositionEnd) {\r\n                clearTimeout(this._compositionEnd);\r\n                delete this._compositionEnd;\r\n            }\r\n        };\r\n        handler.on(input, \"compositionend\", (_e) => {\r\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\r\n        });\r\n        selection.listen(\"before_hook\", () => {\r\n            if (this._compositionEnd) {\r\n                handleCompositionEnd();\r\n            }\r\n        });\r\n        handler.on(input, \"keypress\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!input.readOnly && e.key && e.key.length === 1) {\r\n                if (e.ctrlKey || e.metaKey) {\r\n                    if (e.key === \"c\") {\r\n                        //copy! for Firefox & Safari\r\n                    }\r\n                    else if (e.key === \"v\") {\r\n                        //paste! for Firefox & Safari\r\n                    }\r\n                }\r\n                else {\r\n                    if (e.key === \" \") {\r\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\r\n                        return;\r\n                    }\r\n                    this.fireListeners(\"input\", e.key);\r\n                    cancelEvent(e);\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keydown\", (e) => {\r\n            var _a;\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                    cancelEvent(e);\r\n                }\r\n                return;\r\n            }\r\n            const keyCode = getKeyCode(e);\r\n            let stopCellMove = false;\r\n            const evt = {\r\n                keyCode,\r\n                event: e,\r\n                stopCellMoving() {\r\n                    stopCellMove = true;\r\n                },\r\n            };\r\n            this.fireListeners(\"keydown\", evt);\r\n            if (!input.readOnly && lastInputValue) {\r\n                // for Safari\r\n                this.fireListeners(\"input\", lastInputValue);\r\n            }\r\n            if (!stopCellMove)\r\n                this.fireKeyDownMove(keyCode, e);\r\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\r\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\r\n                this.fireListeners(\"delete\", e);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"keyup\", (_e) => {\r\n            if (this._isComposition) {\r\n                if (this._compositionEnd) {\r\n                    handleCompositionEnd();\r\n                }\r\n            }\r\n            inputClear(true);\r\n        });\r\n        handler.on(input, \"input\", (e) => {\r\n            if (e.data === \" \" || e.data === \"\") {\r\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\r\n                this.fireListeners(\"input\", e.data);\r\n            }\r\n            inputClear(true);\r\n        });\r\n        if (utils_1.browser.IE) {\r\n            handler.on(document, \"keydown\", (e) => {\r\n                if (e.target !== input) {\r\n                    return;\r\n                }\r\n                const keyCode = getKeyCode(e);\r\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\r\n                    // When text is not selected copy-event is not emit, on IE.\r\n                    setSafeInputValue(input, \"dummy\");\r\n                    input.select();\r\n                    setTimeout(() => {\r\n                        setSafeInputValue(input, \"\");\r\n                    }, 100);\r\n                }\r\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\r\n                    // When input is read-only paste-event is not emit, on IE.\r\n                    if (input.readOnly) {\r\n                        input.readOnly = false;\r\n                        setTimeout(() => {\r\n                            input.readOnly = true;\r\n                            setSafeInputValue(input, \"\");\r\n                        }, 10);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (utils_1.browser.Edge) {\r\n            handler.once(document, \"keydown\", (e) => {\r\n                var _a;\r\n                if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                    return;\r\n                }\r\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\r\n                const dummyInput = document.createElement(\"input\");\r\n                grid.getElement().appendChild(dummyInput);\r\n                dummyInput.focus();\r\n                input.focus();\r\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\r\n            });\r\n        }\r\n        handler.on(document, \"paste\", (e) => {\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            let pasteText = undefined;\r\n            if (utils_1.browser.IE) {\r\n                // IE\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                pasteText = window.clipboardData.getData(\"Text\");\r\n            }\r\n            else {\r\n                const clipboardData = e.clipboardData;\r\n                if (clipboardData.items) {\r\n                    // Chrome & Firefox & Edge\r\n                    pasteText = clipboardData.getData(\"text/plain\");\r\n                }\r\n                else {\r\n                    // Safari\r\n                    if (-1 !==\r\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\r\n                        pasteText = clipboardData.getData(\"Text\");\r\n                    }\r\n                }\r\n            }\r\n            if (pasteText != null && pasteText.length) {\r\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\r\n            }\r\n        });\r\n        handler.on(document, \"copy\", (e) => {\r\n            if (this._isComposition) {\r\n                return;\r\n            }\r\n            if (!(0, utils_1.isDescendantElement)(parentElement, e.target)) {\r\n                return;\r\n            }\r\n            setSafeInputValue(input, \"\");\r\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\r\n            if (data != null) {\r\n                cancelEvent(e);\r\n                if (utils_1.browser.IE) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    window.clipboardData.setData(\"Text\", data); // IE\r\n                }\r\n                else {\r\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\r\n                }\r\n            }\r\n        });\r\n        handler.on(input, \"focus\", (e) => {\r\n            this.fireListeners(\"focus\", e);\r\n        });\r\n        handler.on(input, \"blur\", (e) => {\r\n            this.fireListeners(\"blur\", e);\r\n        });\r\n    }\r\n    fireKeyDownMove(keyCode, e) {\r\n        var _a, _b, _c;\r\n        const fn = this._keyDownMoveCallback;\r\n        if (!fn) {\r\n            return;\r\n        }\r\n        if (this._isComposition) {\r\n            return;\r\n        }\r\n        if (keyCode === KEY_LEFT ||\r\n            keyCode === KEY_UP ||\r\n            keyCode === KEY_RIGHT ||\r\n            keyCode === KEY_DOWN ||\r\n            keyCode === KEY_HOME ||\r\n            keyCode === KEY_END) {\r\n            fn(e);\r\n        }\r\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\r\n            keyCode === KEY_TAB) {\r\n            fn(e);\r\n        }\r\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\r\n            keyCode === KEY_ENTER) {\r\n            fn(e);\r\n        }\r\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\r\n            keyCode === KEY_ALPHA_A &&\r\n            (e.ctrlKey || e.metaKey)) {\r\n            fn(e);\r\n        }\r\n    }\r\n    onKeyDownMove(fn) {\r\n        this._keyDownMoveCallback = fn;\r\n    }\r\n    onKeyDown(fn) {\r\n        return this.listen(\"keydown\", fn);\r\n    }\r\n    onInput(fn) {\r\n        return this.listen(\"input\", fn);\r\n    }\r\n    onDelete(fn) {\r\n        return this.listen(\"delete\", fn);\r\n    }\r\n    onCopy(fn) {\r\n        return this.listen(\"copy\", fn);\r\n    }\r\n    onPaste(fn) {\r\n        return this.listen(\"paste\", fn);\r\n    }\r\n    onFocus(fn) {\r\n        return this.listen(\"focus\", fn);\r\n    }\r\n    onBlur(fn) {\r\n        return this.listen(\"blur\", fn);\r\n    }\r\n    focus() {\r\n        // this._input.value = '';\r\n        this._input.focus();\r\n    }\r\n    setFocusRect(rect) {\r\n        const input = this._input;\r\n        const top = this._scrollable.calcTop(rect.top);\r\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\r\n        input.style.left = `${rect.left.toFixed()}px`;\r\n        input.style.width = `${rect.width.toFixed()}px`;\r\n        input.style.height = `${rect.height.toFixed()}px`;\r\n    }\r\n    get editMode() {\r\n        return !this._input.readOnly;\r\n    }\r\n    set editMode(editMode) {\r\n        this._input.readOnly = !editMode;\r\n    }\r\n    resetInputStatus() {\r\n        var _a;\r\n        const el = this._input;\r\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const composition = el.classList.contains(\"composition\");\r\n        const attrs = el.attributes;\r\n        const removeNames = [];\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(attr.nodeName))) {\r\n                removeNames.push(attr.name);\r\n            }\r\n        }\r\n        removeNames.forEach((removeName) => {\r\n            el.removeAttribute(removeName);\r\n        });\r\n        for (const name in this._inputStatus) {\r\n            el.setAttribute(name, this._inputStatus[name]);\r\n        }\r\n        if (composition) {\r\n            el.classList.add(\"composition\");\r\n            el.style.font = this._grid.font || \"16px sans-serif\";\r\n        }\r\n        else {\r\n            el.classList.remove(\"composition\");\r\n        }\r\n        el.classList.remove(\"grid-focus-control--stored-status\");\r\n    }\r\n    storeInputStatus() {\r\n        const el = this._input;\r\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\r\n            return;\r\n        }\r\n        const inputStatus = (this._inputStatus = {});\r\n        const attrs = el.attributes;\r\n        for (let i = 0, n = attrs.length; i < n; i++) {\r\n            const attr = attrs[i];\r\n            if (IGNORE_STORE_ATTRS.indexOf(attr.name) >= 0)\r\n                continue;\r\n            inputStatus[attr.name] = attr.value;\r\n        }\r\n        el.classList.add(\"grid-focus-control--stored-status\");\r\n    }\r\n    setDefaultInputStatus() {\r\n        // \r\n        // this._input.style.font = this._grid.font || '16px sans-serif';\r\n    }\r\n    get input() {\r\n        return this._input;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this._handler.dispose();\r\n    }\r\n}\r\n/**\r\n * Selected area management\r\n */\r\nclass Selection extends EventTarget_1.EventTarget {\r\n    constructor(grid) {\r\n        super();\r\n        this._grid = grid;\r\n        this._sel = { col: 0, row: 0 };\r\n        this._focus = { col: 0, row: 0 };\r\n        this._start = { col: 0, row: 0 };\r\n        this._end = { col: 0, row: 0 };\r\n    }\r\n    get range() {\r\n        const start = this._start;\r\n        const end = this._end;\r\n        const startCol = Math.min(start.col, end.col);\r\n        const startRow = Math.min(start.row, end.row);\r\n        const endCol = Math.max(start.col, end.col);\r\n        const endRow = Math.max(start.row, end.row);\r\n        return {\r\n            start: {\r\n                col: startCol,\r\n                row: startRow,\r\n            },\r\n            end: {\r\n                col: endCol,\r\n                row: endRow,\r\n            },\r\n        };\r\n    }\r\n    set range(range) {\r\n        this._callBeforeHooks();\r\n        const startCol = Math.min(range.start.col, range.end.col);\r\n        const startRow = Math.min(range.start.row, range.end.row);\r\n        const endCol = Math.max(range.start.col, range.end.col);\r\n        const endRow = Math.max(range.start.row, range.end.row);\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._focus = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._start = {\r\n                col: startCol,\r\n                row: startRow,\r\n            };\r\n            this._end = {\r\n                col: endCol,\r\n                row: endRow,\r\n            };\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    get focus() {\r\n        const { col, row } = this._focus;\r\n        return { col, row };\r\n    }\r\n    get select() {\r\n        const { col, row } = this._sel;\r\n        return { col, row };\r\n    }\r\n    set select(cell) {\r\n        this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            const { col = 0, row = 0 } = cell;\r\n            this._setSelectCell(col, row);\r\n            this._setFocusCell(col, row, true, true);\r\n            _updatedSelection.call(this._grid);\r\n        });\r\n    }\r\n    _setSelectCell(col, row) {\r\n        this._wrapFireSelectedEvent(() => {\r\n            this._sel = { col, row };\r\n            this._start = { col, row };\r\n        });\r\n    }\r\n    _setFocusCell(col, row, keepSelect, ignoreBeforeHook) {\r\n        if (!ignoreBeforeHook)\r\n            this._callBeforeHooks();\r\n        this._wrapFireSelectedEvent(() => {\r\n            if (!keepSelect) {\r\n                this._setSelectCell(col, row);\r\n            }\r\n            this._focus = { col, row };\r\n            this._end = { col, row };\r\n        });\r\n    }\r\n    _wrapFireSelectedEvent(callback) {\r\n        if (this._isWrapped) {\r\n            callback();\r\n        }\r\n        else {\r\n            this._isWrapped = true;\r\n            try {\r\n                const before = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: false,\r\n                    after: null,\r\n                };\r\n                callback();\r\n                const after = {\r\n                    col: this._sel.col,\r\n                    row: this._sel.row,\r\n                    selected: true,\r\n                    before: {\r\n                        col: before.col,\r\n                        row: before.row,\r\n                    },\r\n                };\r\n                before.after = {\r\n                    col: after.col,\r\n                    row: after.row,\r\n                };\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\r\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\r\n            }\r\n            finally {\r\n                this._isWrapped = false;\r\n            }\r\n        }\r\n    }\r\n    _updateGridRange() {\r\n        const { rowCount, colCount } = this._grid;\r\n        const points = [this._sel, this._focus, this._start, this._end];\r\n        let needChange = false;\r\n        for (let i = 0; i < points.length; i++) {\r\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\r\n                needChange = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!needChange) {\r\n            return false;\r\n        }\r\n        this._wrapFireSelectedEvent(() => {\r\n            points.forEach((p) => {\r\n                p.col = Math.min(colCount - 1, p.col);\r\n                p.row = Math.min(rowCount - 1, p.row);\r\n            });\r\n        });\r\n        return true;\r\n    }\r\n    _callBeforeHooks() {\r\n        this.fireListeners(\"before_hook\");\r\n    }\r\n}\r\n/**\r\n * This class manages the drawing process for each layer\r\n */\r\n/** @private */\r\nclass DrawLayers {\r\n    constructor() {\r\n        this._layers = {};\r\n    }\r\n    addDraw(level, fn) {\r\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\r\n        l.addDraw(fn);\r\n    }\r\n    draw(ctx) {\r\n        const list = [];\r\n        for (const k in this._layers) {\r\n            list.push(this._layers[k]);\r\n        }\r\n        list.sort((a, b) => a.level - b.level);\r\n        list.forEach((l) => l.draw(ctx));\r\n    }\r\n}\r\n/** @private */\r\nclass DrawLayer {\r\n    constructor(level) {\r\n        this._level = level;\r\n        this._list = [];\r\n    }\r\n    get level() {\r\n        return this._level;\r\n    }\r\n    addDraw(fn) {\r\n        this._list.push(fn);\r\n    }\r\n    draw(ctx) {\r\n        this._list.forEach((fn) => {\r\n            ctx.save();\r\n            try {\r\n                fn(ctx);\r\n            }\r\n            finally {\r\n                ctx.restore();\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Context of cell drawing\r\n * @private\r\n */\r\nclass DrawCellContext {\r\n    //  private _grid: any;\r\n    //  private _onTerminate: any;\r\n    /**\r\n     * constructor\r\n     * @param {number} col index of column\r\n     * @param {number} row index of row\r\n     * @param {CanvasRenderingContext2D} ctx context\r\n     * @param {Rect} rect rect of cell area\r\n     * @param {Rect} drawRect rect of drawing area\r\n     * @param {boolean} drawing `true` if drawing is in progress\r\n     * @param {object} selection the selection\r\n     * @param {Array} drawLayers array of draw layers\r\n     * @private\r\n     */\r\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\r\n        this._rectFilter = null;\r\n        this._col = col;\r\n        this._row = row;\r\n        this._mode = 0;\r\n        this._ctx = ctx;\r\n        this._rect = rect;\r\n        this._drawRect = drawRect;\r\n        this._drawing = drawing;\r\n        this._selection = selection;\r\n        this._drawLayers = drawLayers;\r\n        this._childContexts = [];\r\n    }\r\n    get drawing() {\r\n        if (this._mode === 0) {\r\n            return this._drawing;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    get row() {\r\n        return this._row;\r\n    }\r\n    get col() {\r\n        return this._col;\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n        this._childContexts.forEach((ctx) => {\r\n            ctx.cancel();\r\n        });\r\n    }\r\n    /**\r\n     * select status.\r\n     * @return {object} select status\r\n     */\r\n    getSelection() {\r\n        return {\r\n            select: this._selection.select,\r\n            range: this._selection.range,\r\n        };\r\n    }\r\n    /**\r\n     * Canvas context.\r\n     * @return {CanvasRenderingContext2D} Canvas context.\r\n     */\r\n    getContext() {\r\n        if (this._mode === 0) {\r\n            return this._ctx;\r\n        }\r\n        else {\r\n            return _getInitContext.call(this._grid);\r\n        }\r\n    }\r\n    /**\r\n     * Rectangle of cell.\r\n     * @return {Rect} rect Rectangle of cell.\r\n     */\r\n    getRect() {\r\n        const rectFilter = this._rectFilter;\r\n        return rectFilter\r\n            ? rectFilter(this._getRectInternal())\r\n            : this._getRectInternal();\r\n    }\r\n    setRectFilter(rectFilter) {\r\n        this._rectFilter = rectFilter;\r\n    }\r\n    /**\r\n     * Rectangle of Drawing range.\r\n     * @return {Rect} Rectangle of Drawing range.\r\n     */\r\n    getDrawRect() {\r\n        if (this._cancel) {\r\n            return null;\r\n        }\r\n        if (this._mode === 0) {\r\n            return this._drawRect;\r\n        }\r\n        else {\r\n            if (this._isOutOfRange()) {\r\n                return null;\r\n            }\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            return this._toRelativeDrawRect(absoluteRect);\r\n        }\r\n    }\r\n    _isOutOfRange() {\r\n        const { colCount, rowCount } = this._grid;\r\n        return colCount <= this._col || rowCount <= this._row;\r\n    }\r\n    /**\r\n     * get Context of current state\r\n     * @return {DrawCellContext} current DrawCellContext.\r\n     */\r\n    toCurrentContext() {\r\n        if (this._mode === 0) {\r\n            return this;\r\n        }\r\n        else {\r\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n            const rect = _toRelativeRect(this._grid, absoluteRect);\r\n            const drawRect = this._isOutOfRange()\r\n                ? null\r\n                : this._toRelativeDrawRect(absoluteRect);\r\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\r\n            // toCurrentContext  toCurrentContext\r\n            context.toCurrentContext = this.toCurrentContext.bind(this);\r\n            this._childContexts.push(context);\r\n            if (this._cancel) {\r\n                context.cancel();\r\n            }\r\n            context._rectFilter = this._rectFilter;\r\n            return context;\r\n        }\r\n    }\r\n    addLayerDraw(level, fn) {\r\n        this._drawLayers.addDraw(level, fn);\r\n    }\r\n    _toRelativeDrawRect(absoluteRect) {\r\n        const visibleRect = _getVisibleRect(this._grid);\r\n        let rect = absoluteRect.copy();\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        const grid = this._grid;\r\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\r\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\r\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\r\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\r\n        }\r\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\r\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\r\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\r\n        }\r\n        if (!rect.intersection(visibleRect)) {\r\n            return null;\r\n        }\r\n        rect.offsetLeft(-visibleRect.left);\r\n        rect.offsetTop(-visibleRect.top);\r\n        return rect;\r\n    }\r\n    _delayMode(grid, onTerminate) {\r\n        this._mode = 1;\r\n        this._ctx = null;\r\n        this._rect = null;\r\n        this._drawRect = null;\r\n        this._grid = grid;\r\n        this._onTerminate = onTerminate;\r\n    }\r\n    /**\r\n     * terminate\r\n     * @return {void}\r\n     */\r\n    terminate() {\r\n        var _a;\r\n        if (this._mode !== 0) {\r\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\r\n        }\r\n    }\r\n    _getRectInternal() {\r\n        if (this._mode === 0) {\r\n            return this._rect;\r\n        }\r\n        else {\r\n            if (this._rect) {\r\n                return this._rect;\r\n            }\r\n            return this._grid.getCellRelativeRect(this._col, this._row);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nconst protectedKey = _;\r\n/**\r\n * DrawGrid\r\n * @classdesc cheetahGrid.core.DrawGrid\r\n * @memberof cheetahGrid.core\r\n */\r\nclass DrawGrid extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\r\n    }\r\n    constructor(options = {}) {\r\n        super();\r\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, trimOnPaste, } = options;\r\n        const protectedSpace = (this[_] = {});\r\n        style.initDocument();\r\n        protectedSpace.element = createRootElement();\r\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\r\n        protectedSpace.handler = new EventHandler_1.EventHandler();\r\n        protectedSpace.selection = new Selection(this);\r\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable, protectedSpace.selection);\r\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\r\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\r\n            alpha: false,\r\n        });\r\n        protectedSpace.rowCount = rowCount;\r\n        protectedSpace.colCount = colCount;\r\n        protectedSpace.frozenColCount = frozenColCount;\r\n        protectedSpace.frozenRowCount = frozenRowCount;\r\n        protectedSpace.defaultRowHeight = defaultRowHeight;\r\n        protectedSpace.defaultColWidth = defaultColWidth;\r\n        protectedSpace.font = font;\r\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\r\n        protectedSpace.keyboardOptions = keyboardOptions;\r\n        protectedSpace.disableColumnResize = disableColumnResize;\r\n        protectedSpace.trimOnPaste = trimOnPaste !== null && trimOnPaste !== void 0 ? trimOnPaste : false;\r\n        /////\r\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\r\n        protectedSpace.colWidthsLimit = {};\r\n        protectedSpace.calcWidthContext = {\r\n            _: protectedSpace,\r\n            get full() {\r\n                return this._.canvas.width;\r\n            },\r\n            get em() {\r\n                return (0, canvases_1.getFontSize)(this._.context, this._.font).width;\r\n            },\r\n        };\r\n        protectedSpace.columnResizer = new ColumnResizer(this);\r\n        protectedSpace.cellSelector = new CellSelector(this);\r\n        protectedSpace.drawCells = {};\r\n        protectedSpace.cellTextOverflows = {};\r\n        protectedSpace.focusedGrid = false;\r\n        protectedSpace.element.appendChild(protectedSpace.canvas);\r\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\r\n        protectedSpace.scroll = {\r\n            left: 0,\r\n            top: 0,\r\n        };\r\n        this.updateScroll();\r\n        if (parentElement) {\r\n            parentElement.appendChild(protectedSpace.element);\r\n            this.updateSize();\r\n        }\r\n        else {\r\n            this.updateSize();\r\n        }\r\n        _bindEvents.call(this);\r\n        this.bindEventsInternal();\r\n    }\r\n    /**\r\n     * Get root element.\r\n     * @returns {HTMLElement} root element\r\n     */\r\n    getElement() {\r\n        return this[_].element;\r\n    }\r\n    /**\r\n     * Get canvas element.\r\n     */\r\n    get canvas() {\r\n        return this[_].canvas;\r\n    }\r\n    /**\r\n     * Focus the grid.\r\n     * @return {void}\r\n     */\r\n    focus() {\r\n        const { col, row } = this[_].selection.select;\r\n        this.focusCell(col, row);\r\n    }\r\n    hasFocusGrid() {\r\n        return this[_].focusedGrid;\r\n    }\r\n    /**\r\n     * Get the selection instance.\r\n     */\r\n    get selection() {\r\n        return this[_].selection;\r\n    }\r\n    /**\r\n     * Get the number of rows.\r\n     */\r\n    get rowCount() {\r\n        return this[_].rowCount;\r\n    }\r\n    /**\r\n     * Set the number of rows.\r\n     */\r\n    set rowCount(rowCount) {\r\n        this[_].rowCount = rowCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of columns.\r\n     */\r\n    get colCount() {\r\n        return this[_].colCount;\r\n    }\r\n    /**\r\n     * Set the number of columns.\r\n     */\r\n    set colCount(colCount) {\r\n        this[_].colCount = colCount;\r\n        this.updateScroll();\r\n        if (this[_].selection._updateGridRange()) {\r\n            const { col, row } = this[_].selection.focus;\r\n            this.makeVisibleCell(col, row);\r\n            this.setFocusCursor(col, row);\r\n        }\r\n    }\r\n    /**\r\n     * Get the number of frozen columns.\r\n     */\r\n    get frozenColCount() {\r\n        return this[_].frozenColCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen columns.\r\n     */\r\n    set frozenColCount(frozenColCount) {\r\n        this[_].frozenColCount = frozenColCount;\r\n    }\r\n    /**\r\n     * Get the number of frozen rows.\r\n     */\r\n    get frozenRowCount() {\r\n        return this[_].frozenRowCount;\r\n    }\r\n    /**\r\n     * Set the number of frozen rows.\r\n     */\r\n    set frozenRowCount(frozenRowCount) {\r\n        this[_].frozenRowCount = frozenRowCount;\r\n    }\r\n    /**\r\n     * Get the default row height.\r\n     *\r\n     */\r\n    get defaultRowHeight() {\r\n        return this[_].defaultRowHeight;\r\n    }\r\n    /**\r\n     * Set the default row height.\r\n     */\r\n    set defaultRowHeight(defaultRowHeight) {\r\n        this[_].defaultRowHeight = defaultRowHeight;\r\n    }\r\n    /**\r\n     * Get the default column width.\r\n     */\r\n    get defaultColWidth() {\r\n        return this[_].defaultColWidth;\r\n    }\r\n    /**\r\n     * Set the default column width.\r\n     */\r\n    set defaultColWidth(defaultColWidth) {\r\n        this[_].defaultColWidth = defaultColWidth;\r\n    }\r\n    /**\r\n     * Get the font definition as a string.\r\n     */\r\n    get font() {\r\n        return this[_].font;\r\n    }\r\n    /**\r\n     * Set the font definition with the given string.\r\n     */\r\n    set font(font) {\r\n        this[_].font = font;\r\n    }\r\n    /**\r\n     * Get the background color of the underlay.\r\n     */\r\n    get underlayBackgroundColor() {\r\n        return this[_].underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * Set the background color of the underlay.\r\n     */\r\n    set underlayBackgroundColor(underlayBackgroundColor) {\r\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\r\n    }\r\n    /**\r\n     * If set to true, trim the pasted text on pasting.\r\n     */\r\n    get trimOnPaste() {\r\n        return this[_].trimOnPaste;\r\n    }\r\n    set trimOnPaste(trimOnPaste) {\r\n        this[_].trimOnPaste = trimOnPaste;\r\n    }\r\n    get keyboardOptions() {\r\n        var _a;\r\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    set keyboardOptions(keyboardOptions) {\r\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    configure(name, value) {\r\n        const cfg = this[_].config || (this[_].config = {});\r\n        if (value != null) {\r\n            cfg[name] = value;\r\n        }\r\n        return cfg[name];\r\n    }\r\n    /**\r\n     * Apply the changed size.\r\n     * @return {void}\r\n     */\r\n    updateSize() {\r\n        //\r\n        const { canvas } = this[_];\r\n        canvas.style.width = \"\";\r\n        canvas.style.height = \"\";\r\n        const width = Math.floor(canvas.offsetWidth ||\r\n            canvas.parentElement.offsetWidth -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        const height = Math.floor(canvas.offsetHeight ||\r\n            canvas.parentElement.offsetHeight -\r\n                style.getScrollBarSize() /*for legacy*/);\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        //style\r\n        canvas.style.width = `${width}px`;\r\n        canvas.style.height = `${height}px`;\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n    }\r\n    /**\r\n     * Apply the changed scroll size.\r\n     * @return {boolean} `true` if there was a change in the scroll size\r\n     */\r\n    updateScroll() {\r\n        const { scrollable } = this[_];\r\n        const newHeight = _getScrollHeight.call(this);\r\n        const newWidth = _getScrollWidth(this);\r\n        if (newHeight === scrollable.scrollHeight &&\r\n            newWidth === scrollable.scrollWidth) {\r\n            return false;\r\n        }\r\n        scrollable.setScrollSize(newWidth, newHeight);\r\n        this[_].scroll = {\r\n            left: scrollable.scrollLeft,\r\n            top: scrollable.scrollTop,\r\n        };\r\n        const { focus } = this[_].selection;\r\n        this[_].focusControl.setFocusRect(this.getCellRect(focus.col, focus.row));\r\n        return true;\r\n    }\r\n    /**\r\n     * Get the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @return {number} The row height\r\n     */\r\n    getRowHeight(row) {\r\n        return _getRowHeight.call(this, row);\r\n    }\r\n    /**\r\n     * Set the row height of the given the row index.\r\n     * @param  {number} row The row index\r\n     * @param  {number} height The row height\r\n     * @return {void}\r\n     */\r\n    setRowHeight(row, height) {\r\n        _setRowHeight(this, row, height);\r\n    }\r\n    /**\r\n     * Get the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column width\r\n     */\r\n    getColWidth(col) {\r\n        return _getColWidth(this, col);\r\n    }\r\n    /**\r\n     * Set the column width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} width The column width\r\n     * @return {void}\r\n     */\r\n    setColWidth(col, width) {\r\n        _setColWidth(this, col, width);\r\n    }\r\n    /**\r\n     * Get the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column max width\r\n     */\r\n    getMaxColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.max) || undefined;\r\n    }\r\n    /**\r\n     * Set the column max width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} maxwidth The column max width\r\n     * @return {void}\r\n     */\r\n    setMaxColWidth(col, maxwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (maxwidth != null) {\r\n            obj.max = maxwidth;\r\n        }\r\n        else {\r\n            delete obj.max;\r\n        }\r\n    }\r\n    /**\r\n     * Get the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @return {number} The column min width\r\n     */\r\n    getMinColWidth(col) {\r\n        const obj = this[_].colWidthsLimit[col];\r\n        return (obj && obj.min) || undefined;\r\n    }\r\n    /**\r\n     * Set the column min width of the given the column index.\r\n     * @param  {number} col The column index\r\n     * @param  {number} minwidth The column min width\r\n     * @return {void}\r\n     */\r\n    setMinColWidth(col, minwidth) {\r\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n        if (minwidth != null) {\r\n            obj.min = minwidth;\r\n        }\r\n        else {\r\n            delete obj.min;\r\n        }\r\n    }\r\n    /**\r\n     * Get the rect of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRect(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\r\n        const width = _getColWidth(this, col);\r\n        if (isFrozenCell && isFrozenCell.col) {\r\n            absoluteLeft += this[_].scroll.left;\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\r\n        const height = _getRowHeight.call(this, row);\r\n        if (isFrozenCell && isFrozenCell.row) {\r\n            absoluteTop += this[_].scroll.top;\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    /**\r\n     * Get the relative rectangle of the cell.\r\n     * @param {number} col index of column, of the cell\r\n     * @param {number} row index of row, of the cell\r\n     * @returns {Rect} the rect of the cell.\r\n     */\r\n    getCellRelativeRect(col, row) {\r\n        return _toRelativeRect(this, this.getCellRect(col, row));\r\n    }\r\n    /**\r\n     * Get the rectangle of the cells area.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @returns {Rect} the rect of the cells.\r\n     */\r\n    getCellsRect(startCol, startRow, endCol, endRow) {\r\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\r\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let width = _getColsWidth(this, startCol, endCol);\r\n        if (isFrozenStartCell && isFrozenStartCell.col) {\r\n            const scrollLeft = this[_].scroll.left;\r\n            absoluteLeft += scrollLeft;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\r\n                width -= scrollLeft;\r\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\r\n            }\r\n        }\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let height = _getRowsHeight.call(this, startRow, endRow);\r\n        if (isFrozenStartCell && isFrozenStartCell.row) {\r\n            const scrollTop = this[_].scroll.top;\r\n            absoluteTop += scrollTop;\r\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\r\n                height -= scrollTop;\r\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\r\n            }\r\n        }\r\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\r\n    }\r\n    getCellRangeRect(range) {\r\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    isFrozenCell(col, row) {\r\n        const { frozenRowCount, frozenColCount } = this[_];\r\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\r\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\r\n        if (isFrozenRow || isFrozenCol) {\r\n            return {\r\n                row: isFrozenRow,\r\n                col: isFrozenCol,\r\n            };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    getRowAt(absoluteY) {\r\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\r\n        if (frozen) {\r\n            return frozen.row;\r\n        }\r\n        const row = _getTargetRowAt.call(this, absoluteY);\r\n        return row ? row.row : -1;\r\n    }\r\n    getColAt(absoluteX) {\r\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\r\n        if (frozen) {\r\n            return frozen.col;\r\n        }\r\n        const col = _getTargetColAt(this, absoluteX);\r\n        return col ? col.col : -1;\r\n    }\r\n    getCellAt(absoluteX, absoluteY) {\r\n        return {\r\n            row: this.getRowAt(absoluteY),\r\n            col: this.getColAt(absoluteX),\r\n        };\r\n    }\r\n    /**\r\n     * Scroll to where cell is visible.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    makeVisibleCell(col, row) {\r\n        const isFrozenCell = this.isFrozenCell(col, row);\r\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\r\n            return;\r\n        }\r\n        const rect = this.getCellRect(col, row);\r\n        const visibleRect = _getScrollableVisibleRect(this);\r\n        if (visibleRect.contains(rect)) {\r\n            return;\r\n        }\r\n        const { scrollable } = this[_];\r\n        if (!isFrozenCell || !isFrozenCell.col) {\r\n            if (rect.left < visibleRect.left) {\r\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\r\n            }\r\n            else if (visibleRect.right < rect.right) {\r\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\r\n            }\r\n        }\r\n        if (!isFrozenCell || !isFrozenCell.row) {\r\n            if (rect.top < visibleRect.top) {\r\n                scrollable.scrollTop -= visibleRect.top - rect.top;\r\n            }\r\n            else if (visibleRect.bottom < rect.bottom) {\r\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Moves the focus cursor to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    setFocusCursor(col, row) {\r\n        const { focusControl } = this[_];\r\n        const oldEditMode = focusControl.editMode;\r\n        focusControl.setFocusRect(this.getCellRect(col, row));\r\n        _updatedSelection.call(this);\r\n        if (oldEditMode && !focusControl.editMode) {\r\n            focusControl.resetInputStatus();\r\n        }\r\n    }\r\n    /**\r\n     * Focus the cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {void}\r\n     */\r\n    focusCell(col, row) {\r\n        this.setFocusCursor(col, row);\r\n        // Failure occurs in IE if focus is not last\r\n        this[_].focusControl.focus();\r\n    }\r\n    /**\r\n     * Redraws the range of the given cell.\r\n     * @param  {number} col The column index of cell.\r\n     * @param  {number} row The row index of cell.\r\n     * @return {void}\r\n     */\r\n    invalidateCell(col, row) {\r\n        this.invalidateGridRect(col, row);\r\n    }\r\n    /**\r\n     * Redraws the range of the given cells.\r\n     * @param {number} startCol index of the starting column, of the cell\r\n     * @param {number} startRow index of the starting row, of the cell\r\n     * @param {number} endCol index of the ending column, of the cell\r\n     * @param {number} endRow index of the ending row, of the cell\r\n     * @return {void}\r\n     */\r\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\r\n        const offset = this.getOffsetInvalidateCells();\r\n        if (offset > 0) {\r\n            startCol -= offset;\r\n            startRow -= offset;\r\n            endCol += offset;\r\n            endRow += offset;\r\n        }\r\n        const visibleRect = _getVisibleRect(this);\r\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\r\n        const invalidateTarget = visibleRect.intersection(cellsRect);\r\n        if (invalidateTarget) {\r\n            const { frozenColCount, frozenRowCount } = this[_];\r\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\r\n                const frozenRect = _getFrozenColsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\r\n                }\r\n            }\r\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\r\n                const frozenRect = _getFrozenRowsRect(this);\r\n                if (frozenRect.intersection(invalidateTarget)) {\r\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\r\n                }\r\n            }\r\n            _invalidateRect(this, invalidateTarget);\r\n        }\r\n    }\r\n    invalidateCellRange(range) {\r\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\r\n    }\r\n    /**\r\n     * Redraws the whole grid.\r\n     * @return {void}\r\n     */\r\n    invalidate() {\r\n        const visibleRect = _getVisibleRect(this);\r\n        _invalidateRect(this, visibleRect);\r\n    }\r\n    /**\r\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleRowCount() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\r\n        let count = 0;\r\n        const { rowCount } = this;\r\n        for (let row = startRow; row < rowCount; row++) {\r\n            const height = _getRowHeight.call(this, row);\r\n            const bottom = absoluteTop + height;\r\n            if (visibleRect.bottom < bottom) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteTop = bottom;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\r\n     * @returns {number}\r\n     */\r\n    get visibleColCount() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n        let count = 0;\r\n        const { colCount } = this;\r\n        for (let col = startCol; col < colCount; col++) {\r\n            const width = _getColWidth(this, col);\r\n            const right = absoluteLeft + width;\r\n            if (visibleRect.right < right) {\r\n                break;\r\n            }\r\n            count++;\r\n            absoluteLeft = right;\r\n        }\r\n        return count;\r\n    }\r\n    /**\r\n     * Get the index of the first row in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get topRow() {\r\n        const { frozenRowCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleTop = frozenRowCount > 0\r\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\r\n            : visibleRect.top;\r\n        const initRow = _getTargetRowAt.call(this, visibleTop);\r\n        if (!initRow) {\r\n            return 0;\r\n        }\r\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\r\n    }\r\n    /**\r\n     * Get the index of the first column in the scrollable region that is visible.\r\n     * @returns {number}\r\n     */\r\n    get leftCol() {\r\n        const { frozenColCount } = this;\r\n        const visibleRect = _getVisibleRect(this);\r\n        const visibleLeft = frozenColCount > 0\r\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\r\n            : visibleRect.left;\r\n        const initCol = _getTargetColAt(this, visibleLeft);\r\n        if (!initCol) {\r\n            return 0;\r\n        }\r\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled vertically\r\n     */\r\n    get scrollTop() {\r\n        return this[_].scrollable.scrollTop;\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this[_].scrollable.scrollTop = scrollTop;\r\n    }\r\n    /**\r\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\r\n     */\r\n    get scrollLeft() {\r\n        return this[_].scrollable.scrollLeft;\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this[_].scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    /**\r\n     * Get the value of cell with the copy action.\r\n     * <p>\r\n     * Please implement\r\n     * </p>\r\n     *\r\n     * @protected\r\n     * @param col Column index of cell.\r\n     * @param row Row index of cell.\r\n     * @param range Copy range.\r\n     * @return {string} the value of cell\r\n     */\r\n    getCopyCellValue(_col, _row, _range) {\r\n        //Please implement get cell value!!\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Get the overflowed text in the cell rectangle, from the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @return {string | null} The text overflowing the cell rect.\r\n     */\r\n    getCellOverflowText(col, row) {\r\n        const key = `${col}:${row}`;\r\n        return this[_].cellTextOverflows[key] || null;\r\n    }\r\n    /**\r\n     * Set the overflowed text in the cell rectangle, to the given cell.\r\n     * @param  {number} col The column index.\r\n     * @param  {number} row The row index\r\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\r\n     * @return {void}\r\n     */\r\n    setCellOverflowText(col, row, overflowText) {\r\n        const key = `${col}:${row}`;\r\n        if (overflowText) {\r\n            this[_].cellTextOverflows[key] =\r\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\r\n        }\r\n        else {\r\n            delete this[_].cellTextOverflows[key];\r\n        }\r\n    }\r\n    addDisposable(disposable) {\r\n        if (!disposable ||\r\n            !disposable.dispose ||\r\n            typeof disposable.dispose !== \"function\") {\r\n            throw new Error(\"not disposable!\");\r\n        }\r\n        const disposables = (this[_].disposables = this[_].disposables || []);\r\n        disposables.push(disposable);\r\n    }\r\n    /**\r\n     * Dispose the grid instance.\r\n     * @returns {void}\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        const protectedSpace = this[_];\r\n        protectedSpace.handler.dispose();\r\n        protectedSpace.scrollable.dispose();\r\n        protectedSpace.focusControl.dispose();\r\n        protectedSpace.columnResizer.dispose();\r\n        protectedSpace.cellSelector.dispose();\r\n        if (protectedSpace.disposables) {\r\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\r\n            protectedSpace.disposables = null;\r\n        }\r\n        const { parentElement } = protectedSpace.element;\r\n        if (parentElement) {\r\n            parentElement.removeChild(protectedSpace.element);\r\n        }\r\n    }\r\n    getAttachCellsArea(range) {\r\n        return {\r\n            element: this.getElement(),\r\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\r\n        };\r\n    }\r\n    onKeyDownMove(evt) {\r\n        _onKeyDownMove.call(this, evt);\r\n    }\r\n    bindEventsInternal() {\r\n        //nop\r\n    }\r\n    getTargetRowAtInternal(_absoluteY) {\r\n        // \r\n    }\r\n    getRowsHeightInternal(_startRow, _endRow) {\r\n        // \r\n    }\r\n    getRowHeightInternal(_row) {\r\n        // \r\n    }\r\n    getScrollHeightInternal(_row) {\r\n        // \r\n    }\r\n    getMoveLeftColByKeyDownInternal({ col }) {\r\n        return col - 1;\r\n    }\r\n    getMoveRightColByKeyDownInternal({ col }) {\r\n        return col + 1;\r\n    }\r\n    getMoveUpRowByKeyDownInternal({ row }) {\r\n        return row - 1;\r\n    }\r\n    getMoveDownRowByKeyDownInternal({ row }) {\r\n        return row + 1;\r\n    }\r\n    getOffsetInvalidateCells() {\r\n        return 0;\r\n    }\r\n    getCopyRangeInternal(range) {\r\n        return range;\r\n    }\r\n    _getInitContext() {\r\n        const ctx = this[_].context;\r\n        //\r\n        ctx.fillStyle = \"white\";\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.textAlign = \"left\";\r\n        ctx.textBaseline = \"top\";\r\n        ctx.lineWidth = 1;\r\n        ctx.font = this.font || \"16px sans-serif\";\r\n        return ctx;\r\n    }\r\n    fireListeners(type, ...event) {\r\n        return super.fireListeners(type, ...event);\r\n    }\r\n}\r\nexports.DrawGrid = DrawGrid;\r\n","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventTarget = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\n/** @private */\r\nconst _ = (0, symbolManager_1.get)();\r\n/** @private */\r\nlet nextId = 1;\r\n/**\r\n * event target.\r\n */\r\nclass EventTarget {\r\n    constructor() {\r\n        this[_a] = {\r\n            listeners: {},\r\n            listenerData: {},\r\n        };\r\n    }\r\n    /**\r\n     * Adds an event listener.\r\n     * @param  {string} type The event type id.\r\n     * @param  {function} listener Callback method.\r\n     * @return {number} unique id for the listener.\r\n     */\r\n    listen(type, listener) {\r\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\r\n        list.push(listener);\r\n        const id = nextId++;\r\n        this[_].listenerData[id] = {\r\n            type,\r\n            listener,\r\n            remove: () => {\r\n                delete this[_].listenerData[id];\r\n                const index = list.indexOf(listener);\r\n                list.splice(index, 1);\r\n                if (!this[_].listeners[type].length) {\r\n                    delete this[_].listeners[type];\r\n                }\r\n            },\r\n        };\r\n        return id;\r\n    }\r\n    /**\r\n     * Removes an event listener which was added with listen() by the id returned by listen().\r\n     * @param  {number} id the id returned by listen().\r\n     * @return {void}\r\n     */\r\n    unlisten(id) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        this[_].listenerData[id].remove();\r\n    }\r\n    addEventListener(type, listener) {\r\n        this.listen(type, listener);\r\n    }\r\n    removeEventListener(type, listener) {\r\n        if (!this[_]) {\r\n            return;\r\n        }\r\n        (0, utils_1.each)(this[_].listenerData, (obj, id) => {\r\n            if (obj.type === type && obj.listener === listener) {\r\n                this.unlisten(id);\r\n            }\r\n        });\r\n    }\r\n    hasListeners(type) {\r\n        if (!this[_]) {\r\n            return false;\r\n        }\r\n        return !!this[_].listeners[type];\r\n    }\r\n    /**\r\n     * Fires all registered listeners\r\n     * @param  {string}    type The type of the listeners to fire.\r\n     * @param  {...*} args fire arguments\r\n     * @return {*} the result of the last listener\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fireListeners(type, ...args) {\r\n        if (!this[_]) {\r\n            return [];\r\n        }\r\n        const list = this[_].listeners[type];\r\n        if (!list) {\r\n            return [];\r\n        }\r\n        return list\r\n            .map((listener) => listener.call(this, ...args))\r\n            .filter((r) => r != null);\r\n    }\r\n    dispose() {\r\n        // @ts-expect-error -- ignore\r\n        delete this[_];\r\n    }\r\n}\r\nexports.EventTarget = EventTarget;\r\n_a = _;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\r\nconst DataSource_1 = require(\"./data/DataSource\");\r\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\r\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\r\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\r\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\r\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CachedDataSource = void 0;\r\nconst DataSource_1 = require(\"./DataSource\");\r\n/** @private */\r\nfunction _setFieldCache(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfCache, index, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    const recCache = fCache[index] || (fCache[index] = new Map());\r\n    recCache.set(field, value);\r\n}\r\n/**\r\n * grid data source for caching Promise data\r\n *\r\n * @classdesc cheetahGrid.data.CachedDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass CachedDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new CachedDataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(opt) {\r\n        super(opt);\r\n        this._rCache = {};\r\n        this._fCache = {};\r\n    }\r\n    getOriginal(index) {\r\n        if (this._rCache && this._rCache[index]) {\r\n            return this._rCache[index];\r\n        }\r\n        return super.getOriginal(index);\r\n    }\r\n    getOriginalField(index, field) {\r\n        const rowCache = this._fCache && this._fCache[index];\r\n        if (rowCache) {\r\n            const cache = rowCache.get(field);\r\n            if (cache) {\r\n                return cache;\r\n            }\r\n        }\r\n        return super.getOriginalField(index, field);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        const fCache = this._fCache;\r\n        if (fCache && fCache[index]) {\r\n            delete fCache[index]; // clear row cache\r\n        }\r\n        return super.setOriginalField(index, field, value);\r\n    }\r\n    clearCache() {\r\n        if (this._rCache) {\r\n            this._rCache = {};\r\n        }\r\n        if (this._fCache) {\r\n            this._fCache = {};\r\n        }\r\n    }\r\n    fieldPromiseCallBackInternal(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        _setFieldCache(this._fCache, index, field, value);\r\n    }\r\n    recordPromiseCallBackInternal(index, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    record) {\r\n        this._rCache[index] = record;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n}\r\nexports.CachedDataSource = CachedDataSource;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataSource = void 0;\r\nconst sort = __importStar(require(\"../internal/sort\"));\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst EventTarget_1 = require(\"../core/EventTarget\");\r\n/** @private */\r\nfunction isFieldAssessor(field) {\r\n    if (utils_1.obj.isObject(field)) {\r\n        if (field.get && field.set) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/** @private */\r\nconst EVENT_TYPE = {\r\n    UPDATE_LENGTH: \"update_length\",\r\n    UPDATED_LENGTH: \"updated_length\",\r\n    UPDATED_ORDER: \"updated_order\",\r\n};\r\n/** @private */\r\nfunction ascOrderFn(v1, v2) {\r\n    if (v1 === v2) {\r\n        return 0;\r\n    }\r\n    if (v1 == null) {\r\n        return v2 == null\r\n            ? // If both are nullish, consider a match.\r\n                0\r\n            : // Nulls first\r\n                -1;\r\n    }\r\n    if (v2 == null) {\r\n        // Nulls first\r\n        return 1;\r\n    }\r\n    return v1 > v2 ? 1 : -1;\r\n}\r\nfunction descOrderFn(v1, v2) {\r\n    return (ascOrderFn(v1, v2) * -1);\r\n}\r\n/** @private */\r\nfunction getValue(value, setPromiseBack) {\r\n    const maybePromiseValue = (0, utils_1.getOrApply)(value);\r\n    if ((0, utils_1.isPromise)(maybePromiseValue)) {\r\n        const promiseValue = maybePromiseValue.then((r) => {\r\n            setPromiseBack(r);\r\n            return r;\r\n        });\r\n        //\r\n        setPromiseBack(promiseValue);\r\n        return promiseValue;\r\n    }\r\n    else {\r\n        return maybePromiseValue;\r\n    }\r\n}\r\n/** @private */\r\nfunction getField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nsetPromiseBack) {\r\n    if (record == null) {\r\n        return undefined;\r\n    }\r\n    if ((0, utils_1.isPromise)(record)) {\r\n        return record.then((r) => getField(r, field, setPromiseBack));\r\n    }\r\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\r\n    if (fieldGet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    if (typeof fieldGet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = fieldGet(record);\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n    const ss = String(fieldGet).split(\".\");\r\n    if (ss.length <= 1) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const fieldResult = record[fieldGet];\r\n        return getValue(fieldResult, setPromiseBack);\r\n    }\r\n    const fieldResult = (0, utils_1.applyChainSafe)(record, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\r\n    return getValue(fieldResult, setPromiseBack);\r\n}\r\n/** @private */\r\nfunction setField(record, field, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nvalue) {\r\n    if (record == null) {\r\n        return false;\r\n    }\r\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\r\n    if (fieldSet in record) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    else if (typeof fieldSet === \"function\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return fieldSet(record, value);\r\n    }\r\n    else if (typeof fieldSet === \"string\") {\r\n        const ss = `${fieldSet}`.split(\".\");\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let obj = record;\r\n        const { length } = ss;\r\n        for (let i = 0; i < length; i++) {\r\n            const f = ss[i];\r\n            if (i === length - 1) {\r\n                obj[f] = value;\r\n            }\r\n            else {\r\n                obj = obj[f] || (obj[f] = {});\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        record[fieldSet] = value;\r\n    }\r\n    return true;\r\n}\r\n/** @private */\r\nfunction _getIndex(sortedIndexMap, index) {\r\n    if (!sortedIndexMap) {\r\n        return index;\r\n    }\r\n    const mapIndex = sortedIndexMap[index];\r\n    return mapIndex != null ? mapIndex : index;\r\n}\r\n/**\r\n * grid data source\r\n *\r\n * @classdesc cheetahGrid.data.DataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass DataSource extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static ofArray(array) {\r\n        return new DataSource({\r\n            get: (index) => array[index],\r\n            length: array.length,\r\n            source: array,\r\n        });\r\n    }\r\n    constructor(obj) {\r\n        var _a;\r\n        super();\r\n        this._sortedIndexMap = null;\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\r\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\r\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    get(index) {\r\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\r\n    }\r\n    getField(index, field) {\r\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    hasField(index, field) {\r\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\r\n    }\r\n    setField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\r\n    }\r\n    sort(field, order) {\r\n        const sortedIndexMap = new Array(this._length);\r\n        const orderFn = order !== \"desc\" ? ascOrderFn : descOrderFn;\r\n        return sort\r\n            .sortPromise((index) => sortedIndexMap[index] != null\r\n            ? sortedIndexMap[index]\r\n            : (sortedIndexMap[index] = index), (index, rel) => {\r\n            sortedIndexMap[index] = rel;\r\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\r\n            .then(() => {\r\n            this._sortedIndexMap = sortedIndexMap;\r\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\r\n        });\r\n    }\r\n    get length() {\r\n        return this._length;\r\n    }\r\n    set length(length) {\r\n        if (this._length === length) {\r\n            return;\r\n        }\r\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\r\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\r\n            return;\r\n        }\r\n        this._length = length;\r\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\r\n    }\r\n    get dataSource() {\r\n        return this;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n    getOriginal(index) {\r\n        return getValue(this._get(index), (val) => {\r\n            this.recordPromiseCallBackInternal(index, val);\r\n        });\r\n    }\r\n    getOriginalField(index, field) {\r\n        if (field == null) {\r\n            return undefined;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return getField(record, field, (val) => {\r\n            this.fieldPromiseCallBackInternal(index, field, val);\r\n        });\r\n    }\r\n    hasOriginalField(index, field) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        if (typeof field === \"function\") {\r\n            return true;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        return Boolean(record && field in record);\r\n    }\r\n    setOriginalField(index, field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    value) {\r\n        if (field == null) {\r\n            return false;\r\n        }\r\n        const record = this.getOriginal(index);\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            return record.then((r) => setField(r, field, value));\r\n        }\r\n        return setField(record, field, value);\r\n    }\r\n    fieldPromiseCallBackInternal(_index, _field, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    _value) {\r\n        //\r\n    }\r\n    recordPromiseCallBackInternal(_index, _record) {\r\n        //\r\n    }\r\n}\r\nexports.DataSource = DataSource;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nDataSource.EMPTY = new DataSource({\r\n    get() {\r\n        /*noop */\r\n    },\r\n    length: 0,\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FilterDataSource = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst DataSource_1 = require(\"./DataSource\");\r\nconst EventHandler_1 = require(\"../internal/EventHandler\");\r\n/** @private */\r\nclass DataSourceIterator {\r\n    constructor(dataSource) {\r\n        this._dataSource = dataSource;\r\n        this._curIndex = -1;\r\n        this._data = [];\r\n    }\r\n    hasNext() {\r\n        const next = this._curIndex + 1;\r\n        return this._dataSource.length > next;\r\n    }\r\n    next() {\r\n        const next = this._curIndex + 1;\r\n        const data = this._getIndexData(next);\r\n        this._curIndex = next;\r\n        return data;\r\n    }\r\n    movePrev() {\r\n        this._curIndex--;\r\n    }\r\n    _getIndexData(index, nest) {\r\n        const dataSource = this._dataSource;\r\n        const data = this._data;\r\n        if (index < data.length) {\r\n            return data[index];\r\n        }\r\n        if (dataSource.length <= index) {\r\n            return undefined;\r\n        }\r\n        const record = this._dataSource.get(index);\r\n        data[index] = record;\r\n        if ((0, utils_1.isPromise)(record)) {\r\n            record.then((val) => {\r\n                data[index] = val;\r\n            });\r\n            if (!nest) {\r\n                for (let i = 1; i <= 100; i++) {\r\n                    this._getIndexData(index + i, true);\r\n                }\r\n            }\r\n        }\r\n        return record;\r\n    }\r\n}\r\n/** @private */\r\nclass FilterData {\r\n    constructor(dc, original, filter) {\r\n        this._cancel = false;\r\n        this._owner = dc;\r\n        this._dataSourceItr = new DataSourceIterator(original);\r\n        this._filter = filter;\r\n        this._filteredList = [];\r\n        this._queues = [];\r\n    }\r\n    get(index) {\r\n        if (this._cancel) {\r\n            return undefined;\r\n        }\r\n        const filteredList = this._filteredList;\r\n        if (index < filteredList.length) {\r\n            return filteredList[index];\r\n        }\r\n        const queues = this._queues;\r\n        const indexQueue = queues[index];\r\n        if (indexQueue) {\r\n            return indexQueue;\r\n        }\r\n        return queues[index] || this._findIndex(index);\r\n    }\r\n    cancel() {\r\n        this._cancel = true;\r\n    }\r\n    _findIndex(index) {\r\n        if (window.Promise) {\r\n            const timeout = Date.now() + 100;\r\n            let count = 0;\r\n            return this._findIndexWithTimeout(index, () => {\r\n                count++;\r\n                if (count >= 100) {\r\n                    count = 0;\r\n                    return timeout < Date.now();\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        return this._findIndexWithTimeout(index, () => false);\r\n    }\r\n    _findIndexWithTimeout(index, testTimeout) {\r\n        const filteredList = this._filteredList;\r\n        const filter = this._filter;\r\n        const dataSourceItr = this._dataSourceItr;\r\n        const queues = this._queues;\r\n        while (dataSourceItr.hasNext()) {\r\n            if (this._cancel) {\r\n                return undefined;\r\n            }\r\n            const record = dataSourceItr.next();\r\n            if ((0, utils_1.isPromise)(record)) {\r\n                dataSourceItr.movePrev();\r\n                const queue = record.then((_value) => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n            if (filter(record)) {\r\n                filteredList.push(record);\r\n                if (index < filteredList.length) {\r\n                    return filteredList[index];\r\n                }\r\n            }\r\n            if (testTimeout()) {\r\n                const promise = new Promise((resolve) => {\r\n                    setTimeout(() => {\r\n                        resolve();\r\n                    }, 300);\r\n                });\r\n                const queue = promise.then(() => {\r\n                    queues[index] = null;\r\n                    return this.get(index);\r\n                });\r\n                queues[index] = queue;\r\n                return queue;\r\n            }\r\n        }\r\n        const dc = this._owner;\r\n        dc.length = filteredList.length;\r\n        return undefined;\r\n    }\r\n}\r\n/**\r\n * grid data source for filter\r\n *\r\n * @classdesc cheetahGrid.data.FilterDataSource\r\n * @memberof cheetahGrid.data\r\n */\r\nclass FilterDataSource extends DataSource_1.DataSource {\r\n    static get EVENT_TYPE() {\r\n        return DataSource_1.DataSource.EVENT_TYPE;\r\n    }\r\n    constructor(dataSource, filter) {\r\n        super(dataSource);\r\n        this._filterData = null;\r\n        this._dataSource = dataSource;\r\n        this.filter = filter;\r\n        const handler = (this._handler = new EventHandler_1.EventHandler());\r\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n            // reset\r\n            // eslint-disable-next-line no-self-assign\r\n            this.filter = this.filter;\r\n        });\r\n        (0, utils_1.each)(DataSource_1.DataSource.EVENT_TYPE, (type) => {\r\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\r\n        });\r\n    }\r\n    get filter() {\r\n        var _a;\r\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\r\n    }\r\n    set filter(filter) {\r\n        if (this._filterData) {\r\n            this._filterData.cancel();\r\n        }\r\n        this._filterData = filter\r\n            ? new FilterData(this, this._dataSource, filter)\r\n            : null;\r\n        this.length = this._dataSource.length;\r\n    }\r\n    getOriginal(index) {\r\n        if (!this._filterData) {\r\n            return super.getOriginal(index);\r\n        }\r\n        return this._filterData.get(index);\r\n    }\r\n    sort(field, order) {\r\n        return this._dataSource.sort(field, order);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    get source() {\r\n        return this._dataSource.source;\r\n    }\r\n    get dataSource() {\r\n        return this._dataSource;\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n        super.dispose();\r\n    }\r\n}\r\nexports.FilterDataSource = FilterDataSource;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Inline = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nfunction getWidth(ctx, content) {\r\n    return ctx.measureText(content).width;\r\n}\r\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\r\n    const chars = [];\r\n    let ret = itr.next();\r\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\r\n        chars.push(ret);\r\n    }\r\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\r\n    if (beforeWidth > width) {\r\n        while (chars.length) {\r\n            const c = chars.pop();\r\n            beforeWidth -= getWidth(ctx, c || \"\");\r\n            if (beforeWidth <= width) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else if (beforeWidth < width) {\r\n        while (ret !== null) {\r\n            const charWidth = getWidth(ctx, ret);\r\n            if (beforeWidth + charWidth > width) {\r\n                break;\r\n            }\r\n            chars.push(ret);\r\n            beforeWidth += charWidth;\r\n            ret = itr.next();\r\n        }\r\n    }\r\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\r\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\r\n    return {\r\n        before: beforeContent ? new Inline(beforeContent) : null,\r\n        after: afterContent ? new Inline(afterContent) : null,\r\n    };\r\n}\r\nclass Inline {\r\n    constructor(content) {\r\n        this._content = content != null ? content : \"\";\r\n    }\r\n    width({ ctx }) {\r\n        return getWidth(ctx, this._content);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft,\r\n                right: offsetRight,\r\n                top: offsetTop,\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return !!this._content;\r\n    }\r\n    splitIndex(index) {\r\n        const content = this._content;\r\n        const itr = utils_1.str.genChars(content);\r\n        const chars = [];\r\n        let ret = itr.next();\r\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\r\n            chars.push(ret);\r\n        }\r\n        const beforeContent = chars.join(\"\");\r\n        const afterContent = content.slice(beforeContent.length);\r\n        return {\r\n            before: beforeContent ? new Inline(beforeContent) : null,\r\n            after: afterContent ? new Inline(afterContent) : null,\r\n        };\r\n    }\r\n    breakWord(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genWords(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    breakAll(ctx, width) {\r\n        const content = this._content;\r\n        const allWidth = this.width({ ctx });\r\n        const candidate = Math.floor((this._content.length * width) / allWidth);\r\n        const itr = utils_1.str.genChars(content);\r\n        return breakWidth(ctx, content, itr, candidate, width);\r\n    }\r\n    toString() {\r\n        return this._content;\r\n    }\r\n}\r\nexports.Inline = Inline;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineDrawer = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineDrawer extends Inline_1.Inline {\r\n    constructor({ draw, width, \r\n    // height,\r\n    color, }) {\r\n        super();\r\n        this._draw = draw;\r\n        this._width = width;\r\n        // this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        this._draw({\r\n            ctx,\r\n            canvashelper,\r\n            rect,\r\n            offset,\r\n            offsetLeft,\r\n            offsetRight,\r\n            offsetTop,\r\n            offsetBottom,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineDrawer = InlineDrawer;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineIcon = void 0;\r\nconst fonts = __importStar(require(\"../internal/fonts\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nclass InlineIcon extends Inline_1.Inline {\r\n    constructor(icon) {\r\n        super();\r\n        this._icon = icon || {};\r\n    }\r\n    width({ ctx }) {\r\n        const icon = this._icon;\r\n        if (icon.width) {\r\n            return icon.width;\r\n        }\r\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\r\n            ctx.save();\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                ctx.font = icon.font || ctx.font;\r\n                return ctx.measureText(icon.content || \"\").width;\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n                ctx.restore();\r\n            }\r\n        }\r\n        return 0; //unknown\r\n    }\r\n    font() {\r\n        var _a;\r\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        const icon = this._icon;\r\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\r\n    }\r\n    onReady(callback) {\r\n        const icon = this._icon;\r\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\r\n            fonts.load(icon.font, icon.content || \"\", callback);\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        const icon = this._icon;\r\n        if (icon.content) {\r\n            ctx.canvas.style.letterSpacing = \"normal\";\r\n            try {\r\n                // eslint-disable-next-line no-self-assign\r\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\r\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft + (this._icon.offsetLeft || 0),\r\n                        right: offsetRight,\r\n                        top: offsetTop + (this._icon.offsetTop || 0),\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            }\r\n            finally {\r\n                ctx.canvas.style.letterSpacing = \"\";\r\n            }\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineIcon = InlineIcon;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineImage = void 0;\r\nconst Inline_1 = require(\"./Inline\");\r\nconst imgs_1 = require(\"../internal/imgs\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nclass InlineImage extends Inline_1.Inline {\r\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, offsetTop, offsetLeft, }) {\r\n        super();\r\n        this._inlineImgPromise = null;\r\n        this._inlineImg = null;\r\n        this._src = src;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._imageLeft = imageLeft;\r\n        this._imageTop = imageTop;\r\n        this._imageWidth = imageWidth;\r\n        this._imageHeight = imageHeight;\r\n        this._offsetTop = offsetTop;\r\n        this._offsetLeft = offsetLeft;\r\n        this._onloaded = [];\r\n        if ((0, utils_1.isPromise)(src)) {\r\n            src.then((s) => {\r\n                this._src = s;\r\n                this._loadImage(s);\r\n            });\r\n        }\r\n        else {\r\n            this._loadImage(src);\r\n        }\r\n    }\r\n    _loadImage(src) {\r\n        const img = (this._inlineImgPromise = (0, imgs_1.getCacheOrLoad)(\"InlineImage\", 50, src));\r\n        if ((0, utils_1.isPromise)(img)) {\r\n            img.then((i) => {\r\n                this._inlineImg = i;\r\n                this._onloaded.forEach((fn) => fn());\r\n            });\r\n        }\r\n        else {\r\n            this._inlineImg = img;\r\n        }\r\n    }\r\n    width(_arg) {\r\n        var _a, _b;\r\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        return null;\r\n    }\r\n    canDraw() {\r\n        return !!this._inlineImg;\r\n    }\r\n    onReady(callback) {\r\n        if ((0, utils_1.isPromise)(this._src) || (0, utils_1.isPromise)(this._inlineImgPromise)) {\r\n            this._onloaded.push(() => callback());\r\n        }\r\n    }\r\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        var _a, _b;\r\n        const img = this._inlineImg;\r\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\r\n            offset: offset + 1,\r\n            padding: {\r\n                left: offsetLeft + ((_a = this._offsetLeft) !== null && _a !== void 0 ? _a : 0),\r\n                right: offsetRight,\r\n                top: offsetTop + ((_b = this._offsetTop) !== null && _b !== void 0 ? _b : 0),\r\n                bottom: offsetBottom,\r\n            },\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineImage = InlineImage;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlinePath2D = void 0;\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nclass InlinePath2D extends Inline_1.Inline {\r\n    constructor({ path, width, height, color }) {\r\n        super();\r\n        // IEPath2Dpolyfill\r\n        const Path2D = path2DManager.getPath2D();\r\n        this._path = new Path2D(path);\r\n        this._width = width;\r\n        this._height = height;\r\n        this._color = color;\r\n    }\r\n    width(_arg) {\r\n        return this._width;\r\n    }\r\n    font() {\r\n        return null;\r\n    }\r\n    color() {\r\n        var _a;\r\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    canDraw() {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onReady(_callback) { }\r\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n        offset++;\r\n        const padding = {\r\n            left: offsetLeft,\r\n            right: offsetRight,\r\n            top: offsetTop,\r\n            bottom: offsetBottom,\r\n        };\r\n        ctx.save();\r\n        try {\r\n            ctx.beginPath();\r\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n            //clip\r\n            ctx.clip();\r\n            //\r\n            const pos = (0, canvases_1.calcStartPosition)(ctx, rect, this._width, this._height, {\r\n                offset,\r\n                padding,\r\n            });\r\n            ctx.translate(pos.x, pos.y);\r\n            ctx.fill(this._path);\r\n        }\r\n        finally {\r\n            ctx.restore();\r\n        }\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlinePath2D = InlinePath2D;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineSvg = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nfunction buildSvgDataUrl(svg) {\r\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\r\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\r\n    return url;\r\n}\r\nfunction getSvgElement(svg) {\r\n    if (typeof svg === \"string\") {\r\n        const parser = new DOMParser();\r\n        return parser.parseFromString(svg, \"image/svg+xml\")\r\n            .children[0];\r\n    }\r\n    else {\r\n        return svg;\r\n    }\r\n}\r\nclass InlineSvg extends InlineImage_1.InlineImage {\r\n    constructor({ svg, width, height }) {\r\n        var _a, _b;\r\n        const svgElem = (0, utils_1.then)(svg, getSvgElement);\r\n        const elmWidth = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined\r\n            : undefined;\r\n        const elmHeight = !(0, utils_1.isPromise)(svgElem)\r\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined\r\n            : undefined;\r\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\r\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\r\n        super({\r\n            src: (0, utils_1.then)(svg, buildSvgDataUrl),\r\n            width: width || numElmWidth,\r\n            height: height || numElmHeight,\r\n            imageWidth: numElmWidth,\r\n            imageHeight: numElmHeight,\r\n        });\r\n    }\r\n    canBreak() {\r\n        return false;\r\n    }\r\n    toString() {\r\n        return \"\";\r\n    }\r\n}\r\nexports.InlineSvg = InlineSvg;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\r\nconst icons = __importStar(require(\"../icons\"));\r\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\r\nconst Inline_1 = require(\"./Inline\");\r\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\r\nconst InlineIcon_1 = require(\"./InlineIcon\");\r\nconst InlineImage_1 = require(\"./InlineImage\");\r\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\r\nconst InlineSvg_1 = require(\"./InlineSvg\");\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, drawWidth, drawHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nfunction isIconConstructorOption(icon) {\r\n    if (icon.font && icon.content) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineImageConstructorOption(icon) {\r\n    if (icon.src) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isInlineSvgConstructorOption(icon) {\r\n    if (icon.path) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction iconOf(icon) {\r\n    if (icon instanceof Inline_1.Inline) {\r\n        return icon;\r\n    }\r\n    if (!icon) {\r\n        return null;\r\n    }\r\n    if (isIconConstructorOption(icon)) {\r\n        return new InlineIcon_1.InlineIcon(icon);\r\n    }\r\n    if (isInlineImageConstructorOption(icon)) {\r\n        return new InlineImage_1.InlineImage({\r\n            src: icon.src,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            offsetTop: icon.offsetTop,\r\n            offsetLeft: icon.offsetLeft,\r\n        });\r\n    }\r\n    if (icon.svg) {\r\n        return new InlineSvg_1.InlineSvg({\r\n            svg: icon.svg,\r\n            width: icon.width,\r\n            height: icon.width,\r\n        });\r\n    }\r\n    if (isInlineSvgConstructorOption(icon)) {\r\n        return new InlinePath2D_1.InlinePath2D({\r\n            path: icon.path,\r\n            width: icon.width,\r\n            height: icon.width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    const registeredIcons = icons.get();\r\n    if (icon.name && registeredIcons[icon.name]) {\r\n        const registeredIcon = registeredIcons[icon.name];\r\n        const width = icon.width || Math.max(registeredIcon.width, registeredIcon.height);\r\n        return new InlineDrawer_1.InlineDrawer({\r\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\r\n                drawRegisteredIcon(ctx, registeredIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\r\n                    offset: offset + 1,\r\n                    padding: {\r\n                        left: offsetLeft,\r\n                        right: offsetRight,\r\n                        top: offsetTop,\r\n                        bottom: offsetBottom,\r\n                    },\r\n                });\r\n            },\r\n            width,\r\n            height: width,\r\n            color: icon.color,\r\n        });\r\n    }\r\n    return new InlineIcon_1.InlineIcon(icon);\r\n}\r\nexports.iconOf = iconOf;\r\nfunction of(content) {\r\n    if (content == null) {\r\n        return null;\r\n    }\r\n    if (content instanceof Inline_1.Inline) {\r\n        return content;\r\n    }\r\n    return new Inline_1.Inline(content);\r\n}\r\nexports.of = of;\r\nfunction buildInlines(icons, inline) {\r\n    const result = [];\r\n    if (icons) {\r\n        result.push(...icons\r\n            .map((icon) => iconOf(icon))\r\n            .filter((i) => i != null));\r\n    }\r\n    if (Array.isArray(inline)\r\n    // && inline.filter(il => il instanceof Inline).length <- ?\r\n    ) {\r\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\r\n    }\r\n    else {\r\n        const il = of(inline);\r\n        if (il) {\r\n            result.push(il);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.buildInlines = buildInlines;\r\nfunction string(inline) {\r\n    return buildInlines(undefined, inline).join(\"\");\r\n}\r\nexports.string = string;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getInternal = void 0;\r\nfunction getInternal() {\r\n    console.warn(\"use internal!!\");\r\n    return {\r\n        color: require(\"./internal/color\"),\r\n        sort: require(\"./internal/sort\"),\r\n        calc: require(\"./internal/calc\"),\r\n        symbolManager: require(\"./internal/symbolManager\"),\r\n        path2DManager: require(\"./internal/path2DManager\"),\r\n        pasteUtils: require(\"./internal/paste-utils\"),\r\n    };\r\n}\r\nexports.getInternal = getInternal;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\r\nconst BaseAction_1 = require(\"./action/BaseAction\");\r\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\r\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\r\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\r\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\r\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\r\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n}\r\nexports.ACTIONS = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new ImmutableSortHeaderAction(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new ImmutableCheckHeaderAction(),\r\n};\r\nfunction of(headerAction) {\r\n    if (!headerAction) {\r\n        return undefined;\r\n    }\r\n    else if (typeof headerAction === \"string\") {\r\n        const key = headerAction.toUpperCase();\r\n        return exports.ACTIONS[key] || of(null);\r\n    }\r\n    else {\r\n        return headerAction;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        if (typeof headerCell.sort === \"function\") {\r\n            const sortMethod = headerCell.sort;\r\n            // 0.9.0 Backward compatibility\r\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\r\n            return new ImmutableSortHeaderAction({ sort });\r\n        }\r\n        if (typeof headerCell.sort === \"string\") {\r\n            return new ImmutableSortHeaderAction({ sort: headerCell.sort });\r\n        }\r\n        return exports.ACTIONS.SORT;\r\n    }\r\n    return of(headerCell.headerAction);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseAction = void 0;\r\nclass BaseAction {\r\n    constructor(option = {}) {\r\n        this._disabled = !!option.disabled || false;\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = disabled;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new BaseAction(this);\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    onChangeDisabledInternal() {\r\n        // impl\r\n    }\r\n}\r\nexports.BaseAction = BaseAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderAction = void 0;\r\nconst actionBind_1 = require(\"./actionBind\");\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst animate_1 = require(\"../../internal/animate\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\r\n    clone() {\r\n        return new CheckHeaderAction(this);\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        const state = getState(grid);\r\n        const action = ({ col, row }) => {\r\n            const range = grid.getCellRange(col, row);\r\n            const cellKey = `${range.start.col}:${range.start.row}`;\r\n            if (this.disabled || state.block[cellKey]) {\r\n                return;\r\n            }\r\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\r\n            const onChange = () => {\r\n                // checkbox animation\r\n                (0, animate_1.animate)(200, (point) => {\r\n                    if (point === 1) {\r\n                        delete state.elapsed[cellKey];\r\n                    }\r\n                    else {\r\n                        state.elapsed[cellKey] = point;\r\n                    }\r\n                    grid.invalidateCellRange(range);\r\n                });\r\n            };\r\n            onChange();\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    state.mouseActiveCell = {\r\n                        col: e.col,\r\n                        row: e.row,\r\n                    };\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                    return true;\r\n                },\r\n                mouseOut: (e) => {\r\n                    delete state.mouseActiveCell;\r\n                    const range = grid.getCellRange(e.col, e.row);\r\n                    grid.invalidateCellRange(range);\r\n                },\r\n            }),\r\n            ...(0, actionBind_1.bindCellKeyAction)(grid, cellId, {\r\n                action,\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.CheckHeaderAction = CheckHeaderAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderAction = void 0;\r\nconst BaseAction_1 = require(\"./BaseAction\");\r\nconst actionBind_1 = require(\"./actionBind\");\r\nclass SortHeaderAction extends BaseAction_1.BaseAction {\r\n    constructor(option = {}) {\r\n        var _a;\r\n        super(option);\r\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\r\n    }\r\n    get sort() {\r\n        return this._sort;\r\n    }\r\n    set sort(sort) {\r\n        this._sort = sort;\r\n        this.onChangeDisabledInternal();\r\n    }\r\n    clone() {\r\n        return new SortHeaderAction(this);\r\n    }\r\n    _executeSort(newState, grid) {\r\n        if (typeof this._sort === \"function\") {\r\n            this._sort({\r\n                order: newState.order || \"asc\",\r\n                col: newState.col,\r\n                row: newState.row,\r\n                grid,\r\n            });\r\n        }\r\n        else if (typeof this._sort === \"string\" &&\r\n            // v1.6.3 Backward compatibility\r\n            (this._sort !== \"true\" || hasTrueField(grid))) {\r\n            const field = this._sort;\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n        else {\r\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\r\n            const field = grid.getField(newState.col, fieldRow);\r\n            if (field == null) {\r\n                return;\r\n            }\r\n            grid.dataSource.sort(field, newState.order || \"asc\");\r\n        }\r\n    }\r\n    bindGridEvent(grid, cellId) {\r\n        function isTarget(col, row) {\r\n            return grid.getLayoutCellId(col, row) === cellId;\r\n        }\r\n        const action = (cell) => {\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n            const state = grid.sortState;\r\n            let newState;\r\n            const range = grid.getCellRange(cell.col, cell.row);\r\n            if (isTarget(state.col, cell.row)) {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\r\n                };\r\n            }\r\n            else {\r\n                newState = {\r\n                    col: range.start.col,\r\n                    row: range.start.row,\r\n                    order: \"asc\",\r\n                };\r\n            }\r\n            grid.sortState = newState;\r\n            this._executeSort(newState, grid);\r\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\r\n        };\r\n        return [\r\n            ...(0, actionBind_1.bindCellClickAction)(grid, cellId, {\r\n                action,\r\n                mouseOver: (_e) => {\r\n                    if (this.disabled) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                },\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports.SortHeaderAction = SortHeaderAction;\r\nfunction hasTrueField(grid) {\r\n    if (grid.dataSource.length > 0) {\r\n        const record = grid.dataSource.get(0);\r\n        return record != null && \"true\" in record;\r\n    }\r\n    return false;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    let inMouse;\r\n    return [\r\n        // click\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: e.col,\r\n                row: e.row,\r\n            });\r\n        }),\r\n        // mouse move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOver) {\r\n                if (!mouseOver({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                })) {\r\n                    return;\r\n                }\r\n            }\r\n            grid.getElement().style.cursor = \"pointer\";\r\n            inMouse = true;\r\n        }),\r\n        //MOUSEENTER'col-resize'move\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (inMouse && !grid.getElement().style.cursor) {\r\n                grid.getElement().style.cursor = \"pointer\";\r\n            }\r\n        }),\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (!isTarget(e.col, e.row)) {\r\n                return;\r\n            }\r\n            if (mouseOut) {\r\n                mouseOut({\r\n                    col: e.col,\r\n                    row: e.row,\r\n                });\r\n            }\r\n            grid.getElement().style.cursor = \"\";\r\n            inMouse = false;\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellClickAction = bindCellClickAction;\r\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\r\n    function isTarget(col, row) {\r\n        return grid.getLayoutCellId(col, row) === cellId;\r\n    }\r\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\r\n    return [\r\n        // enter key down\r\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\r\n            var _a;\r\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\r\n                return;\r\n            }\r\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\r\n                // When moving with the enter key, no action is taken with the enter key.\r\n                return;\r\n            }\r\n            const sel = grid.selection.select;\r\n            if (!isTarget(sel.col, sel.row)) {\r\n                return;\r\n            }\r\n            action({\r\n                col: sel.col,\r\n                row: sel.row,\r\n            });\r\n            utils_1.event.cancel(e.event);\r\n        }),\r\n    ];\r\n}\r\nexports.bindCellKeyAction = bindCellKeyAction;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\r\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\r\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\r\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\r\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\r\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\r\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\r\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\r\nconst Style_1 = require(\"./style/Style\");\r\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\r\nfunction of(headerStyle, StyleClass) {\r\n    if (headerStyle) {\r\n        if (headerStyle instanceof Style_1.Style) {\r\n            return headerStyle;\r\n        }\r\n        else if (typeof headerStyle === \"function\") {\r\n            return of(headerStyle(), StyleClass);\r\n        }\r\n        return new StyleClass(headerStyle);\r\n    }\r\n    else {\r\n        return StyleClass.DEFAULT;\r\n    }\r\n}\r\nexports.of = of;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseStyle = void 0;\r\nconst EventTarget_1 = require(\"../../core/EventTarget\");\r\nconst EVENT_TYPE = {\r\n    CHANGE_STYLE: \"change_style\",\r\n};\r\nlet defaultStyle;\r\nclass BaseStyle extends EventTarget_1.EventTarget {\r\n    static get EVENT_TYPE() {\r\n        return EVENT_TYPE;\r\n    }\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n    }\r\n    constructor({ bgColor } = {}) {\r\n        super();\r\n        this._bgColor = bgColor;\r\n    }\r\n    get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n    set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    doChangeStyle() {\r\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n    }\r\n    clone() {\r\n        return new BaseStyle(this);\r\n    }\r\n}\r\nexports.BaseStyle = BaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeaderStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nlet defaultStyle;\r\nclass CheckHeaderStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new CheckHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super((0, utils_1.defaults)(style, { textAlign: \"center\" }));\r\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this._checkBgColor = checkBgColor;\r\n        this._borderColor = borderColor;\r\n    }\r\n    get uncheckBgColor() {\r\n        return this._uncheckBgColor;\r\n    }\r\n    set uncheckBgColor(uncheckBgColor) {\r\n        this._uncheckBgColor = uncheckBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get checkBgColor() {\r\n        return this._checkBgColor;\r\n    }\r\n    set checkBgColor(checkBgColor) {\r\n        this._checkBgColor = checkBgColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(borderColor) {\r\n        this._borderColor = borderColor;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new CheckHeaderStyle(this);\r\n    }\r\n}\r\nexports.CheckHeaderStyle = CheckHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass MultilineTextHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new MultilineTextHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeaderStyle(this);\r\n    }\r\n}\r\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeaderStyle = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass SortHeaderStyle extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._sortArrowColor = style.sortArrowColor;\r\n        this._multiline = style.multiline;\r\n    }\r\n    get sortArrowColor() {\r\n        return this._sortArrowColor;\r\n    }\r\n    set sortArrowColor(sortArrowColor) {\r\n        this._sortArrowColor = sortArrowColor;\r\n        this.doChangeStyle();\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new SortHeaderStyle(this);\r\n    }\r\n}\r\nexports.SortHeaderStyle = SortHeaderStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdBaseStyle = void 0;\r\nconst BaseStyle_1 = require(\"./BaseStyle\");\r\nlet defaultStyle;\r\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._textAlign = style.textAlign || \"left\";\r\n        this._textBaseline = style.textBaseline || \"middle\";\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(textAlign) {\r\n        this._textAlign = textAlign;\r\n        this.doChangeStyle();\r\n    }\r\n    get textBaseline() {\r\n        return this._textBaseline;\r\n    }\r\n    set textBaseline(textBaseline) {\r\n        this._textBaseline = textBaseline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdBaseStyle(this);\r\n    }\r\n}\r\nexports.StdBaseStyle = StdBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdMultilineTextBaseStyle = void 0;\r\nconst StdTextBaseStyle_1 = require(\"./StdTextBaseStyle\");\r\nlet defaultStyle;\r\nclass StdMultilineTextBaseStyle extends StdTextBaseStyle_1.StdTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdMultilineTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._lineHeight = style.lineHeight || \"1em\";\r\n        this._autoWrapText = style.autoWrapText || false;\r\n        this._lineClamp = style.lineClamp;\r\n    }\r\n    clone() {\r\n        return new StdMultilineTextBaseStyle(this);\r\n    }\r\n    get lineHeight() {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(lineHeight) {\r\n        this._lineHeight = lineHeight;\r\n        this.doChangeStyle();\r\n    }\r\n    get lineClamp() {\r\n        return this._lineClamp;\r\n    }\r\n    set lineClamp(lineClamp) {\r\n        this._lineClamp = lineClamp;\r\n        this.doChangeStyle();\r\n    }\r\n    get autoWrapText() {\r\n        return this._autoWrapText;\r\n    }\r\n    set autoWrapText(autoWrapText) {\r\n        this._autoWrapText = autoWrapText;\r\n        this.doChangeStyle();\r\n    }\r\n}\r\nexports.StdMultilineTextBaseStyle = StdMultilineTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StdTextBaseStyle = void 0;\r\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\r\nlet defaultStyle;\r\nclass StdTextBaseStyle extends StdBaseStyle_1.StdBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle\r\n            ? defaultStyle\r\n            : (defaultStyle = new StdTextBaseStyle());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._color = style.color;\r\n        this._font = style.font;\r\n        this._padding = style.padding;\r\n        this._textOverflow = style.textOverflow || \"ellipsis\";\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(color) {\r\n        this._color = color;\r\n        this.doChangeStyle();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        this._font = font;\r\n        this.doChangeStyle();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(padding) {\r\n        this._padding = padding;\r\n        this.doChangeStyle();\r\n    }\r\n    get textOverflow() {\r\n        return this._textOverflow;\r\n    }\r\n    set textOverflow(textOverflow) {\r\n        this._textOverflow = textOverflow;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new StdTextBaseStyle(this);\r\n    }\r\n}\r\nexports.StdTextBaseStyle = StdTextBaseStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Style = void 0;\r\nconst StdMultilineTextBaseStyle_1 = require(\"./StdMultilineTextBaseStyle\");\r\nlet defaultStyle;\r\nclass Style extends StdMultilineTextBaseStyle_1.StdMultilineTextBaseStyle {\r\n    static get DEFAULT() {\r\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n    }\r\n    constructor(style = {}) {\r\n        super(style);\r\n        this._multiline = style.multiline;\r\n    }\r\n    get multiline() {\r\n        return !!this._multiline;\r\n    }\r\n    set multiline(multiline) {\r\n        this._multiline = multiline;\r\n        this.doChangeStyle();\r\n    }\r\n    clone() {\r\n        return new Style(this);\r\n    }\r\n}\r\nexports.Style = Style;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\r\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\r\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\r\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\r\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\r\nconst Header_1 = require(\"./type/Header\");\r\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\r\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\r\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\r\nconst SortHeader_1 = require(\"./type/SortHeader\");\r\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\r\nconst TYPES = {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    DEFAULT: new Header_1.Header(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    SORT: new SortHeader_1.SortHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    CHECK: new CheckHeader_1.CheckHeader(),\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\r\n};\r\nfunction of(headerType) {\r\n    if (!headerType) {\r\n        return TYPES.DEFAULT;\r\n    }\r\n    else if (typeof headerType === \"string\") {\r\n        const key = headerType.toUpperCase();\r\n        return TYPES[key] || of(null);\r\n    }\r\n    else {\r\n        return headerType;\r\n    }\r\n}\r\nexports.of = of;\r\nfunction ofCell(headerCell) {\r\n    if (headerCell.sort) {\r\n        return TYPES.SORT;\r\n    }\r\n    return of(headerCell.headerType);\r\n}\r\nexports.ofCell = ofCell;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseHeader = void 0;\r\nconst styleContents = __importStar(require(\"../style\"));\r\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\r\nclass BaseHeader {\r\n    constructor(_options = {}) {\r\n        this.onDrawCell = this.onDrawCell.bind(this); //\r\n    }\r\n    get StyleClass() {\r\n        return BaseStyle_1.BaseStyle;\r\n    }\r\n    onDrawCell(cellValue, info, context, grid) {\r\n        const { style, drawCellBase } = info;\r\n        const helper = grid.getGridCanvasHelper();\r\n        drawCellBase();\r\n        //\r\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\r\n    }\r\n    convertInternal(value) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        return value != null ? `${value}` : \"\";\r\n    }\r\n    bindGridEvent(_grid, _cellId) {\r\n        return [];\r\n    }\r\n    getCopyCellValue(value, _grid, _cell) {\r\n        if (typeof value === \"function\") {\r\n            value = value();\r\n        }\r\n        return value != null ? value : \"\";\r\n    }\r\n}\r\nexports.BaseHeader = BaseHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CheckHeader = void 0;\r\nconst inlineUtils = __importStar(require(\"../../element/inlines\"));\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\r\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst CHECK_HEADER_STATE_ID = (0, symbolManager_1.getCheckHeaderStateId)();\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getState(grid) {\r\n    let state = grid[CHECK_HEADER_STATE_ID];\r\n    if (!state) {\r\n        state = { elapsed: {}, block: {} };\r\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\r\n    }\r\n    return state;\r\n}\r\nclass CheckHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return CheckHeaderStyle_1.CheckHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new CheckHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, padding, color, font, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const { col, row } = context;\r\n        const range = grid.getCellRange(col, row);\r\n        const cellKey = `${range.start.col}:${range.start.row}`;\r\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\r\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\r\n        const opt = {\r\n            textAlign,\r\n            textBaseline,\r\n            borderColor,\r\n            checkBgColor,\r\n            uncheckBgColor,\r\n        };\r\n        if (elapsed != null) {\r\n            opt.animElapsedTime = elapsed;\r\n        }\r\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            let contents = [inlineCheck];\r\n            contents = contents.concat(inlineUtils.buildInlines(icons, value != null ? String(value) : \"\"));\r\n            helper.text(contents, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                textOverflow,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.CheckHeader = CheckHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Header = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst Style_1 = require(\"../style/Style\");\r\nclass Header extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return Style_1.Style;\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, lineHeight, autoWrapText, lineClamp, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Header = Header;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultilineTextHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\r\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\r\n    }\r\n    clone() {\r\n        return new MultilineTextHeader(this);\r\n    }\r\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        const multilines = textValue\r\n            .replace(/\\r?\\n/g, \"\\n\")\r\n            .replace(/\\r/g, \"\\n\")\r\n            .split(\"\\n\");\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            helper.multilineText(multilines, context, {\r\n                textAlign,\r\n                textBaseline,\r\n                color,\r\n                font,\r\n                padding,\r\n                lineHeight,\r\n                autoWrapText,\r\n                lineClamp,\r\n                textOverflow,\r\n                icons,\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.MultilineTextHeader = MultilineTextHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SortHeader = void 0;\r\nconst utils = __importStar(require(\"../../columns/type/columnUtils\"));\r\nconst BaseHeader_1 = require(\"./BaseHeader\");\r\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\r\nconst utils_1 = require(\"../../internal/utils\");\r\nconst canvases_1 = require(\"../../internal/canvases\");\r\nclass SortHeader extends BaseHeader_1.BaseHeader {\r\n    get StyleClass() {\r\n        return SortHeaderStyle_1.SortHeaderStyle;\r\n    }\r\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\r\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, padding, textOverflow, lineHeight, autoWrapText, lineClamp, sortArrowColor, multiline, } = style;\r\n        if (bgColor) {\r\n            drawCellBase({\r\n                bgColor,\r\n            });\r\n        }\r\n        const textValue = value != null ? String(value) : \"\";\r\n        helper.testFontLoad(font, textValue, context);\r\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n            const state = grid.sortState;\r\n            let order = undefined;\r\n            const { col, row } = context;\r\n            const range = grid.getCellRange(col, row);\r\n            if ((0, utils_1.cellInRange)(range, state.col, state.row)) {\r\n                ({ order } = state);\r\n            }\r\n            const ctx = context.getContext();\r\n            const arrowSize = (0, canvases_1.getFontSize)(ctx, font).width * 1.2;\r\n            const trailingIcon = {\r\n                name: order != null\r\n                    ? order === \"asc\"\r\n                        ? \"arrow_downward\"\r\n                        : \"arrow_upward\"\r\n                    : undefined,\r\n                width: arrowSize,\r\n                color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\r\n            };\r\n            if (multiline) {\r\n                const multilines = textValue\r\n                    .replace(/\\r?\\n/g, \"\\n\")\r\n                    .replace(/\\r/g, \"\\n\")\r\n                    .split(\"\\n\");\r\n                helper.multilineText(multilines, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    lineHeight,\r\n                    autoWrapText,\r\n                    lineClamp,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n            else {\r\n                helper.text(textValue, context, {\r\n                    textAlign,\r\n                    textBaseline,\r\n                    color,\r\n                    font,\r\n                    padding,\r\n                    textOverflow,\r\n                    icons,\r\n                    trailingIcon,\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.SortHeader = SortHeader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.style = exports.type = exports.action = void 0;\r\nconst action = __importStar(require(\"./header/action\"));\r\nexports.action = action;\r\nconst style = __importStar(require(\"./header/style\"));\r\nexports.style = style;\r\nconst type = __importStar(require(\"./header/type\"));\r\nexports.type = type;\r\n","\"use strict\";\r\n/*eslint-disable camelcase*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.get = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst builtins = {\r\n    get arrow_upward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\r\n        return {\r\n            d: \"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get arrow_downward() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\r\n        return {\r\n            d: \"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get edit() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\r\n        return {\r\n            d: \"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get add() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\r\n        return {\r\n            d: \"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\",\r\n            width: 48,\r\n            height: 48,\r\n        };\r\n    },\r\n    get star() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\r\n        return {\r\n            d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_border() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n    get star_half() {\r\n        // return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\r\n        return {\r\n            d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\",\r\n            width: 24,\r\n            height: 24,\r\n        };\r\n    },\r\n};\r\nfunction get() {\r\n    return (0, utils_1.extend)(builtins, icons_1.icons);\r\n}\r\nexports.get = get;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventHandler = void 0;\r\nconst utils_1 = require(\"./utils\");\r\n/** @private */\r\nlet nextId = 1;\r\nclass EventHandler {\r\n    constructor() {\r\n        this._listeners = {};\r\n    }\r\n    on(target, type, listener, \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ...options) {\r\n        if (target.addEventListener) {\r\n            target.addEventListener(type, listener, ...options);\r\n        }\r\n        const obj = {\r\n            target,\r\n            type,\r\n            listener,\r\n            options,\r\n        };\r\n        const id = nextId++;\r\n        this._listeners[id] = obj;\r\n        return id;\r\n    }\r\n    once(target, type, listener, ...options) {\r\n        const id = this.on(target, type, (...args) => {\r\n            this.off(id);\r\n            listener(...args);\r\n        }, ...options);\r\n        return id;\r\n    }\r\n    tryWithOffEvents(target, type, call) {\r\n        const list = [];\r\n        try {\r\n            (0, utils_1.each)(this._listeners, (obj) => {\r\n                if (obj.target === target && obj.type === type) {\r\n                    if (obj.target.removeEventListener) {\r\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n                    }\r\n                    list.push(obj);\r\n                }\r\n            });\r\n            call();\r\n        }\r\n        finally {\r\n            list.forEach((obj) => {\r\n                if (obj.target.addEventListener) {\r\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    off(id) {\r\n        if (id == null) {\r\n            return;\r\n        }\r\n        const obj = this._listeners[id];\r\n        if (!obj) {\r\n            return;\r\n        }\r\n        delete this._listeners[id];\r\n        if (obj.target.removeEventListener) {\r\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    fire(target, type, ...args) {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                obj.listener.call(obj.target, ...args);\r\n            }\r\n        });\r\n    }\r\n    hasListener(target, type) {\r\n        let result = false;\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target === target && obj.type === type) {\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    clear() {\r\n        (0, utils_1.each)(this._listeners, (obj) => {\r\n            if (obj.target.removeEventListener) {\r\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n            }\r\n        });\r\n        this._listeners = {};\r\n    }\r\n    dispose() {\r\n        this.clear();\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._listeners = null;\r\n    }\r\n}\r\nexports.EventHandler = EventHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LRUCache = void 0;\r\nclass LRUCache {\r\n    constructor(cacheSize) {\r\n        this._list = [];\r\n        this._map = {};\r\n        this._cacheSize = cacheSize || 50;\r\n    }\r\n    get(key) {\r\n        const val = this._map[key];\r\n        if (val) {\r\n            const list = this._list;\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n            list.push(key);\r\n        }\r\n        return val;\r\n    }\r\n    put(key, value) {\r\n        const list = this._list;\r\n        const map = this._map;\r\n        if (map[key]) {\r\n            const idx = list.indexOf(key);\r\n            list.splice(idx, 1);\r\n        }\r\n        map[key] = value;\r\n        list.push(key);\r\n        if (list.length > this._cacheSize) {\r\n            const remKey = list.shift() || \"\";\r\n            delete map[remKey];\r\n        }\r\n    }\r\n}\r\nexports.LRUCache = LRUCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberMap = void 0;\r\nconst indexFirst = (arr, elm) => {\r\n    let low = 0;\r\n    let high = arr.length - 1;\r\n    while (low <= high) {\r\n        const i = Math.floor((low + high) / 2);\r\n        if (arr[i] === elm) {\r\n            return i;\r\n        }\r\n        else if (arr[i] > elm) {\r\n            high = i - 1;\r\n        }\r\n        else {\r\n            low = i + 1;\r\n        }\r\n    }\r\n    return high < 0 ? 0 : high;\r\n};\r\nclass NumberMap {\r\n    constructor() {\r\n        this._keys = [];\r\n        this._vals = {};\r\n        this._sorted = false;\r\n    }\r\n    put(key, value) {\r\n        if (!(key in this._vals)) {\r\n            this._keys.push(key);\r\n            this._sorted = false;\r\n        }\r\n        this._vals[key] = value;\r\n    }\r\n    remove(key) {\r\n        delete this._vals[key];\r\n        const index = this._keys.indexOf(key);\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this._keys.splice(index, 1);\r\n        this._sorted = false;\r\n    }\r\n    get(key) {\r\n        return this._vals[key];\r\n    }\r\n    has(key) {\r\n        return this._vals[key] != null;\r\n    }\r\n    each(keyFrom, keyTo, fn) {\r\n        const { _keys: keys } = this;\r\n        const { length } = keys;\r\n        if (!this._sorted) {\r\n            keys.sort((a, b) => {\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n            this._sorted = true;\r\n        }\r\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\r\n            const key = keys[i];\r\n            if (keyFrom <= key && key <= keyTo) {\r\n                fn(this.get(key), key);\r\n            }\r\n            else if (keyTo < key) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.NumberMap = NumberMap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rect = void 0;\r\nclass Rect {\r\n    constructor(left, top, width, height) {\r\n        this._left = left;\r\n        this._top = top;\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n    static bounds(left, top, right, bottom) {\r\n        return new Rect(left, top, right - left, bottom - top);\r\n    }\r\n    static max(rect1, rect2) {\r\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\r\n    }\r\n    get left() {\r\n        return this._left;\r\n    }\r\n    set left(left) {\r\n        const { right } = this;\r\n        this._left = left;\r\n        this.right = right;\r\n    }\r\n    get top() {\r\n        return this._top;\r\n    }\r\n    set top(top) {\r\n        const { bottom } = this;\r\n        this._top = top;\r\n        this.bottom = bottom;\r\n    }\r\n    get width() {\r\n        return this._width;\r\n    }\r\n    set width(width) {\r\n        this._width = width;\r\n        this._right = undefined;\r\n    }\r\n    get height() {\r\n        return this._height;\r\n    }\r\n    set height(height) {\r\n        this._height = height;\r\n        this._bottom = undefined;\r\n    }\r\n    get right() {\r\n        return this._right !== undefined\r\n            ? this._right\r\n            : (this._right = this.left + this.width);\r\n    }\r\n    set right(right) {\r\n        this._right = right;\r\n        this.width = right - this.left;\r\n    }\r\n    get bottom() {\r\n        return this._bottom !== undefined\r\n            ? this._bottom\r\n            : (this._bottom = this.top + this.height);\r\n    }\r\n    set bottom(bottom) {\r\n        this._bottom = bottom;\r\n        this.height = bottom - this.top;\r\n    }\r\n    offsetLeft(offset) {\r\n        this._left += offset;\r\n        this._right = undefined;\r\n    }\r\n    offsetTop(offset) {\r\n        this._top += offset;\r\n        this._bottom = undefined;\r\n    }\r\n    copy() {\r\n        return new Rect(this.left, this.top, this.width, this.height);\r\n    }\r\n    intersection(rect) {\r\n        const x0 = Math.max(this.left, rect.left);\r\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\r\n        if (x0 <= x1) {\r\n            const y0 = Math.max(this.top, rect.top);\r\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\r\n            if (y0 <= y1) {\r\n                return Rect.bounds(x0, y0, x1, y1);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    contains(another) {\r\n        return (this.left <= another.left &&\r\n            this.left + this.width >= another.left + another.width &&\r\n            this.top <= another.top &&\r\n            this.top + this.height >= another.top + another.height);\r\n    }\r\n    inPoint(x, y) {\r\n        return (this.left <= x &&\r\n            this.left + this.width >= x &&\r\n            this.top <= y &&\r\n            this.top + this.height >= y);\r\n    }\r\n}\r\nexports.Rect = Rect;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scrollable = void 0;\r\nconst style = __importStar(require(\"./style\"));\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\r\nclass Scrollable {\r\n    constructor() {\r\n        this._p = 1;\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        this._scrollable = document.createElement(\"div\");\r\n        this._scrollable.classList.add(\"grid-scrollable\");\r\n        this._height = 0;\r\n        this._width = 0;\r\n        this._endPointElement = document.createElement(\"div\");\r\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\r\n        this._update();\r\n        this._scrollable.appendChild(this._endPointElement);\r\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\r\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\r\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\r\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\r\n        // this.scrollTop += delta < 0 ? point : -point;\r\n        // });\r\n    }\r\n    calcTop(top) {\r\n        const relativeTop = top - this.scrollTop;\r\n        return this._scrollable.scrollTop + relativeTop;\r\n    }\r\n    getElement() {\r\n        return this._scrollable;\r\n    }\r\n    setScrollSize(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollWidth() {\r\n        return this._width;\r\n    }\r\n    set scrollWidth(width) {\r\n        this._width = width;\r\n        this._update();\r\n    }\r\n    get scrollHeight() {\r\n        return this._height;\r\n    }\r\n    set scrollHeight(height) {\r\n        this._height = height;\r\n        this._update();\r\n    }\r\n    get scrollLeft() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\r\n    }\r\n    set scrollLeft(scrollLeft) {\r\n        this._scrollable.scrollLeft = scrollLeft;\r\n    }\r\n    get scrollTop() {\r\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\r\n    }\r\n    set scrollTop(scrollTop) {\r\n        this._scrollable.scrollTop = scrollTop * this._p;\r\n    }\r\n    onScroll(fn) {\r\n        this._handler.on(this._scrollable, \"scroll\", fn);\r\n    }\r\n    dispose() {\r\n        this._handler.dispose();\r\n    }\r\n    _update() {\r\n        let domHeight;\r\n        const { offsetHeight, offsetWidth } = this._scrollable;\r\n        if (this._height > MAX_SCROLL) {\r\n            const sbSize = style.getScrollBarSize();\r\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\r\n            const rScrollRange = this._height - offsetHeight + sbSize;\r\n            this._p = vScrollRange / rScrollRange;\r\n            domHeight = MAX_SCROLL;\r\n        }\r\n        else {\r\n            this._p = 1;\r\n            domHeight = this._height;\r\n        }\r\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\r\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\r\n        // Sets the maximum value to the scroll position\r\n        // if the current scroll position exceeds the maximum value.\r\n        if (this.scrollTop > this.scrollHeight - offsetHeight) {\r\n            this.scrollTop = this.scrollHeight - offsetHeight;\r\n        }\r\n        if (this.scrollLeft > this.scrollWidth - offsetWidth) {\r\n            this.scrollLeft = this.scrollWidth - offsetWidth;\r\n        }\r\n    }\r\n}\r\nexports.Scrollable = Scrollable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.animate = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction cubicBezier(x2, y2, x3, y3) {\r\n    let step;\r\n    const err = 0.0001;\r\n    x2 *= 3;\r\n    y2 *= 3;\r\n    x3 *= 3;\r\n    y3 *= 3;\r\n    return function (t) {\r\n        let p, a, b, c, d, x, s;\r\n        if (t < 0 || 1 < t) {\r\n            throw new Error(`${t}`);\r\n        }\r\n        p = step || t;\r\n        do {\r\n            a = 1 - p;\r\n            b = a * a;\r\n            c = p * p;\r\n            d = c * p;\r\n            x = x2 * b * p + x3 * a * c + d;\r\n            s = t - x;\r\n            p += s * 0.5;\r\n        } while (err < Math.abs(s));\r\n        step = p;\r\n        return y2 * b * p + y3 * a * c + d;\r\n    };\r\n}\r\nconst EASINGS = {\r\n    linear(p) {\r\n        return p;\r\n    },\r\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\r\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\r\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\r\n};\r\nconst raf = (utils_1.isNode\r\n    ? () => { }\r\n    : window.requestAnimationFrame ||\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        ((fn) => setTimeout(fn, 1)));\r\nfunction now() {\r\n    return Date.now();\r\n}\r\n/**\r\n * <pre>\r\n * Animates.\r\n * </pre>\r\n * @function\r\n * @param {number} duration animation time.\r\n * @param {function} step step\r\n * @param {function|string} easing easing\r\n * @returns {object} Deferred object.\r\n */\r\nfunction animate(duration, step, easing) {\r\n    const startedAt = now();\r\n    const easingFn = easing == null\r\n        ? EASINGS.easeInOut\r\n        : typeof easing === \"string\"\r\n            ? EASINGS[easing]\r\n            : easing;\r\n    let canceledFlg = false;\r\n    const createAnim = (resolve, reject) => {\r\n        const anim = () => {\r\n            const point = now() - startedAt;\r\n            if (canceledFlg) {\r\n                //cancel\r\n                if (reject) {\r\n                    reject();\r\n                }\r\n            }\r\n            else if (point >= duration) {\r\n                //end\r\n                step(1);\r\n                if (resolve) {\r\n                    resolve();\r\n                }\r\n            }\r\n            else {\r\n                step(easingFn(point / duration));\r\n                raf(anim);\r\n            }\r\n        };\r\n        return anim;\r\n    };\r\n    const cancel = () => {\r\n        canceledFlg = true;\r\n    };\r\n    if (typeof Promise !== \"undefined\") {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const result = new Promise((resolve, reject) => {\r\n            const anim = createAnim(resolve, reject);\r\n            step(0);\r\n            anim();\r\n        });\r\n        result.cancel = cancel;\r\n        return result;\r\n    }\r\n    else {\r\n        const anim = createAnim(() => { }, () => { });\r\n        step(0);\r\n        anim();\r\n        return {\r\n            cancel,\r\n        };\r\n    }\r\n}\r\nexports.animate = animate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toPx = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst TYPE_PAREN = 0;\r\nconst TYPE_UNIT = 1;\r\nconst TYPE_OPERATOR = 2;\r\nconst TYPE_NUMBER = 3;\r\nconst NODE_TYPE_UNIT = 10;\r\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\r\nconst NODE_TYPE_NUMBER = 12;\r\nconst TABULATION = 0x09;\r\nconst CARRIAGE_RETURN = 0x0d;\r\nconst LINE_FEED = 0x0a;\r\nconst FORM_FEED = 0x0c;\r\nconst SPACE = 0x20;\r\nconst PERCENT = 0x25;\r\nconst FULL_STOP = 0x2e;\r\nconst DIGIT_0 = 0x30;\r\nconst DIGIT_9 = 0x39;\r\nconst LATIN_CAPITAL_A = 0x41;\r\nconst LATIN_CAPITAL_Z = 0x5a;\r\nconst LATIN_SMALL_A = 0x61;\r\nconst LATIN_SMALL_Z = 0x7a;\r\nfunction isUpperLetter(cp) {\r\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\r\n}\r\nfunction isLowerLetter(cp) {\r\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\r\n}\r\nfunction isLetter(cp) {\r\n    return isLowerLetter(cp) || isUpperLetter(cp);\r\n}\r\nfunction isWhitespace(cp) {\r\n    return (cp === TABULATION ||\r\n        cp === LINE_FEED ||\r\n        cp === FORM_FEED ||\r\n        cp === CARRIAGE_RETURN ||\r\n        cp === SPACE);\r\n}\r\nfunction isDigit(cp) {\r\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\r\n}\r\nfunction isDot(cp) {\r\n    return cp === FULL_STOP;\r\n}\r\nfunction isUnit(cp) {\r\n    return isLetter(cp) || cp === PERCENT;\r\n}\r\nfunction createError(calc) {\r\n    return new Error(`calc parse error: ${calc}`);\r\n}\r\n/**\r\n * tokenize\r\n * @param {string} calc calc expression\r\n * @returns {Array} tokens\r\n * @private\r\n */\r\nfunction tokenize(calc) {\r\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\r\n    const tokens = [];\r\n    const len = exp.length;\r\n    for (let index = 0; index < len; index++) {\r\n        const c = exp[index];\r\n        const cp = c.charCodeAt(0);\r\n        if (c === \"(\" || c === \")\") {\r\n            tokens.push({ value: c, type: TYPE_PAREN });\r\n        }\r\n        else if (c === \"*\" || c === \"/\") {\r\n            tokens.push({ value: c, type: TYPE_OPERATOR });\r\n        }\r\n        else if (c === \"+\" || c === \"-\") {\r\n            index = parseSign(c, index + 1) - 1;\r\n        }\r\n        else if (isDigit(cp) || isDot(cp)) {\r\n            index = parseNum(c, index + 1) - 1;\r\n        }\r\n        else if (isWhitespace(cp)) {\r\n            // skip\r\n        }\r\n        else {\r\n            throw createError(calc);\r\n        }\r\n    }\r\n    function parseSign(sign, start) {\r\n        if (start < len) {\r\n            const c = exp[start];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp) || isDot(cp)) {\r\n                return parseNum(sign + c, start + 1);\r\n            }\r\n        }\r\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\r\n        return start;\r\n    }\r\n    function parseNum(num, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isDigit(cp)) {\r\n                num += c;\r\n            }\r\n            else if (c === \".\") {\r\n                if (num.indexOf(\".\") >= 0) {\r\n                    throw createError(calc);\r\n                }\r\n                num += c;\r\n            }\r\n            else if (isUnit(cp)) {\r\n                return parseUnit(num, c, index + 1);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (num === \".\") {\r\n            throw createError(calc);\r\n        }\r\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\r\n        return index;\r\n    }\r\n    function parseUnit(num, unit, start) {\r\n        let index = start;\r\n        for (; index < len; index++) {\r\n            const c = exp[index];\r\n            const cp = c.charCodeAt(0);\r\n            if (isUnit(cp)) {\r\n                unit += c;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\r\n        return index;\r\n    }\r\n    return tokens;\r\n}\r\nconst PRECEDENCE = {\r\n    \"*\": 3,\r\n    \"/\": 3,\r\n    \"+\": 2,\r\n    \"-\": 2,\r\n};\r\nfunction lex(tokens, calc) {\r\n    function buildBinaryExpNode(stack) {\r\n        const right = stack.pop();\r\n        const op = stack.pop();\r\n        const left = stack.pop();\r\n        if (!left ||\r\n            !left.nodeType ||\r\n            !op ||\r\n            op.type !== TYPE_OPERATOR ||\r\n            !right ||\r\n            !right.nodeType) {\r\n            throw createError(calc);\r\n        }\r\n        return {\r\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\r\n            left,\r\n            op,\r\n            right,\r\n        };\r\n    }\r\n    const stack = [];\r\n    while (tokens.length) {\r\n        const token = tokens.shift();\r\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\r\n            let deep = 0;\r\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\r\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\r\n                    deep++;\r\n                }\r\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\r\n                    if (!deep) {\r\n                        return true;\r\n                    }\r\n                    deep--;\r\n                }\r\n                return false;\r\n            });\r\n            if (closeIndex === -1) {\r\n                throw createError(calc);\r\n            }\r\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\r\n            tokens.shift();\r\n        }\r\n        else if (token.type === TYPE_OPERATOR) {\r\n            if (stack.length >= 3) {\r\n                const beforeOp = stack[stack.length - 2].value;\r\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\r\n                    stack.push(buildBinaryExpNode(stack));\r\n                }\r\n            }\r\n            stack.push(token);\r\n        }\r\n        else if (token.type === TYPE_UNIT) {\r\n            const { value: num, unit } = token;\r\n            stack.push({\r\n                nodeType: NODE_TYPE_UNIT,\r\n                value: num,\r\n                unit,\r\n            });\r\n        }\r\n        else if (token.type === TYPE_NUMBER) {\r\n            stack.push({\r\n                nodeType: NODE_TYPE_NUMBER,\r\n                value: token.value,\r\n            });\r\n        }\r\n    }\r\n    while (stack.length > 1) {\r\n        stack.push(buildBinaryExpNode(stack));\r\n    }\r\n    return stack[0];\r\n}\r\nfunction parse(calcStr) {\r\n    const tokens = tokenize(calcStr);\r\n    return lex(tokens, calcStr);\r\n}\r\nfunction calcNode(node, context) {\r\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\r\n        const left = calcNode(node.left, context);\r\n        const right = calcNode(node.right, context);\r\n        switch (node.op.value) {\r\n            case \"+\":\r\n                return left + right;\r\n            case \"-\":\r\n                return left - right;\r\n            case \"*\":\r\n                return left * right;\r\n            case \"/\":\r\n                return left / right;\r\n            default:\r\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_UNIT) {\r\n        switch (node.unit) {\r\n            case \"%\":\r\n                return (node.value * context.full) / 100;\r\n            case \"em\":\r\n                return node.value * context.em;\r\n            case \"px\":\r\n                return node.value;\r\n            default:\r\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\r\n        }\r\n    }\r\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\r\n        return node.value;\r\n    }\r\n    throw new Error(\"calc error.\");\r\n}\r\nfunction toPxInternal(value, context) {\r\n    const ast = parse(value);\r\n    return calcNode(ast, context);\r\n}\r\nfunction toPx(value, context) {\r\n    if (typeof value === \"string\") {\r\n        return toPxInternal(value.trim(), context);\r\n    }\r\n    return value - 0;\r\n}\r\nexports.toPx = toPx;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\r\nconst fontSizeCache = {};\r\nfunction getFontSize(ctx, font) {\r\n    const fontName = font || ctx.font;\r\n    if (fontSizeCache[fontName]) {\r\n        return fontSizeCache[fontName];\r\n    }\r\n    const bk = ctx.font;\r\n    try {\r\n        ctx.font = fontName;\r\n        const em = ctx.measureText(\"\").width;\r\n        return (fontSizeCache[fontName] = {\r\n            width: em,\r\n            height: em,\r\n        });\r\n    }\r\n    finally {\r\n        ctx.font = bk;\r\n    }\r\n}\r\nexports.getFontSize = getFontSize;\r\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    return calcStartPosition(ctx, rect, 0, 0, {\r\n        offset,\r\n        padding: {\r\n            left: paddingLeft,\r\n            right: paddingRight,\r\n            top: paddingTop,\r\n            bottom: paddingBottom,\r\n        },\r\n    });\r\n}\r\nexports.calcBasePosition = calcBasePosition;\r\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\r\n    const textAlign = ctx.textAlign || \"left\";\r\n    const textBaseline = ctx.textBaseline || \"middle\";\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    let x = rect.left + offset + paddingLeft;\r\n    if (textAlign === \"right\" || textAlign === \"end\") {\r\n        x = rect.right - width - offset - paddingRight;\r\n    }\r\n    else if (textAlign === \"center\") {\r\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\r\n    }\r\n    let y = rect.top + offset + paddingTop;\r\n    if (textBaseline === \"bottom\" ||\r\n        textBaseline === \"alphabetic\" ||\r\n        textBaseline === \"ideographic\") {\r\n        y = rect.bottom - height - offset - paddingBottom;\r\n    }\r\n    else if (textBaseline === \"middle\") {\r\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\r\n    }\r\n    return { x, y };\r\n}\r\nexports.calcStartPosition = calcStartPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.colorToRGB = void 0;\r\nconst rgbMap = {};\r\nfunction styleColorToRGB(color) {\r\n    const dummy = document.createElement(\"div\");\r\n    const { style } = dummy;\r\n    style.color = color;\r\n    style.position = \"fixed\";\r\n    style.height = \"1px\";\r\n    style.width = \"1px\";\r\n    style.opacity = \"0\";\r\n    document.body.appendChild(dummy);\r\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\r\n    document.body.removeChild(dummy);\r\n    return colorToRGB0(styleColor || \"\");\r\n}\r\nfunction hexToNum(hex) {\r\n    return parseInt(hex, 16);\r\n}\r\nfunction createRGB(r, g, b, a = 1) {\r\n    return { r, g, b, a };\r\n}\r\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\r\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\r\n}\r\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\r\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\r\n}\r\nfunction testRGB({ r, g, b, a }) {\r\n    return (0 <= r &&\r\n        r <= 255 &&\r\n        0 <= g &&\r\n        g <= 255 &&\r\n        0 <= b &&\r\n        b <= 255 &&\r\n        0 <= a &&\r\n        a <= 1);\r\n}\r\nfunction rateToByte(r) {\r\n    return Math.ceil((r * 255) / 100);\r\n}\r\nconst numberPattern = /((?:\\+|-)?(?:\\d+(?:\\.\\d+)?|\\.\\d+))/.source;\r\nconst percentPattern = `${numberPattern}%`;\r\nconst maybePercentPattern = `${numberPattern}(%?)`;\r\nfunction buildRgbWithCommaRegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbLv4RegExp(bytePattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaWithCommaRegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${bytePattern}\\\\s*,\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction buildRgbaLv4RegExp(bytePattern, alphaPattern) {\r\n    return new RegExp(`^rgba?\\\\(\\\\s*${bytePattern}\\\\s+${bytePattern}\\\\s+${bytePattern}\\\\s*/\\\\s*${alphaPattern}\\\\s*\\\\)$`, \"i\");\r\n}\r\nfunction colorToRGB0(color) {\r\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\r\n        return tripleHexToRGB(color);\r\n    }\r\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\r\n        return sextupleHexToRGB(color);\r\n    }\r\n    let ret = buildRgbWithCommaRegExp(numberPattern).exec(color) ||\r\n        buildRgbLv4RegExp(numberPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbWithCommaRegExp(percentPattern).exec(color) ||\r\n            buildRgbLv4RegExp(percentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(numberPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(numberPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    ret =\r\n        buildRgbaWithCommaRegExp(percentPattern, maybePercentPattern).exec(color) ||\r\n            buildRgbaLv4RegExp(percentPattern, maybePercentPattern).exec(color);\r\n    if (ret) {\r\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[2])), rateToByte(Number(ret[3])), Number(ret[4]) / (ret[5] /* % */ ? 100 : 1));\r\n        if (testRGB(rgb)) {\r\n            return rgb;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction colorToRGB(color) {\r\n    if (typeof color !== \"string\") {\r\n        return createRGB(0, 0, 0, 0);\r\n    }\r\n    color = color.toLowerCase().trim();\r\n    if (rgbMap[color]) {\r\n        return rgbMap[color];\r\n    }\r\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\r\n}\r\nexports.colorToRGB = colorToRGB;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\r\nfunction createElement(tagName, { classList, text, html, } = {}) {\r\n    const element = document.createElement(tagName);\r\n    if (classList) {\r\n        if (Array.isArray(classList)) {\r\n            element.classList.add(...classList);\r\n        }\r\n        else {\r\n            element.classList.add(classList);\r\n        }\r\n    }\r\n    if (text) {\r\n        element.textContent = text;\r\n    }\r\n    else if (html) {\r\n        element.innerHTML = html;\r\n    }\r\n    return element;\r\n}\r\nexports.createElement = createElement;\r\nfunction empty(dom) {\r\n    let c;\r\n    while ((c = dom.firstChild)) {\r\n        dom.removeChild(c);\r\n    }\r\n}\r\nexports.empty = empty;\r\nfunction isNode(arg) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return !!(arg.nodeType && arg.nodeName);\r\n}\r\nfunction toNode(arg) {\r\n    if (isNode(arg)) {\r\n        return arg;\r\n    }\r\n    const dom = createElement(\"div\", { html: arg });\r\n    return Array.prototype.slice.call(dom.childNodes);\r\n}\r\nfunction toNodeList(arg) {\r\n    if (Array.isArray(arg)) {\r\n        const result = [];\r\n        arg.forEach((e) => {\r\n            result.push(...toNodeList(e));\r\n        });\r\n        return result;\r\n    }\r\n    const node = toNode(arg);\r\n    return Array.isArray(node) ? node : [node];\r\n}\r\nexports.toNodeList = toNodeList;\r\nfunction appendHtml(dom, inner) {\r\n    toNodeList(inner).forEach((node) => {\r\n        dom.appendChild(node);\r\n    });\r\n}\r\nexports.appendHtml = appendHtml;\r\nfunction disableFocus(el) {\r\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\r\n    el.tabIndex = -1;\r\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\r\n}\r\nexports.disableFocus = disableFocus;\r\nfunction enableFocus(el) {\r\n    if (\"disableBeforeTabIndex\" in el.dataset) {\r\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\r\n    }\r\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\r\n}\r\nexports.enableFocus = enableFocus;\r\nfunction isFocusable(el) {\r\n    return (el.tabIndex != null && el.tabIndex > -1);\r\n}\r\nexports.isFocusable = isFocusable;\r\nfunction findPrevSiblingFocusable(el) {\r\n    let n = el.previousSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.previousSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\r\nfunction findNextSiblingFocusable(el) {\r\n    let n = el.nextSibling;\r\n    while (n && !isFocusable(n)) {\r\n        n = n.nextSibling;\r\n    }\r\n    return n;\r\n}\r\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.load = exports.check = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nconst loads = {};\r\nlet load;\r\nexports.load = load;\r\nlet check;\r\nexports.check = check;\r\nif (utils_1.isNode) {\r\n    exports.load = load = function (_font, _testStr, callback) {\r\n        callback();\r\n    };\r\n    exports.check = check = function () {\r\n        return false;\r\n    };\r\n}\r\nelse {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const fontFaceSet = document.fonts;\r\n    const legacy = !fontFaceSet;\r\n    exports.load = load = legacy\r\n        ? function (font, testStr, callback) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                callback();\r\n                return;\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            }, () => {\r\n                loads[`${font} @ ${testStr}`] = true;\r\n                callback();\r\n            });\r\n        }\r\n        : function (font, _testStr, callback) {\r\n            if (loads.all || loads[font]) {\r\n                callback();\r\n                return;\r\n            }\r\n            fontFaceSet.ready.then(() => {\r\n                loads.all = true;\r\n            });\r\n            fontFaceSet.load(font).then(() => {\r\n                loads[font] = true;\r\n                callback();\r\n            });\r\n        };\r\n    exports.check = check = legacy\r\n        ? function (font, testStr) {\r\n            //for legacy(IE)\r\n            if (loads[`${font} @ ${testStr}`]) {\r\n                return true;\r\n            }\r\n            load(font, testStr, () => { });\r\n            return false;\r\n        }\r\n        : function (font, testStr) {\r\n            if (loads.all || loads[font]) {\r\n                return true;\r\n            }\r\n            if (!fontFaceSet.check(font)) {\r\n                load(font, testStr, () => { });\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.transform = void 0;\r\nconst EventHandler_1 = require(\"./EventHandler\");\r\nconst utils_1 = require(\"./utils\");\r\nconst handler = new EventHandler_1.EventHandler();\r\nlet ratio = 1;\r\nfunction setRatio() {\r\n    if (utils_1.isNode) {\r\n        ratio = 1;\r\n    }\r\n    else {\r\n        ratio = Math.ceil(window.devicePixelRatio || 1);\r\n        if (ratio > 1 && ratio % 2 !== 0) {\r\n            ratio += 1;\r\n        }\r\n    }\r\n}\r\nsetRatio();\r\nif (!utils_1.isNode) {\r\n    handler.on(window, \"resize\", setRatio);\r\n}\r\nfunction transform(canvas) {\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const { getAttribute, setAttribute } = canvas;\r\n    canvas.getAttribute = function (name) {\r\n        let result = getAttribute.call(this, name);\r\n        if (name === \"width\" || name === \"height\") {\r\n            result = `${Number(result) / ratio}`;\r\n        }\r\n        return result;\r\n    };\r\n    canvas.setAttribute = function (name, val) {\r\n        const wh = name === \"width\" || name === \"height\";\r\n        if (wh) {\r\n            val = `${Number(val) * ratio}`;\r\n        }\r\n        const result = setAttribute.call(this, name, val);\r\n        if (wh) {\r\n            ctx.scale(ratio, ratio);\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(canvas, \"width\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"width\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(canvas, \"height\", {\r\n        get() {\r\n            return Number(canvas.getAttribute(\"height\"));\r\n        },\r\n        set: (val) => {\r\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    const { drawImage } = ctx;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ctx.drawImage = function (img, ...args) {\r\n        if (img !== canvas || ratio === 1) {\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        this.save();\r\n        try {\r\n            this.scale(1 / ratio, 1 / ratio);\r\n            if (args.length > 4) {\r\n                args[4] *= ratio;\r\n                args[5] *= ratio;\r\n            }\r\n            else {\r\n                args[0] *= ratio;\r\n                args[1] *= ratio;\r\n            }\r\n            return drawImage.call(this, img, ...args);\r\n        }\r\n        finally {\r\n            this.restore();\r\n        }\r\n    };\r\n    return canvas;\r\n}\r\nexports.transform = transform;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.iconPropKeys = exports.toNormalizeArray = exports.getIconProps = void 0;\r\nconst ICON_PROP_KEYS = [\r\n    \"content\",\r\n    \"font\",\r\n    \"color\",\r\n    \"className\",\r\n    \"tagName\",\r\n    \"isLiga\",\r\n    \"width\",\r\n    \"src\",\r\n    \"svg\",\r\n    \"name\",\r\n    \"path\",\r\n    \"offsetTop\",\r\n    \"offsetLeft\",\r\n];\r\nfunction quote(name) {\r\n    const quoted = [];\r\n    const split = name.split(/,\\s*/);\r\n    for (let i = 0; i < split.length; i++) {\r\n        const part = split[i].replace(/['\"]/g, \"\");\r\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\r\n            quoted.push(part);\r\n        }\r\n        else {\r\n            quoted.push(`'${part}'`);\r\n        }\r\n    }\r\n    return quoted.join(\",\");\r\n}\r\nconst doms = {};\r\nconst props = {};\r\nfunction getIconProps(tagName, className) {\r\n    const tagProps = props[tagName] || (props[tagName] = {});\r\n    if (tagProps[className]) {\r\n        return tagProps[className];\r\n    }\r\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\r\n    // `classList.add()` cannot be used because it may be separated by spaces.\r\n    dom.className = className;\r\n    dom.classList.add(\"cheetah-grid-icon\");\r\n    document.body.appendChild(dom);\r\n    try {\r\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\r\n        let content = beforeStyle.getPropertyValue(\"content\");\r\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\r\n            if (content[0] === content[content.length - 1]) {\r\n                content = content.slice(1, -1);\r\n            }\r\n        }\r\n        let font = beforeStyle.getPropertyValue(\"font\");\r\n        if (!font) {\r\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\r\n        }\r\n        const color = beforeStyle.getPropertyValue(\"color\");\r\n        const width = dom.clientWidth;\r\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\r\n        return (tagProps[className] = {\r\n            content,\r\n            font,\r\n            color,\r\n            width,\r\n            isLiga,\r\n        });\r\n    }\r\n    finally {\r\n        document.body.removeChild(dom);\r\n    }\r\n}\r\nexports.getIconProps = getIconProps;\r\nfunction toPropArray(prop, count) {\r\n    const result = [];\r\n    if (Array.isArray(prop)) {\r\n        result.push(...prop);\r\n        for (let i = prop.length; i < count; i++) {\r\n            result.push(null);\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 0; i < count; i++) {\r\n            result.push(prop);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction toSimpleArray(iconProps) {\r\n    if (!iconProps) {\r\n        return iconProps;\r\n    }\r\n    else if (Array.isArray(iconProps)) {\r\n        return iconProps;\r\n    }\r\n    const workData = {};\r\n    let count = 0;\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const prop = iconProps[k];\r\n        if (prop) {\r\n            if (Array.isArray(prop)) {\r\n                count = Math.max(count, prop.length);\r\n            }\r\n            else {\r\n                count = Math.max(count, 1);\r\n            }\r\n        }\r\n    });\r\n    ICON_PROP_KEYS.forEach((k) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const arr = toPropArray(iconProps[k], count);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        workData[k] = arr;\r\n    });\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const data = {};\r\n        ICON_PROP_KEYS.forEach((k) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const val = workData[k][i];\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = val;\r\n        });\r\n        result.push(data);\r\n    }\r\n    return result;\r\n}\r\nfunction normalize(iconProps) {\r\n    const data = {};\r\n    for (const k in iconProps) {\r\n        if (k === \"className\") {\r\n            continue;\r\n        }\r\n        if (isIconKey(k)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            data[k] = iconProps[k];\r\n        }\r\n    }\r\n    if (iconProps.className) {\r\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\r\n        for (const k in prop) {\r\n            if (isIconKey(k)) {\r\n                if (iconProps[k] == null) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    data[k] = prop[k];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\nfunction toNormalizeArray(iconProps) {\r\n    const icons = toSimpleArray(iconProps);\r\n    if (!icons) {\r\n        return icons;\r\n    }\r\n    return icons.map((icon) => normalize(icon));\r\n}\r\nexports.toNormalizeArray = toNormalizeArray;\r\nexports.iconPropKeys = ICON_PROP_KEYS;\r\nfunction isIconKey(k) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCacheOrLoad = exports.loadImage = void 0;\r\nconst LRUCache_1 = require(\"./LRUCache\");\r\nconst utils_1 = require(\"./utils\");\r\nconst allCache = {};\r\nfunction loadImage(src) {\r\n    if (typeof Promise === \"undefined\") {\r\n        console.error(\"Promise is not loaded. load Promise before this process.\");\r\n        return {\r\n            then() {\r\n                return this;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n    }\r\n    const img = new Image();\r\n    const result = new Promise((resolve) => {\r\n        img.onload = () => {\r\n            resolve(img);\r\n        };\r\n    });\r\n    img.onerror = () => {\r\n        const url = src.length > 200 ? `${src.slice(0, 200)}...` : src;\r\n        console.warn(`cannot load: ${url}`);\r\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\r\n    };\r\n    img.src = src;\r\n    return result;\r\n}\r\nexports.loadImage = loadImage;\r\nfunction getCacheOrLoad0(cache, src) {\r\n    return (0, utils_1.then)(src, (src) => {\r\n        const c = cache.get(src);\r\n        if (c) {\r\n            return c;\r\n        }\r\n        const result = loadImage(src).then((img) => {\r\n            cache.put(src, img);\r\n            return img;\r\n        });\r\n        cache.put(src, result);\r\n        return result;\r\n    });\r\n}\r\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\r\n    const cache = allCache[cacheName] ||\r\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\r\n    return getCacheOrLoad0(cache, src);\r\n}\r\nexports.getCacheOrLoad = getCacheOrLoad;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Path2DShim = void 0;\r\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\r\nconst parser = new PathCommandsParser_1.PathCommandsParser();\r\nclass Path2DShim {\r\n    arc(...args) {\r\n        this._ops.push({ op: \"arc\", args });\r\n    }\r\n    arcTo(...args) {\r\n        this._ops.push({ op: \"arcTo\", args });\r\n    }\r\n    bezierCurveTo(...args) {\r\n        this._ops.push({ op: \"bezierCurveTo\", args });\r\n    }\r\n    closePath(...args) {\r\n        this._ops.push({ op: \"closePath\", args });\r\n    }\r\n    ellipse(...args) {\r\n        this._ops.push({ op: \"ellipse\", args });\r\n    }\r\n    lineTo(...args) {\r\n        this._ops.push({ op: \"lineTo\", args });\r\n    }\r\n    moveTo(...args) {\r\n        this._ops.push({ op: \"moveTo\", args });\r\n    }\r\n    quadraticCurveTo(...args) {\r\n        this._ops.push({ op: \"quadraticCurveTo\", args });\r\n    }\r\n    rect(...args) {\r\n        this._ops.push({ op: \"rect\", args });\r\n    }\r\n    constructor(arg) {\r\n        this._ops = [];\r\n        if (arg === undefined) {\r\n            return;\r\n        }\r\n        if (typeof arg === \"string\") {\r\n            // try {\r\n            this._ops = parser.parse(arg);\r\n            // } catch (e) {\r\n            // \tthrow e;\r\n            // }\r\n        }\r\n        else if (arg.hasOwnProperty(\"_ops\")) {\r\n            this._ops = [...arg._ops];\r\n        }\r\n        else {\r\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\r\n        }\r\n    }\r\n    roundRect(_x, _y, _w, _h, _radii) {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}\r\nexports.Path2DShim = Path2DShim;\r\nconst { CanvasRenderingContext2D } = window;\r\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nCanvasRenderingContext2D.prototype.fill = function (...args) {\r\n    if (args[0] instanceof Path2DShim) {\r\n        const path = args[0];\r\n        this.beginPath();\r\n        path._ops.forEach((op) => {\r\n            const fn = this[op.op];\r\n            fn.apply(this, op.args);\r\n        });\r\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\r\n    }\r\n    else {\r\n        originalFill.apply(this, args);\r\n    }\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommands = void 0;\r\n/*eslint new-cap: \"off\"*/\r\nfunction mag(v) {\r\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n}\r\nfunction dot(u, v) {\r\n    return u[0] * v[0] + u[1] * v[1];\r\n}\r\nfunction ratio(u, v) {\r\n    return dot(u, v) / (mag(u) * mag(v));\r\n}\r\nfunction clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\nfunction angle(u, v) {\r\n    let sign = 1.0;\r\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\r\n        sign = -1.0;\r\n    }\r\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\r\n}\r\nfunction rotClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\r\n}\r\nfunction rotCounterClockwise(v, angle) {\r\n    const cost = Math.cos(angle);\r\n    const sint = Math.sin(angle);\r\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\r\n}\r\nfunction midPoint(u, v) {\r\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\r\n}\r\nfunction meanVec(u, v) {\r\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\r\n}\r\nfunction pointMul(u, v) {\r\n    return [u[0] * v[0], u[1] * v[1]];\r\n}\r\nfunction scale(c, v) {\r\n    return [c * v[0], c * v[1]];\r\n}\r\nfunction sum(u, v) {\r\n    return [u[0] + v[0], u[1] + v[1]];\r\n}\r\n// Convert an SVG elliptical arc to a series of canvas commands.\r\n//\r\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\r\n// rx, ry: radii of the ellipse.\r\n// phi: rotation of the ellipse.\r\n// fA: large arc flag.\r\n// fS: sweep flag.\r\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\r\n    // Convert from endpoint to center parametrization, as detailed in:\r\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n    if (rx === 0 || ry === 0) {\r\n        ctx.lineTo(x2, x1);\r\n        return;\r\n    }\r\n    phi *= Math.PI / 180.0;\r\n    rx = Math.abs(rx);\r\n    ry = Math.abs(ry);\r\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\r\n    const xPrime2 = pointMul(xPrime, xPrime);\r\n    let rx2 = Math.pow(rx, 2);\r\n    let ry2 = Math.pow(ry, 2);\r\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\r\n    if (lambda > 1) {\r\n        rx *= lambda;\r\n        ry *= lambda;\r\n        rx2 = Math.pow(rx, 2);\r\n        ry2 = Math.pow(ry, 2);\r\n    }\r\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\r\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\r\n    if (fA === fS) {\r\n        factor *= -1.0;\r\n    }\r\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\r\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\r\n    const x1UnitVector = [\r\n        (xPrime[0] - cPrime[0]) / rx,\r\n        (xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const x2UnitVector = [\r\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\r\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\r\n    ];\r\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\r\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\r\n    const start = theta;\r\n    const end = theta + deltaTheta;\r\n    ctx.save();\r\n    ctx.translate(c[0], c[1]);\r\n    ctx.rotate(phi);\r\n    ctx.scale(rx, ry);\r\n    ctx.arc(0, 0, 1, start, end, !fS);\r\n    ctx.restore();\r\n}\r\nclass PathCommands {\r\n    constructor(ctx) {\r\n        let lMx;\r\n        let lMy;\r\n        let lx = 0;\r\n        let ly = 0;\r\n        let reflected;\r\n        let lastCommand = \"\";\r\n        function makeReflected() {\r\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\r\n                return { x: lx, y: ly };\r\n            }\r\n            return reflected;\r\n        }\r\n        this.M = (px, py) => {\r\n            ctx.moveTo(px, py);\r\n            lMx = px;\r\n            lMy = py;\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"M\";\r\n            return this;\r\n        };\r\n        this.m = (px, py) => this.M(px + lx, py + ly);\r\n        this.L = (px, py) => {\r\n            ctx.lineTo(px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"L\";\r\n            return this;\r\n        };\r\n        this.l = (px, py) => this.L(px + lx, py + ly);\r\n        this.H = (px) => this.L(px, ly);\r\n        this.h = (px) => this.H(px + lx);\r\n        this.V = (py) => this.L(lx, py);\r\n        this.v = (py) => this.V(py + ly);\r\n        this.Z = () => {\r\n            ctx.closePath();\r\n            lx = lMx;\r\n            ly = lMy;\r\n            lastCommand = \"Z\";\r\n            return this;\r\n        };\r\n        this.z = () => this.Z();\r\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\r\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\r\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cp2x,\r\n                y: 2 * py - cp2y,\r\n            };\r\n            lastCommand = \"C\";\r\n            return this;\r\n        };\r\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\r\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\r\n        this.S = (cpx, cpy, px, py) => {\r\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\r\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\r\n        };\r\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\r\n        this.Q = (cpx, cpy, px, py) => {\r\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            reflected = {\r\n                x: 2 * px - cpx,\r\n                y: 2 * py - cpy,\r\n            };\r\n            lastCommand = \"Q\";\r\n            return this;\r\n        };\r\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\r\n        //T x y (or t dx dy)\r\n        this.T = (px, py) => {\r\n            const { x: cpx, y: cpy } = makeReflected();\r\n            return this.Q(cpx, cpy, px, py);\r\n        };\r\n        this.t = (px, py) => this.T(px + lx, py + ly);\r\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\r\n            const x1 = lx;\r\n            const y1 = ly;\r\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\r\n            lx = px;\r\n            ly = py;\r\n            lastCommand = \"A\";\r\n            return this;\r\n        };\r\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\r\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\r\n    }\r\n}\r\nexports.PathCommands = PathCommands;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathCommandsParser = void 0;\r\nconst PathCommands_1 = require(\"./PathCommands\");\r\nfunction pathTokens(d) {\r\n    let idx = 0;\r\n    return {\r\n        next() {\r\n            let s = \"\";\r\n            while (d.length > idx) {\r\n                const c = d[idx];\r\n                idx++;\r\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\r\n                    if (s) {\r\n                        return s;\r\n                    }\r\n                }\r\n                else {\r\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\r\n                    if (type === \"str\") {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                        return c;\r\n                    }\r\n                    if (\"-+\".indexOf(c) > -1) {\r\n                        if (s) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    if (c === \".\") {\r\n                        if (s.indexOf(\".\") > -1) {\r\n                            idx--;\r\n                            return s;\r\n                        }\r\n                    }\r\n                    s += c;\r\n                }\r\n            }\r\n            return s || null;\r\n        },\r\n    };\r\n}\r\nfunction command(builder, cmd, argsProvider) {\r\n    if (cmd.toUpperCase() === \"M\" ||\r\n        cmd.toUpperCase() === \"L\" ||\r\n        cmd.toUpperCase() === \"T\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\r\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\r\n        builder.command(cmd, argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"Z\") {\r\n        builder.command(cmd);\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"C\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else if (cmd.toUpperCase() === \"A\") {\r\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\r\n        return cmd;\r\n    }\r\n    else {\r\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\r\n        console.warn(`unsupported:${cmd}`);\r\n    }\r\n    return null;\r\n}\r\nclass PathCommandsParser {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this._ops = [];\r\n        this._commands = new PathCommands_1.PathCommands(this);\r\n        const buildPush = (op) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (...args) => {\r\n            this._ops.push({\r\n                op,\r\n                args,\r\n            });\r\n        };\r\n        this.moveTo = buildPush(\"moveTo\");\r\n        this.lineTo = buildPush(\"lineTo\");\r\n        this.closePath = buildPush(\"closePath\");\r\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\r\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\r\n        this.save = buildPush(\"save\");\r\n        this.translate = buildPush(\"translate\");\r\n        this.rotate = buildPush(\"rotate\");\r\n        this.scale = buildPush(\"scale\");\r\n        this.arc = buildPush(\"arc\");\r\n        this.restore = buildPush(\"restore\");\r\n        this.arcTo = buildPush(\"arcTo\");\r\n        this.ellipse = buildPush(\"ellipse\");\r\n        this.rect = buildPush(\"rect\");\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    command(name, ...args) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const numArgs = args || [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            numArgs[i] -= 0;\r\n        }\r\n        const command = this._commands[name];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        command.apply(this, numArgs);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    parse(d) {\r\n        const ops = (this._ops = []);\r\n        const tokens = pathTokens(d);\r\n        try {\r\n            let cmd;\r\n            let subsequentCommand = \"Z\";\r\n            while ((cmd = tokens.next())) {\r\n                if (!isNaN(Number(cmd))) {\r\n                    let fst = true;\r\n                    const argsProvider = {\r\n                        next() {\r\n                            if (fst) {\r\n                                fst = false;\r\n                                return cmd;\r\n                            }\r\n                            return tokens.next();\r\n                        },\r\n                    };\r\n                    subsequentCommand =\r\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\r\n                }\r\n                else {\r\n                    subsequentCommand =\r\n                        command(this, cmd, tokens) || \"Z\";\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(`Error: ${d}`);\r\n            throw e;\r\n        }\r\n        return ops;\r\n    }\r\n}\r\nexports.PathCommandsParser = PathCommandsParser;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FontRuler = void 0;\r\nfunction computeStyle(font) {\r\n    return [\r\n        {\r\n            display: \"block\",\r\n            position: \"absolute\",\r\n            top: \"-9999px\",\r\n            left: \"-9999px\",\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            margin: \"0\",\r\n            padding: \"0\",\r\n            \"white-space\": \"nowrap\",\r\n            font,\r\n        },\r\n        {\r\n            \"font-variant\": \"normal\",\r\n            \"font-size\": \"300px\",\r\n            \"font-style\": \"normal\",\r\n            \"font-weight\": \"400\",\r\n            \"line-height\": \"normal\",\r\n        },\r\n    ];\r\n}\r\nclass FontRuler {\r\n    constructor(font, testStr) {\r\n        const e = document.createElement(\"span\");\r\n        e.setAttribute(\"aria-hidden\", \"true\");\r\n        e.textContent = testStr || \"BESbswy\";\r\n        computeStyle(font).forEach((style) => {\r\n            for (const k in style) {\r\n                const key = k;\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                e.style[key] = style[key];\r\n            }\r\n        });\r\n        document.body.appendChild(e);\r\n        this.el_ = e;\r\n    }\r\n    getWidth() {\r\n        return this.el_.offsetWidth;\r\n    }\r\n    remove() {\r\n        document.body.removeChild(this.el_);\r\n    }\r\n}\r\nexports.FontRuler = FontRuler;\r\n","\"use strict\";\r\n//see https://github.com/typekit/webfontloader\r\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\r\nconst FontRuler_1 = require(\"./FontRuler\");\r\nconst LastResortFonts = {\r\n    SERIF: \"serif\",\r\n    SANS_SERIF: \"sans-serif\",\r\n};\r\nconst watchRunners = {};\r\nclass FontWatchRunner {\r\n    static load(font, testStr, activeCallback, inactiveCallback) {\r\n        const c = watchRunners[font] || (watchRunners[font] = {});\r\n        testStr += \"\";\r\n        let runner;\r\n        if (c[testStr]) {\r\n            runner = c[testStr];\r\n        }\r\n        else {\r\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\r\n        }\r\n        runner.then(activeCallback, inactiveCallback);\r\n    }\r\n    constructor(font, testStr) {\r\n        this.activeCallbacks = [];\r\n        this.inactiveCallbacks = [];\r\n        this.status = null;\r\n        this.lastResortWidths_ = {};\r\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\r\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\r\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\r\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\r\n        //start\r\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\r\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] =\r\n            lastResortRulerB.getWidth();\r\n        lastResortRulerA.remove();\r\n        lastResortRulerB.remove();\r\n        this.started_ = Date.now();\r\n        this.check_();\r\n    }\r\n    then(activeCallback, inactiveCallback) {\r\n        if (this.status) {\r\n            if (this.status !== \"ng\") {\r\n                activeCallback();\r\n            }\r\n            else {\r\n                inactiveCallback();\r\n            }\r\n        }\r\n        else {\r\n            this.activeCallbacks.push(activeCallback);\r\n            this.inactiveCallbacks.push(inactiveCallback);\r\n        }\r\n    }\r\n    check_() {\r\n        const widthA = this.fontRulerA_.getWidth();\r\n        const widthB = this.fontRulerB_.getWidth();\r\n        if (this.isFallbackFont_(widthA, widthB) ||\r\n            this.isLastResortFont_(widthA, widthB)) {\r\n            if (Date.now() - this.started_ >= 3000) {\r\n                // timeout\r\n                if (this.isLastResortFont_(widthA, widthB)) {\r\n                    this.finish_(this.activeCallbacks);\r\n                    this.status = \"ok\";\r\n                }\r\n                else {\r\n                    this.finish_(this.inactiveCallbacks);\r\n                    this.status = \"ng\";\r\n                }\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this.check_();\r\n                }, 50);\r\n            }\r\n        }\r\n        else {\r\n            this.finish_(this.activeCallbacks);\r\n            this.status = \"ok\";\r\n        }\r\n    }\r\n    isFallbackFont_(a, b) {\r\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\r\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\r\n    }\r\n    widthsMatchLastResortWidths_(a, b) {\r\n        for (const font in LastResortFonts) {\r\n            if (LastResortFonts.hasOwnProperty(font)) {\r\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\r\n                    this.widthMatches_(b, LastResortFonts[font])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    widthMatches_(width, lastResortFont) {\r\n        return width === this.lastResortWidths_[lastResortFont];\r\n    }\r\n    isLastResortFont_(a, b) {\r\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\r\n    }\r\n    finish_(callbacks) {\r\n        setTimeout(() => {\r\n            this.fontRulerA_.remove();\r\n            this.fontRulerB_.remove();\r\n            callbacks.forEach((cb) => cb());\r\n        }, 0);\r\n    }\r\n}\r\nlet HAS_WEBKIT_FALLBACK_BUG = null;\r\nfunction hasWebKitFallbackBug() {\r\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\r\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\r\n        HAS_WEBKIT_FALLBACK_BUG =\r\n            !!match &&\r\n                (parseInt(match[1], 10) < 536 ||\r\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\r\n    }\r\n    return HAS_WEBKIT_FALLBACK_BUG;\r\n}\r\nmodule.exports = FontWatchRunner;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.normalizeToFn = exports.normalize = void 0;\r\n/** @private */\r\nfunction extend(a, b) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const o = {};\r\n    for (const k in a) {\r\n        o[k] = a[k];\r\n    }\r\n    for (const k in b) {\r\n        o[k] = b[k];\r\n    }\r\n    return o;\r\n}\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalize(options) {\r\n    if (!options) {\r\n        return [];\r\n    }\r\n    if (Array.isArray(options)) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return options.map(\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (e) => extend(e, { label: e.caption || e.label }));\r\n    }\r\n    if (typeof options === \"string\") {\r\n        return normalize(JSON.parse(options));\r\n    }\r\n    const result = [];\r\n    for (const k in options) {\r\n        result.push({\r\n            value: k,\r\n            label: options[k],\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.normalize = normalize;\r\n/**\r\n * Normalize the given menu options.\r\n * @param {*} options menu options to given\r\n * @returns {Array} Normalized options\r\n * @private\r\n */\r\nfunction normalizeToFn(options) {\r\n    if (typeof options === \"function\") {\r\n        return (record) => normalize(options(record));\r\n    }\r\n    return () => normalize(options);\r\n}\r\nexports.normalizeToFn = normalizeToFn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parsePasteRangeBoxValues = exports.normalizePasteValue = void 0;\r\nfunction normalizePasteValue(text) {\r\n    return text[text.length - 1] !== \"\\n\"\r\n        ? text\r\n        : text[text.length - 2] === \"\\r\"\r\n            ? text.slice(0, -2)\r\n            : text.slice(0, -1);\r\n}\r\nexports.normalizePasteValue = normalizePasteValue;\r\nfunction parsePasteRangeBoxValues(value, option) {\r\n    const normalizedValue = normalizePasteValue(value);\r\n    const { values, colCount } = parseValues(normalizedValue, option);\r\n    return {\r\n        colCount,\r\n        rowCount: values.length,\r\n        getCellValue(offsetCol, offsetRow) {\r\n            var _a, _b;\r\n            return (_b = (_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) !== null && _b !== void 0 ? _b : \"\";\r\n        },\r\n    };\r\n}\r\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\r\nfunction parseValues(text, { trimOnPaste }) {\r\n    const len = text.length;\r\n    const adjustCell = trimOnPaste\r\n        ? (cell) => cell.trim()\r\n        : (cell) => cell;\r\n    let colCount = 1;\r\n    let line = [];\r\n    const values = [line];\r\n    let cell = \"\";\r\n    for (let index = 0; index < len; index++) {\r\n        const char = text[index];\r\n        if (char === \"\\t\") {\r\n            line.push(adjustCell(cell));\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === \"\\n\") {\r\n            // End of line\r\n            cell = adjustCell(cell);\r\n            if (cell[cell.length - 1] === \"\\r\") {\r\n                cell = cell.slice(0, -1);\r\n            }\r\n            line.push(cell);\r\n            colCount = Math.max(colCount, line.length);\r\n            line = [];\r\n            values.push(line);\r\n            cell = \"\";\r\n            continue;\r\n        }\r\n        if (char === '\"' && !cell.trim()) {\r\n            const quoted = processQuotedCell(index + 1);\r\n            if (quoted) {\r\n                ({ cell } = quoted);\r\n                index = quoted.next - 1;\r\n                continue;\r\n            }\r\n        }\r\n        cell += char;\r\n    }\r\n    // End of text\r\n    line.push(adjustCell(cell));\r\n    colCount = Math.max(colCount, line.length);\r\n    return { values, colCount };\r\n    function processQuotedCell(start) {\r\n        let cell = \"\";\r\n        let index = start;\r\n        while (index < len) {\r\n            const char = text[index];\r\n            if (char !== '\"') {\r\n                cell += char;\r\n                index++;\r\n                continue;\r\n            }\r\n            if (text[index + 1] === '\"') {\r\n                // Escape\r\n                cell += '\"';\r\n                index += 2;\r\n                continue;\r\n            }\r\n            // Maybe end quote\r\n            let next = index + 1;\r\n            while (next < len) {\r\n                const c = text[next];\r\n                if (c.trim()) {\r\n                    // Not quoted. e.g. \"A\"B\r\n                    return null;\r\n                }\r\n                if (c === \"\\t\" || c === \"\\n\") {\r\n                    break;\r\n                }\r\n                // Allow spaces\r\n                next++;\r\n            }\r\n            // End quote\r\n            return { cell, next };\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fill = exports.getPath2D = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction getPath2D() {\r\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\r\n        return Path2D;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\r\n}\r\nexports.getPath2D = getPath2D;\r\nfunction fill(pathModule, ctx, x, y, w, h) {\r\n    ctx.save();\r\n    try {\r\n        const { width, height } = pathModule;\r\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\r\n        w = w || width;\r\n        h = h || height;\r\n        const xrate = w / width;\r\n        const yrate = h / (upsideDown ? -height : height);\r\n        x = x || 0;\r\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\r\n        ctx.translate(x, y);\r\n        ctx.scale(xrate, yrate);\r\n        if (offsetX !== 0 || offsetY !== 0) {\r\n            ctx.translate(offsetX, offsetY);\r\n        }\r\n        const Path2D = getPath2D();\r\n        const path2d = (pathModule.path2d =\r\n            pathModule.path2d || new Path2D(pathModule.d));\r\n        ctx.fill(path2d);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fill = fill;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\r\nconst utils_1 = require(\"./utils\");\r\nfunction createArray(get, length) {\r\n    const array = new Array(length);\r\n    for (let i = 0; i < length; i++) {\r\n        array[i] = get(i);\r\n    }\r\n    return array;\r\n}\r\nfunction createArrayPromise(get, getField, length\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) {\r\n    return new Promise((resolve) => {\r\n        const plist = [];\r\n        const array = new Array(length);\r\n        for (let i = 0; i < length; i++) {\r\n            const data = get(i);\r\n            const record = {\r\n                v: data,\r\n                f: data,\r\n            };\r\n            array[i] = record;\r\n            if ((0, utils_1.isPromise)(data)) {\r\n                plist.push(data.then((v) => {\r\n                    record.v = v;\r\n                    record.f = v;\r\n                }));\r\n            }\r\n        }\r\n        Promise.all(plist)\r\n            .then(() => getField == null\r\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                array\r\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                setArrayField(array, getField))\r\n            .then(resolve);\r\n    });\r\n}\r\nfunction setArrayField(array, getField) {\r\n    return new Promise((resolve) => {\r\n        const { length } = array;\r\n        const plist = [];\r\n        for (let i = 0; i < length; i++) {\r\n            const record = array[i];\r\n            const f = getField(record.v);\r\n            if ((0, utils_1.isPromise)(f)) {\r\n                plist.push(f.then((v) => {\r\n                    record.f = v;\r\n                }));\r\n            }\r\n            else {\r\n                record.f = f;\r\n            }\r\n        }\r\n        Promise.all(plist).then(() => resolve(array));\r\n    });\r\n}\r\nfunction sortArray(array, compare) {\r\n    Array.prototype.sort.call(array, compare);\r\n}\r\nexports.sortArray = sortArray;\r\nfunction sort(get, set, length, compare, getField) {\r\n    const old = createArray(get, length);\r\n    if (getField != null) {\r\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\r\n    }\r\n    else {\r\n        old.sort(compare);\r\n    }\r\n    for (let i = 0; i < length; i++) {\r\n        set(i, old[i]);\r\n    }\r\n}\r\nexports.sort = sort;\r\nfunction sortPromise(get, set, length, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ncompare, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngetField) {\r\n    if (typeof Promise !== \"undefined\") {\r\n        return createArrayPromise(get, getField, length).then((array) => {\r\n            array.sort((r1, r2) => compare(r1.f, r2.f));\r\n            for (let i = 0; i < length; i++) {\r\n                set(i, array[i].v);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        sort(get, set, length, compare, getField);\r\n        const dummyPromise = {\r\n            then(fn) {\r\n                fn();\r\n                return dummyPromise;\r\n            },\r\n            catch() {\r\n                return dummyPromise;\r\n            },\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        };\r\n        return dummyPromise;\r\n    }\r\n}\r\nexports.sortPromise = sortPromise;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getScrollBarSize = exports.initDocument = void 0;\r\nfunction getScrollBarWidth() {\r\n    const wrapper = document.createElement(\"div\");\r\n    const inner = document.createElement(\"div\");\r\n    const { style: wrapperStyle } = wrapper;\r\n    wrapperStyle.position = \"fixed\";\r\n    wrapperStyle.height = \"50px\";\r\n    wrapperStyle.width = \"50px\";\r\n    wrapperStyle.overflow = \"scroll\";\r\n    wrapperStyle.opacity = \"0\";\r\n    wrapperStyle.pointerEvents = \"none\";\r\n    const { style } = inner;\r\n    style.height = \"100%\";\r\n    style.width = \"100%\";\r\n    inner.textContent = \"x\";\r\n    wrapper.appendChild(inner);\r\n    document.body.appendChild(wrapper);\r\n    const wrapperWidth = wrapper.getBoundingClientRect().width;\r\n    const innerWidth = inner.getBoundingClientRect().width;\r\n    document.body.removeChild(wrapper);\r\n    return Math.ceil(wrapperWidth - innerWidth);\r\n}\r\nlet SCROLLBAR_SIZE;\r\nfunction initDocumentInternal() {\r\n    require(\"@/internal/style.css\");\r\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\r\n    const style = document.createElement(\"style\");\r\n    style.setAttribute(\"type\", \"text/css\");\r\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\r\n    style.innerHTML = `\r\n.cheetah-grid .grid-scroll-end-point {\r\n\twidth: ${SCROLLBAR_SIZE}px;\r\n\theight: ${SCROLLBAR_SIZE}px;\r\n}\r\n.cheetah-grid > canvas {\r\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\r\n}\r\n\t\t`;\r\n    document.head.appendChild(style);\r\n}\r\nlet initDocumentVar = initDocumentInternal;\r\nfunction initDocument() {\r\n    initDocumentVar();\r\n    initDocumentVar = Function.prototype;\r\n}\r\nexports.initDocument = initDocument;\r\nfunction getScrollBarSize() {\r\n    return SCROLLBAR_SIZE;\r\n}\r\nexports.getScrollBarSize = getScrollBarSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst utils_1 = require(\"./utils\");\r\nconst Symbol = utils_1.isNode\r\n    ? global.Symbol\r\n    : window.Symbol\r\n        ? window.Symbol\r\n        : (() => {\r\n            function random() {\r\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\r\n                const cl = c.length;\r\n                let r = \"\";\r\n                for (let i = 0; i < 10; i++) {\r\n                    r += c[Math.floor(Math.random() * cl)];\r\n                }\r\n                return r;\r\n            }\r\n            return (name) => {\r\n                if (name) {\r\n                    return `#${name}_${random()}`;\r\n                }\r\n                else {\r\n                    return `#_${random()}`;\r\n                }\r\n            };\r\n        })();\r\nconst mem = {};\r\nfunction get(name) {\r\n    if (name) {\r\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\r\n    }\r\n    else {\r\n        return Symbol();\r\n    }\r\n}\r\nexports.get = get;\r\nfunction getProtectedSymbol() {\r\n    return get(\"protected\");\r\n}\r\nexports.getProtectedSymbol = getProtectedSymbol;\r\nfunction getCheckColumnStateId() {\r\n    return get(\"chkcol.stateID\");\r\n}\r\nexports.getCheckColumnStateId = getCheckColumnStateId;\r\nfunction getRadioColumnStateId() {\r\n    return get(\"rdcol.stateID\");\r\n}\r\nexports.getRadioColumnStateId = getRadioColumnStateId;\r\nfunction getButtonColumnStateId() {\r\n    return get(\"btncol.stateID\");\r\n}\r\nexports.getButtonColumnStateId = getButtonColumnStateId;\r\nfunction getColumnFadeinStateId() {\r\n    return get(\"col.fadein_stateID\");\r\n}\r\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\r\nfunction getBranchGraphColumnStateId() {\r\n    return get(\"branch_graph_col.stateID\");\r\n}\r\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\r\nfunction getSmallDialogInputEditorStateId() {\r\n    return get(\"small_dialog_input_editor.stateID\");\r\n}\r\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\r\nfunction getInlineInputEditorStateId() {\r\n    return get(\"inline_input_editor.stateID\");\r\n}\r\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\r\nfunction getInlineMenuEditorStateId() {\r\n    return get(\"inline_menu_editor.stateID\");\r\n}\r\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\r\nfunction getCheckHeaderStateId() {\r\n    return get(\"check_header.stateID\");\r\n}\r\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\r\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\r\nexports.isNode = isNode;\r\nlet arrayFind;\r\nlet arrayFindIndex;\r\nconst array = {\r\n    get find() {\r\n        if (arrayFind) {\r\n            return arrayFind;\r\n        }\r\n        if (Array.prototype.find) {\r\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFind = (arr, predicate) => {\r\n                const index = array.findIndex(arr, predicate);\r\n                return index >= 0 ? arr[index] : undefined;\r\n            };\r\n        }\r\n        return arrayFind;\r\n    },\r\n    get findIndex() {\r\n        if (arrayFindIndex) {\r\n            return arrayFindIndex;\r\n        }\r\n        if (Array.prototype.findIndex) {\r\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\r\n        }\r\n        else {\r\n            arrayFindIndex = (arr, predicate) => {\r\n                const { length } = arr;\r\n                for (let i = 0; i < length; i++) {\r\n                    const value = arr[i];\r\n                    if (predicate(value, i, arr)) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            };\r\n        }\r\n        return arrayFindIndex;\r\n    },\r\n};\r\nexports.array = array;\r\nfunction analyzeUserAgent() {\r\n    if (isNode) {\r\n        return {\r\n            IE: false,\r\n            Edge: false,\r\n            Chrome: false,\r\n            Firefox: false,\r\n            Safari: false,\r\n        };\r\n    }\r\n    else {\r\n        const ua = window.navigator.userAgent.toLowerCase();\r\n        return {\r\n            IE: !!/(msie|trident)/.exec(ua),\r\n            Edge: ua.indexOf(\"edge\") > -1,\r\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\r\n            Firefox: ua.indexOf(\"firefox\") > -1,\r\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\r\n        };\r\n    }\r\n}\r\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\r\nfunction setReadonly(obj, name, value) {\r\n    Object.defineProperty(obj, name, {\r\n        enumerable: false,\r\n        configurable: true,\r\n        value,\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction each(obj, fn) {\r\n    for (const key in obj) {\r\n        fn(obj[key], key, obj);\r\n    }\r\n}\r\nexports.each = each;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction isObject(obj) {\r\n    return obj === Object(obj);\r\n}\r\nfunction omit(source, omits) {\r\n    const result = {};\r\n    for (const key in source) {\r\n        if (omits.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                return source[key];\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.omit = omit;\r\nfunction defaults(source, defs) {\r\n    const keys = [];\r\n    const result = {};\r\n    for (const key in source) {\r\n        keys.push(key);\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    for (const key in defs) {\r\n        if (keys.indexOf(key) >= 0) {\r\n            continue;\r\n        }\r\n        Object.defineProperty(result, key, {\r\n            get() {\r\n                const val = source[key];\r\n                return val === undefined ? defs[key] : val;\r\n            },\r\n            set(val) {\r\n                source[key] = val;\r\n            },\r\n            configurable: true,\r\n            enumerable: true,\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.defaults = defaults;\r\nfunction extend(...args) {\r\n    const result = {};\r\n    args.forEach((source) => {\r\n        for (const key in source) {\r\n            Object.defineProperty(result, key, {\r\n                get() {\r\n                    return source[key];\r\n                },\r\n                set(val) {\r\n                    source[key] = val;\r\n                },\r\n                configurable: true,\r\n                enumerable: true,\r\n            });\r\n        }\r\n    });\r\n    return result;\r\n}\r\nexports.extend = extend;\r\nfunction isDescendantElement(root, target) {\r\n    while (target.parentElement) {\r\n        const p = target.parentElement;\r\n        if (root === p) {\r\n            return true;\r\n        }\r\n        target = p;\r\n    }\r\n    return false;\r\n}\r\nexports.isDescendantElement = isDescendantElement;\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nfunction applyChainSafe(obj, fn, ...names) {\r\n    let value = obj;\r\n    for (let i = 0; i < names.length && value != null; i++) {\r\n        value = fn(value, names[i]);\r\n    }\r\n    return value;\r\n}\r\nexports.applyChainSafe = applyChainSafe;\r\nfunction getChainSafe(obj, ...names) {\r\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\r\n}\r\nexports.getChainSafe = getChainSafe;\r\nfunction getOrApply(value, ...args) {\r\n    if (typeof value === \"function\") {\r\n        return value(...args);\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nexports.getOrApply = getOrApply;\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\r\nfunction endsWith(str, searchString, position) {\r\n    const subjectString = str.toString();\r\n    if (typeof position !== \"number\" ||\r\n        !isFinite(position) ||\r\n        Math.floor(position) !== position ||\r\n        position > subjectString.length) {\r\n        position = subjectString.length;\r\n    }\r\n    position -= searchString.length;\r\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\r\n    return lastIndex !== -1 && lastIndex === position;\r\n}\r\nfunction genChars(s) {\r\n    // Surrogate Code Point\r\n    // [\\uD800-\\uDBFF]\r\n    // Variation Selectors\r\n    // FVS [\\u180B-\\u180D]\r\n    // VS1VS16 [\\uFE00-\\uFE0F]\r\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\r\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction genWords(s) {\r\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\r\n    return {\r\n        next() {\r\n            const res = re.exec(s);\r\n            return res !== null ? res[0] : null;\r\n        },\r\n    };\r\n}\r\nfunction isPromise(data) {\r\n    return Boolean(data && typeof data.then === \"function\");\r\n}\r\nexports.isPromise = isPromise;\r\nfunction then(result, callback) {\r\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\r\n}\r\nexports.then = then;\r\nfunction getMouseButtons(e) {\r\n    if (e.buttons != null) {\r\n        return e.buttons;\r\n    }\r\n    /*for legacy*/\r\n    if (e.which != null) {\r\n        if (e.which === 3) {\r\n            //right?\r\n            return 4;\r\n        }\r\n        if (e.which === 2) {\r\n            //middle?\r\n            return 4;\r\n        }\r\n        return e.which; //left or no\r\n    }\r\n    if (e.button === 0 || e.button === 1) {\r\n        return 1; //candidate left\r\n    }\r\n    if (e.button === 2) {\r\n        return 2; // right\r\n    }\r\n    return 0; //no or middle?\r\n}\r\nfunction getKeyCode(e) {\r\n    return e.keyCode || e.which;\r\n}\r\nfunction isTouchEvent(e) {\r\n    return !!e.changedTouches;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getIgnoreCase(obj, name) {\r\n    if (obj[name]) {\r\n        return obj[name];\r\n    }\r\n    const l = name.toLowerCase();\r\n    if (obj[l]) {\r\n        return obj[l];\r\n    }\r\n    const u = name.toLowerCase();\r\n    if (obj[u]) {\r\n        return obj[u];\r\n    }\r\n    for (const k in obj) {\r\n        if (k.toLowerCase() === l) {\r\n            return obj[k];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nexports.getIgnoreCase = getIgnoreCase;\r\nfunction cancel(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n}\r\nfunction toBoxArray(obj) {\r\n    if (!Array.isArray(obj)) {\r\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\r\n    }\r\n    if (obj.length === 3) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[2] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 2) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[1] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[1] /*left*/,\r\n        ];\r\n    }\r\n    if (obj.length === 1) {\r\n        return [\r\n            obj[0] /*top*/,\r\n            obj[0] /*right*/,\r\n            obj[0] /*bottom*/,\r\n            obj[0] /*left*/,\r\n        ];\r\n    }\r\n    return obj;\r\n}\r\nfunction cellEquals(a, b) {\r\n    return a.col === b.col && a.row === b.row;\r\n}\r\nexports.cellEquals = cellEquals;\r\nfunction cellInRange(range, col, row) {\r\n    return (range.start.col <= col &&\r\n        col <= range.end.col &&\r\n        range.start.row <= row &&\r\n        row <= range.end.row);\r\n}\r\nexports.cellInRange = cellInRange;\r\nexports.browser = {\r\n    IE,\r\n    Edge,\r\n    Chrome,\r\n    Firefox,\r\n    Safari,\r\n    // Chrome 16777216 (onl Chrome 33554431)\r\n    // FireFox 17895588\r\n    // IE 10737433\r\n    heightLimit: Chrome ? 16777216 : Firefox ? 17895588 : 10737433, // default IE limit\r\n};\r\nexports.obj = {\r\n    setReadonly,\r\n    isObject,\r\n};\r\nexports.str = {\r\n    endsWith,\r\n    genChars,\r\n    genWords,\r\n};\r\nexports.event = {\r\n    getMouseButtons,\r\n    getKeyCode,\r\n    isTouchEvent,\r\n    cancel,\r\n};\r\nexports.style = {\r\n    toBoxArray,\r\n};\r\nexports.emptyFn = Function.prototype;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LG_EVENT_TYPE = void 0;\r\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nexports.LG_EVENT_TYPE = (0, utils_1.extend)(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\r\n    BEFORE_CHANGE_VALUE: \"before_change_value\",\r\n    CHANGED_VALUE: \"changed_value\",\r\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\r\n    REJECTED_PASTE_VALUES: \"rejected_paste_values\",\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = exports.SimpleHeaderLayoutMap = void 0;\r\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\r\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\r\nvar multi_layout_1 = require(\"./internal/multi-layout\");\r\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nfunction normalizeLayout(layout) {\r\n    if (Array.isArray(layout)) {\r\n        return {\r\n            header: layout,\r\n            body: layout,\r\n        };\r\n    }\r\n    return layout;\r\n}\r\nlet seqId = 0;\r\nclass LayoutObjectGrid {\r\n    constructor(layout, transform) {\r\n        this.objects = [];\r\n        this.objectGrid = [];\r\n        this.objectMap = {};\r\n        this.columnCount = 0;\r\n        this.columnWidths = [];\r\n        layout.forEach((rowLayout, row) => {\r\n            let col = 0;\r\n            rowLayout.forEach((cell) => {\r\n                var _a, _b;\r\n                const id = seqId++;\r\n                const obj = transform(cell, id);\r\n                this.objects.push(obj);\r\n                this.objectMap[id] = obj;\r\n                col = this._findStartCell(col, row);\r\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\r\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\r\n                const endRow = row + rowSpan;\r\n                const endCol = col + colSpan;\r\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\r\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\r\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\r\n                        objectGridRow[colIndex] = obj;\r\n                    }\r\n                }\r\n                if (colSpan === 1) {\r\n                    this._setWidthDataIfAbsent(col, cell);\r\n                }\r\n                this._useColumnIndex(endCol - 1);\r\n                col = endCol;\r\n            });\r\n        });\r\n    }\r\n    get rowCount() {\r\n        return this.objectGrid.length;\r\n    }\r\n    _findStartCell(col, row) {\r\n        const objectGridRow = this._getObjectGridRow(row);\r\n        for (let index = col; index < objectGridRow.length; index++) {\r\n            if (!objectGridRow[index]) {\r\n                return index;\r\n            }\r\n        }\r\n        return objectGridRow.length;\r\n    }\r\n    _getObjectGridRow(row) {\r\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\r\n    }\r\n    _useColumnIndex(col) {\r\n        if (this.columnCount > col) {\r\n            return;\r\n        }\r\n        this.columnCount = col + 1;\r\n    }\r\n    _setWidthDataIfAbsent(col, cell) {\r\n        if (!this.columnWidths[col]) {\r\n            if (cell.width != null ||\r\n                cell.maxWidth != null ||\r\n                cell.minWidth != null) {\r\n                this.columnWidths[col] = {\r\n                    width: cell.width,\r\n                    maxWidth: cell.maxWidth,\r\n                    minWidth: cell.minWidth,\r\n                };\r\n            }\r\n        }\r\n    }\r\n}\r\nclass MultiLayoutMap {\r\n    constructor(layout) {\r\n        this._columnWidths = [];\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        const hbLayouut = normalizeLayout(layout);\r\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\r\n            return {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n        }));\r\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\r\n            return {\r\n                id,\r\n                field: colDef.field,\r\n                width: colDef.width,\r\n                minWidth: colDef.minWidth,\r\n                maxWidth: colDef.maxWidth,\r\n                icon: colDef.icon,\r\n                message: colDef.message,\r\n                columnType: columns.type.of(colDef.columnType),\r\n                action: columns.action.of(colDef.action),\r\n                style: colDef.style,\r\n                define: colDef,\r\n            };\r\n        }));\r\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\r\n        for (let col = 0; col < columnCount; col++) {\r\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\r\n            this._columnWidths[col] = widthDef;\r\n        }\r\n    }\r\n    get columnWidths() {\r\n        return this._columnWidths;\r\n    }\r\n    get headerRowCount() {\r\n        return this._header.rowCount;\r\n    }\r\n    get bodyRowCount() {\r\n        return this._body.rowCount;\r\n    }\r\n    get colCount() {\r\n        return this._columnCount;\r\n    }\r\n    get headerObjects() {\r\n        return this._header.objects;\r\n    }\r\n    get columnObjects() {\r\n        return this._body.objects;\r\n    }\r\n    getCellId(col, row) {\r\n        var _a, _b, _c, _d;\r\n        if (this.headerRowCount <= row) {\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        }\r\n        //in header\r\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._header.objectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._body.objectMap[id] ||\r\n            this._emptyDataCache.getBody(col, row));\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        var _a;\r\n        for (let row = 0; row < this.bodyRowCount; row++) {\r\n            const objectGridRow = this._body.objectGrid[row];\r\n            if (!objectGridRow) {\r\n                continue;\r\n            }\r\n            for (let col = 0; col < this.colCount; col++) {\r\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\r\n                    return this._getCellRange(this._body, col, row, 0);\r\n                }\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            const recordIndex = this.getRecordIndexByRow(row);\r\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\r\n            const bodyRow = row - this.headerRowCount;\r\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\r\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\r\n        }\r\n        //in header\r\n        return this._getCellRange(this._header, col, row, 0);\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            const bodyRow = row - this.headerRowCount;\r\n            return Math.floor(bodyRow / this.bodyRowCount);\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index * this.bodyRowCount;\r\n    }\r\n    _getCellRange(\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    layout, col, layoutRow, offsetRow) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n        const result = {\r\n            start: { col, row: layoutRow + offsetRow },\r\n            end: { col, row: layoutRow + offsetRow },\r\n        };\r\n        const { objectGrid } = layout;\r\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\r\n        if (id == null) {\r\n            return result;\r\n        }\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < layout.columnCount; c++) {\r\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = layoutRow - 1; r >= 0; r--) {\r\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\r\n                break;\r\n            }\r\n            result.start.row = r + offsetRow;\r\n        }\r\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\r\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\r\n                break;\r\n            }\r\n            result.end.row = r + offsetRow;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.MultiLayoutMap = MultiLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SimpleHeaderLayoutMap = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerAction = __importStar(require(\"../../../header/action\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nconst utils_1 = require(\"./utils\");\r\nlet seqId = 0;\r\nclass SimpleHeaderLayoutMap {\r\n    constructor(header) {\r\n        this.bodyRowCount = 1;\r\n        this._emptyDataCache = new utils_1.EmptyDataCache();\r\n        this._columns = [];\r\n        this._headerCellIds = [];\r\n        this._headerObjects = this._addHeaders(0, header, []);\r\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\r\n            o[e.id] = e;\r\n            return o;\r\n        }, {});\r\n    }\r\n    get columnWidths() {\r\n        return this._columns;\r\n    }\r\n    get headerRowCount() {\r\n        return this._headerCellIds.length;\r\n    }\r\n    get colCount() {\r\n        return this._columns.length;\r\n    }\r\n    get headerObjects() {\r\n        return this._headerObjects;\r\n    }\r\n    get columnObjects() {\r\n        return this._columns;\r\n    }\r\n    getCellId(col, row) {\r\n        if (this.headerRowCount <= row) {\r\n            return this._columns[col].id;\r\n        }\r\n        //in header\r\n        return this._headerCellIds[row][col];\r\n    }\r\n    getHeader(col, row) {\r\n        const id = this.getCellId(col, row);\r\n        return (this._headerObjectMap[id] ||\r\n            this._emptyDataCache.getHeader(col, row));\r\n    }\r\n    getBody(col, _row) {\r\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\r\n    }\r\n    getBodyLayoutRangeById(id) {\r\n        for (let col = 0; col < this.colCount; col++) {\r\n            if (id === this._columns[col].id) {\r\n                return {\r\n                    start: { col, row: 0 },\r\n                    end: { col, row: 0 },\r\n                };\r\n            }\r\n        }\r\n        throw new Error(`can not found body layout @id=${id}`);\r\n    }\r\n    getCellRange(col, row) {\r\n        const result = { start: { col, row }, end: { col, row } };\r\n        if (this.headerRowCount <= row) {\r\n            return result;\r\n        }\r\n        //in header\r\n        const id = this.getCellId(col, row);\r\n        for (let c = col - 1; c >= 0; c--) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.start.col = c;\r\n        }\r\n        for (let c = col + 1; c < this.colCount; c++) {\r\n            if (id !== this.getCellId(c, row)) {\r\n                break;\r\n            }\r\n            result.end.col = c;\r\n        }\r\n        for (let r = row - 1; r >= 0; r--) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.start.row = r;\r\n        }\r\n        for (let r = row + 1; r < this.headerRowCount; r++) {\r\n            if (id !== this.getCellId(col, r)) {\r\n                break;\r\n            }\r\n            result.end.row = r;\r\n        }\r\n        return result;\r\n    }\r\n    getRecordIndexByRow(row) {\r\n        if (row < this.headerRowCount) {\r\n            return -1;\r\n        }\r\n        else {\r\n            return row - this.headerRowCount;\r\n        }\r\n    }\r\n    getRecordStartRowByRecordIndex(index) {\r\n        return this.headerRowCount + index;\r\n    }\r\n    _addHeaders(row, header, roots) {\r\n        const results = [];\r\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\r\n        header.forEach((hd) => {\r\n            const col = this._columns.length;\r\n            const id = seqId++;\r\n            const cell = {\r\n                id,\r\n                caption: hd.caption,\r\n                field: hd.headerField || hd.field,\r\n                headerIcon: hd.headerIcon,\r\n                style: hd.headerStyle,\r\n                headerType: headerType.ofCell(hd),\r\n                action: headerAction.ofCell(hd),\r\n                define: hd,\r\n            };\r\n            results[id] = cell;\r\n            rowCells[col] = id;\r\n            for (let r = row - 1; r >= 0; r--) {\r\n                this._headerCellIds[r][col] = roots[r];\r\n            }\r\n            if (hd.columns) {\r\n                this._addHeaders(row + 1, hd.columns, [\r\n                    ...roots,\r\n                    id,\r\n                ]).forEach((c) => results.push(c));\r\n            }\r\n            else {\r\n                const colDef = hd;\r\n                this._columns.push({\r\n                    id: seqId++,\r\n                    field: colDef.field,\r\n                    width: colDef.width,\r\n                    minWidth: colDef.minWidth,\r\n                    maxWidth: colDef.maxWidth,\r\n                    icon: colDef.icon,\r\n                    message: colDef.message,\r\n                    columnType: columns.type.of(colDef.columnType),\r\n                    action: columns.action.of(colDef.action),\r\n                    style: colDef.style,\r\n                    define: colDef,\r\n                });\r\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\r\n                    this._headerCellIds[r][col] = id;\r\n                }\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    _newRow(row) {\r\n        const newRow = (this._headerCellIds[row] = []);\r\n        if (!this._columns.length) {\r\n            return newRow;\r\n        }\r\n        const prev = this._headerCellIds[row - 1];\r\n        for (let col = 0; col < prev.length; col++) {\r\n            newRow[col] = prev[col];\r\n        }\r\n        return newRow;\r\n    }\r\n}\r\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\r\nconst columns = __importStar(require(\"../../../columns\"));\r\nconst headerType = __importStar(require(\"../../../header/type\"));\r\nlet seqId = -1;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyHeaderData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        headerType: headerType.of(null), // default\r\n    };\r\n}\r\nexports.newEmptyHeaderData = newEmptyHeaderData;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction newEmptyColumnData() {\r\n    return {\r\n        id: seqId--,\r\n        define: {},\r\n        columnType: columns.type.of(null),\r\n        style: null,\r\n    };\r\n}\r\nexports.newEmptyColumnData = newEmptyColumnData;\r\nclass EmptyDataCache {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.headers = [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.columns = [];\r\n    }\r\n    getHeader(col, row) {\r\n        const rows = this.headers[row] || (this.headers[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyHeaderData());\r\n    }\r\n    getBody(col, row) {\r\n        const rows = this.columns[row] || (this.columns[row] = []);\r\n        return rows[col] || (rows[col] = newEmptyColumnData());\r\n    }\r\n}\r\nexports.EmptyDataCache = EmptyDataCache;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = exports._getInternal = void 0;\r\nconst columns = __importStar(require(\"./columns\"));\r\nexports.columns = columns;\r\nconst core = __importStar(require(\"./core\"));\r\nexports.core = core;\r\nconst data = __importStar(require(\"./data\"));\r\nexports.data = data;\r\nconst headers = __importStar(require(\"./headers\"));\r\nexports.headers = headers;\r\nconst icons = __importStar(require(\"./icons\"));\r\nconst register = __importStar(require(\"./register\"));\r\nexports.register = register;\r\nconst themes = __importStar(require(\"./themes\"));\r\nexports.themes = themes;\r\nconst tools = __importStar(require(\"./tools\"));\r\nexports.tools = tools;\r\nconst ListGrid_1 = require(\"./ListGrid\");\r\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\r\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\r\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\r\nvar get_internal_1 = require(\"./get-internal\");\r\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\r\n/** @private */\r\nfunction getIcons() {\r\n    return icons.get();\r\n}\r\nexports.getIcons = getIcons;\r\n// backward compatibility\r\nexports.default = {\r\n    core,\r\n    tools,\r\n    // impl Grids\r\n    ListGrid: ListGrid_1.ListGrid,\r\n    // objects\r\n    columns,\r\n    headers,\r\n    themes,\r\n    data,\r\n    // helper\r\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\r\n    //plugin registers\r\n    register,\r\n    get icons() {\r\n        return getIcons();\r\n    },\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"default\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getDefault();\r\n    },\r\n    set(defaultTheme) {\r\n        themes.setDefault(defaultTheme);\r\n    },\r\n});\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nObject.defineProperty(themes, \"choices\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    get() {\r\n        return themes.getChoices();\r\n    },\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = void 0;\r\nexports.icons = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.themes = void 0;\r\nexports.themes = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.icons = exports.icon = exports.theme = void 0;\r\nconst icons_1 = require(\"./plugins/icons\");\r\nconst themes_1 = require(\"./plugins/themes\");\r\nfunction register(obj, name, value) {\r\n    const old = obj[name];\r\n    obj[name] = value;\r\n    return old;\r\n}\r\nfunction registers(obj, values) {\r\n    for (const k in values) {\r\n        obj[k] = values[k];\r\n    }\r\n}\r\nfunction theme(name, theme) {\r\n    if (theme != null) {\r\n        return register(themes_1.themes, name, theme);\r\n    }\r\n    else {\r\n        return themes_1.themes[name];\r\n    }\r\n}\r\nexports.theme = theme;\r\nfunction icon(name, icon) {\r\n    if (icon != null) {\r\n        return register(icons_1.icons, name, icon);\r\n    }\r\n    else {\r\n        return icons_1.icons[name];\r\n    }\r\n}\r\nexports.icon = icon;\r\nfunction icons(icons) {\r\n    return registers(icons_1.icons, icons);\r\n}\r\nexports.icons = icons;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\r\nconst utils_1 = require(\"./internal/utils\");\r\nconst theme_1 = require(\"./themes/theme\");\r\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\r\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\r\nconst themes_1 = require(\"./plugins/themes\");\r\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\r\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\r\nconst builtin = {\r\n    BASIC: exports.BASIC,\r\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\r\n};\r\nlet defTheme = exports.MATERIAL_DESIGN;\r\nexports.theme = { Theme: theme_1.Theme };\r\nfunction of(value) {\r\n    if (!value) {\r\n        return null;\r\n    }\r\n    if (typeof value === \"string\") {\r\n        const t = (0, utils_1.getIgnoreCase)(getChoices(), value);\r\n        if (t) {\r\n            return t;\r\n        }\r\n        return null;\r\n    }\r\n    if (value instanceof theme_1.Theme) {\r\n        return value;\r\n    }\r\n    return new theme_1.Theme(value);\r\n}\r\nexports.of = of;\r\nfunction getDefault() {\r\n    return defTheme;\r\n}\r\nexports.getDefault = getDefault;\r\nfunction setDefault(defaultTheme) {\r\n    defTheme = of(defaultTheme) || defTheme;\r\n}\r\nexports.setDefault = setDefault;\r\nfunction getChoices() {\r\n    return (0, utils_1.extend)(builtin, themes_1.themes);\r\n}\r\nexports.getChoices = getChoices;\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction DEFAULT_BG_COLOR(args) {\r\n    const { row, grid } = args;\r\n    if (row < grid.frozenRowCount) {\r\n        return \"#FFF\";\r\n    }\r\n    const index = grid.getRecordIndexByRow(row);\r\n    if (!(index & 1)) {\r\n        return \"#FFF\";\r\n    }\r\n    else {\r\n        return \"#F6F6F6\";\r\n    }\r\n}\r\nconst cacheLinearGradient = {};\r\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\r\n    let stop;\r\n    const stopsKey = [];\r\n    for (stop in colorStops) {\r\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\r\n    }\r\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\r\n    const ret = cacheLinearGradient[key];\r\n    if (ret) {\r\n        return ret;\r\n    }\r\n    const grad = context.createLinearGradient(left, top, left, bottom);\r\n    for (stop in colorStops) {\r\n        grad.addColorStop(Number(stop), colorStops[stop]);\r\n    }\r\n    return (cacheLinearGradient[key] = grad);\r\n}\r\nfunction FROZEN_ROWS_BG_COLOR(args) {\r\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\r\n    const { left, top } = grid.getCellRelativeRect(col, 0);\r\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\r\n    return getLinearGradient(context, left, top, left, bottom, {\r\n        0: \"#FFF\",\r\n        1: \"#D3D3D3\",\r\n    });\r\n}\r\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"#000\",\r\n    // frozenRowsColor: '#000',\r\n    defaultBgColor: DEFAULT_BG_COLOR,\r\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: \"#000\",\r\n    // frozenRowsBorderColor: '#000',\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"#000\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"#000\",\r\n        uncheckBorderColor: \"#000\",\r\n        uncheckBgColor: \"#FFF\",\r\n        checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#000\",\r\n    },\r\n    underlayBackgroundColor: \"#F6F6F6\",\r\n};\r\n","\"use strict\";\r\n/*eslint no-bitwise:0*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\r\n    const { row, grid: { frozenRowCount }, } = args;\r\n    if (frozenRowCount - 1 === row) {\r\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\r\n    }\r\n    else {\r\n        return [\"#f2f2f2\"];\r\n    }\r\n}\r\nfunction BORDER_COLOR(args) {\r\n    const { col, row, grid } = args;\r\n    const { colCount, frozenColCount, recordRowCount } = grid;\r\n    let top = \"#ccc7c7\";\r\n    let bottom = \"#ccc7c7\";\r\n    if (recordRowCount > 1) {\r\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\r\n        const endRow = startRow + recordRowCount - 1;\r\n        if (startRow !== row) {\r\n            top = null;\r\n        }\r\n        if (endRow !== row) {\r\n            bottom = null;\r\n        }\r\n    }\r\n    if (frozenColCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    if (colCount - 1 === col) {\r\n        return [top, \"#f2f2f2\", bottom, null];\r\n    }\r\n    return [top, null, bottom, null];\r\n}\r\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nexports.default = {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\r\n    defaultBgColor: \"#FFF\",\r\n    // frozenRowsBgColor: '#FFF',\r\n    selectionBgColor: \"#CCE0FF\",\r\n    borderColor: BORDER_COLOR,\r\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\r\n    highlightBorderColor: \"#5E9ED6\",\r\n    checkbox: {\r\n        // uncheckBgColor: '#FFF',\r\n        checkBgColor: \"rgb(76, 73, 72)\",\r\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\r\n    },\r\n    radioButton: {\r\n        checkColor: \"rgb(76, 73, 72)\",\r\n        checkBorderColor: \"rgb(76, 73, 72)\",\r\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\r\n        // uncheckBgColor: \"#FFF\",\r\n        // checkBgColor: \"#FFF\",\r\n    },\r\n    button: {\r\n        color: \"#FFF\",\r\n        bgColor: \"#2196F3\",\r\n    },\r\n    header: {\r\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\r\n    },\r\n    indicators: {\r\n        topLeftColor: \"#ccc7c7\",\r\n    },\r\n    underlayBackgroundColor: \"#FFF\",\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Theme = void 0;\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst symbolManager_1 = require(\"../internal/symbolManager\");\r\n//private symbol\r\nconst _ = (0, symbolManager_1.get)();\r\nfunction getProp(obj, superObj, names, defNames, convertForSuper, defaultValue) {\r\n    const value = (0, utils_1.getChainSafe)(obj, ...names) || (0, utils_1.getChainSafe)(superObj, ...names);\r\n    if (value) {\r\n        return value;\r\n    }\r\n    if (!defNames) {\r\n        return value || defaultValue;\r\n    }\r\n    const getChainSafeWithConvert = convertForSuper\r\n        ? (obj, ...names) => {\r\n            const value = (0, utils_1.getChainSafe)(obj, ...names);\r\n            if (!value) {\r\n                return value;\r\n            }\r\n            return convertForSuper(value);\r\n        }\r\n        : utils_1.getChainSafe;\r\n    return (getChainSafeWithConvert(obj, ...defNames) ||\r\n        getChainSafeWithConvert(superObj, ...defNames) ||\r\n        defaultValue);\r\n}\r\nclass Theme {\r\n    constructor(obj, superTheme) {\r\n        this._checkbox = null;\r\n        this._radioButton = null;\r\n        this._button = null;\r\n        this._header = null;\r\n        this._messages = null;\r\n        this._indicators = null;\r\n        this[_] = {\r\n            obj,\r\n            superTheme: superTheme,\r\n        };\r\n    }\r\n    get font() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"font\"]);\r\n    }\r\n    get underlayBackgroundColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\r\n    }\r\n    // color\r\n    get color() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"color\"]);\r\n    }\r\n    get frozenRowsColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\r\n    }\r\n    // background\r\n    get defaultBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\r\n    }\r\n    get frozenRowsBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get selectionBgColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\r\n    }\r\n    get highlightBgColor() {\r\n        if (this.hasProperty([\"highlightBgColor\"])) {\r\n            const { obj, superTheme } = this[_];\r\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return (args) => {\r\n            const color = args.row < args.grid.frozenRowCount\r\n                ? this.frozenRowsBgColor\r\n                : this.defaultBgColor;\r\n            if (typeof color === \"function\") {\r\n                return color(args);\r\n            }\r\n            return color;\r\n        };\r\n    }\r\n    // border\r\n    get borderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"borderColor\"]);\r\n    }\r\n    get frozenRowsBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get highlightBorderColor() {\r\n        const { obj, superTheme } = this[_];\r\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\r\n    }\r\n    get checkbox() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._checkbox ||\r\n            (this._checkbox = {\r\n                get uncheckBgColor() {\r\n                    return getCheckboxProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getCheckboxProp(\"checkBgColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get borderColor() {\r\n                    return getCheckboxProp(\"borderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n            }));\r\n        function getCheckboxProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"checkbox\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get radioButton() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._radioButton ||\r\n            (this._radioButton = {\r\n                get checkColor() {\r\n                    return getRadioButtonProp(\"checkColor\", [\"color\"]);\r\n                },\r\n                get uncheckBorderColor() {\r\n                    return getRadioButtonProp(\"uncheckBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get checkBorderColor() {\r\n                    return getRadioButtonProp(\"checkBorderColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get uncheckBgColor() {\r\n                    return getRadioButtonProp(\"uncheckBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n                get checkBgColor() {\r\n                    return getRadioButtonProp(\"checkBgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getRadioButtonProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"radioButton\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    get button() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._button ||\r\n            (this._button = {\r\n                get color() {\r\n                    return getButtonProp(\"color\", [\"color\"]);\r\n                },\r\n                get bgColor() {\r\n                    return getButtonProp(\"bgColor\", [\"defaultBgColor\"]);\r\n                },\r\n            }));\r\n        function getButtonProp(prop, defNames) {\r\n            return getProp(obj, superTheme, [\"button\", prop], defNames);\r\n        }\r\n    }\r\n    get header() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._header ||\r\n            (this._header = {\r\n                get sortArrowColor() {\r\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\r\n                },\r\n            }));\r\n    }\r\n    get messages() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._messages ||\r\n            (this._messages = {\r\n                get infoBgColor() {\r\n                    return getMessageProp(\"infoBgColor\");\r\n                },\r\n                get errorBgColor() {\r\n                    return getMessageProp(\"errorBgColor\");\r\n                },\r\n                get warnBgColor() {\r\n                    return getMessageProp(\"warnBgColor\");\r\n                },\r\n                get boxWidth() {\r\n                    return getMessageProp(\"boxWidth\");\r\n                },\r\n                get markHeight() {\r\n                    return getMessageProp(\"markHeight\");\r\n                },\r\n            }));\r\n        function getMessageProp(prop) {\r\n            return getProp(obj, superTheme, [\"messages\", prop]);\r\n        }\r\n    }\r\n    get indicators() {\r\n        const { obj, superTheme } = this[_];\r\n        return (this._indicators ||\r\n            (this._indicators = {\r\n                get topLeftColor() {\r\n                    return getIndicatorsProp(\"topLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topLeftSize() {\r\n                    return getIndicatorsProp(\"topLeftSize\");\r\n                },\r\n                get topRightColor() {\r\n                    return getIndicatorsProp(\"topRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get topRightSize() {\r\n                    return getIndicatorsProp(\"topRightSize\");\r\n                },\r\n                get bottomRightColor() {\r\n                    return getIndicatorsProp(\"bottomRightColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomRightSize() {\r\n                    return getIndicatorsProp(\"bottomRightSize\");\r\n                },\r\n                get bottomLeftColor() {\r\n                    return getIndicatorsProp(\"bottomLeftColor\", [\"borderColor\"], colorsToColor, \"#000\");\r\n                },\r\n                get bottomLeftSize() {\r\n                    return getIndicatorsProp(\"bottomLeftSize\");\r\n                },\r\n            }));\r\n        function getIndicatorsProp(prop, defNames, convertForSuper, defaultValue) {\r\n            return getProp(obj, superTheme, [\"indicators\", prop], defNames, convertForSuper, defaultValue);\r\n        }\r\n    }\r\n    hasProperty(names) {\r\n        const { obj, superTheme } = this[_];\r\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\r\n    }\r\n    extends(obj) {\r\n        return new Theme(obj, this);\r\n    }\r\n}\r\nexports.Theme = Theme;\r\nfunction hasThemeProperty(obj, names) {\r\n    if (obj instanceof Theme) {\r\n        return obj.hasProperty(names);\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let o = obj;\r\n        if (!o) {\r\n            return false;\r\n        }\r\n        for (let index = 0; index < names.length; index++) {\r\n            const name = names[index];\r\n            o = o[name];\r\n            if (!o) {\r\n                return false;\r\n            }\r\n        }\r\n        return !!o;\r\n    }\r\n}\r\nfunction colorsToColor(colors) {\r\n    if (typeof colors === \"function\") {\r\n        return (arg) => {\r\n            const val = colors(arg);\r\n            return val ? colorsArrayToColor(val) : val;\r\n        };\r\n    }\r\n    return colorsArrayToColor(colors);\r\n    function colorsArrayToColor(\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    colors) {\r\n        if (!Array.isArray(colors)) {\r\n            return colors;\r\n        }\r\n        return colors.find(Boolean) || undefined;\r\n    }\r\n}\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.canvashelper = void 0;\r\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\r\nexports.canvashelper = canvashelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\r\nconst canvases_1 = require(\"../internal/canvases\");\r\nconst { ceil, PI } = Math;\r\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\r\n    function strokeRectLines(positions) {\r\n        for (let i = 0; i < borderColors.length; i++) {\r\n            const color = borderColors[i];\r\n            const preColor = borderColors[i - 1];\r\n            if (color) {\r\n                if (preColor !== color) {\r\n                    if (preColor) {\r\n                        ctx.strokeStyle = preColor;\r\n                        ctx.stroke();\r\n                    }\r\n                    const pos1 = positions[i];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(pos1.x, pos1.y);\r\n                }\r\n                const pos2 = positions[i + 1];\r\n                ctx.lineTo(pos2.x, pos2.y);\r\n            }\r\n            else {\r\n                if (preColor) {\r\n                    ctx.strokeStyle = preColor;\r\n                    ctx.stroke();\r\n                }\r\n            }\r\n        }\r\n        const preColor = borderColors[borderColors.length - 1];\r\n        if (preColor) {\r\n            ctx.strokeStyle = preColor;\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    if (borderColors[0] === borderColors[1] &&\r\n        borderColors[0] === borderColors[2] &&\r\n        borderColors[0] === borderColors[3]) {\r\n        if (borderColors[0]) {\r\n            ctx.strokeStyle = borderColors[0];\r\n            ctx.strokeRect(left, top, width, height);\r\n        }\r\n    }\r\n    else {\r\n        strokeRectLines([\r\n            { x: left, y: top },\r\n            { x: left + width, y: top },\r\n            { x: left + width, y: top + height },\r\n            { x: left, y: top + height },\r\n            { x: left, y: top },\r\n        ]);\r\n    }\r\n}\r\nexports.strokeColorsRect = strokeColorsRect;\r\nfunction roundRect(ctx, left, top, width, height, radius) {\r\n    ctx.beginPath();\r\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\r\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\r\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\r\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\r\n    ctx.closePath();\r\n}\r\nexports.roundRect = roundRect;\r\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.fill();\r\n}\r\nexports.fillRoundRect = fillRoundRect;\r\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\r\n    roundRect(ctx, left, top, width, height, radius);\r\n    ctx.stroke();\r\n}\r\nexports.strokeRoundRect = strokeRoundRect;\r\nfunction fillCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n}\r\nexports.fillCircle = fillCircle;\r\nfunction strokeCircle(ctx, left, top, width, height) {\r\n    const min = Math.min(width, height) / 2;\r\n    ctx.beginPath();\r\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\nexports.strokeCircle = strokeCircle;\r\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcBasePosition)(ctx, rect, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.fillText(text, pos.x, pos.y);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.fillTextRect = fillTextRect;\r\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\r\n    const rect = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    ctx.save();\r\n    try {\r\n        ctx.beginPath();\r\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n        //clip\r\n        ctx.clip();\r\n        //\r\n        const pos = (0, canvases_1.calcStartPosition)(ctx, rect, destWidth, destHeight, {\r\n            offset,\r\n            padding,\r\n        });\r\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawInlineImageRect = drawInlineImageRect;\r\n/**\r\n * Returns an object containing the width of the checkbox.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the checkbox\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureCheckbox(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureCheckbox = measureCheckbox;\r\n/**\r\n * Returns an object containing the width of the radio button.\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @return {Object} Object containing the width of the radio button\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction measureRadioButton(ctx) {\r\n    return {\r\n        width: (0, canvases_1.getFontSize)(ctx, null).width,\r\n    };\r\n}\r\nexports.measureRadioButton = measureRadioButton;\r\n/**\r\n * draw Checkbox\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n * @param  {boolean|number} check checkbox check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\r\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\r\n        if (check) {\r\n            ctx.lineWidth = ceil(boxSize / 10);\r\n            ctx.strokeStyle = uncheckBgColor;\r\n            let leftWidth = boxSize / 4;\r\n            let rightWidth = (boxSize / 2) * 0.9;\r\n            const leftLeftPos = x + boxSize * 0.2;\r\n            const leftTopPos = y + boxSize / 2;\r\n            if (checkPoint < 0.5) {\r\n                leftWidth *= checkPoint * 2;\r\n            }\r\n            ctx.beginPath();\r\n            ctx.moveTo(leftLeftPos, leftTopPos);\r\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\r\n            if (checkPoint > 0.5) {\r\n                if (checkPoint < 1) {\r\n                    rightWidth *= (checkPoint - 0.5) * 2;\r\n                }\r\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\r\n            }\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawCheckbox = drawCheckbox;\r\n/**\r\n * draw Radio button\r\n * @param  {CanvasRenderingContext2D} ctx canvas context\r\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\r\n * @param  {boolean|number} check radio button check status\r\n * @param  {object} option option\r\n * @return {void}\r\n * @memberof cheetahGrid.tools.canvashelper\r\n */\r\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\r\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        const leftX = ceil(x);\r\n        const topY = ceil(y);\r\n        const size = ceil(boxSize);\r\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = borderColor;\r\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\r\n        if (check) {\r\n            const checkSize = (size * ratio) / 2;\r\n            const padding = (size - checkSize) / 2;\r\n            ctx.fillStyle = checkColor;\r\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\r\n        }\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawRadioButton = drawRadioButton;\r\n/**\r\n * draw Button\r\n */\r\nfunction drawButton(ctx, left, top, width, height, option = {}) {\r\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\r\n    ctx.save();\r\n    try {\r\n        ctx.fillStyle = bgColor;\r\n        if (shadow) {\r\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\r\n            ctx.shadowColor = color;\r\n            ctx.shadowBlur = blur; //\r\n            ctx.shadowOffsetX = ox;\r\n            ctx.shadowOffsetY = oy;\r\n        }\r\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\r\n    }\r\n    finally {\r\n        ctx.restore();\r\n    }\r\n}\r\nexports.drawButton = drawButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseTooltip = void 0;\r\nclass BaseTooltip {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n    }\r\n    dispose() {\r\n        this.detachTooltipElement();\r\n        if (this._tooltipElement) {\r\n            this._tooltipElement.dispose();\r\n        }\r\n        this._tooltipElement = undefined;\r\n    }\r\n    _getTooltipElement() {\r\n        if (this._tooltipElement) {\r\n            return this._tooltipElement;\r\n        }\r\n        return (this._tooltipElement = this.createTooltipElementInternal());\r\n    }\r\n    attachTooltipElement(col, row, content) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.attach(this._grid, col, row, content);\r\n    }\r\n    moveTooltipElement(col, row) {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement.move(this._grid, col, row);\r\n    }\r\n    detachTooltipElement() {\r\n        const tooltipElement = this._getTooltipElement();\r\n        tooltipElement._detach();\r\n    }\r\n}\r\nexports.BaseTooltip = BaseTooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Tooltip = void 0;\r\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\r\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\r\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\r\n    createTooltipElementInternal() {\r\n        return new TooltipElement_1.TooltipElement();\r\n    }\r\n}\r\nexports.Tooltip = Tooltip;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipHandler = void 0;\r\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\r\nconst Tooltip_1 = require(\"./Tooltip\");\r\nconst utils_1 = require(\"../internal/utils\");\r\nconst TOOLTIP_INSTANCE_FACTORY = {\r\n    \"overflow-text\"(grid) {\r\n        return new Tooltip_1.Tooltip(grid);\r\n    },\r\n};\r\nfunction getTooltipInstanceInfo(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ngrid, col, row) {\r\n    //\r\n    // overflow text tooltip\r\n    const overflowText = grid.getCellOverflowText(col, row);\r\n    if (overflowText) {\r\n        return {\r\n            type: \"overflow-text\",\r\n            content: overflowText,\r\n        };\r\n    }\r\n    return null;\r\n}\r\nclass TooltipHandler {\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n        this._tooltipInstances = {};\r\n        this._bindGridEvent(grid);\r\n    }\r\n    dispose() {\r\n        const tooltipInstances = this._tooltipInstances;\r\n        for (const k in tooltipInstances) {\r\n            tooltipInstances[k].dispose();\r\n        }\r\n        // @ts-expect-error -- ignore\r\n        delete this._tooltipInstances;\r\n        this._attachInfo = null;\r\n    }\r\n    _attach(col, row) {\r\n        const info = this._attachInfo;\r\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\r\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\r\n            info.instance.detachTooltipElement();\r\n            this._attachInfo = null;\r\n        }\r\n        if (!instanceInfo) {\r\n            return;\r\n        }\r\n        const { instance } = instanceInfo;\r\n        instance.attachTooltipElement(col, row, instanceInfo.content);\r\n        const range = this._grid.getCellRange(col, row);\r\n        this._attachInfo = { range, instance };\r\n    }\r\n    _move(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info || !(0, utils_1.cellInRange)(info.range, col, row)) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.moveTooltipElement(col, row);\r\n    }\r\n    _detach() {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return;\r\n        }\r\n        const { instance } = info;\r\n        instance.detachTooltipElement();\r\n        this._attachInfo = null;\r\n    }\r\n    _isAttachCell(col, row) {\r\n        const info = this._attachInfo;\r\n        if (!info) {\r\n            return false;\r\n        }\r\n        return (0, utils_1.cellInRange)(info.range, col, row);\r\n    }\r\n    _bindGridEvent(grid) {\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.col, e.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._attach(e.col, e.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\r\n            if (e.related) {\r\n                if (this._isAttachCell(e.related.col, e.related.row)) {\r\n                    return;\r\n                }\r\n            }\r\n            this._detach();\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n            }\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\r\n            const info = this._attachInfo;\r\n            if (!info) {\r\n                return;\r\n            }\r\n            this._move(info.range.start.col, info.range.start.row);\r\n        });\r\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\r\n            if (this._isAttachCell(e.col, e.row)) {\r\n                this._detach();\r\n                this._attach(e.col, e.row);\r\n            }\r\n        });\r\n    }\r\n    _getTooltipInstanceInfo(col, row) {\r\n        const grid = this._grid;\r\n        const tooltipInstances = this._tooltipInstances;\r\n        const info = getTooltipInstanceInfo(grid, col, row);\r\n        if (!info) {\r\n            return null;\r\n        }\r\n        const { type } = info;\r\n        const instance = tooltipInstances[type] ||\r\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\r\n        return {\r\n            instance,\r\n            type,\r\n            content: info.content,\r\n        };\r\n    }\r\n}\r\nexports.TooltipHandler = TooltipHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TooltipElement = void 0;\r\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\r\nconst dom_1 = require(\"../../internal/dom\");\r\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\r\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\r\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\r\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\r\nfunction createTooltipDomElement() {\r\n    require(\"@/tooltip/internal/TooltipElement.css\");\r\n    const rootElement = (0, dom_1.createElement)(\"div\", {\r\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\r\n    });\r\n    const messageElement = (0, dom_1.createElement)(\"pre\", {\r\n        classList: [CONTENT_CLASSNAME],\r\n    });\r\n    rootElement.appendChild(messageElement);\r\n    return rootElement;\r\n}\r\nclass TooltipElement {\r\n    constructor() {\r\n        this._handler = new EventHandler_1.EventHandler();\r\n        const rootElement = (this._rootElement = createTooltipDomElement());\r\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\r\n    }\r\n    dispose() {\r\n        this.detach();\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            rootElement.parentElement.removeChild(rootElement);\r\n        }\r\n        this._handler.dispose();\r\n        // @ts-expect-error -- ignore\r\n        delete this._rootElement;\r\n        // @ts-expect-error -- ignore\r\n        delete this._messageElement;\r\n    }\r\n    attach(grid, col, row, content) {\r\n        const rootElement = this._rootElement;\r\n        const messageElement = this._messageElement;\r\n        rootElement.classList.remove(SHOWN_CLASSNAME);\r\n        rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n            messageElement.textContent = content;\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    move(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        if (this._attachCell(grid, col, row)) {\r\n            rootElement.classList.add(SHOWN_CLASSNAME);\r\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\r\n        }\r\n        else {\r\n            this._detach();\r\n        }\r\n    }\r\n    detach() {\r\n        this._detach();\r\n    }\r\n    _detach() {\r\n        const rootElement = this._rootElement;\r\n        if (rootElement.parentElement) {\r\n            // rootElement.parentElement.removeChild(rootElement);\r\n            rootElement.classList.remove(SHOWN_CLASSNAME);\r\n            rootElement.classList.add(HIDDEN_CLASSNAME);\r\n        }\r\n    }\r\n    _attachCell(grid, col, row) {\r\n        const rootElement = this._rootElement;\r\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\r\n        const { bottom: top, left, width } = rect;\r\n        const { frozenRowCount, frozenColCount } = grid;\r\n        if (row >= frozenRowCount && frozenRowCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\r\n            if (top < frozenRect.bottom) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (top < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        if (col >= frozenColCount && frozenColCount > 0) {\r\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\r\n            if (left < frozenRect.right) {\r\n                return false; //\r\n            }\r\n        }\r\n        else {\r\n            if (left < 0) {\r\n                return false; //\r\n            }\r\n        }\r\n        const { height: offsetHeight, width: offsetWidth, left: elementLeft, right: elementRight, } = element.getBoundingClientRect();\r\n        if (offsetHeight < top) {\r\n            return false; //\r\n        }\r\n        if (offsetWidth < left) {\r\n            return false; //\r\n        }\r\n        const cellCenter = left + width / 2;\r\n        rootElement.style.top = `${top.toFixed()}px`;\r\n        rootElement.style.left = `${cellCenter.toFixed()}px`;\r\n        rootElement.style.minWidth = `${width.toFixed()}px`;\r\n        const maxWidthForLeft = (elementLeft + cellCenter) * 2;\r\n        const winWidth = window.innerWidth;\r\n        const maxWidthForRight = (offsetWidth - cellCenter + (winWidth - elementRight)) * 2;\r\n        const maxWidth = Math.min(maxWidthForLeft, maxWidthForRight);\r\n        rootElement.style.maxWidth = `${maxWidth.toFixed()}px`;\r\n        if (rootElement.parentElement !== element) {\r\n            element.appendChild(rootElement);\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.TooltipElement = TooltipElement;\r\n"],"sourceRoot":""}